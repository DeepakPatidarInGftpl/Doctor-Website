"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[3521],{30010:(S,y,s)=>{s.r(y),s.d(y,{ReceiptModule:()=>de});var m=s(36895),C=s(88996),i=s(24006),q=s(68675),N=s(54004),e=s(94650),p=s(54270),r=s(97185),u=s(47957),d=s(3238),l=s(59549),_=s(44144),g=s(3848);function v(t,a){1&t&&(e.TgZ(0,"span",31),e._uU(1,"Select Payment Mode"),e.qZA())}function f(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"mat-option",32),e.NdJ("onSelectionChange",function(){const h=e.CHM(n).$implicit,T=e.oxw();return e.KtG(T.oncheck(h.id))}),e._uU(1),e.qZA()}if(2&t){const n=a.$implicit;e.Q6J("value",n.mobile_no),e.xp6(1),e.Oqu(n.mobile_no)}}function b(t,a){1&t&&(e.TgZ(0,"mat-option",34),e._uU(1,"Please Enter 3 or more characters"),e.qZA())}function Z(t,a){if(1&t&&(e.ynx(0),e.YNc(1,b,2,0,"mat-option",33),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==n.customerControl.value?null:n.customerControl.value.length)<3)}}function U(t,a){1&t&&(e.TgZ(0,"span",31),e._uU(1,"Select customer "),e.qZA())}function I(t,a){1&t&&(e.TgZ(0,"span",31),e._uU(1,"Enter Amount"),e.qZA())}function w(t,a){if(1&t&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.s9C("value",n.id),e.xp6(1),e.Oqu(n.name)}}function x(t,a){if(1&t&&(e.TgZ(0,"div")(1,"div",35)(2,"div",7)(3,"div",8)(4,"label"),e._uU(5,"Payment Account*"),e.qZA(),e.TgZ(6,"select",36)(7,"option",10),e._uU(8,"Select Payment Account"),e.qZA(),e.YNc(9,w,2,2,"option",30),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"label"),e._uU(13,"Bank Name*"),e.qZA(),e._UZ(14,"input",37),e.qZA()(),e.TgZ(15,"div",7)(16,"div",8)(17,"label"),e._uU(18,"Card Holder Name*"),e.qZA(),e._UZ(19,"input",38),e.qZA()(),e.TgZ(20,"div",7)(21,"div",8)(22,"label"),e._uU(23,"Payment Amount*"),e.qZA(),e._UZ(24,"input",39),e.qZA()(),e.TgZ(25,"div",7)(26,"div",8)(27,"label"),e._uU(28,"Card Transactions no*"),e.qZA(),e._UZ(29,"input",40),e.qZA()()()()),2&t){const n=e.oxw();e.xp6(9),e.Q6J("ngForOf",n.bankList)}}function F(t,a){if(1&t&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.s9C("value",n.id),e.xp6(1),e.Oqu(n.name)}}function R(t,a){1&t&&(e.TgZ(0,"span",31),e._uU(1,"Enter Account No "),e.qZA())}function k(t,a){if(1&t&&(e.TgZ(0,"div")(1,"div",42)(2,"div",7)(3,"div",8)(4,"label"),e._uU(5,"Payment Account*"),e.qZA(),e.TgZ(6,"select",36)(7,"option",10),e._uU(8,"Select Payment Account"),e.qZA(),e.YNc(9,F,2,2,"option",30),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"label"),e._uU(13,"Account No*"),e.qZA(),e._UZ(14,"input",43),e.YNc(15,R,2,0,"span",15),e.qZA()()()()),2&t){const n=e.oxw();e.xp6(9),e.Q6J("ngForOf",n.bankList),e.xp6(6),e.Q6J("ngIf",n.account&&n.account.invalid&&n.account.touched)}}function P(t,a){if(1&t&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.s9C("value",n.id),e.xp6(1),e.Oqu(n.name)}}function Q(t,a){if(1&t&&(e.TgZ(0,"div")(1,"div",44)(2,"div",7)(3,"div",8)(4,"label"),e._uU(5,"UPI Id"),e.qZA(),e._UZ(6,"input",45),e.qZA()(),e.TgZ(7,"div",7)(8,"div",8)(9,"label"),e._uU(10,"Payment Account*"),e.qZA(),e.TgZ(11,"select",36)(12,"option",10),e._uU(13,"Select Payment Account"),e.qZA(),e.YNc(14,P,2,2,"option",30),e.qZA()()()()()),2&t){const n=e.oxw();e.xp6(14),e.Q6J("ngForOf",n.bankList)}}function Y(t,a){1&t&&(e.TgZ(0,"span",31),e._uU(1,"Enter description"),e.qZA())}function O(t,a){1&t&&(e.TgZ(0,"button",46),e._uU(1,"Submit"),e.qZA())}function M(t,a){1&t&&(e.TgZ(0,"button",47),e._UZ(1,"span",48),e._uU(2," \xa0 Submit"),e.qZA())}function B(t,a){1&t&&(e.TgZ(0,"span",31),e._uU(1,"Select Payment Mode"),e.qZA())}function L(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"mat-option",32),e.NdJ("onSelectionChange",function(){const h=e.CHM(n).$implicit,T=e.oxw();return e.KtG(T.oncheck(h.id))}),e._uU(1),e.qZA()}if(2&t){const n=a.$implicit;e.Q6J("value",n.mobile_no),e.xp6(1),e.Oqu(n.mobile_no)}}function D(t,a){1&t&&(e.TgZ(0,"mat-option",34),e._uU(1,"Please Enter 3 or more characters"),e.qZA())}function E(t,a){if(1&t&&(e.ynx(0),e.YNc(1,D,2,0,"mat-option",33),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==n.customerControl.value?null:n.customerControl.value.length)<3)}}function V(t,a){1&t&&(e.TgZ(0,"span",31),e._uU(1,"Select customer "),e.qZA())}function K(t,a){if(1&t&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.s9C("value",n.id),e.xp6(1),e.Oqu(n.dueAmount)}}function G(t,a){1&t&&(e.TgZ(0,"span",31),e._uU(1," Select Sales "),e.qZA())}function j(t,a){1&t&&(e.TgZ(0,"span",31),e._uU(1,"Sales not Available "),e.qZA())}function z(t,a){1&t&&(e.TgZ(0,"span",31),e._uU(1,"Enter Amount"),e.qZA())}function H(t,a){if(1&t&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.s9C("value",n.id),e.xp6(1),e.Oqu(n.name)}}function W(t,a){if(1&t&&(e.TgZ(0,"div")(1,"div",35)(2,"div",7)(3,"div",8)(4,"label"),e._uU(5,"Payment Account*"),e.qZA(),e.TgZ(6,"select",36)(7,"option",10),e._uU(8,"Select Payment Account"),e.qZA(),e.YNc(9,H,2,2,"option",30),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"label"),e._uU(13,"Bank Name*"),e.qZA(),e._UZ(14,"input",37),e.qZA()(),e.TgZ(15,"div",7)(16,"div",8)(17,"label"),e._uU(18,"Card Holder Name*"),e.qZA(),e._UZ(19,"input",38),e.qZA()(),e.TgZ(20,"div",7)(21,"div",8)(22,"label"),e._uU(23,"Payment Amount*"),e.qZA(),e._UZ(24,"input",39),e.qZA()(),e.TgZ(25,"div",7)(26,"div",8)(27,"label"),e._uU(28,"Card Transactions no*"),e.qZA(),e._UZ(29,"input",40),e.qZA()()()()),2&t){const n=e.oxw();e.xp6(9),e.Q6J("ngForOf",n.bankList)}}function X(t,a){if(1&t&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.s9C("value",n.id),e.xp6(1),e.Oqu(n.name)}}function ee(t,a){1&t&&(e.TgZ(0,"span",31),e._uU(1,"Enter Account No "),e.qZA())}function te(t,a){if(1&t&&(e.TgZ(0,"div")(1,"div",42)(2,"div",7)(3,"div",8)(4,"label"),e._uU(5,"Payment Account*"),e.qZA(),e.TgZ(6,"select",36)(7,"option",10),e._uU(8,"Select Payment Account"),e.qZA(),e.YNc(9,X,2,2,"option",30),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"label"),e._uU(13,"Account no"),e.qZA(),e._UZ(14,"input",43),e.YNc(15,ee,2,0,"span",15),e.qZA()()()()),2&t){const n=e.oxw();e.xp6(9),e.Q6J("ngForOf",n.bankList),e.xp6(6),e.Q6J("ngIf",n.accountAgainst&&n.accountAgainst.invalid&&n.accountAgainst.touched)}}function ne(t,a){if(1&t&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&t){const n=a.$implicit;e.s9C("value",n.id),e.xp6(1),e.Oqu(n.name)}}function oe(t,a){if(1&t&&(e.TgZ(0,"div")(1,"div",44)(2,"div",7)(3,"div",8)(4,"label"),e._uU(5,"UPI Id"),e.qZA(),e._UZ(6,"input",45),e.qZA()(),e.TgZ(7,"div",7)(8,"div",8)(9,"label"),e._uU(10,"Payment Account*"),e.qZA(),e.TgZ(11,"select",36)(12,"option",10),e._uU(13,"Select Payment Account"),e.qZA(),e.YNc(14,ne,2,2,"option",30),e.qZA()()()()()),2&t){const n=e.oxw();e.xp6(14),e.Q6J("ngForOf",n.bankList)}}function ie(t,a){1&t&&(e.TgZ(0,"span",31),e._uU(1,"Enter description"),e.qZA())}function ae(t,a){1&t&&(e.TgZ(0,"button",46),e._uU(1,"Submit"),e.qZA())}function re(t,a){1&t&&(e.TgZ(0,"button",47),e._UZ(1,"span",48),e._uU(2," \xa0 Submit"),e.qZA())}const A=function(t){return{"is-invalid":t}};let ce=(()=>{class t{constructor(n,o,c,h){this.fb=n,this.posService=o,this.toastr=c,this.router=h,this.customerControlName="customer",this.customerControl=new i.NI,this.productOption=[],this.customers=[],this.loaders=!1}get f(){return this.recieptAdvanceForm.controls}get g(){return this.recieptAdvanceForm.controls}ngOnInit(){this.recieptAdvanceForm=this.fb.group({customer:new i.NI("",[i.kI.required]),receipt_method:new i.NI("Advance",[i.kI.required]),payment_mode:new i.NI("",[i.kI.required]),amount:new i.NI("",[i.kI.required]),description:new i.NI(""),bill_no:new i.NI(""),card_detail:new i.cw({payment_account:new i.NI(""),customer_bank_name:new i.NI(""),card_payment_amount:new i.NI(""),card_holder_name:new i.NI(""),cart_transactions_no:new i.NI("")}),bank_detail:new i.cw({payment_account:new i.NI(""),account_no:new i.NI("")}),upi_detail:new i.cw({upi_no:new i.NI(""),payment_account:new i.NI("")})}),this.recieptAgainstForm=this.fb.group({customer:new i.NI("",[i.kI.required]),receipt_method:new i.NI("Against Bill",[i.kI.required]),payment_mode:new i.NI("",[i.kI.required]),amount:new i.NI("",[i.kI.required]),description:new i.NI(""),bill_no:new i.NI(""),card_detail:new i.cw({payment_account:new i.NI(""),customer_bank_name:new i.NI(""),card_payment_amount:new i.NI(""),card_holder_name:new i.NI(""),cart_transactions_no:new i.NI("")}),bank_detail:new i.cw({payment_account:new i.NI(""),account_no:new i.NI("")}),upi_detail:new i.cw({upi_no:new i.NI(""),payment_account:new i.NI("")})}),this.filteredCustomer=this.customerControl.valueChanges.pipe((0,q.O)(""),(0,N.U)(n=>this._filter(n,!0))),this.getBank(),this.getCustomer()}getBank(){this.posService.getCompanyBank().subscribe(n=>{this.bankList=n})}getCustomer(){this.posService.getCustomers().subscribe(n=>{this.customers=n})}_filter(n,o){const c="number"==typeof n?n.toString().toLowerCase():n.toLowerCase(),h=this.customers.filter(o?T=>T.mobile_no.toString().toLowerCase().includes(c):T=>!T.mobile_no.toString().toLowerCase().includes(c));return!o&&0===h.length&&h.push({name:"No data found"}),h}get customer(){return this.recieptAdvanceForm.get("customer")}get account(){return this.recieptAdvanceForm.get("account_no")}get accountAgainst(){return this.recieptAgainstForm.get("account_no")}oncheck(n){const o=n;this.getSles(o),this.recieptAdvanceForm.patchValue({customer:o})}getSles(n){this.posService.getReceiptOrder(n).subscribe(o=>{this.salesList=o})}onSubmit(){if(this.recieptAdvanceForm.valid){const n=new FormData;switch(n.append("customer",this.recieptAdvanceForm.get("customer")?.value),n.append("receipt_method",this.recieptAdvanceForm.get("receipt_method")?.value),n.append("payment_mode",this.recieptAdvanceForm.get("payment_mode")?.value),n.append("amount",this.recieptAdvanceForm.get("amount")?.value),n.append("description",this.recieptAdvanceForm.get("description")?.value),n.append("bill_no",this.recieptAdvanceForm.get("bill_no")?.value),this.f.payment_mode.value){case"Card":n.append("card_detail",JSON.stringify(this.f.card_detail.value));break;case"Bank":n.append("bank_detail",JSON.stringify(this.f.bank_detail.value));break;case"UPI":n.append("upi_detail",JSON.stringify(this.f.upi_detail.value))}this.loaders=!0,this.posService.receiptPayment(n).subscribe(c=>{this.loaders=!1,c.isSuccess?(this.toastr.success(c.msg),this.router.navigate(["//bank/reciept"])):(this.loaders=!1,this.toastr.error(c.msg),this.customers=[])},c=>{this.loaders=!1,this.toastr.error(c?.error?.payment_account[0],"Payment Account"),this.toastr.error(c?.error?.account_no[0],"Account No.")})}else this.recieptAdvanceForm.markAllAsTouched()}onAgainstSubmit(){if(this.recieptAdvanceForm.valid){const n=new FormData;switch(n.append("customer",this.recieptAdvanceForm.get("customer")?.value),n.append("receipt_method",this.recieptAdvanceForm.get("receipt_method")?.value),n.append("payment_mode",this.recieptAdvanceForm.get("payment_mode")?.value),n.append("amount",this.recieptAdvanceForm.get("amount")?.value),n.append("description",this.recieptAdvanceForm.get("description")?.value),n.append("bill_no",this.recieptAdvanceForm.get("bill_no")?.value),this.f.payment_mode.value){case"Card":n.append("card_detail",JSON.stringify(this.f.card_detail.value));break;case"Bank":n.append("bank_detail",JSON.stringify(this.f.bank_detail.value));break;case"UPI":n.append("upi_detail",JSON.stringify(this.f.upi_detail.value))}this.loaders=!0,this.posService.receiptPayment(n).subscribe(c=>{this.loaders=!1,c.isSuccess?(this.toastr.success(c.msg),this.customers=[],this.router.navigate(["//bank/reciept"])):(this.loaders=!1,this.toastr.error(c.msg))},c=>{this.loaders=!1,this.toastr.error(c.error.payment_account[0],"Payment Account")})}else this.recieptAdvanceForm.markAllAsTouched()}get receipt_method(){return this.recieptAdvanceForm.get("receipt_method")}get payment_mode(){return this.recieptAdvanceForm.get("payment_mode")}get amount(){return this.recieptAdvanceForm.get("amount")}get description(){return this.recieptAdvanceForm.get("description")}get bill_no(){return this.recieptAdvanceForm.get("bill_no")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(i.qu),e.Y36(p.v),e.Y36(r._W),e.Y36(C.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-receipt"]],decls:123,vars:66,consts:[[1,"page-header"],[1,"page-title"],["label","Advance Payment"],[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-4","col-sm-4","col-12"],[1,"form-group"],["formControlName","payment_mode",1,"form-select",3,"ngClass"],["value","","selected","","disabled",""],["value","Card"],["value","Cash"],["value","Bank"],["value","UPI"],["class","text-danger",4,"ngIf"],[1,"col-lg-4","col-md-6","col-12"],[1,"w-100",2,"padding","0","width","100%","min-width","100%","border-top","none"],["type","text","placeholder","Search Customer","aria-label","Customer","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","ngClass"],["auto","matAutocomplete"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngFor","ngForOf"],[4,"ngIf"],["type","number","formControlName","amount","id","amount",3,"ngClass"],["formControlName","description",3,"ngClass"],[1,"col-lg-12"],["class","btn btn-submit me-2",4,"ngIf"],["class","btn btn-submit me-2","type","submit","disabled","",4,"ngIf"],["routerLink","//bank/reciept",1,"btn","btn-cancel"],["label","Against Bill"],["formControlName","bill_no","id","bill_no",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],[1,"text-danger"],[2,"color","#FF9F43",3,"value","onSelectionChange"],["class","is-loading",4,"ngIf"],[1,"is-loading"],["formGroupName","card_detail",1,"row"],["formControlName","payment_account",1,"form-select"],["type","text","formControlName","customer_bank_name"],["type","text","formControlName","card_holder_name"],["type","number","formControlName","card_payment_amount"],["type","text","formControlName","cart_transactions_no"],[3,"value"],["formGroupName","bank_detail",1,"row"],["type","text","formControlName","account_no"],["formGroupName","upi_detail",1,"row"],["type","text","formControlName","upi_no"],[1,"btn","btn-submit","me-2"],["type","submit","disabled","",1,"btn","btn-submit","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Reciept"),e.qZA()()(),e.TgZ(4,"mat-tab-group")(5,"mat-tab",2)(6,"div",3)(7,"div",4)(8,"form",5),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"label"),e._uU(13,"Payment Mode*"),e.qZA(),e.TgZ(14,"select",9)(15,"option",10),e._uU(16,"Select Payment Mode"),e.qZA(),e.TgZ(17,"option",11),e._uU(18,"Card"),e.qZA(),e.TgZ(19,"option",12),e._uU(20,"Cash"),e.qZA(),e.TgZ(21,"option",13),e._uU(22,"Bank"),e.qZA(),e.TgZ(23,"option",14),e._uU(24,"UPI"),e.qZA()(),e.YNc(25,v,2,0,"span",15),e.qZA()(),e.TgZ(26,"div",16)(27,"div",8)(28,"label"),e._uU(29,"Customer*"),e.qZA(),e.TgZ(30,"mat-form-field",17),e._UZ(31,"input",18),e.TgZ(32,"mat-autocomplete",null,19),e.YNc(34,f,2,2,"mat-option",20),e.ALo(35,"async"),e.YNc(36,Z,2,1,"ng-container",21),e.ALo(37,"async"),e.qZA()(),e.YNc(38,U,2,0,"span",15),e.qZA()(),e.TgZ(39,"div",7)(40,"div",8)(41,"label"),e._uU(42,"Amount*"),e.qZA(),e._UZ(43,"input",22),e.YNc(44,I,2,0,"span",15),e.qZA()(),e.YNc(45,x,30,1,"div",21),e.YNc(46,k,16,2,"div",21),e.YNc(47,Q,15,1,"div",21),e.TgZ(48,"div",7)(49,"div",8)(50,"label"),e._uU(51,"Description"),e.qZA(),e._UZ(52,"textarea",23),e.YNc(53,Y,2,0,"span",15),e.qZA()(),e.TgZ(54,"div",24),e.YNc(55,O,2,0,"button",25),e.YNc(56,M,3,0,"button",26),e.TgZ(57,"a",27),e._uU(58,"Cancel"),e.qZA()()()()()()(),e.TgZ(59,"mat-tab",28)(60,"div",3)(61,"div",4)(62,"form",5),e.NdJ("ngSubmit",function(){return o.onAgainstSubmit()}),e.TgZ(63,"div",6)(64,"div",7)(65,"div",8)(66,"label"),e._uU(67,"Payment Mode*"),e.qZA(),e.TgZ(68,"select",9)(69,"option",10),e._uU(70,"Select Payment Mode"),e.qZA(),e.TgZ(71,"option",11),e._uU(72,"Card"),e.qZA(),e.TgZ(73,"option",12),e._uU(74,"Cash"),e.qZA(),e.TgZ(75,"option",13),e._uU(76,"Bank"),e.qZA(),e.TgZ(77,"option",14),e._uU(78,"UPI"),e.qZA()(),e.YNc(79,B,2,0,"span",15),e.qZA()(),e.TgZ(80,"div",16)(81,"div",8)(82,"label"),e._uU(83,"Customer*"),e.qZA(),e.TgZ(84,"mat-form-field",17),e._UZ(85,"input",18),e.TgZ(86,"mat-autocomplete",null,19),e.YNc(88,L,2,2,"mat-option",20),e.ALo(89,"async"),e.YNc(90,E,2,1,"ng-container",21),e.ALo(91,"async"),e.qZA()(),e.YNc(92,V,2,0,"span",15),e.qZA()(),e.TgZ(93,"div",7)(94,"div",8)(95,"label"),e._uU(96,"Select Sales"),e.qZA(),e.TgZ(97,"select",29)(98,"option",10),e._uU(99,"Select sales"),e.qZA(),e.YNc(100,K,2,2,"option",30),e.qZA(),e.YNc(101,G,2,0,"span",15),e.YNc(102,j,2,0,"span",15),e.qZA()(),e.TgZ(103,"div",7)(104,"div",8)(105,"label"),e._uU(106,"Amount*"),e.qZA(),e._UZ(107,"input",22),e.YNc(108,z,2,0,"span",15),e.qZA()(),e.YNc(109,W,30,1,"div",21),e.YNc(110,te,16,2,"div",21),e.YNc(111,oe,15,1,"div",21),e.TgZ(112,"div",7)(113,"div",8)(114,"label"),e._uU(115,"Description*"),e.qZA(),e._UZ(116,"textarea",23),e.YNc(117,ie,2,0,"span",15),e.qZA()(),e.TgZ(118,"div",24),e.YNc(119,ae,2,0,"button",25),e.YNc(120,re,3,0,"button",26),e.TgZ(121,"a",27),e._uU(122,"Cancel"),e.qZA()()()()()()()()),2&n){const c=e.MAs(33);e.xp6(8),e.Q6J("formGroup",o.recieptAdvanceForm),e.xp6(6),e.Q6J("ngClass",e.VKq(48,A,o.f.payment_mode.touched&&o.f.payment_mode.invalid)),e.xp6(11),e.Q6J("ngIf",o.payment_mode&&o.payment_mode.invalid&&o.payment_mode.touched),e.xp6(6),e.Q6J("formControl",o.customerControl)("matAutocomplete",c)("ngClass",e.VKq(50,A,o.f.customer.touched&&o.f.customer.invalid)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(35,40,o.filteredCustomer)),e.xp6(2),e.Q6J("ngIf",e.lcZ(37,42,o.filteredCustomer)),e.xp6(2),e.Q6J("ngIf",o.customer&&o.customer.invalid&&o.customer.touched),e.xp6(5),e.Q6J("ngClass",e.VKq(52,A,o.f.amount.touched&&o.f.amount.invalid)),e.xp6(1),e.Q6J("ngIf",o.amount&&o.amount.invalid&&o.amount.touched),e.xp6(1),e.Q6J("ngIf","Card"===o.f.payment_mode.value),e.xp6(1),e.Q6J("ngIf","Bank"===o.f.payment_mode.value),e.xp6(1),e.Q6J("ngIf","UPI"===o.f.payment_mode.value),e.xp6(5),e.Q6J("ngClass",e.VKq(54,A,o.f.description.touched&&o.f.description.invalid)),e.xp6(1),e.Q6J("ngIf",o.description&&o.description.invalid&&o.description.touched),e.xp6(2),e.Q6J("ngIf",!o.loaders),e.xp6(1),e.Q6J("ngIf",o.loaders),e.xp6(6),e.Q6J("formGroup",o.recieptAdvanceForm),e.xp6(6),e.Q6J("ngClass",e.VKq(56,A,o.f.payment_mode.touched&&o.f.payment_mode.invalid)),e.xp6(11),e.Q6J("ngIf",o.payment_mode&&o.payment_mode.invalid&&o.payment_mode.touched),e.xp6(6),e.Q6J("formControl",o.customerControl)("matAutocomplete",c)("ngClass",e.VKq(58,A,o.f.customer.touched&&o.f.customer.invalid)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(89,44,o.filteredCustomer)),e.xp6(2),e.Q6J("ngIf",e.lcZ(91,46,o.filteredCustomer)),e.xp6(2),e.Q6J("ngIf",o.customer&&o.customer.invalid&&o.customer.touched),e.xp6(5),e.Q6J("ngClass",e.VKq(60,A,o.f.bill_no.touched&&o.f.bill_no.invalid)),e.xp6(3),e.Q6J("ngForOf",o.salesList),e.xp6(1),e.Q6J("ngIf",o.bill_no&&o.bill_no.invalid&&o.bill_no.touched&&(null==o.salesList?null:o.salesList.length)>=0),e.xp6(1),e.Q6J("ngIf",(null==o.salesList?null:o.salesList.length)<0),e.xp6(5),e.Q6J("ngClass",e.VKq(62,A,o.f.amount.touched&&o.f.amount.invalid)),e.xp6(1),e.Q6J("ngIf",o.amount&&o.amount.invalid&&o.amount.touched),e.xp6(1),e.Q6J("ngIf","Card"===o.f.payment_mode.value),e.xp6(1),e.Q6J("ngIf","Bank"===o.f.payment_mode.value),e.xp6(1),e.Q6J("ngIf","UPI"===o.f.payment_mode.value),e.xp6(5),e.Q6J("ngClass",e.VKq(64,A,o.f.description.touched&&o.f.description.invalid)),e.xp6(1),e.Q6J("ngIf",o.description&&o.description.invalid&&o.description.touched),e.xp6(2),e.Q6J("ngIf",!o.loaders),e.xp6(1),e.Q6J("ngIf",o.loaders)}},dependencies:[m.mk,m.sg,m.O5,C.yS,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.JL,i.oH,i.sg,i.u,i.x0,u.XC,u.ZL,d.ey,l.KE,_.Nt,g.SP,g.uX,m.Ov],styles:[".ng-dirty.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}"]}),t})();var se=s(30597);const J=JSON.parse(localStorage.getItem("auth"));let pe;J&&J.map(a=>{"pos"===a.content_type.app_label&&"receipt"===a.content_type.model&&"add_receipt"==a.codename&&(pe=a.codename)});const le=[{path:"",component:ce,canActivate:[se.l],data:{allowedRoles:["add_receipt"]}}];let ue=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[C.Bz.forChild(le),C.Bz]}),t})();var me=s(8468);let de=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,ue,me.I,i.u5,i.UX,u.Bb,l.lN,_.c,g.Nh]}),t})()},65415:(S,y,s)=>{s.d(y,{G:()=>i,T:()=>N});var m=s(94650),i=function(){function e(p,r,u){this.el=p,this.vcr=r,this.renderer=u,this.dtOptions={}}return e.prototype.ngOnInit=function(){var p=this;this.dtTrigger?this.dtTrigger.subscribe(function(r){p.displayTable(r)}):this.displayTable(null)},e.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},e.prototype.displayTable=function(p){var r=this;p&&(this.dtOptions=p),this.dtInstance=new Promise(function(u,d){Promise.resolve(r.dtOptions).then(function(l){0===Object.keys(l).length&&0===$("tbody tr",r.el.nativeElement).length?d("Both the table and dtOptions cannot be empty"):setTimeout(function(){var g={rowCallback:function(v,f,b){if(l.columns){var Z=l.columns;r.applyNgPipeTransform(v,Z),r.applyNgRefTemplate(v,Z,f)}l.rowCallback&&l.rowCallback(v,f,b)}};g=Object.assign({},l,g),r.dt=$(r.el.nativeElement).DataTable(g),u(r.dt)})})})},e.prototype.applyNgPipeTransform=function(p,r){r.filter(function(d){return d.ngPipeInstance&&!d.ngTemplateRef}).forEach(function(d){var l=d.ngPipeInstance,_=d.ngPipeArgs||[],g=r.findIndex(function(Z){return Z.data===d.data}),v=p.childNodes.item(g),f=$(v).text(),b=l.transform.apply(l,function(e,p,r){if(r||2===arguments.length)for(var l,u=0,d=p.length;u<d;u++)(l||!(u in p))&&(l||(l=Array.prototype.slice.call(p,0,u)),l[u]=p[u]);return e.concat(l||Array.prototype.slice.call(p))}([f],_,!1));$(v).text(b)})},e.prototype.applyNgRefTemplate=function(p,r,u){var d=this;r.filter(function(_){return _.ngTemplateRef&&!_.ngPipeInstance}).forEach(function(_){var g=_.ngTemplateRef,v=g.ref,f=g.context,b=r.findIndex(function(w){return w.data===_.data}),Z=p.childNodes.item(b);$(Z).html("");var U=Object.assign({},f,f?.userData,{adtData:u}),I=d.vcr.createEmbeddedView(v,U);d.renderer.appendChild(Z,I.rootNodes[0])})},e.\u0275fac=function(r){return new(r||e)(m.Y36(m.SBq),m.Y36(m.s_b),m.Y36(m.Qsj))},e.\u0275dir=m.lG2({type:e,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),e}(),q=s(36895),N=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[q.ez]}),e}()}}]);