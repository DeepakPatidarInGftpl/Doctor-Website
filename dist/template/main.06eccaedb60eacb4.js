"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[179],{3:(yt,Ie,F)=>{F.d(Ie,{u:()=>pe});var d=F(529),T=F(2843),se=F(2340),le=F(4650),ye=F(4948);let pe=(()=>{class ce{constructor(ge,we){this.http=ge,this.httpService=we,this.apiurl=`${se.N.api}`}login(ge){return this.httpService.post(this.apiurl+"/pv-api/login/",ge,this.httpService.headers)}logout(){return this.httpService.post(this.apiurl+"/pv-api/logout/",null,new d.WM({Authorization:`token ${localStorage.getItem("token")}`}))}getToken(){return localStorage.getItem("token")}get isLoggedIn(){let ge=localStorage.getItem("token");return console.log(ge),null!==ge}doLogout(){localStorage.removeItem("token")}Errorhandling(ge){return ge.error instanceof ErrorEvent?console.error(ge.error.message):console.error(`Backend returned code ${ge.status}`),(0,T._)("Please try again later.")}}return ce.\u0275fac=function(ge){return new(ge||ce)(le.LFG(d.eN),le.LFG(ye.Y))},ce.\u0275prov=le.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},4948:(yt,Ie,F)=>{F.d(Ie,{Y:()=>se});var d=F(529),T=F(4650);let se=(()=>{class le{constructor(pe){this.httpClient=pe,this.headers=new d.WM({}),this.headerswithimage=new d.WM({"Content-Type":"application/json"})}get(pe,ce){return this.httpClient.get(pe,{headers:ce})}post(pe,ce,Z){return this.httpClient.post(pe,ce,{headers:Z})}put(pe,ce,Z){return this.httpClient.put(pe,ce,{headers:Z})}patch(pe,ce,Z){return this.httpClient.patch(pe,ce,{headers:Z})}delete(pe,ce){return this.httpClient.delete(pe,{headers:ce})}}return le.\u0275fac=function(pe){return new(pe||le)(T.LFG(d.eN))},le.\u0275prov=T.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})()},3227:(yt,Ie,F)=>{F.d(Ie,{g:()=>se});var d=F(1135),T=F(4650);let se=(()=>{class le{constructor(){this.changeTheme=new d.X(localStorage.getItem("theme")||"light"),this.changeLayout=new d.X(localStorage.getItem("changeLayout")||"1")}setLayout(pe){this.changeLayout.next(pe),localStorage.setItem("changeLayout",pe)}}return le.\u0275fac=function(pe){return new(pe||le)},le.\u0275prov=T.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})()},2340:(yt,Ie,F)=>{F.d(Ie,{N:()=>d});const d={production:!0,api:"https://pv.greatfuturetechno.com"}},4871:(yt,Ie,F)=>{var d=F(1481),T=F(4650),se=F(4841),le=F(8996);const ye=[{path:"",redirectTo:"/auth/signin",pathMatch:"full"},{path:"",loadChildren:()=>F.e(7845).then(F.bind(F,7845)).then(P=>P.CoreComponentModule)},{path:"auth",loadChildren:()=>F.e(4374).then(F.bind(F,4374)).then(P=>P.AuthModule)},{path:"errorpages",loadChildren:()=>F.e(5900).then(F.bind(F,5900)).then(P=>P.ErrorpagesModule)},{path:"**",redirectTo:"errorpages/error404",pathMatch:"full"}];let pe=(()=>{class P{}return P.\u0275fac=function(m){return new(m||P)},P.\u0275mod=T.oAB({type:P}),P.\u0275inj=T.cJS({imports:[le.Bz.forRoot(ye),le.Bz]}),P})();var ce=F(3227),Z=F(6895);const ge=function(P){return{"move-settings":P}},we=function(P){return{"show-settings":P}};let be=(()=>{class P{constructor(m,D){this.Settings=m,this.router=D,this.showPreview=!1,this.showNavigation=!1,this.darkTheme=!1,this.changeLayout="1",this.Settings.changeTheme.subscribe(L=>{this.darkTheme="Dark"==L}),this.Settings.changeLayout.subscribe(L=>{this.changeLayout=L})}ngOnInit(){}changeTheme(m){this.Settings.changeTheme.next(m),localStorage.setItem("theme",m)}setRtlFormat(){window.location.href="https://dreamspos.dreamguystech.com/angular/template-rtl"+this.router.url}setLtrFormat(){window.location.href="https://dreamspos.dreamguystech.com/angular/template"+this.router.url}}return P.\u0275fac=function(m){return new(m||P)(T.Y36(ce.g),T.Y36(le.F0))},P.\u0275cmp=T.Xpm({type:P,selectors:[["app-layout"]],decls:142,vars:27,consts:[[1,"sidebar-overlay"],[1,"customizer-links",3,"ngClass"],[1,"sticky-sidebar"],[1,"sidebar-icons"],["data-bs-toggle","tooltip","data-bs-placement","left","data-bs-original-title","Tooltip on left",1,"add-setting",3,"click"],["src","assets/img/icons/sidebar-icon-01.svg","alt","",1,"feather-five"],["data-bs-toggle","tooltip","data-bs-placement","left","data-bs-original-title","Tooltip on left",1,"navigation-add",3,"click"],["src","assets/img/icons/sidebar-icon-02.svg","alt","",1,"feather-five"],["href","https://themeforest.net/item/dreamspos-pos-inventory-management-admin-dashboard-template/38834413","target","_blank","data-bs-toggle","tooltip","data-bs-placement","left","data-bs-original-title","Tooltip on left"],["src","assets/img/icons/sidebar-icon-03.svg","alt","",1,"feather-five"],[1,"sidebar-settings","preview-toggle",3,"ngClass"],[1,"sidebar-content","sticky-sidebar-one"],[1,"sidebar-header"],["href","#",1,"sidebar-close",3,"click"],["src","assets/img/icons/close-icon.svg","alt",""],[1,"sidebar-body"],[1,"theme-title"],[1,"switch-wrapper"],["id","dark-mode-toggle"],[1,"light-mode",3,"click"],["src","assets/img/icons/sun-icon.svg","alt","",1,"me-2"],[1,"dark-mode",3,"click"],[1,"far","fa-moon","me-2"],[1,"row"],[1,"col-xl-6","ere"],[1,"layout-wrap"],[1,"d-flex","align-items-center"],[1,"status-toggle","d-flex","align-items-center","me-2"],["for","1",1,"checktoggle","active"],[1,"layout-link"],[1,"status-text"],[1,"layout-img"],["src","assets/img/layout-ltr.png","alt","layout",1,"img-fliud"],["for","1",1,"checktoggle"],[1,"layout-link",3,"click"],["src","assets/img/layout-rtl.png","alt","layout",1,"img-fliud"],["for","4",1,"checktoggle"],["src","assets/img/layout-04.png","alt","layout",1,"img-fliud"],["for","3",1,"checktoggle"],["src","assets/img/layout-01.png","alt","layout",1,"img-fliud"],[1,"sidebar-settings","nav-toggle",3,"ngClass"],["src","assets/img/layout-03.png","alt","layout",1,"img-fliud"],["for","2",1,"checktoggle"]],template:function(m,D){1&m&&(T._UZ(0,"div",0),T.TgZ(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),T.NdJ("click",function(){return D.showPreview=!D.showPreview,D.showNavigation=!1}),T._UZ(5,"img",5),T.qZA()(),T.TgZ(6,"li",3)(7,"a",6),T.NdJ("click",function(){return D.showNavigation=!D.showNavigation,D.showPreview=!1}),T._UZ(8,"img",7),T.qZA()(),T.TgZ(9,"li",3)(10,"a",8),T._UZ(11,"img",9),T.qZA()()()(),T.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"h5"),T._uU(16,"Preview Settings"),T.qZA(),T.TgZ(17,"a",13),T.NdJ("click",function(){return D.showPreview=!1}),T._UZ(18,"img",14),T.qZA()(),T.TgZ(19,"div",15)(20,"h6",16),T._uU(21,"Choose Mode"),T.qZA(),T.TgZ(22,"div",17)(23,"div",18)(24,"span",19),T.NdJ("click",function(){return D.changeTheme("Light")}),T._UZ(25,"img",20),T._uU(26," Light"),T.qZA(),T.TgZ(27,"span",21),T.NdJ("click",function(){return D.changeTheme("Dark")}),T._UZ(28,"i",22),T._uU(29," Dark"),T.qZA()()(),T.TgZ(30,"div",23)(31,"div",24)(32,"div",25)(33,"div",26)(34,"div",27)(35,"label",28)(36,"a",29),T._uU(37,"checkbox"),T.qZA()()(),T.TgZ(38,"span",30),T._uU(39,"LTR"),T.qZA()(),T.TgZ(40,"div",31),T._UZ(41,"img",32),T.qZA()()(),T.TgZ(42,"div",24)(43,"div",25)(44,"div",26)(45,"div",27)(46,"label",33)(47,"a",34),T.NdJ("click",function(){return D.setRtlFormat()}),T._uU(48,"checkbox"),T.qZA()()(),T.TgZ(49,"span",30),T._uU(50,"RTL"),T.qZA()(),T.TgZ(51,"div",31),T._UZ(52,"img",35),T.qZA()()()(),T.TgZ(53,"div",23)(54,"div",24)(55,"div",25)(56,"div",26)(57,"div",27)(58,"label",36)(59,"a",34),T.NdJ("click",function(){return D.Settings.setLayout("4")}),T._uU(60,"checkbox"),T.qZA()()(),T.TgZ(61,"span",30),T._uU(62,"Boxed"),T.qZA()(),T.TgZ(63,"div",31),T._UZ(64,"img",37),T.qZA()()(),T.TgZ(65,"div",24)(66,"div",25)(67,"div",26)(68,"div",27)(69,"label",38)(70,"a",34),T.NdJ("click",function(){return D.Settings.setLayout("5")}),T._uU(71,"checkbox"),T.qZA()()(),T.TgZ(72,"span",30),T._uU(73,"Collapsed"),T.qZA()(),T.TgZ(74,"div",31),T._UZ(75,"img",39),T.qZA()()()()()()(),T.TgZ(76,"div",40)(77,"div",11)(78,"div",12)(79,"h5"),T._uU(80,"Navigation Settings"),T.qZA(),T.TgZ(81,"a",13),T.NdJ("click",function(){return D.showNavigation=!1}),T._UZ(82,"img",14),T.qZA()(),T.TgZ(83,"div",15)(84,"h6",16),T._uU(85,"Navigation Type"),T.qZA(),T.TgZ(86,"div",23)(87,"div",24)(88,"div",25)(89,"div",26)(90,"div",27)(91,"label",33)(92,"a",34),T.NdJ("click",function(){return D.Settings.setLayout("1")}),T._uU(93,"checkbox"),T.qZA()()(),T.TgZ(94,"span",30),T._uU(95,"Vertical"),T.qZA()(),T.TgZ(96,"div",31),T._UZ(97,"img",41),T.qZA()()(),T.TgZ(98,"div",24)(99,"div",25)(100,"div",26)(101,"div",27)(102,"label",42)(103,"a",34),T.NdJ("click",function(){return D.Settings.setLayout("2")}),T._uU(104,"checkbox"),T.qZA()()(),T.TgZ(105,"span",30),T._uU(106,"Horizontal"),T.qZA()(),T.TgZ(107,"div",31),T._UZ(108,"img",39),T.qZA()()(),T.TgZ(109,"div",24)(110,"div",25)(111,"div",26)(112,"div",27)(113,"label",38)(114,"a",34),T.NdJ("click",function(){return D.Settings.setLayout("5")}),T._uU(115,"checkbox"),T.qZA()()(),T.TgZ(116,"span",30),T._uU(117,"Collapsed"),T.qZA()(),T.TgZ(118,"div",31),T._UZ(119,"img",39),T.qZA()()(),T.TgZ(120,"div",24)(121,"div",25)(122,"div",26)(123,"div",27)(124,"label",38)(125,"a",34),T.NdJ("click",function(){return D.Settings.setLayout("4")}),T._uU(126,"checkbox"),T.qZA()()(),T.TgZ(127,"span",30),T._uU(128,"Modern"),T.qZA()(),T.TgZ(129,"div",31),T._UZ(130,"img",37),T.qZA()()(),T.TgZ(131,"div",24)(132,"div",25)(133,"div",26)(134,"div",27)(135,"label",38)(136,"a",34),T.NdJ("click",function(){return D.Settings.setLayout("3")}),T._uU(137,"checkbox"),T.qZA()()(),T.TgZ(138,"span",30),T._uU(139,"Boxed"),T.qZA()(),T.TgZ(140,"div",31),T._UZ(141,"img",41),T.qZA()()()()()()()),2&m&&(T.xp6(1),T.Q6J("ngClass",T.VKq(21,ge,D.showNavigation||D.showPreview)),T.xp6(11),T.Q6J("ngClass",T.VKq(23,we,D.showPreview)),T.xp6(12),T.ekj("active",0==D.darkTheme),T.xp6(3),T.ekj("active",1==D.darkTheme),T.xp6(31),T.ekj("active","4"==D.changeLayout),T.xp6(11),T.ekj("active","5"==D.changeLayout),T.xp6(7),T.Q6J("ngClass",T.VKq(25,we,D.showNavigation)),T.xp6(15),T.ekj("active","1"==D.changeLayout),T.xp6(11),T.ekj("active","2"==D.changeLayout),T.xp6(11),T.ekj("active","5"==D.changeLayout),T.xp6(11),T.ekj("active","4"==D.changeLayout),T.xp6(11),T.ekj("active","3"==D.changeLayout))},dependencies:[Z.mk]}),P})();function Te(P,p){1&P&&T._UZ(0,"app-layout")}const et=function(P){return{dark:P}};let ue=(()=>{class P{constructor(m){this.settings=m,this.title="template",this.darkTheme=!1,this.settings.changeTheme.subscribe(D=>{this.darkTheme="Dark"==D}),console.log(!!localStorage.getItem("token"))}login(){return!!localStorage.getItem("token")}}return P.\u0275fac=function(m){return new(m||P)(T.Y36(ce.g))},P.\u0275cmp=T.Xpm({type:P,selectors:[["app-root"]],decls:3,vars:4,consts:[[1,"main-wrapper",3,"ngClass"],[4,"ngIf"]],template:function(m,D){1&m&&(T.TgZ(0,"div",0),T._UZ(1,"router-outlet"),T.YNc(2,Te,1,0,"app-layout",1),T.qZA()),2&m&&(T.Q6J("ngClass",T.VKq(2,et,D.darkTheme)),T.xp6(2),T.Q6J("ngIf",!D.login()))},dependencies:[Z.mk,Z.O5,le.lC,be]}),P})();var Ce=F(7340);function Ee(P){return new T.vHH(3e3,!1)}function dt(){return typeof window<"u"&&typeof window.document<"u"}function Mn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Fn(P){switch(P.length){case 0:return new Ce.ZN;case 1:return P[0];default:return new Ce.ZE(P)}}function Ln(P,p,m,D,L=new Map,K=new Map){const ie=[],he=[];let Ne=-1,Ye=null;if(D.forEach(pt=>{const xt=pt.get("offset"),cn=xt==Ne,ln=cn&&Ye||new Map;pt.forEach((Ht,$t)=>{let zn=$t,Vn=Ht;if("offset"!==$t)switch(zn=p.normalizePropertyName(zn,ie),Vn){case Ce.k1:Vn=L.get($t);break;case Ce.l3:Vn=K.get($t);break;default:Vn=p.normalizeStyleValue($t,zn,Vn,ie)}ln.set(zn,Vn)}),cn||he.push(ln),Ye=ln,Ne=xt}),ie.length)throw function xe(P){return new T.vHH(3502,!1)}();return he}function yr(P,p,m,D){switch(p){case"start":P.onStart(()=>D(m&&Dr(m,"start",P)));break;case"done":P.onDone(()=>D(m&&Dr(m,"done",P)));break;case"destroy":P.onDestroy(()=>D(m&&Dr(m,"destroy",P)))}}function Dr(P,p,m){const K=Yn(P.element,P.triggerName,P.fromState,P.toState,p||P.phaseName,m.totalTime??P.totalTime,!!m.disabled),ie=P._data;return null!=ie&&(K._data=ie),K}function Yn(P,p,m,D,L="",K=0,ie){return{element:P,triggerName:p,fromState:m,toState:D,phaseName:L,totalTime:K,disabled:!!ie}}function Ue(P,p,m){let D=P.get(p);return D||P.set(p,D=m),D}function de(P){const p=P.indexOf(":");return[P.substring(1,p),P.slice(p+1)]}let te=(P,p)=>!1,Le=(P,p,m)=>[],Ge=null;function It(P){const p=P.parentNode||P.host;return p===Ge?null:p}(Mn()||typeof Element<"u")&&(dt()?(Ge=(()=>document.documentElement)(),te=(P,p)=>{for(;p;){if(p===P)return!0;p=It(p)}return!1}):te=(P,p)=>P.contains(p),Le=(P,p,m)=>{if(m)return Array.from(P.querySelectorAll(p));const D=P.querySelector(p);return D?[D]:[]});let st=null,gn=!1;const Kt=te,on=Le;let Bn=(()=>{class P{validateStyleProperty(m){return function Zt(P){st||(st=function Wt(){return typeof document<"u"?document.body:null}()||{},gn=!!st.style&&"WebkitAppearance"in st.style);let p=!0;return st.style&&!function vt(P){return"ebkit"==P.substring(1,6)}(P)&&(p=P in st.style,!p&&gn&&(p="Webkit"+P.charAt(0).toUpperCase()+P.slice(1)in st.style)),p}(m)}matchesElement(m,D){return!1}containsElement(m,D){return Kt(m,D)}getParentElement(m){return It(m)}query(m,D,L){return on(m,D,L)}computeStyle(m,D,L){return L||""}animate(m,D,L,K,ie,he=[],Ne){return new Ce.ZN(L,K)}}return P.\u0275fac=function(m){return new(m||P)},P.\u0275prov=T.Yz7({token:P,factory:P.\u0275fac}),P})(),Nn=(()=>{class P{}return P.NOOP=new Bn,P})();const er="ng-enter",Hr="ng-leave",Ur="ng-trigger",zr=".ng-trigger",H="ng-animating",Y=".ng-animating";function J(P){if("number"==typeof P)return P;const p=P.match(/^(-?[\.\d]+)(m?s)/);return!p||p.length<2?0:De(parseFloat(p[1]),p[2])}function De(P,p){return"s"===p?1e3*P:P}function Fe(P,p,m){return P.hasOwnProperty("duration")?P:function nt(P,p,m){let L,K=0,ie="";if("string"==typeof P){const he=P.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===he)return p.push(Ee()),{duration:0,delay:0,easing:""};L=De(parseFloat(he[1]),he[2]);const Ne=he[3];null!=Ne&&(K=De(parseFloat(Ne),he[4]));const Ye=he[5];Ye&&(ie=Ye)}else L=P;if(!m){let he=!1,Ne=p.length;L<0&&(p.push(function Pe(){return new T.vHH(3100,!1)}()),he=!0),K<0&&(p.push(function Tt(){return new T.vHH(3101,!1)}()),he=!0),he&&p.splice(Ne,0,Ee())}return{duration:L,delay:K,easing:ie}}(P,p,m)}function G(P,p={}){return Object.keys(P).forEach(m=>{p[m]=P[m]}),p}function q(P){const p=new Map;return Object.keys(P).forEach(m=>{p.set(m,P[m])}),p}function Ae(P,p=new Map,m){if(m)for(let[D,L]of m)p.set(D,L);for(let[D,L]of P)p.set(D,L);return p}function Ke(P,p,m){return m?p+":"+m+";":""}function At(P){let p="";for(let m=0;m<P.style.length;m++){const D=P.style.item(m);p+=Ke(0,D,P.style.getPropertyValue(D))}for(const m in P.style)P.style.hasOwnProperty(m)&&!m.startsWith("_")&&(p+=Ke(0,Er(m),P.style[m]));P.setAttribute("style",p)}function bt(P,p,m){P.style&&(p.forEach((D,L)=>{const K=br(L);m&&!m.has(L)&&m.set(L,P.style[K]),P.style[K]=D}),Mn()&&At(P))}function Ct(P,p){P.style&&(p.forEach((m,D)=>{const L=br(D);P.style[L]=""}),Mn()&&At(P))}function Qt(P){return Array.isArray(P)?1==P.length?P[0]:(0,Ce.vP)(P):P}const Bt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Pt(P){let p=[];if("string"==typeof P){let m;for(;m=Bt.exec(P);)p.push(m[1]);Bt.lastIndex=0}return p}function Sn(P,p,m){const D=P.toString(),L=D.replace(Bt,(K,ie)=>{let he=p[ie];return null==he&&(m.push(function We(P){return new T.vHH(3003,!1)}()),he=""),he.toString()});return L==D?P:L}function Kn(P){const p=[];let m=P.next();for(;!m.done;)p.push(m.value),m=P.next();return p}const tr=/-+([a-z0-9])/g;function br(P){return P.replace(tr,(...p)=>p[1].toUpperCase())}function Er(P){return P.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rr(P,p,m){switch(p.type){case 7:return P.visitTrigger(p,m);case 0:return P.visitState(p,m);case 1:return P.visitTransition(p,m);case 2:return P.visitSequence(p,m);case 3:return P.visitGroup(p,m);case 4:return P.visitAnimate(p,m);case 5:return P.visitKeyframes(p,m);case 6:return P.visitStyle(p,m);case 8:return P.visitReference(p,m);case 9:return P.visitAnimateChild(p,m);case 10:return P.visitAnimateRef(p,m);case 11:return P.visitQuery(p,m);case 12:return P.visitStagger(p,m);default:throw function ve(P){return new T.vHH(3004,!1)}()}}function xn(P,p){return window.getComputedStyle(P)[p]}function hi(P,p){const m=[];return"string"==typeof P?P.split(/\s*,\s*/).forEach(D=>function Wn(P,p,m){if(":"==P[0]){const Ne=function vr(P,p){switch(P){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(m,D)=>parseFloat(D)>parseFloat(m);case":decrement":return(m,D)=>parseFloat(D)<parseFloat(m);default:return p.push(function gt(P){return new T.vHH(3016,!1)}()),"* => *"}}(P,m);if("function"==typeof Ne)return void p.push(Ne);P=Ne}const D=P.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==D||D.length<4)return m.push(function pn(P){return new T.vHH(3015,!1)}()),p;const L=D[1],K=D[2],ie=D[3];p.push(qi(L,ie));"<"==K[0]&&!("*"==L&&"*"==ie)&&p.push(qi(ie,L))}(D,m,p)):m.push(P),m}const fi=new Set(["true","1"]),Vi=new Set(["false","0"]);function qi(P,p){const m=fi.has(P)||Vi.has(P),D=fi.has(p)||Vi.has(p);return(L,K)=>{let ie="*"==P||P==L,he="*"==p||p==K;return!ie&&m&&"boolean"==typeof L&&(ie=L?fi.has(P):Vi.has(P)),!he&&D&&"boolean"==typeof K&&(he=K?fi.has(p):Vi.has(p)),ie&&he}}const vs=new RegExp("s*:selfs*,?","g");function ws(P,p,m,D){return new Di(P).build(p,m,D)}class Di{constructor(p){this._driver=p}build(p,m,D){const L=new Os(m);return this._resetContextStyleTimingState(L),rr(this,Qt(p),L)}_resetContextStyleTimingState(p){p.currentQuerySelector="",p.collectedStyles=new Map,p.collectedStyles.set("",new Map),p.currentTime=0}visitTrigger(p,m){let D=m.queryCount=0,L=m.depCount=0;const K=[],ie=[];return"@"==p.name.charAt(0)&&m.errors.push(function _t(){return new T.vHH(3006,!1)}()),p.definitions.forEach(he=>{if(this._resetContextStyleTimingState(m),0==he.type){const Ne=he,Ye=Ne.name;Ye.toString().split(/\s*,\s*/).forEach(pt=>{Ne.name=pt,K.push(this.visitState(Ne,m))}),Ne.name=Ye}else if(1==he.type){const Ne=this.visitTransition(he,m);D+=Ne.queryCount,L+=Ne.depCount,ie.push(Ne)}else m.errors.push(function ft(){return new T.vHH(3007,!1)}())}),{type:7,name:p.name,states:K,transitions:ie,queryCount:D,depCount:L,options:null}}visitState(p,m){const D=this.visitStyle(p.styles,m),L=p.options&&p.options.params||null;if(D.containsDynamicStyles){const K=new Set,ie=L||{};D.styles.forEach(he=>{he instanceof Map&&he.forEach(Ne=>{Pt(Ne).forEach(Ye=>{ie.hasOwnProperty(Ye)||K.add(Ye)})})}),K.size&&(Kn(K.values()),m.errors.push(function ut(P,p){return new T.vHH(3008,!1)}()))}return{type:0,name:p.name,style:D,options:L?{params:L}:null}}visitTransition(p,m){m.queryCount=0,m.depCount=0;const D=rr(this,Qt(p.animation),m);return{type:1,matchers:hi(p.expr,m.errors),animation:D,queryCount:m.queryCount,depCount:m.depCount,options:Hi(p.options)}}visitSequence(p,m){return{type:2,steps:p.steps.map(D=>rr(this,D,m)),options:Hi(p.options)}}visitGroup(p,m){const D=m.currentTime;let L=0;const K=p.steps.map(ie=>{m.currentTime=D;const he=rr(this,ie,m);return L=Math.max(L,m.currentTime),he});return m.currentTime=L,{type:3,steps:K,options:Hi(p.options)}}visitAnimate(p,m){const D=function Ns(P,p){if(P.hasOwnProperty("duration"))return P;if("number"==typeof P)return Ui(Fe(P,p).duration,0,"");const m=P;if(m.split(/\s+/).some(K=>"{"==K.charAt(0)&&"{"==K.charAt(1))){const K=Ui(0,0,"");return K.dynamic=!0,K.strValue=m,K}const L=Fe(m,p);return Ui(L.duration,L.delay,L.easing)}(p.timings,m.errors);m.currentAnimateTimings=D;let L,K=p.styles?p.styles:(0,Ce.oB)({});if(5==K.type)L=this.visitKeyframes(K,m);else{let ie=p.styles,he=!1;if(!ie){he=!0;const Ye={};D.easing&&(Ye.easing=D.easing),ie=(0,Ce.oB)(Ye)}m.currentTime+=D.duration+D.delay;const Ne=this.visitStyle(ie,m);Ne.isEmptyStep=he,L=Ne}return m.currentAnimateTimings=null,{type:4,timings:D,style:L,options:null}}visitStyle(p,m){const D=this._makeStyleAst(p,m);return this._validateStyleAst(D,m),D}_makeStyleAst(p,m){const D=[],L=Array.isArray(p.styles)?p.styles:[p.styles];for(let he of L)"string"==typeof he?he===Ce.l3?D.push(he):m.errors.push(new T.vHH(3002,!1)):D.push(q(he));let K=!1,ie=null;return D.forEach(he=>{if(he instanceof Map&&(he.has("easing")&&(ie=he.get("easing"),he.delete("easing")),!K))for(let Ne of he.values())if(Ne.toString().indexOf("{{")>=0){K=!0;break}}),{type:6,styles:D,easing:ie,offset:p.offset,containsDynamicStyles:K,options:null}}_validateStyleAst(p,m){const D=m.currentAnimateTimings;let L=m.currentTime,K=m.currentTime;D&&K>0&&(K-=D.duration+D.delay),p.styles.forEach(ie=>{"string"!=typeof ie&&ie.forEach((he,Ne)=>{const Ye=m.collectedStyles.get(m.currentQuerySelector),pt=Ye.get(Ne);let xt=!0;pt&&(K!=L&&K>=pt.startTime&&L<=pt.endTime&&(m.errors.push(function Se(P,p,m,D,L){return new T.vHH(3010,!1)}()),xt=!1),K=pt.startTime),xt&&Ye.set(Ne,{startTime:K,endTime:L}),m.options&&function Mt(P,p,m){const D=p.params||{},L=Pt(P);L.length&&L.forEach(K=>{D.hasOwnProperty(K)||m.push(function Xe(P){return new T.vHH(3001,!1)}())})}(he,m.options,m.errors)})})}visitKeyframes(p,m){const D={type:5,styles:[],options:null};if(!m.currentAnimateTimings)return m.errors.push(function He(){return new T.vHH(3011,!1)}()),D;let K=0;const ie=[];let he=!1,Ne=!1,Ye=0;const pt=p.steps.map(Vn=>{const Xt=this._makeStyleAst(Vn,m);let $r=null!=Xt.offset?Xt.offset:function To(P){if("string"==typeof P)return null;let p=null;if(Array.isArray(P))P.forEach(m=>{if(m instanceof Map&&m.has("offset")){const D=m;p=parseFloat(D.get("offset")),D.delete("offset")}});else if(P instanceof Map&&P.has("offset")){const m=P;p=parseFloat(m.get("offset")),m.delete("offset")}return p}(Xt.styles),Wr=0;return null!=$r&&(K++,Wr=Xt.offset=$r),Ne=Ne||Wr<0||Wr>1,he=he||Wr<Ye,Ye=Wr,ie.push(Wr),Xt});Ne&&m.errors.push(function Me(){return new T.vHH(3012,!1)}()),he&&m.errors.push(function it(){return new T.vHH(3200,!1)}());const xt=p.steps.length;let cn=0;K>0&&K<xt?m.errors.push(function at(){return new T.vHH(3202,!1)}()):0==K&&(cn=1/(xt-1));const ln=xt-1,Ht=m.currentTime,$t=m.currentAnimateTimings,zn=$t.duration;return pt.forEach((Vn,Xt)=>{const $r=cn>0?Xt==ln?1:cn*Xt:ie[Xt],Wr=$r*zn;m.currentTime=Ht+$t.delay+Wr,$t.duration=Wr,this._validateStyleAst(Vn,m),Vn.offset=$r,D.styles.push(Vn)}),D}visitReference(p,m){return{type:8,animation:rr(this,Qt(p.animation),m),options:Hi(p.options)}}visitAnimateChild(p,m){return m.depCount++,{type:9,options:Hi(p.options)}}visitAnimateRef(p,m){return{type:10,animation:this.visitReference(p.animation,m),options:Hi(p.options)}}visitQuery(p,m){const D=m.currentQuerySelector,L=p.options||{};m.queryCount++,m.currentQuery=p;const[K,ie]=function qs(P){const p=!!P.split(/\s*,\s*/).find(m=>":self"==m);return p&&(P=P.replace(vs,"")),P=P.replace(/@\*/g,zr).replace(/@\w+/g,m=>zr+"-"+m.slice(1)).replace(/:animating/g,Y),[P,p]}(p.selector);m.currentQuerySelector=D.length?D+" "+K:K,Ue(m.collectedStyles,m.currentQuerySelector,new Map);const he=rr(this,Qt(p.animation),m);return m.currentQuery=null,m.currentQuerySelector=D,{type:11,selector:K,limit:L.limit||0,optional:!!L.optional,includeSelf:ie,animation:he,originalSelector:p.selector,options:Hi(p.options)}}visitStagger(p,m){m.currentQuery||m.errors.push(function Lt(){return new T.vHH(3013,!1)}());const D="full"===p.timings?{duration:0,delay:0,easing:"full"}:Fe(p.timings,m.errors,!0);return{type:12,animation:rr(this,Qt(p.animation),m),timings:D,options:null}}}class Os{constructor(p){this.errors=p,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hi(P){return P?(P=G(P)).params&&(P.params=function Sr(P){return P?G(P):null}(P.params)):P={},P}function Ui(P,p,m){return{duration:P,delay:p,easing:m}}function Zi(P,p,m,D,L,K,ie=null,he=!1){return{type:1,element:P,keyframes:p,preStyleProps:m,postStyleProps:D,duration:L,delay:K,totalTime:L+K,easing:ie,subTimeline:he}}class zi{constructor(){this._map=new Map}get(p){return this._map.get(p)||[]}append(p,m){let D=this._map.get(p);D||this._map.set(p,D=[]),D.push(...m)}has(p){return this._map.has(p)}clear(){this._map.clear()}}const pi=new RegExp(":enter","g"),Ji=new RegExp(":leave","g");function Yt(P,p,m,D,L,K=new Map,ie=new Map,he,Ne,Ye=[]){return(new bi).buildKeyframes(P,p,m,D,L,K,ie,he,Ne,Ye)}class bi{buildKeyframes(p,m,D,L,K,ie,he,Ne,Ye,pt=[]){Ye=Ye||new zi;const xt=new si(p,m,Ye,L,K,pt,[]);xt.options=Ne;const cn=Ne.delay?J(Ne.delay):0;xt.currentTimeline.delayNextStep(cn),xt.currentTimeline.setStyles([ie],null,xt.errors,Ne),rr(this,D,xt);const ln=xt.timelines.filter(Ht=>Ht.containsAnimation());if(ln.length&&he.size){let Ht;for(let $t=ln.length-1;$t>=0;$t--){const zn=ln[$t];if(zn.element===m){Ht=zn;break}}Ht&&!Ht.allowOnlyTimelineStyles()&&Ht.setStyles([he],null,xt.errors,Ne)}return ln.length?ln.map(Ht=>Ht.buildKeyframes()):[Zi(m,[],[],[],0,cn,"",!1)]}visitTrigger(p,m){}visitState(p,m){}visitTransition(p,m){}visitAnimateChild(p,m){const D=m.subInstructions.get(m.element);if(D){const L=m.createSubContext(p.options),K=m.currentTimeline.currentTime,ie=this._visitSubInstructions(D,L,L.options);K!=ie&&m.transformIntoNewTimeline(ie)}m.previousNode=p}visitAnimateRef(p,m){const D=m.createSubContext(p.options);D.transformIntoNewTimeline(),this._applyAnimateRefDelay(p.animation,m,D),this.visitReference(p.animation,D),m.transformIntoNewTimeline(D.currentTimeline.currentTime),m.previousNode=p}_applyAnimateRefDelay(p,m,D){const L=p.options?.delay;if(!L)return;let K;K="string"==typeof L?J(Sn(L,p.options?.params??{},m.errors)):L,D.delayNextStep(K)}_visitSubInstructions(p,m,D){let K=m.currentTimeline.currentTime;const ie=null!=D.duration?J(D.duration):null,he=null!=D.delay?J(D.delay):null;return 0!==ie&&p.forEach(Ne=>{const Ye=m.appendInstructionToTimeline(Ne,ie,he);K=Math.max(K,Ye.duration+Ye.delay)}),K}visitReference(p,m){m.updateOptions(p.options,!0),rr(this,p.animation,m),m.previousNode=p}visitSequence(p,m){const D=m.subContextCount;let L=m;const K=p.options;if(K&&(K.params||K.delay)&&(L=m.createSubContext(K),L.transformIntoNewTimeline(),null!=K.delay)){6==L.previousNode.type&&(L.currentTimeline.snapshotCurrentStyles(),L.previousNode=is);const ie=J(K.delay);L.delayNextStep(ie)}p.steps.length&&(p.steps.forEach(ie=>rr(this,ie,L)),L.currentTimeline.applyStylesToKeyframe(),L.subContextCount>D&&L.transformIntoNewTimeline()),m.previousNode=p}visitGroup(p,m){const D=[];let L=m.currentTimeline.currentTime;const K=p.options&&p.options.delay?J(p.options.delay):0;p.steps.forEach(ie=>{const he=m.createSubContext(p.options);K&&he.delayNextStep(K),rr(this,ie,he),L=Math.max(L,he.currentTimeline.currentTime),D.push(he.currentTimeline)}),D.forEach(ie=>m.currentTimeline.mergeTimelineCollectedStyles(ie)),m.transformIntoNewTimeline(L),m.previousNode=p}_visitTiming(p,m){if(p.dynamic){const D=p.strValue;return Fe(m.params?Sn(D,m.params,m.errors):D,m.errors)}return{duration:p.duration,delay:p.delay,easing:p.easing}}visitAnimate(p,m){const D=m.currentAnimateTimings=this._visitTiming(p.timings,m),L=m.currentTimeline;D.delay&&(m.incrementTime(D.delay),L.snapshotCurrentStyles());const K=p.style;5==K.type?this.visitKeyframes(K,m):(m.incrementTime(D.duration),this.visitStyle(K,m),L.applyStylesToKeyframe()),m.currentAnimateTimings=null,m.previousNode=p}visitStyle(p,m){const D=m.currentTimeline,L=m.currentAnimateTimings;!L&&D.hasCurrentStyleProperties()&&D.forwardFrame();const K=L&&L.easing||p.easing;p.isEmptyStep?D.applyEmptyStep(K):D.setStyles(p.styles,K,m.errors,m.options),m.previousNode=p}visitKeyframes(p,m){const D=m.currentAnimateTimings,L=m.currentTimeline.duration,K=D.duration,he=m.createSubContext().currentTimeline;he.easing=D.easing,p.styles.forEach(Ne=>{he.forwardTime((Ne.offset||0)*K),he.setStyles(Ne.styles,Ne.easing,m.errors,m.options),he.applyStylesToKeyframe()}),m.currentTimeline.mergeTimelineCollectedStyles(he),m.transformIntoNewTimeline(L+K),m.previousNode=p}visitQuery(p,m){const D=m.currentTimeline.currentTime,L=p.options||{},K=L.delay?J(L.delay):0;K&&(6===m.previousNode.type||0==D&&m.currentTimeline.hasCurrentStyleProperties())&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=is);let ie=D;const he=m.invokeQuery(p.selector,p.originalSelector,p.limit,p.includeSelf,!!L.optional,m.errors);m.currentQueryTotal=he.length;let Ne=null;he.forEach((Ye,pt)=>{m.currentQueryIndex=pt;const xt=m.createSubContext(p.options,Ye);K&&xt.delayNextStep(K),Ye===m.element&&(Ne=xt.currentTimeline),rr(this,p.animation,xt),xt.currentTimeline.applyStylesToKeyframe(),ie=Math.max(ie,xt.currentTimeline.currentTime)}),m.currentQueryIndex=0,m.currentQueryTotal=0,m.transformIntoNewTimeline(ie),Ne&&(m.currentTimeline.mergeTimelineCollectedStyles(Ne),m.currentTimeline.snapshotCurrentStyles()),m.previousNode=p}visitStagger(p,m){const D=m.parentContext,L=m.currentTimeline,K=p.timings,ie=Math.abs(K.duration),he=ie*(m.currentQueryTotal-1);let Ne=ie*m.currentQueryIndex;switch(K.duration<0?"reverse":K.easing){case"reverse":Ne=he-Ne;break;case"full":Ne=D.currentStaggerTime}const pt=m.currentTimeline;Ne&&pt.delayNextStep(Ne);const xt=pt.currentTime;rr(this,p.animation,m),m.previousNode=p,D.currentStaggerTime=L.currentTime-xt+(L.startTime-D.currentTimeline.startTime)}}const is={};class si{constructor(p,m,D,L,K,ie,he,Ne){this._driver=p,this.element=m,this.subInstructions=D,this._enterClassName=L,this._leaveClassName=K,this.errors=ie,this.timelines=he,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=is,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ne||new fn(this._driver,m,0),he.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(p,m){if(!p)return;const D=p;let L=this.options;null!=D.duration&&(L.duration=J(D.duration)),null!=D.delay&&(L.delay=J(D.delay));const K=D.params;if(K){let ie=L.params;ie||(ie=this.options.params={}),Object.keys(K).forEach(he=>{(!m||!ie.hasOwnProperty(he))&&(ie[he]=Sn(K[he],ie,this.errors))})}}_copyOptions(){const p={};if(this.options){const m=this.options.params;if(m){const D=p.params={};Object.keys(m).forEach(L=>{D[L]=m[L]})}}return p}createSubContext(p=null,m,D){const L=m||this.element,K=new si(this._driver,L,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(L,D||0));return K.previousNode=this.previousNode,K.currentAnimateTimings=this.currentAnimateTimings,K.options=this._copyOptions(),K.updateOptions(p),K.currentQueryIndex=this.currentQueryIndex,K.currentQueryTotal=this.currentQueryTotal,K.parentContext=this,this.subContextCount++,K}transformIntoNewTimeline(p){return this.previousNode=is,this.currentTimeline=this.currentTimeline.fork(this.element,p),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(p,m,D){const L={duration:m??p.duration,delay:this.currentTimeline.currentTime+(D??0)+p.delay,easing:""},K=new Tr(this._driver,p.element,p.keyframes,p.preStyleProps,p.postStyleProps,L,p.stretchStartingKeyframe);return this.timelines.push(K),L}incrementTime(p){this.currentTimeline.forwardTime(this.currentTimeline.duration+p)}delayNextStep(p){p>0&&this.currentTimeline.delayNextStep(p)}invokeQuery(p,m,D,L,K,ie){let he=[];if(L&&he.push(this.element),p.length>0){p=(p=p.replace(pi,"."+this._enterClassName)).replace(Ji,"."+this._leaveClassName);let Ye=this._driver.query(this.element,p,1!=D);0!==D&&(Ye=D<0?Ye.slice(Ye.length+D,Ye.length):Ye.slice(0,D)),he.push(...Ye)}return!K&&0==he.length&&ie.push(function sn(P){return new T.vHH(3014,!1)}()),he}}class fn{constructor(p,m,D,L){this._driver=p,this.element=m,this.startTime=D,this._elementTimelineStylesLookup=L,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(m),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(m,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(p){const m=1===this._keyframes.size&&this._pendingStyles.size;this.duration||m?(this.forwardTime(this.currentTime+p),m&&this.snapshotCurrentStyles()):this.startTime+=p}fork(p,m){return this.applyStylesToKeyframe(),new fn(this._driver,p,m||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(p){this.applyStylesToKeyframe(),this.duration=p,this._loadKeyframe()}_updateStyle(p,m){this._localTimelineStyles.set(p,m),this._globalTimelineStyles.set(p,m),this._styleSummary.set(p,{time:this.currentTime,value:m})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(p){p&&this._previousKeyframe.set("easing",p);for(let[m,D]of this._globalTimelineStyles)this._backFill.set(m,D||Ce.l3),this._currentKeyframe.set(m,Ce.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(p,m,D,L){m&&this._previousKeyframe.set("easing",m);const K=L&&L.params||{},ie=function Ei(P,p){const m=new Map;let D;return P.forEach(L=>{if("*"===L){D=D||p.keys();for(let K of D)m.set(K,Ce.l3)}else Ae(L,m)}),m}(p,this._globalTimelineStyles);for(let[he,Ne]of ie){const Ye=Sn(Ne,K,D);this._pendingStyles.set(he,Ye),this._localTimelineStyles.has(he)||this._backFill.set(he,this._globalTimelineStyles.get(he)??Ce.l3),this._updateStyle(he,Ye)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((p,m)=>{this._currentKeyframe.set(m,p)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((p,m)=>{this._currentKeyframe.has(m)||this._currentKeyframe.set(m,p)}))}snapshotCurrentStyles(){for(let[p,m]of this._localTimelineStyles)this._pendingStyles.set(p,m),this._updateStyle(p,m)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const p=[];for(let m in this._currentKeyframe)p.push(m);return p}mergeTimelineCollectedStyles(p){p._styleSummary.forEach((m,D)=>{const L=this._styleSummary.get(D);(!L||m.time>L.time)&&this._updateStyle(D,m.value)})}buildKeyframes(){this.applyStylesToKeyframe();const p=new Set,m=new Set,D=1===this._keyframes.size&&0===this.duration;let L=[];this._keyframes.forEach((he,Ne)=>{const Ye=Ae(he,new Map,this._backFill);Ye.forEach((pt,xt)=>{pt===Ce.k1?p.add(xt):pt===Ce.l3&&m.add(xt)}),D||Ye.set("offset",Ne/this.duration),L.push(Ye)});const K=p.size?Kn(p.values()):[],ie=m.size?Kn(m.values()):[];if(D){const he=L[0],Ne=new Map(he);he.set("offset",0),Ne.set("offset",1),L=[he,Ne]}return Zi(this.element,L,K,ie,this.duration,this.startTime,this.easing,!1)}}class Tr extends fn{constructor(p,m,D,L,K,ie,he=!1){super(p,m,ie.delay),this.keyframes=D,this.preStyleProps=L,this.postStyleProps=K,this._stretchStartingKeyframe=he,this.timings={duration:ie.duration,delay:ie.delay,easing:ie.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let p=this.keyframes,{delay:m,duration:D,easing:L}=this.timings;if(this._stretchStartingKeyframe&&m){const K=[],ie=D+m,he=m/ie,Ne=Ae(p[0]);Ne.set("offset",0),K.push(Ne);const Ye=Ae(p[0]);Ye.set("offset",Vt(he)),K.push(Ye);const pt=p.length-1;for(let xt=1;xt<=pt;xt++){let cn=Ae(p[xt]);const ln=cn.get("offset");cn.set("offset",Vt((m+ln*D)/ie)),K.push(cn)}D=ie,m=0,L="",p=K}return Zi(this.element,p,this.preStyleProps,this.postStyleProps,D,m,L,!0)}}function Vt(P,p=3){const m=Math.pow(10,p-1);return Math.round(P*m)/m}class Qi{}const Xi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ps extends Qi{normalizePropertyName(p,m){return br(p)}normalizeStyleValue(p,m,D,L){let K="";const ie=D.toString().trim();if(Xi.has(m)&&0!==D&&"0"!==D)if("number"==typeof D)K="px";else{const he=D.match(/^[+-]?[\d\.]+([a-z]*)$/);he&&0==he[1].length&&L.push(function Qe(P,p){return new T.vHH(3005,!1)}())}return ie+K}}function gi(P,p,m,D,L,K,ie,he,Ne,Ye,pt,xt,cn){return{type:0,element:P,triggerName:p,isRemovalTransition:L,fromState:m,fromStyles:K,toState:D,toStyles:ie,timelines:he,queriedElements:Ne,preStyleProps:Ye,postStyleProps:pt,totalTime:xt,errors:cn}}const mi={};class Rs{constructor(p,m,D){this._triggerName=p,this.ast=m,this._stateStyles=D}match(p,m,D,L){return function oi(P,p,m,D,L){return P.some(K=>K(p,m,D,L))}(this.ast.matchers,p,m,D,L)}buildStyles(p,m,D){let L=this._stateStyles.get("*");return void 0!==p&&(L=this._stateStyles.get(p?.toString())||L),L?L.buildStyles(m,D):new Map}build(p,m,D,L,K,ie,he,Ne,Ye,pt){const xt=[],cn=this.ast.options&&this.ast.options.params||mi,Ht=this.buildStyles(D,he&&he.params||mi,xt),$t=Ne&&Ne.params||mi,zn=this.buildStyles(L,$t,xt),Vn=new Set,Xt=new Map,$r=new Map,Wr="void"===L,xo={params:ks($t,cn),delay:this.ast.options?.delay},Ms=pt?[]:Yt(p,m,this.ast.animation,K,ie,Ht,zn,xo,Ye,xt);let ui=0;if(Ms.forEach(gr=>{ui=Math.max(gr.duration+gr.delay,ui)}),xt.length)return gi(m,this._triggerName,D,L,Wr,Ht,zn,[],[],Xt,$r,ui,xt);Ms.forEach(gr=>{const kn=gr.element,vl=Ue(Xt,kn,new Set);gr.preStyleProps.forEach(Zn=>vl.add(Zn));const Ro=Ue($r,kn,new Set);gr.postStyleProps.forEach(Zn=>Ro.add(Zn)),kn!==m&&Vn.add(kn)});const $s=Kn(Vn.values());return gi(m,this._triggerName,D,L,Wr,Ht,zn,Ms,$s,Xt,$r,ui)}}function ks(P,p){const m=G(p);for(const D in P)P.hasOwnProperty(D)&&null!=P[D]&&(m[D]=P[D]);return m}class ai{constructor(p,m,D){this.styles=p,this.defaultParams=m,this.normalizer=D}buildStyles(p,m){const D=new Map,L=G(this.defaultParams);return Object.keys(p).forEach(K=>{const ie=p[K];null!==ie&&(L[K]=ie)}),this.styles.styles.forEach(K=>{"string"!=typeof K&&K.forEach((ie,he)=>{ie&&(ie=Sn(ie,L,m));const Ne=this.normalizer.normalizePropertyName(he,m);ie=this.normalizer.normalizeStyleValue(he,Ne,ie,m),D.set(Ne,ie)})}),D}}class Fs{constructor(p,m,D){this.name=p,this.ast=m,this._normalizer=D,this.transitionFactories=[],this.states=new Map,m.states.forEach(L=>{this.states.set(L.name,new ai(L.style,L.options&&L.options.params||{},D))}),ss(this.states,"true","1"),ss(this.states,"false","0"),m.transitions.forEach(L=>{this.transitionFactories.push(new Rs(p,L,this.states))}),this.fallbackTransition=function wn(P,p,m){return new Rs(P,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ie,he)=>!0],options:null,queryCount:0,depCount:0},p)}(p,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(p,m,D,L){return this.transitionFactories.find(ie=>ie.match(p,m,D,L))||null}matchStyles(p,m,D){return this.fallbackTransition.buildStyles(p,m,D)}}function ss(P,p,m){P.has(p)?P.has(m)||P.set(m,P.get(p)):P.has(m)&&P.set(p,P.get(m))}const as=new zi;class xr{constructor(p,m,D){this.bodyNode=p,this._driver=m,this._normalizer=D,this._animations=new Map,this._playersById=new Map,this.players=[]}register(p,m){const D=[],K=ws(this._driver,m,D,[]);if(D.length)throw function Ve(P){return new T.vHH(3503,!1)}();this._animations.set(p,K)}_buildPlayer(p,m,D){const L=p.element,K=Ln(0,this._normalizer,0,p.keyframes,m,D);return this._driver.animate(L,K,p.duration,p.delay,p.easing,[],!0)}create(p,m,D={}){const L=[],K=this._animations.get(p);let ie;const he=new Map;if(K?(ie=Yt(this._driver,m,K,er,Hr,new Map,new Map,D,as,L),ie.forEach(pt=>{const xt=Ue(he,pt.element,new Map);pt.postStyleProps.forEach(cn=>xt.set(cn,null))})):(L.push(function $e(){return new T.vHH(3300,!1)}()),ie=[]),L.length)throw function zt(P){return new T.vHH(3504,!1)}();he.forEach((pt,xt)=>{pt.forEach((cn,ln)=>{pt.set(ln,this._driver.computeStyle(xt,ln,Ce.l3))})});const Ye=Fn(ie.map(pt=>{const xt=he.get(pt.element);return this._buildPlayer(pt,new Map,xt)}));return this._playersById.set(p,Ye),Ye.onDestroy(()=>this.destroy(p)),this.players.push(Ye),Ye}destroy(p){const m=this._getPlayer(p);m.destroy(),this._playersById.delete(p);const D=this.players.indexOf(m);D>=0&&this.players.splice(D,1)}_getPlayer(p){const m=this._playersById.get(p);if(!m)throw function Qn(P){return new T.vHH(3301,!1)}();return m}listen(p,m,D,L){const K=Yn(m,"","","");return yr(this._getPlayer(p),D,K,L),()=>{}}command(p,m,D,L){if("register"==D)return void this.register(p,L[0]);if("create"==D)return void this.create(p,m,L[0]||{});const K=this._getPlayer(p);switch(D){case"play":K.play();break;case"pause":K.pause();break;case"reset":K.reset();break;case"restart":K.restart();break;case"finish":K.finish();break;case"init":K.init();break;case"setPosition":K.setPosition(parseFloat(L[0]));break;case"destroy":this.destroy(p)}}}const Pn="ng-animate-queued",Mi="ng-animate-disabled",li=[],qr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Rn="__ng_removed";class Zr{constructor(p,m=""){this.namespaceId=m;const D=p&&p.hasOwnProperty("value");if(this.value=function yi(P){return P??null}(D?p.value:p),D){const K=G(p);delete K.value,this.options=K}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(p){const m=p.params;if(m){const D=this.options.params;Object.keys(m).forEach(L=>{null==D[L]&&(D[L]=m[L])})}}}const Ot="void",Ls=new Zr(Ot);class es{constructor(p,m,D){this.id=p,this.hostElement=m,this._engine=D,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+p,yn(m,this._hostClassName)}listen(p,m,D,L){if(!this._triggers.has(m))throw function On(P,p){return new T.vHH(3302,!1)}();if(null==D||0==D.length)throw function dr(P){return new T.vHH(3303,!1)}();if(!function ir(P){return"start"==P||"done"==P}(D))throw function Pr(P,p){return new T.vHH(3400,!1)}();const K=Ue(this._elementListeners,p,[]),ie={name:m,phase:D,callback:L};K.push(ie);const he=Ue(this._engine.statesByElement,p,new Map);return he.has(m)||(yn(p,Ur),yn(p,Ur+"-"+m),he.set(m,Ls)),()=>{this._engine.afterFlush(()=>{const Ne=K.indexOf(ie);Ne>=0&&K.splice(Ne,1),this._triggers.has(m)||he.delete(m)})}}register(p,m){return!this._triggers.has(p)&&(this._triggers.set(p,m),!0)}_getTrigger(p){const m=this._triggers.get(p);if(!m)throw function tn(P){return new T.vHH(3401,!1)}();return m}trigger(p,m,D,L=!0){const K=this._getTrigger(m),ie=new Ar(this.id,m,p);let he=this._engine.statesByElement.get(p);he||(yn(p,Ur),yn(p,Ur+"-"+m),this._engine.statesByElement.set(p,he=new Map));let Ne=he.get(m);const Ye=new Zr(D,this.id);if(!(D&&D.hasOwnProperty("value"))&&Ne&&Ye.absorbOptions(Ne.options),he.set(m,Ye),Ne||(Ne=Ls),Ye.value!==Ot&&Ne.value===Ye.value){if(!function j(P,p){const m=Object.keys(P),D=Object.keys(p);if(m.length!=D.length)return!1;for(let L=0;L<m.length;L++){const K=m[L];if(!p.hasOwnProperty(K)||P[K]!==p[K])return!1}return!0}(Ne.params,Ye.params)){const $t=[],zn=K.matchStyles(Ne.value,Ne.params,$t),Vn=K.matchStyles(Ye.value,Ye.params,$t);$t.length?this._engine.reportError($t):this._engine.afterFlush(()=>{Ct(p,zn),bt(p,Vn)})}return}const cn=Ue(this._engine.playersByElement,p,[]);cn.forEach($t=>{$t.namespaceId==this.id&&$t.triggerName==m&&$t.queued&&$t.destroy()});let ln=K.matchTransition(Ne.value,Ye.value,p,Ye.params),Ht=!1;if(!ln){if(!L)return;ln=K.fallbackTransition,Ht=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:m,transition:ln,fromState:Ne,toState:Ye,player:ie,isFallbackTransition:Ht}),Ht||(yn(p,Pn),ie.onStart(()=>{Un(p,Pn)})),ie.onDone(()=>{let $t=this.players.indexOf(ie);$t>=0&&this.players.splice($t,1);const zn=this._engine.playersByElement.get(p);if(zn){let Vn=zn.indexOf(ie);Vn>=0&&zn.splice(Vn,1)}}),this.players.push(ie),cn.push(ie),ie}deregister(p){this._triggers.delete(p),this._engine.statesByElement.forEach(m=>m.delete(p)),this._elementListeners.forEach((m,D)=>{this._elementListeners.set(D,m.filter(L=>L.name!=p))})}clearElementCache(p){this._engine.statesByElement.delete(p),this._elementListeners.delete(p);const m=this._engine.playersByElement.get(p);m&&(m.forEach(D=>D.destroy()),this._engine.playersByElement.delete(p))}_signalRemovalForInnerTriggers(p,m){const D=this._engine.driver.query(p,zr,!0);D.forEach(L=>{if(L[Rn])return;const K=this._engine.fetchNamespacesByElement(L);K.size?K.forEach(ie=>ie.triggerLeaveAnimation(L,m,!1,!0)):this.clearElementCache(L)}),this._engine.afterFlushAnimationsDone(()=>D.forEach(L=>this.clearElementCache(L)))}triggerLeaveAnimation(p,m,D,L){const K=this._engine.statesByElement.get(p),ie=new Map;if(K){const he=[];if(K.forEach((Ne,Ye)=>{if(ie.set(Ye,Ne.value),this._triggers.has(Ye)){const pt=this.trigger(p,Ye,Ot,L);pt&&he.push(pt)}}),he.length)return this._engine.markElementAsRemoved(this.id,p,!0,m,ie),D&&Fn(he).onDone(()=>this._engine.processLeaveNode(p)),!0}return!1}prepareLeaveAnimationListeners(p){const m=this._elementListeners.get(p),D=this._engine.statesByElement.get(p);if(m&&D){const L=new Set;m.forEach(K=>{const ie=K.name;if(L.has(ie))return;L.add(ie);const Ne=this._triggers.get(ie).fallbackTransition,Ye=D.get(ie)||Ls,pt=new Zr(Ot),xt=new Ar(this.id,ie,p);this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:ie,transition:Ne,fromState:Ye,toState:pt,player:xt,isFallbackTransition:!0})})}}removeNode(p,m){const D=this._engine;if(p.childElementCount&&this._signalRemovalForInnerTriggers(p,m),this.triggerLeaveAnimation(p,m,!0))return;let L=!1;if(D.totalAnimations){const K=D.players.length?D.playersByQueriedElement.get(p):[];if(K&&K.length)L=!0;else{let ie=p;for(;ie=ie.parentNode;)if(D.statesByElement.get(ie)){L=!0;break}}}if(this.prepareLeaveAnimationListeners(p),L)D.markElementAsRemoved(this.id,p,!1,m);else{const K=p[Rn];(!K||K===qr)&&(D.afterFlush(()=>this.clearElementCache(p)),D.destroyInnerAnimations(p),D._onRemovalComplete(p,m))}}insertNode(p,m){yn(p,this._hostClassName)}drainQueuedTransitions(p){const m=[];return this._queue.forEach(D=>{const L=D.player;if(L.destroyed)return;const K=D.element,ie=this._elementListeners.get(K);ie&&ie.forEach(he=>{if(he.name==D.triggerName){const Ne=Yn(K,D.triggerName,D.fromState.value,D.toState.value);Ne._data=p,yr(D.player,he.phase,Ne,he.callback)}}),L.markedForDestroy?this._engine.afterFlush(()=>{L.destroy()}):m.push(D)}),this._queue=[],m.sort((D,L)=>{const K=D.transition.ast.depCount,ie=L.transition.ast.depCount;return 0==K||0==ie?K-ie:this._engine.driver.containsElement(D.element,L.element)?1:-1})}destroy(p){this.players.forEach(m=>m.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,p)}elementContainsData(p){let m=!1;return this._elementListeners.has(p)&&(m=!0),m=!!this._queue.find(D=>D.element===p)||m,m}}class ls{constructor(p,m,D){this.bodyNode=p,this.driver=m,this._normalizer=D,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(L,K)=>{}}_onRemovalComplete(p,m){this.onRemovalComplete(p,m)}get queuedPlayers(){const p=[];return this._namespaceList.forEach(m=>{m.players.forEach(D=>{D.queued&&p.push(D)})}),p}createNamespace(p,m){const D=new es(p,m,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,m)?this._balanceNamespaceList(D,m):(this.newHostElements.set(m,D),this.collectEnterElement(m)),this._namespaceLookup[p]=D}_balanceNamespaceList(p,m){const D=this._namespaceList,L=this.namespacesByHostElement;if(D.length-1>=0){let ie=!1,he=this.driver.getParentElement(m);for(;he;){const Ne=L.get(he);if(Ne){const Ye=D.indexOf(Ne);D.splice(Ye+1,0,p),ie=!0;break}he=this.driver.getParentElement(he)}ie||D.unshift(p)}else D.push(p);return L.set(m,p),p}register(p,m){let D=this._namespaceLookup[p];return D||(D=this.createNamespace(p,m)),D}registerTrigger(p,m,D){let L=this._namespaceLookup[p];L&&L.register(m,D)&&this.totalAnimations++}destroy(p,m){if(!p)return;const D=this._fetchNamespace(p);this.afterFlush(()=>{this.namespacesByHostElement.delete(D.hostElement),delete this._namespaceLookup[p];const L=this._namespaceList.indexOf(D);L>=0&&this._namespaceList.splice(L,1)}),this.afterFlushAnimationsDone(()=>D.destroy(m))}_fetchNamespace(p){return this._namespaceLookup[p]}fetchNamespacesByElement(p){const m=new Set,D=this.statesByElement.get(p);if(D)for(let L of D.values())if(L.namespaceId){const K=this._fetchNamespace(L.namespaceId);K&&m.add(K)}return m}trigger(p,m,D,L){if(Jr(m)){const K=this._fetchNamespace(p);if(K)return K.trigger(m,D,L),!0}return!1}insertNode(p,m,D,L){if(!Jr(m))return;const K=m[Rn];if(K&&K.setForRemoval){K.setForRemoval=!1,K.setForMove=!0;const ie=this.collectedLeaveElements.indexOf(m);ie>=0&&this.collectedLeaveElements.splice(ie,1)}if(p){const ie=this._fetchNamespace(p);ie&&ie.insertNode(m,D)}L&&this.collectEnterElement(m)}collectEnterElement(p){this.collectedEnterElements.push(p)}markElementAsDisabled(p,m){m?this.disabledNodes.has(p)||(this.disabledNodes.add(p),yn(p,Mi)):this.disabledNodes.has(p)&&(this.disabledNodes.delete(p),Un(p,Mi))}removeNode(p,m,D,L){if(Jr(m)){const K=p?this._fetchNamespace(p):null;if(K?K.removeNode(m,L):this.markElementAsRemoved(p,m,!1,L),D){const ie=this.namespacesByHostElement.get(m);ie&&ie.id!==p&&ie.removeNode(m,L)}}else this._onRemovalComplete(m,L)}markElementAsRemoved(p,m,D,L,K){this.collectedLeaveElements.push(m),m[Rn]={namespaceId:p,setForRemoval:L,hasAnimation:D,removedBeforeQueried:!1,previousTriggersValues:K}}listen(p,m,D,L,K){return Jr(m)?this._fetchNamespace(p).listen(m,D,L,K):()=>{}}_buildInstruction(p,m,D,L,K){return p.transition.build(this.driver,p.element,p.fromState.value,p.toState.value,D,L,p.fromState.options,p.toState.options,m,K)}destroyInnerAnimations(p){let m=this.driver.query(p,zr,!0);m.forEach(D=>this.destroyActiveAnimationsForElement(D)),0!=this.playersByQueriedElement.size&&(m=this.driver.query(p,Y,!0),m.forEach(D=>this.finishActiveQueriedAnimationOnElement(D)))}destroyActiveAnimationsForElement(p){const m=this.playersByElement.get(p);m&&m.forEach(D=>{D.queued?D.markedForDestroy=!0:D.destroy()})}finishActiveQueriedAnimationOnElement(p){const m=this.playersByQueriedElement.get(p);m&&m.forEach(D=>D.finish())}whenRenderingDone(){return new Promise(p=>{if(this.players.length)return Fn(this.players).onDone(()=>p());p()})}processLeaveNode(p){const m=p[Rn];if(m&&m.setForRemoval){if(p[Rn]=qr,m.namespaceId){this.destroyInnerAnimations(p);const D=this._fetchNamespace(m.namespaceId);D&&D.clearElementCache(p)}this._onRemovalComplete(p,m.setForRemoval)}p.classList?.contains(Mi)&&this.markElementAsDisabled(p,!1),this.driver.query(p,".ng-animate-disabled",!0).forEach(D=>{this.markElementAsDisabled(D,!1)})}flush(p=-1){let m=[];if(this.newHostElements.size&&(this.newHostElements.forEach((D,L)=>this._balanceNamespaceList(D,L)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let D=0;D<this.collectedEnterElements.length;D++)yn(this.collectedEnterElements[D],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const D=[];try{m=this._flushAnimations(D,p)}finally{for(let L=0;L<D.length;L++)D[L]()}}else for(let D=0;D<this.collectedLeaveElements.length;D++)this.processLeaveNode(this.collectedLeaveElements[D]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(D=>D()),this._flushFns=[],this._whenQuietFns.length){const D=this._whenQuietFns;this._whenQuietFns=[],m.length?Fn(m).onDone(()=>{D.forEach(L=>L())}):D.forEach(L=>L())}}reportError(p){throw function An(P){return new T.vHH(3402,!1)}()}_flushAnimations(p,m){const D=new zi,L=[],K=new Map,ie=[],he=new Map,Ne=new Map,Ye=new Map,pt=new Set;this.disabledNodes.forEach(Nt=>{pt.add(Nt);const jt=this.driver.query(Nt,".ng-animate-queued",!0);for(let Rt=0;Rt<jt.length;Rt++)pt.add(jt[Rt])});const xt=this.bodyNode,cn=Array.from(this.statesByElement.keys()),ln=Si(cn,this.collectedEnterElements),Ht=new Map;let $t=0;ln.forEach((Nt,jt)=>{const Rt=er+$t++;Ht.set(jt,Rt),Nt.forEach(un=>yn(un,Rt))});const zn=[],Vn=new Set,Xt=new Set;for(let Nt=0;Nt<this.collectedLeaveElements.length;Nt++){const jt=this.collectedLeaveElements[Nt],Rt=jt[Rn];Rt&&Rt.setForRemoval&&(zn.push(jt),Vn.add(jt),Rt.hasAnimation?this.driver.query(jt,".ng-star-inserted",!0).forEach(un=>Vn.add(un)):Xt.add(jt))}const $r=new Map,Wr=Si(cn,Array.from(Vn));Wr.forEach((Nt,jt)=>{const Rt=Hr+$t++;$r.set(jt,Rt),Nt.forEach(un=>yn(un,Rt))}),p.push(()=>{ln.forEach((Nt,jt)=>{const Rt=Ht.get(jt);Nt.forEach(un=>Un(un,Rt))}),Wr.forEach((Nt,jt)=>{const Rt=$r.get(jt);Nt.forEach(un=>Un(un,Rt))}),zn.forEach(Nt=>{this.processLeaveNode(Nt)})});const xo=[],Ms=[];for(let Nt=this._namespaceList.length-1;Nt>=0;Nt--)this._namespaceList[Nt].drainQueuedTransitions(m).forEach(Rt=>{const un=Rt.player,ur=Rt.element;if(xo.push(un),this.collectedEnterElements.length){const b=ur[Rn];if(b&&b.setForMove){if(b.previousTriggersValues&&b.previousTriggersValues.has(Rt.triggerName)){const O=b.previousTriggersValues.get(Rt.triggerName),U=this.statesByElement.get(Rt.element);if(U&&U.has(Rt.triggerName)){const X=U.get(Rt.triggerName);X.value=O,U.set(Rt.triggerName,X)}}return void un.destroy()}}const _i=!xt||!this.driver.containsElement(xt,ur),Nr=$r.get(ur),Ni=Ht.get(ur),w=this._buildInstruction(Rt,D,Ni,Nr,_i);if(w.errors&&w.errors.length)return void Ms.push(w);if(_i)return un.onStart(()=>Ct(ur,w.fromStyles)),un.onDestroy(()=>bt(ur,w.toStyles)),void L.push(un);if(Rt.isFallbackTransition)return un.onStart(()=>Ct(ur,w.fromStyles)),un.onDestroy(()=>bt(ur,w.toStyles)),void L.push(un);const _=[];w.timelines.forEach(b=>{b.stretchStartingKeyframe=!0,this.disabledNodes.has(b.element)||_.push(b)}),w.timelines=_,D.append(ur,w.timelines),ie.push({instruction:w,player:un,element:ur}),w.queriedElements.forEach(b=>Ue(he,b,[]).push(un)),w.preStyleProps.forEach((b,O)=>{if(b.size){let U=Ne.get(O);U||Ne.set(O,U=new Set),b.forEach((X,ne)=>U.add(ne))}}),w.postStyleProps.forEach((b,O)=>{let U=Ye.get(O);U||Ye.set(O,U=new Set),b.forEach((X,ne)=>U.add(ne))})});if(Ms.length){const Nt=[];Ms.forEach(jt=>{Nt.push(function Vr(P,p){return new T.vHH(3505,!1)}())}),xo.forEach(jt=>jt.destroy()),this.reportError(Nt)}const ui=new Map,$s=new Map;ie.forEach(Nt=>{const jt=Nt.element;D.has(jt)&&($s.set(jt,jt),this._beforeAnimationBuild(Nt.player.namespaceId,Nt.instruction,ui))}),L.forEach(Nt=>{const jt=Nt.element;this._getPreviousPlayers(jt,!1,Nt.namespaceId,Nt.triggerName,null).forEach(un=>{Ue(ui,jt,[]).push(un),un.destroy()})});const gr=zn.filter(Nt=>Be(Nt,Ne,Ye)),kn=new Map;Gt(kn,this.driver,Xt,Ye,Ce.l3).forEach(Nt=>{Be(Nt,Ne,Ye)&&gr.push(Nt)});const Ro=new Map;ln.forEach((Nt,jt)=>{Gt(Ro,this.driver,new Set(Nt),Ne,Ce.k1)}),gr.forEach(Nt=>{const jt=kn.get(Nt),Rt=Ro.get(Nt);kn.set(Nt,new Map([...Array.from(jt?.entries()??[]),...Array.from(Rt?.entries()??[])]))});const Zn=[],rs=[],Do={};ie.forEach(Nt=>{const{element:jt,player:Rt,instruction:un}=Nt;if(D.has(jt)){if(pt.has(jt))return Rt.onDestroy(()=>bt(jt,un.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(un.totalTime),void L.push(Rt);let ur=Do;if($s.size>1){let Nr=jt;const Ni=[];for(;Nr=Nr.parentNode;){const w=$s.get(Nr);if(w){ur=w;break}Ni.push(Nr)}Ni.forEach(w=>$s.set(w,ur))}const _i=this._buildAnimation(Rt.namespaceId,un,ui,K,Ro,kn);if(Rt.setRealPlayer(_i),ur===Do)Zn.push(Rt);else{const Nr=this.playersByElement.get(ur);Nr&&Nr.length&&(Rt.parentPlayer=Fn(Nr)),L.push(Rt)}}else Ct(jt,un.fromStyles),Rt.onDestroy(()=>bt(jt,un.toStyles)),rs.push(Rt),pt.has(jt)&&L.push(Rt)}),rs.forEach(Nt=>{const jt=K.get(Nt.element);if(jt&&jt.length){const Rt=Fn(jt);Nt.setRealPlayer(Rt)}}),L.forEach(Nt=>{Nt.parentPlayer?Nt.syncPlayerEvents(Nt.parentPlayer):Nt.destroy()});for(let Nt=0;Nt<zn.length;Nt++){const jt=zn[Nt],Rt=jt[Rn];if(Un(jt,Hr),Rt&&Rt.hasAnimation)continue;let un=[];if(he.size){let _i=he.get(jt);_i&&_i.length&&un.push(..._i);let Nr=this.driver.query(jt,Y,!0);for(let Ni=0;Ni<Nr.length;Ni++){let w=he.get(Nr[Ni]);w&&w.length&&un.push(...w)}}const ur=un.filter(_i=>!_i.destroyed);ur.length?N(this,jt,ur):this.processLeaveNode(jt)}return zn.length=0,Zn.forEach(Nt=>{this.players.push(Nt),Nt.onDone(()=>{Nt.destroy();const jt=this.players.indexOf(Nt);this.players.splice(jt,1)}),Nt.play()}),Zn}elementContainsData(p,m){let D=!1;const L=m[Rn];return L&&L.setForRemoval&&(D=!0),this.playersByElement.has(m)&&(D=!0),this.playersByQueriedElement.has(m)&&(D=!0),this.statesByElement.has(m)&&(D=!0),this._fetchNamespace(p).elementContainsData(m)||D}afterFlush(p){this._flushFns.push(p)}afterFlushAnimationsDone(p){this._whenQuietFns.push(p)}_getPreviousPlayers(p,m,D,L,K){let ie=[];if(m){const he=this.playersByQueriedElement.get(p);he&&(ie=he)}else{const he=this.playersByElement.get(p);if(he){const Ne=!K||K==Ot;he.forEach(Ye=>{Ye.queued||!Ne&&Ye.triggerName!=L||ie.push(Ye)})}}return(D||L)&&(ie=ie.filter(he=>!(D&&D!=he.namespaceId||L&&L!=he.triggerName))),ie}_beforeAnimationBuild(p,m,D){const K=m.element,ie=m.isRemovalTransition?void 0:p,he=m.isRemovalTransition?void 0:m.triggerName;for(const Ne of m.timelines){const Ye=Ne.element,pt=Ye!==K,xt=Ue(D,Ye,[]);this._getPreviousPlayers(Ye,pt,ie,he,m.toState).forEach(ln=>{const Ht=ln.getRealPlayer();Ht.beforeDestroy&&Ht.beforeDestroy(),ln.destroy(),xt.push(ln)})}Ct(K,m.fromStyles)}_buildAnimation(p,m,D,L,K,ie){const he=m.triggerName,Ne=m.element,Ye=[],pt=new Set,xt=new Set,cn=m.timelines.map(Ht=>{const $t=Ht.element;pt.add($t);const zn=$t[Rn];if(zn&&zn.removedBeforeQueried)return new Ce.ZN(Ht.duration,Ht.delay);const Vn=$t!==Ne,Xt=function I(P){const p=[];return S(P,p),p}((D.get($t)||li).map(ui=>ui.getRealPlayer())).filter(ui=>!!ui.element&&ui.element===$t),$r=K.get($t),Wr=ie.get($t),xo=Ln(0,this._normalizer,0,Ht.keyframes,$r,Wr),Ms=this._buildPlayer(Ht,xo,Xt);if(Ht.subTimeline&&L&&xt.add($t),Vn){const ui=new Ar(p,he,$t);ui.setRealPlayer(Ms),Ye.push(ui)}return Ms});Ye.forEach(Ht=>{Ue(this.playersByQueriedElement,Ht.element,[]).push(Ht),Ht.onDone(()=>function cs(P,p,m){let D=P.get(p);if(D){if(D.length){const L=D.indexOf(m);D.splice(L,1)}0==D.length&&P.delete(p)}return D}(this.playersByQueriedElement,Ht.element,Ht))}),pt.forEach(Ht=>yn(Ht,H));const ln=Fn(cn);return ln.onDestroy(()=>{pt.forEach(Ht=>Un(Ht,H)),bt(Ne,m.toStyles)}),xt.forEach(Ht=>{Ue(L,Ht,[]).push(ln)}),ln}_buildPlayer(p,m,D){return m.length>0?this.driver.animate(p.element,m,p.duration,p.delay,p.easing,D):new Ce.ZN(p.duration,p.delay)}}class Ar{constructor(p,m,D){this.namespaceId=p,this.triggerName=m,this.element=D,this._player=new Ce.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(p){this._containsRealPlayer||(this._player=p,this._queuedCallbacks.forEach((m,D)=>{m.forEach(L=>yr(p,D,void 0,L))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(p.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(p){this.totalTime=p}syncPlayerEvents(p){const m=this._player;m.triggerCallback&&p.onStart(()=>m.triggerCallback("start")),p.onDone(()=>this.finish()),p.onDestroy(()=>this.destroy())}_queueEvent(p,m){Ue(this._queuedCallbacks,p,[]).push(m)}onDone(p){this.queued&&this._queueEvent("done",p),this._player.onDone(p)}onStart(p){this.queued&&this._queueEvent("start",p),this._player.onStart(p)}onDestroy(p){this.queued&&this._queueEvent("destroy",p),this._player.onDestroy(p)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(p){const m=this._player;m.triggerCallback&&m.triggerCallback(p)}}function Jr(P){return P&&1===P.nodeType}function qe(P,p){const m=P.style.display;return P.style.display=p??"none",m}function Gt(P,p,m,D,L){const K=[];m.forEach(Ne=>K.push(qe(Ne)));const ie=[];D.forEach((Ne,Ye)=>{const pt=new Map;Ne.forEach(xt=>{const cn=p.computeStyle(Ye,xt,L);pt.set(xt,cn),(!cn||0==cn.length)&&(Ye[Rn]=Fr,ie.push(Ye))}),P.set(Ye,pt)});let he=0;return m.forEach(Ne=>qe(Ne,K[he++])),ie}function Si(P,p){const m=new Map;if(P.forEach(he=>m.set(he,[])),0==p.length)return m;const L=new Set(p),K=new Map;function ie(he){if(!he)return 1;let Ne=K.get(he);if(Ne)return Ne;const Ye=he.parentNode;return Ne=m.has(Ye)?Ye:L.has(Ye)?1:ie(Ye),K.set(he,Ne),Ne}return p.forEach(he=>{const Ne=ie(he);1!==Ne&&m.get(Ne).push(he)}),m}function yn(P,p){P.classList?.add(p)}function Un(P,p){P.classList?.remove(p)}function N(P,p,m){Fn(m).onDone(()=>P.processLeaveNode(p))}function S(P,p){for(let m=0;m<P.length;m++){const D=P[m];D instanceof Ce.ZE?S(D.players,p):p.push(D)}}function Be(P,p,m){const D=m.get(P);if(!D)return!1;let L=p.get(P);return L?D.forEach(K=>L.add(K)):p.set(P,D),m.delete(P),!0}class Et{constructor(p,m,D){this.bodyNode=p,this._driver=m,this._normalizer=D,this._triggerCache={},this.onRemovalComplete=(L,K)=>{},this._transitionEngine=new ls(p,m,D),this._timelineEngine=new xr(p,m,D),this._transitionEngine.onRemovalComplete=(L,K)=>this.onRemovalComplete(L,K)}registerTrigger(p,m,D,L,K){const ie=p+"-"+L;let he=this._triggerCache[ie];if(!he){const Ne=[],pt=ws(this._driver,K,Ne,[]);if(Ne.length)throw function tt(P,p){return new T.vHH(3404,!1)}();he=function Cr(P,p,m){return new Fs(P,p,m)}(L,pt,this._normalizer),this._triggerCache[ie]=he}this._transitionEngine.registerTrigger(m,L,he)}register(p,m){this._transitionEngine.register(p,m)}destroy(p,m){this._transitionEngine.destroy(p,m)}onInsert(p,m,D,L){this._transitionEngine.insertNode(p,m,D,L)}onRemove(p,m,D,L){this._transitionEngine.removeNode(p,m,L||!1,D)}disableAnimations(p,m){this._transitionEngine.markElementAsDisabled(p,m)}process(p,m,D,L){if("@"==D.charAt(0)){const[K,ie]=de(D);this._timelineEngine.command(K,m,ie,L)}else this._transitionEngine.trigger(p,m,D,L)}listen(p,m,D,L,K){if("@"==D.charAt(0)){const[ie,he]=de(D);return this._timelineEngine.listen(ie,m,he,K)}return this._transitionEngine.listen(p,m,D,L,K)}flush(p=-1){this._transitionEngine.flush(p)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let pr=(()=>{class P{constructor(m,D,L){this._element=m,this._startStyles=D,this._endStyles=L,this._state=0;let K=P.initialStylesByElement.get(m);K||P.initialStylesByElement.set(m,K=new Map),this._initialStyles=K}start(){this._state<1&&(this._startStyles&&bt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bt(this._element,this._initialStyles),this._endStyles&&(bt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(P.initialStylesByElement.delete(this._element),this._startStyles&&(Ct(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ct(this._element,this._endStyles),this._endStyles=null),bt(this._element,this._initialStyles),this._state=3)}}return P.initialStylesByElement=new WeakMap,P})();function Lr(P){let p=null;return P.forEach((m,D)=>{(function En(P){return"display"===P||"position"===P})(D)&&(p=p||new Map,p.set(D,m))}),p}class ci{constructor(p,m,D,L){this.element=p,this.keyframes=m,this.options=D,this._specialStyles=L,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=D.duration,this._delay=D.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const p=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,p,this.options),this._finalKeyframe=p.length?p[p.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(p){const m=[];return p.forEach(D=>{m.push(Object.fromEntries(D))}),m}_triggerWebAnimation(p,m,D){return p.animate(this._convertKeyframesToObject(m),D)}onStart(p){this._originalOnStartFns.push(p),this._onStartFns.push(p)}onDone(p){this._originalOnDoneFns.push(p),this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(p=>p()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}setPosition(p){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const p=new Map;this.hasStarted()&&this._finalKeyframe.forEach((D,L)=>{"offset"!==L&&p.set(L,this._finished?D:xn(this.element,L))}),this.currentSnapshot=p}triggerCallback(p){const m="start"===p?this._onStartFns:this._onDoneFns;m.forEach(D=>D()),m.length=0}}class Bs{validateStyleProperty(p){return!0}validateAnimatableStyleProperty(p){return!0}matchesElement(p,m){return!1}containsElement(p,m){return Kt(p,m)}getParentElement(p){return It(p)}query(p,m,D){return on(p,m,D)}computeStyle(p,m,D){return window.getComputedStyle(p)[m]}animate(p,m,D,L,K,ie=[]){const Ne={duration:D,delay:L,fill:0==L?"both":"forwards"};K&&(Ne.easing=K);const Ye=new Map,pt=ie.filter(ln=>ln instanceof ci);(function ar(P,p){return 0===P||0===p})(D,L)&&pt.forEach(ln=>{ln.currentSnapshot.forEach((Ht,$t)=>Ye.set($t,Ht))});let xt=function z(P){return P.length?P[0]instanceof Map?P:P.map(p=>q(p)):[]}(m).map(ln=>Ae(ln));xt=function Ci(P,p,m){if(m.size&&p.length){let D=p[0],L=[];if(m.forEach((K,ie)=>{D.has(ie)||L.push(ie),D.set(ie,K)}),L.length)for(let K=1;K<p.length;K++){let ie=p[K];L.forEach(he=>ie.set(he,xn(P,he)))}}return p}(p,xt,Ye);const cn=function sr(P,p){let m=null,D=null;return Array.isArray(p)&&p.length?(m=Lr(p[0]),p.length>1&&(D=Lr(p[p.length-1]))):p instanceof Map&&(m=Lr(p)),m||D?new pr(P,m,D):null}(p,xt);return new ci(p,xt,Ne,cn)}}let _s=(()=>{class P extends Ce._j{constructor(m,D){super(),this._nextAnimationId=0,this._renderer=m.createRenderer(D.body,{id:"0",encapsulation:T.ifc.None,styles:[],data:{animation:[]}})}build(m){const D=this._nextAnimationId.toString();this._nextAnimationId++;const L=Array.isArray(m)?(0,Ce.vP)(m):m;return vo(this._renderer,null,D,"register",[L]),new Ti(D,this._renderer)}}return P.\u0275fac=function(m){return new(m||P)(T.LFG(T.FYo),T.LFG(Z.K0))},P.\u0275prov=T.Yz7({token:P,factory:P.\u0275fac}),P})();class Ti extends Ce.LC{constructor(p,m){super(),this._id=p,this._renderer=m}create(p,m){return new Cs(this._id,p,m||{},this._renderer)}}class Cs{constructor(p,m,D,L){this.id=p,this.element=m,this._renderer=L,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",D)}_listen(p,m){return this._renderer.listen(this.element,`@@${this.id}:${p}`,m)}_command(p,...m){return vo(this._renderer,this.element,this.id,p,m)}onDone(p){this._listen("done",p)}onStart(p){this._listen("start",p)}onDestroy(p){this._listen("destroy",p)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(p){this._command("setPosition",p)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vo(P,p,m,D,L){return P.setProperty(p,`@@${m}:${D}`,L)}const Ao="@.disabled";let Hs=(()=>{class P{constructor(m,D,L){this.delegate=m,this.engine=D,this._zone=L,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),D.onRemovalComplete=(K,ie)=>{const he=ie?.parentNode(K);he&&ie.removeChild(he,K)}}createRenderer(m,D){const K=this.delegate.createRenderer(m,D);if(!(m&&D&&D.data&&D.data.animation)){let pt=this._rendererCache.get(K);return pt||(pt=new xs("",K,this.engine),this._rendererCache.set(K,pt)),pt}const ie=D.id,he=D.id+"-"+this._currentId;this._currentId++,this.engine.register(he,m);const Ne=pt=>{Array.isArray(pt)?pt.forEach(Ne):this.engine.registerTrigger(ie,he,m,pt.name,pt)};return D.data.animation.forEach(Ne),new Io(this,he,K,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(m,D,L){m>=0&&m<this._microtaskId?this._zone.run(()=>D(L)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(K=>{const[ie,he]=K;ie(he)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([D,L]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return P.\u0275fac=function(m){return new(m||P)(T.LFG(T.FYo),T.LFG(Et),T.LFG(T.R0b))},P.\u0275prov=T.Yz7({token:P,factory:P.\u0275fac}),P})();class xs{constructor(p,m,D){this.namespaceId=p,this.delegate=m,this.engine=D,this.destroyNode=this.delegate.destroyNode?L=>m.destroyNode(L):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(p,m){return this.delegate.createElement(p,m)}createComment(p){return this.delegate.createComment(p)}createText(p){return this.delegate.createText(p)}appendChild(p,m){this.delegate.appendChild(p,m),this.engine.onInsert(this.namespaceId,m,p,!1)}insertBefore(p,m,D,L=!0){this.delegate.insertBefore(p,m,D),this.engine.onInsert(this.namespaceId,m,p,L)}removeChild(p,m,D){this.engine.onRemove(this.namespaceId,m,this.delegate,D)}selectRootElement(p,m){return this.delegate.selectRootElement(p,m)}parentNode(p){return this.delegate.parentNode(p)}nextSibling(p){return this.delegate.nextSibling(p)}setAttribute(p,m,D,L){this.delegate.setAttribute(p,m,D,L)}removeAttribute(p,m,D){this.delegate.removeAttribute(p,m,D)}addClass(p,m){this.delegate.addClass(p,m)}removeClass(p,m){this.delegate.removeClass(p,m)}setStyle(p,m,D,L){this.delegate.setStyle(p,m,D,L)}removeStyle(p,m,D){this.delegate.removeStyle(p,m,D)}setProperty(p,m,D){"@"==m.charAt(0)&&m==Ao?this.disableAnimations(p,!!D):this.delegate.setProperty(p,m,D)}setValue(p,m){this.delegate.setValue(p,m)}listen(p,m,D){return this.delegate.listen(p,m,D)}disableAnimations(p,m){this.engine.disableAnimations(p,m)}}class Io extends xs{constructor(p,m,D,L){super(m,D,L),this.factory=p,this.namespaceId=m}setProperty(p,m,D){"@"==m.charAt(0)?"."==m.charAt(1)&&m==Ao?this.disableAnimations(p,D=void 0===D||!!D):this.engine.process(this.namespaceId,p,m.slice(1),D):this.delegate.setProperty(p,m,D)}listen(p,m,D){if("@"==m.charAt(0)){const L=function Ds(P){switch(P){case"body":return document.body;case"document":return document;case"window":return window;default:return P}}(p);let K=m.slice(1),ie="";return"@"!=K.charAt(0)&&([K,ie]=function Js(P){const p=P.indexOf(".");return[P.substring(0,p),P.slice(p+1)]}(K)),this.engine.listen(this.namespaceId,L,K,ie,he=>{this.factory.scheduleListenerCallback(he._data||-1,D,he)})}return this.delegate.listen(p,m,D)}}const Xs=[{provide:Ce._j,useClass:_s},{provide:Qi,useFactory:function Qr(){return new Ps}},{provide:Et,useClass:(()=>{class P extends Et{constructor(m,D,L,K){super(m.body,D,L)}ngOnDestroy(){this.flush()}}return P.\u0275fac=function(m){return new(m||P)(T.LFG(Z.K0),T.LFG(Nn),T.LFG(Qi),T.LFG(T.z2F))},P.\u0275prov=T.Yz7({token:P,factory:P.\u0275fac}),P})()},{provide:T.FYo,useFactory:function Oo(P,p,m){return new Hs(P,p,m)},deps:[d.se,Et,T.R0b]}],ts=[{provide:Nn,useFactory:()=>new Bs},{provide:T.QbO,useValue:"BrowserAnimations"},...Xs],E=[{provide:Nn,useClass:Bn},{provide:T.QbO,useValue:"NoopAnimations"},...Xs];let B=(()=>{class P{static withConfig(m){return{ngModule:P,providers:m.disableAnimations?E:ts}}}return P.\u0275fac=function(m){return new(m||P)},P.\u0275mod=T.oAB({type:P}),P.\u0275inj=T.cJS({providers:ts,imports:[d.b2]}),P})();var ke=F(2642),ze=F(6323),wt=F(529),_n=F(3);let nn=(()=>{class P{constructor(m){this.authService=m,console.log(this.authService.getToken())}intercept(m,D){return m=this.authService.getToken()?m.clone({setHeaders:{Authorization:`token ${this.authService.getToken()}`}}):m.clone({setHeaders:{Authorization:`Bearer ${this.authService.getToken()}`}}),D.handle(m)}}return P.\u0275fac=function(m){return new(m||P)(T.LFG(_n.u))},P.\u0275prov=T.Yz7({token:P,factory:P.\u0275fac}),P})();var bn=F(7185),Jt=F(4006);let vi=(()=>{class P{}return P.\u0275fac=function(m){return new(m||P)},P.\u0275mod=T.oAB({type:P}),P.\u0275inj=T.cJS({imports:[Jt.u5]}),P})();var cr=F(5869),Ir=F(9770),Ai=F(2843),Or=F(4968),wi=F(9646),wo=F(7272),eo=F(7579),$i=F(9751),Wi=F(5032);const Ii=new $i.y(Wi.Z);var Wo=F(6451),us=F(4004),Oi=F(9300),Us=F(3900),Go=F(4033),to=F(576),Yo=F(8421),Ko=F(4482);const _o={connector:()=>new eo.x};function ds(P,p=_o){const{connector:m}=p;return(0,Ko.e)((D,L)=>{const K=m();(0,Yo.Xf)(P(function bs(P){return new $i.y(p=>P.subscribe(p))}(K))).subscribe(L),L.add(D.subscribe(K))})}var Es=F(5698),ns=F(8505),qo=F(1005);const ro="Service workers are disabled or not supported by this browser";class io{constructor(p){if(this.serviceWorker=p,p){const D=(0,Or.R)(p,"controllerchange").pipe((0,us.U)(()=>p.controller)),L=(0,Ir.P)(()=>(0,wi.of)(p.controller)),K=(0,wo.z)(L,D);this.worker=K.pipe((0,Oi.h)(pt=>!!pt)),this.registration=this.worker.pipe((0,Us.w)(()=>p.getRegistration()));const Ye=(0,Or.R)(p,"message").pipe((0,us.U)(pt=>pt.data)).pipe((0,Oi.h)(pt=>pt&&pt.type)).pipe(function no(P){return P?p=>ds(P)(p):p=>function zs(P,p){const m=(0,to.m)(P)?P:()=>P;return(0,to.m)(p)?ds(p,{connector:m}):D=>new Go.c(D,m)}(new eo.x)(p)}());Ye.connect(),this.events=Ye}else this.worker=this.events=this.registration=function Xr(P){return(0,Ir.P)(()=>(0,Ai._)(new Error(P)))}(ro)}postMessage(p,m){return this.worker.pipe((0,Es.q)(1),(0,ns.b)(D=>{D.postMessage({action:p,...m})})).toPromise().then(()=>{})}postMessageWithOperation(p,m,D){const L=this.waitForOperationCompleted(D),K=this.postMessage(p,m);return Promise.all([K,L]).then(([,ie])=>ie)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(p){let m;return m="string"==typeof p?D=>D.type===p:D=>p.includes(D.type),this.events.pipe((0,Oi.h)(m))}nextEventOfType(p){return this.eventsOfType(p).pipe((0,Es.q)(1))}waitForOperationCompleted(p){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Oi.h)(m=>m.nonce===p),(0,Es.q)(1),(0,us.U)(m=>{if(void 0!==m.result)return m.result;throw new Error(m.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let js=(()=>{class P{constructor(m){if(this.sw=m,this.subscriptionChanges=new eo.x,!m.isEnabled)return this.messages=Ii,this.notificationClicks=Ii,void(this.subscription=Ii);this.messages=this.sw.eventsOfType("PUSH").pipe((0,us.U)(L=>L.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,us.U)(L=>L.data)),this.pushManager=this.sw.registration.pipe((0,us.U)(L=>L.pushManager));const D=this.pushManager.pipe((0,Us.w)(L=>L.getSubscription()));this.subscription=(0,Wo.T)(D,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(m){if(!this.sw.isEnabled)return Promise.reject(new Error(ro));const D={userVisibleOnly:!0};let L=this.decodeBase64(m.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),K=new Uint8Array(new ArrayBuffer(L.length));for(let ie=0;ie<L.length;ie++)K[ie]=L.charCodeAt(ie);return D.applicationServerKey=K,this.pushManager.pipe((0,Us.w)(ie=>ie.subscribe(D)),(0,Es.q)(1)).toPromise().then(ie=>(this.subscriptionChanges.next(ie),ie))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Es.q)(1),(0,Us.w)(D=>{if(null===D)throw new Error("Not subscribed to push notifications.");return D.unsubscribe().then(L=>{if(!L)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ro))}decodeBase64(m){return atob(m)}}return P.\u0275fac=function(m){return new(m||P)(T.LFG(io))},P.\u0275prov=T.Yz7({token:P,factory:P.\u0275fac}),P})(),Co=(()=>{class P{constructor(m){if(this.sw=m,!m.isEnabled)return this.versionUpdates=Ii,this.available=Ii,this.activated=Ii,void(this.unrecoverable=Ii);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Oi.h)(D=>"VERSION_READY"===D.type),(0,us.U)(D=>({type:"UPDATE_AVAILABLE",current:D.currentVersion,available:D.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ro));const m=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:m},m)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ro));const m=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:m},m)}}return P.\u0275fac=function(m){return new(m||P)(T.LFG(io))},P.\u0275prov=T.Yz7({token:P,factory:P.\u0275fac}),P})();class so{}const oo=new T.OlP("NGSW_REGISTER_SCRIPT");function hs(P,p,m,D){return()=>{if(!(0,Z.NF)(D)||!("serviceWorker"in navigator)||!1===m.enabled)return;let L;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof m.registrationStrategy)L=m.registrationStrategy();else{const[ie,...he]=(m.registrationStrategy||"registerWhenStable:30000").split(":");switch(ie){case"registerImmediately":L=(0,wi.of)(null);break;case"registerWithDelay":L=Zo(+he[0]||0);break;case"registerWhenStable":L=he[0]?(0,Wo.T)(No(P),Zo(+he[0])):No(P);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${m.registrationStrategy}`)}}P.get(T.R0b).runOutsideAngular(()=>L.pipe((0,Es.q)(1)).subscribe(()=>navigator.serviceWorker.register(p,{scope:m.scope}).catch(ie=>console.error("Service worker registration failed with:",ie))))}}function Zo(P){return(0,wi.of)(null).pipe((0,qo.g)(P))}function No(P){return P.get(T.z2F).isStable.pipe((0,Oi.h)(m=>m))}function ca(P,p){return new io((0,Z.NF)(p)&&!1!==P.enabled?navigator.serviceWorker:void 0)}let Po=(()=>{class P{static register(m,D={}){return{ngModule:P,providers:[{provide:oo,useValue:m},{provide:so,useValue:D},{provide:io,useFactory:ca,deps:[so,T.Lbi]},{provide:T.ip1,useFactory:hs,deps:[T.zs3,oo,so,T.Lbi],multi:!0}]}}}return P.\u0275fac=function(m){return new(m||P)},P.\u0275mod=T.oAB({type:P}),P.\u0275inj=T.cJS({providers:[js,Co]}),P})();var fs=F(2340),Jo=F(3189);const qn={Layers:ke.S9g};let ps=(()=>{class P{}return P.\u0275fac=function(m){return new(m||P)},P.\u0275mod=T.oAB({type:P,bootstrap:[ue]}),P.\u0275inj=T.cJS({providers:[{provide:wt.TP,useClass:nn,multi:!0}],imports:[d.b2,pe,wt.JF,se.Xd,B,ze.p.pick(qn),bn.Rh.forRoot(),vi,Jt.u5,Jt.UX,cr.FP,Jo.h,Po.register("ngsw-worker.js",{enabled:fs.N.production,registrationStrategy:"registerWhenStable:30000"}),ze.p]}),P})();fs.N.production&&(0,T.G48)(),d.q6().bootstrapModule(ps).catch(P=>console.error(P))},3189:(yt,Ie,F)=>{F.d(Ie,{h:()=>se});var d=F(4650);let se=(()=>{class le{}return le.\u0275fac=function(pe){return new(pe||le)},le.\u0275mod=d.oAB({type:le}),le.\u0275inj=d.cJS({}),le})()},4841:(yt,Ie,F)=>{F.d(Ie,{op:()=>Bn,Vv:()=>Hr,Xd:()=>zr});var d=F(7579),T=F(4968),se=F(6451),le=F(3601),ye=F(2722),pe=F(1884),ce=F(9718),Z=F(4650),ge=F(6895);function we(H){return getComputedStyle(H)}function be(H,Y){for(var J in Y){var De=Y[J];"number"==typeof De&&(De+="px"),H.style[J]=De}return H}function Te(H){var Y=document.createElement("div");return Y.className=H,Y}var et=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function ue(H,Y){if(!et)throw new Error("No element matching method supported");return et.call(H,Y)}function Ce(H){H.remove?H.remove():H.parentNode&&H.parentNode.removeChild(H)}function lt(H,Y){return Array.prototype.filter.call(H.children,function(J){return ue(J,Y)})}var Ee_element_thumb=function(H){return"ps__thumb-"+H},Ee_element_rail=function(H){return"ps__rail-"+H},Ee_element_consuming="ps__child--consume",Ee_state_focus="ps--focus",Ee_state_clicking="ps--clicking",Ee_state_active=function(H){return"ps--active-"+H},Ee_state_scrolling=function(H){return"ps--scrolling-"+H},Pe={x:null,y:null};function Tt(H,Y){var J=H.element.classList,De=Ee_state_scrolling(Y);J.contains(De)?clearTimeout(Pe[Y]):J.add(De)}function Xe(H,Y){Pe[Y]=setTimeout(function(){return H.isAlive&&H.element.classList.remove(Ee_state_scrolling(Y))},H.settings.scrollingThreshold)}var ve=function(Y){this.element=Y,this.handlers={}},Qe={isEmpty:{configurable:!0}};ve.prototype.bind=function(Y,J){typeof this.handlers[Y]>"u"&&(this.handlers[Y]=[]),this.handlers[Y].push(J),this.element.addEventListener(Y,J,!1)},ve.prototype.unbind=function(Y,J){var De=this;this.handlers[Y]=this.handlers[Y].filter(function(Fe){return!(!J||Fe===J)||(De.element.removeEventListener(Y,Fe,!1),!1)})},ve.prototype.unbindAll=function(){for(var Y in this.handlers)this.unbind(Y)},Qe.isEmpty.get=function(){var H=this;return Object.keys(this.handlers).every(function(Y){return 0===H.handlers[Y].length})},Object.defineProperties(ve.prototype,Qe);var _t=function(){this.eventElements=[]};function ft(H){if("function"==typeof window.CustomEvent)return new CustomEvent(H);var Y=document.createEvent("CustomEvent");return Y.initCustomEvent(H,!1,!1,void 0),Y}function ut(H,Y,J,De,Fe){var nt;if(void 0===De&&(De=!0),void 0===Fe&&(Fe=!1),"top"===Y)nt=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==Y)throw new Error("A proper axis should be provided");nt=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function ct(H,Y,J,De,Fe){var nt=J[0],G=J[1],q=J[2],z=J[3],oe=J[4],Ae=J[5];void 0===De&&(De=!0),void 0===Fe&&(Fe=!1);var Ke=H.element;H.reach[z]=null,Ke[q]<1&&(H.reach[z]="start"),Ke[q]>H[nt]-H[G]-1&&(H.reach[z]="end"),Y&&(Ke.dispatchEvent(ft("ps-scroll-"+z)),Y<0?Ke.dispatchEvent(ft("ps-scroll-"+oe)):Y>0&&Ke.dispatchEvent(ft("ps-scroll-"+Ae)),De&&function We(H,Y){Tt(H,Y),Xe(H,Y)}(H,z)),H.reach[z]&&(Y||Fe)&&Ke.dispatchEvent(ft("ps-"+z+"-reach-"+H.reach[z]))}(H,J,nt,De,Fe)}function _e(H){return parseInt(H,10)||0}_t.prototype.eventElement=function(Y){var J=this.eventElements.filter(function(De){return De.element===Y})[0];return J||(J=new ve(Y),this.eventElements.push(J)),J},_t.prototype.bind=function(Y,J,De){this.eventElement(Y).bind(J,De)},_t.prototype.unbind=function(Y,J,De){var Fe=this.eventElement(Y);Fe.unbind(J,De),Fe.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(Fe),1)},_t.prototype.unbindAll=function(){this.eventElements.forEach(function(Y){return Y.unbindAll()}),this.eventElements=[]},_t.prototype.once=function(Y,J,De){var Fe=this.eventElement(Y),nt=function(G){Fe.unbind(J,nt),De(G)};Fe.bind(J,nt)};var Me={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function it(H){var Y=H.element,J=Math.floor(Y.scrollTop),De=Y.getBoundingClientRect();H.containerWidth=Math.ceil(De.width),H.containerHeight=Math.ceil(De.height),H.contentWidth=Y.scrollWidth,H.contentHeight=Y.scrollHeight,Y.contains(H.scrollbarXRail)||(lt(Y,Ee_element_rail("x")).forEach(function(Fe){return Ce(Fe)}),Y.appendChild(H.scrollbarXRail)),Y.contains(H.scrollbarYRail)||(lt(Y,Ee_element_rail("y")).forEach(function(Fe){return Ce(Fe)}),Y.appendChild(H.scrollbarYRail)),!H.settings.suppressScrollX&&H.containerWidth+H.settings.scrollXMarginOffset<H.contentWidth?(H.scrollbarXActive=!0,H.railXWidth=H.containerWidth-H.railXMarginWidth,H.railXRatio=H.containerWidth/H.railXWidth,H.scrollbarXWidth=at(H,_e(H.railXWidth*H.containerWidth/H.contentWidth)),H.scrollbarXLeft=_e((H.negativeScrollAdjustment+Y.scrollLeft)*(H.railXWidth-H.scrollbarXWidth)/(H.contentWidth-H.containerWidth))):H.scrollbarXActive=!1,!H.settings.suppressScrollY&&H.containerHeight+H.settings.scrollYMarginOffset<H.contentHeight?(H.scrollbarYActive=!0,H.railYHeight=H.containerHeight-H.railYMarginHeight,H.railYRatio=H.containerHeight/H.railYHeight,H.scrollbarYHeight=at(H,_e(H.railYHeight*H.containerHeight/H.contentHeight)),H.scrollbarYTop=_e(J*(H.railYHeight-H.scrollbarYHeight)/(H.contentHeight-H.containerHeight))):H.scrollbarYActive=!1,H.scrollbarXLeft>=H.railXWidth-H.scrollbarXWidth&&(H.scrollbarXLeft=H.railXWidth-H.scrollbarXWidth),H.scrollbarYTop>=H.railYHeight-H.scrollbarYHeight&&(H.scrollbarYTop=H.railYHeight-H.scrollbarYHeight),function Lt(H,Y){var J={width:Y.railXWidth},De=Math.floor(H.scrollTop);J.left=Y.isRtl?Y.negativeScrollAdjustment+H.scrollLeft+Y.containerWidth-Y.contentWidth:H.scrollLeft,Y.isScrollbarXUsingBottom?J.bottom=Y.scrollbarXBottom-De:J.top=Y.scrollbarXTop+De,be(Y.scrollbarXRail,J);var Fe={top:De,height:Y.railYHeight};Y.isScrollbarYUsingRight?Fe.right=Y.isRtl?Y.contentWidth-(Y.negativeScrollAdjustment+H.scrollLeft)-Y.scrollbarYRight-Y.scrollbarYOuterWidth-9:Y.scrollbarYRight-H.scrollLeft:Fe.left=Y.isRtl?Y.negativeScrollAdjustment+H.scrollLeft+2*Y.containerWidth-Y.contentWidth-Y.scrollbarYLeft-Y.scrollbarYOuterWidth:Y.scrollbarYLeft+H.scrollLeft,be(Y.scrollbarYRail,Fe),be(Y.scrollbarX,{left:Y.scrollbarXLeft,width:Y.scrollbarXWidth-Y.railBorderXWidth}),be(Y.scrollbarY,{top:Y.scrollbarYTop,height:Y.scrollbarYHeight-Y.railBorderYWidth})}(Y,H),H.scrollbarXActive?Y.classList.add(Ee_state_active("x")):(Y.classList.remove(Ee_state_active("x")),H.scrollbarXWidth=0,H.scrollbarXLeft=0,Y.scrollLeft=!0===H.isRtl?H.contentWidth:0),H.scrollbarYActive?Y.classList.add(Ee_state_active("y")):(Y.classList.remove(Ee_state_active("y")),H.scrollbarYHeight=0,H.scrollbarYTop=0,Y.scrollTop=0)}function at(H,Y){return H.settings.minScrollbarLength&&(Y=Math.max(Y,H.settings.minScrollbarLength)),H.settings.maxScrollbarLength&&(Y=Math.min(Y,H.settings.maxScrollbarLength)),Y}function gt(H,Y){var J=Y[0],De=Y[1],Fe=Y[2],nt=Y[3],G=Y[4],q=Y[5],z=Y[6],oe=Y[7],Ae=Y[8],Ke=H.element,At=null,bt=null,Ct=null;function Qt(Pt){Pt.touches&&Pt.touches[0]&&(Pt[Fe]=Pt.touches[0].pageY),Ke[z]=At+Ct*(Pt[Fe]-bt),Tt(H,oe),it(H),Pt.stopPropagation(),Pt.preventDefault()}function Mt(){Xe(H,oe),H[Ae].classList.remove(Ee_state_clicking),H.event.unbind(H.ownerDocument,"mousemove",Qt)}function Bt(Pt,Sn){At=Ke[z],Sn&&Pt.touches&&(Pt[Fe]=Pt.touches[0].pageY),bt=Pt[Fe],Ct=(H[De]-H[J])/(H[nt]-H[q]),Sn?H.event.bind(H.ownerDocument,"touchmove",Qt):(H.event.bind(H.ownerDocument,"mousemove",Qt),H.event.once(H.ownerDocument,"mouseup",Mt),Pt.preventDefault()),H[Ae].classList.add(Ee_state_clicking),Pt.stopPropagation()}H.event.bind(H[G],"mousedown",function(Pt){Bt(Pt)}),H.event.bind(H[G],"touchstart",function(Pt){Bt(Pt,!0)})}var Ve={"click-rail":function sn(H){H.event.bind(H.scrollbarY,"mousedown",function(J){return J.stopPropagation()}),H.event.bind(H.scrollbarYRail,"mousedown",function(J){var De=J.pageY-window.pageYOffset-H.scrollbarYRail.getBoundingClientRect().top;H.element.scrollTop+=(De>H.scrollbarYTop?1:-1)*H.containerHeight,it(H),J.stopPropagation()}),H.event.bind(H.scrollbarX,"mousedown",function(J){return J.stopPropagation()}),H.event.bind(H.scrollbarXRail,"mousedown",function(J){var De=J.pageX-window.pageXOffset-H.scrollbarXRail.getBoundingClientRect().left;H.element.scrollLeft+=(De>H.scrollbarXLeft?1:-1)*H.containerWidth,it(H),J.stopPropagation()})},"drag-thumb":function pn(H){gt(H,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),gt(H,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function $n(H){var Y=H.element;H.event.bind(H.ownerDocument,"keydown",function(nt){if(!(nt.isDefaultPrevented&&nt.isDefaultPrevented()||nt.defaultPrevented)&&(ue(Y,":hover")||ue(H.scrollbarX,":focus")||ue(H.scrollbarY,":focus"))){var G=document.activeElement?document.activeElement:H.ownerDocument.activeElement;if(G){if("IFRAME"===G.tagName)G=G.contentDocument.activeElement;else for(;G.shadowRoot;)G=G.shadowRoot.activeElement;if(function Se(H){return ue(H,"input,[contenteditable]")||ue(H,"select,[contenteditable]")||ue(H,"textarea,[contenteditable]")||ue(H,"button,[contenteditable]")}(G))return}var q=0,z=0;switch(nt.which){case 37:q=nt.metaKey?-H.contentWidth:nt.altKey?-H.containerWidth:-30;break;case 38:z=nt.metaKey?H.contentHeight:nt.altKey?H.containerHeight:30;break;case 39:q=nt.metaKey?H.contentWidth:nt.altKey?H.containerWidth:30;break;case 40:z=nt.metaKey?-H.contentHeight:nt.altKey?-H.containerHeight:-30;break;case 32:z=nt.shiftKey?H.containerHeight:-H.containerHeight;break;case 33:z=H.containerHeight;break;case 34:z=-H.containerHeight;break;case 36:z=H.contentHeight;break;case 35:z=-H.contentHeight;break;default:return}H.settings.suppressScrollX&&0!==q||H.settings.suppressScrollY&&0!==z||(Y.scrollTop-=z,Y.scrollLeft+=q,it(H),function Fe(nt,G){var q=Math.floor(Y.scrollTop);if(0===nt){if(!H.scrollbarYActive)return!1;if(0===q&&G>0||q>=H.contentHeight-H.containerHeight&&G<0)return!H.settings.wheelPropagation}var z=Y.scrollLeft;if(0===G){if(!H.scrollbarXActive)return!1;if(0===z&&nt<0||z>=H.contentWidth-H.containerWidth&&nt>0)return!H.settings.wheelPropagation}return!0}(q,z)&&nt.preventDefault())}})},wheel:function Je(H){var Y=H.element;function nt(G){var q=function De(G){var q=G.deltaX,z=-1*G.deltaY;return(typeof q>"u"||typeof z>"u")&&(q=-1*G.wheelDeltaX/6,z=G.wheelDeltaY/6),G.deltaMode&&1===G.deltaMode&&(q*=10,z*=10),q!=q&&z!=z&&(q=0,z=G.wheelDelta),G.shiftKey?[-z,-q]:[q,z]}(G),z=q[0],oe=q[1];if(!function Fe(G,q,z){if(!Me.isWebKit&&Y.querySelector("select:focus"))return!0;if(!Y.contains(G))return!1;for(var oe=G;oe&&oe!==Y;){if(oe.classList.contains(Ee_element_consuming))return!0;var Ae=we(oe);if(z&&Ae.overflowY.match(/(scroll|auto)/)){var Ke=oe.scrollHeight-oe.clientHeight;if(Ke>0&&(oe.scrollTop>0&&z<0||oe.scrollTop<Ke&&z>0))return!0}if(q&&Ae.overflowX.match(/(scroll|auto)/)){var At=oe.scrollWidth-oe.clientWidth;if(At>0&&(oe.scrollLeft>0&&q<0||oe.scrollLeft<At&&q>0))return!0}oe=oe.parentNode}return!1}(G.target,z,oe)){var Ae=!1;H.settings.useBothWheelAxes?H.scrollbarYActive&&!H.scrollbarXActive?(oe?Y.scrollTop-=oe*H.settings.wheelSpeed:Y.scrollTop+=z*H.settings.wheelSpeed,Ae=!0):H.scrollbarXActive&&!H.scrollbarYActive&&(z?Y.scrollLeft+=z*H.settings.wheelSpeed:Y.scrollLeft-=oe*H.settings.wheelSpeed,Ae=!0):(Y.scrollTop-=oe*H.settings.wheelSpeed,Y.scrollLeft+=z*H.settings.wheelSpeed),it(H),Ae=Ae||function J(G,q){var z=Math.floor(Y.scrollTop),oe=0===Y.scrollTop,Ae=z+Y.offsetHeight===Y.scrollHeight,Ke=0===Y.scrollLeft,At=Y.scrollLeft+Y.offsetWidth===Y.scrollWidth;return!(Math.abs(q)>Math.abs(G)?oe||Ae:Ke||At)||!H.settings.wheelPropagation}(z,oe),Ae&&!G.ctrlKey&&(G.stopPropagation(),G.preventDefault())}}typeof window.onwheel<"u"?H.event.bind(Y,"wheel",nt):typeof window.onmousewheel<"u"&&H.event.bind(Y,"mousewheel",nt)},touch:function tt(H){if(Me.supportsTouch||Me.supportsIePointer){var Y=H.element,Fe={},nt=0,G={},q=null;Me.supportsTouch?(H.event.bind(Y,"touchstart",Ae),H.event.bind(Y,"touchmove",At),H.event.bind(Y,"touchend",bt)):Me.supportsIePointer&&(window.PointerEvent?(H.event.bind(Y,"pointerdown",Ae),H.event.bind(Y,"pointermove",At),H.event.bind(Y,"pointerup",bt)):window.MSPointerEvent&&(H.event.bind(Y,"MSPointerDown",Ae),H.event.bind(Y,"MSPointerMove",At),H.event.bind(Y,"MSPointerUp",bt)))}function De(Ct,Qt){Y.scrollTop-=Qt,Y.scrollLeft-=Ct,it(H)}function z(Ct){return Ct.targetTouches?Ct.targetTouches[0]:Ct}function oe(Ct){return!(Ct.pointerType&&"pen"===Ct.pointerType&&0===Ct.buttons||!(Ct.targetTouches&&1===Ct.targetTouches.length||Ct.pointerType&&"mouse"!==Ct.pointerType&&Ct.pointerType!==Ct.MSPOINTER_TYPE_MOUSE))}function Ae(Ct){if(oe(Ct)){var Qt=z(Ct);Fe.pageX=Qt.pageX,Fe.pageY=Qt.pageY,nt=(new Date).getTime(),null!==q&&clearInterval(q)}}function At(Ct){if(oe(Ct)){var Qt=z(Ct),Mt={pageX:Qt.pageX,pageY:Qt.pageY},Bt=Mt.pageX-Fe.pageX,Pt=Mt.pageY-Fe.pageY;if(function Ke(Ct,Qt,Mt){if(!Y.contains(Ct))return!1;for(var Bt=Ct;Bt&&Bt!==Y;){if(Bt.classList.contains(Ee_element_consuming))return!0;var Pt=we(Bt);if(Mt&&Pt.overflowY.match(/(scroll|auto)/)){var Sn=Bt.scrollHeight-Bt.clientHeight;if(Sn>0&&(Bt.scrollTop>0&&Mt<0||Bt.scrollTop<Sn&&Mt>0))return!0}if(Qt&&Pt.overflowX.match(/(scroll|auto)/)){var Kn=Bt.scrollWidth-Bt.clientWidth;if(Kn>0&&(Bt.scrollLeft>0&&Qt<0||Bt.scrollLeft<Kn&&Qt>0))return!0}Bt=Bt.parentNode}return!1}(Ct.target,Bt,Pt))return;De(Bt,Pt),Fe=Mt;var Sn=(new Date).getTime(),Kn=Sn-nt;Kn>0&&(G.x=Bt/Kn,G.y=Pt/Kn,nt=Sn),function J(Ct,Qt){var Mt=Math.floor(Y.scrollTop),Bt=Y.scrollLeft,Pt=Math.abs(Ct),Sn=Math.abs(Qt);if(Sn>Pt){if(Qt<0&&Mt===H.contentHeight-H.containerHeight||Qt>0&&0===Mt)return 0===window.scrollY&&Qt>0&&Me.isChrome}else if(Pt>Sn&&(Ct<0&&Bt===H.contentWidth-H.containerWidth||Ct>0&&0===Bt))return!0;return!0}(Bt,Pt)&&Ct.preventDefault()}}function bt(){H.settings.swipeEasing&&(clearInterval(q),q=setInterval(function(){H.isInitialized?clearInterval(q):G.x||G.y?Math.abs(G.x)<.01&&Math.abs(G.y)<.01?clearInterval(q):(De(30*G.x,30*G.y),G.x*=.8,G.y*=.8):clearInterval(q)},10))}}},$e=function(Y,J){var De=this;if(void 0===J&&(J={}),"string"==typeof Y&&(Y=document.querySelector(Y)),!Y||!Y.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var Fe in this.element=Y,Y.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},J)this.settings[Fe]=J[Fe];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var Ae,oe,nt=function(){return Y.classList.add(Ee_state_focus)},G=function(){return Y.classList.remove(Ee_state_focus)};this.isRtl="rtl"===we(Y).direction,!0===this.isRtl&&Y.classList.add("ps__rtl"),this.isNegativeScroll=(oe=Y.scrollLeft,Y.scrollLeft=-1,Ae=Y.scrollLeft<0,Y.scrollLeft=oe,Ae),this.negativeScrollAdjustment=this.isNegativeScroll?Y.scrollWidth-Y.clientWidth:0,this.event=new _t,this.ownerDocument=Y.ownerDocument||document,this.scrollbarXRail=Te(Ee_element_rail("x")),Y.appendChild(this.scrollbarXRail),this.scrollbarX=Te(Ee_element_thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",nt),this.event.bind(this.scrollbarX,"blur",G),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var q=we(this.scrollbarXRail);this.scrollbarXBottom=parseInt(q.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=_e(q.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=_e(q.borderLeftWidth)+_e(q.borderRightWidth),be(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=_e(q.marginLeft)+_e(q.marginRight),be(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Te(Ee_element_rail("y")),Y.appendChild(this.scrollbarYRail),this.scrollbarY=Te(Ee_element_thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",nt),this.event.bind(this.scrollbarY,"blur",G),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var z=we(this.scrollbarYRail);this.scrollbarYRight=parseInt(z.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=_e(z.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function He(H){var Y=we(H);return _e(Y.width)+_e(Y.paddingLeft)+_e(Y.paddingRight)+_e(Y.borderLeftWidth)+_e(Y.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=_e(z.borderTopWidth)+_e(z.borderBottomWidth),be(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=_e(z.marginTop)+_e(z.marginBottom),be(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:Y.scrollLeft<=0?"start":Y.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:Y.scrollTop<=0?"start":Y.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(oe){return Ve[oe](De)}),this.lastScrollTop=Math.floor(Y.scrollTop),this.lastScrollLeft=Y.scrollLeft,this.event.bind(this.element,"scroll",function(oe){return De.onScroll(oe)}),it(this)};$e.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,be(this.scrollbarXRail,{display:"block"}),be(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=_e(we(this.scrollbarXRail).marginLeft)+_e(we(this.scrollbarXRail).marginRight),this.railYMarginHeight=_e(we(this.scrollbarYRail).marginTop)+_e(we(this.scrollbarYRail).marginBottom),be(this.scrollbarXRail,{display:"none"}),be(this.scrollbarYRail,{display:"none"}),it(this),ut(this,"top",0,!1,!0),ut(this,"left",0,!1,!0),be(this.scrollbarXRail,{display:""}),be(this.scrollbarYRail,{display:""}))},$e.prototype.onScroll=function(Y){!this.isAlive||(it(this),ut(this,"top",this.element.scrollTop-this.lastScrollTop),ut(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},$e.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),Ce(this.scrollbarX),Ce(this.scrollbarY),Ce(this.scrollbarXRail),Ce(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},$e.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(Y){return!Y.match(/^ps([-_].+|)$/)}).join(" ")};const zt=$e;var Qn=function(){if(typeof Map<"u")return Map;function H(Y,J){var De=-1;return Y.some(function(Fe,nt){return Fe[0]===J&&(De=nt,!0)}),De}return function(){function Y(){this.__entries__=[]}return Object.defineProperty(Y.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),Y.prototype.get=function(J){var De=H(this.__entries__,J),Fe=this.__entries__[De];return Fe&&Fe[1]},Y.prototype.set=function(J,De){var Fe=H(this.__entries__,J);~Fe?this.__entries__[Fe][1]=De:this.__entries__.push([J,De])},Y.prototype.delete=function(J){var De=this.__entries__,Fe=H(De,J);~Fe&&De.splice(Fe,1)},Y.prototype.has=function(J){return!!~H(this.__entries__,J)},Y.prototype.clear=function(){this.__entries__.splice(0)},Y.prototype.forEach=function(J,De){void 0===De&&(De=null);for(var Fe=0,nt=this.__entries__;Fe<nt.length;Fe++){var G=nt[Fe];J.call(De,G[1],G[0])}},Y}()}(),On=typeof window<"u"&&typeof document<"u"&&window.document===document,dr=typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),Pr="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(dr):function(H){return setTimeout(function(){return H(Date.now())},1e3/60)},Vr=["top","right","bottom","left","width","height","size","weight"],Gr=typeof MutationObserver<"u",dt=function(){function H(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function An(H,Y){var J=!1,De=!1,Fe=0;function nt(){J&&(J=!1,H()),De&&q()}function G(){Pr(nt)}function q(){var z=Date.now();if(J){if(z-Fe<2)return;De=!0}else J=!0,De=!1,setTimeout(G,Y);Fe=z}return q}(this.refresh.bind(this),20)}return H.prototype.addObserver=function(Y){~this.observers_.indexOf(Y)||this.observers_.push(Y),this.connected_||this.connect_()},H.prototype.removeObserver=function(Y){var J=this.observers_,De=J.indexOf(Y);~De&&J.splice(De,1),!J.length&&this.connected_&&this.disconnect_()},H.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},H.prototype.updateObservers_=function(){var Y=this.observers_.filter(function(J){return J.gatherActive(),J.hasActive()});return Y.forEach(function(J){return J.broadcastActive()}),Y.length>0},H.prototype.connect_=function(){!On||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Gr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},H.prototype.disconnect_=function(){!On||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},H.prototype.onTransitionEnd_=function(Y){var J=Y.propertyName,De=void 0===J?"":J;Vr.some(function(nt){return!!~De.indexOf(nt)})&&this.refresh()},H.getInstance=function(){return this.instance_||(this.instance_=new H),this.instance_},H.instance_=null,H}(),Mn=function(H,Y){for(var J=0,De=Object.keys(Y);J<De.length;J++){var Fe=De[J];Object.defineProperty(H,Fe,{value:Y[Fe],enumerable:!1,writable:!1,configurable:!0})}return H},Fn=function(H){return H&&H.ownerDocument&&H.ownerDocument.defaultView||dr},Ln=kt(0,0,0,0);function yr(H){return parseFloat(H)||0}function Dr(H){for(var Y=[],J=1;J<arguments.length;J++)Y[J-1]=arguments[J];return Y.reduce(function(De,Fe){return De+yr(H["border-"+Fe+"-width"])},0)}var te=typeof SVGGraphicsElement<"u"?function(H){return H instanceof Fn(H).SVGGraphicsElement}:function(H){return H instanceof Fn(H).SVGElement&&"function"==typeof H.getBBox};function Ge(H){return On?te(H)?function Ue(H){var Y=H.getBBox();return kt(0,0,Y.width,Y.height)}(H):function de(H){var Y=H.clientWidth,J=H.clientHeight;if(!Y&&!J)return Ln;var De=Fn(H).getComputedStyle(H),Fe=function Yn(H){for(var J={},De=0,Fe=["top","right","bottom","left"];De<Fe.length;De++){var nt=Fe[De];J[nt]=yr(H["padding-"+nt])}return J}(De),nt=Fe.left+Fe.right,G=Fe.top+Fe.bottom,q=yr(De.width),z=yr(De.height);if("border-box"===De.boxSizing&&(Math.round(q+nt)!==Y&&(q-=Dr(De,"left","right")+nt),Math.round(z+G)!==J&&(z-=Dr(De,"top","bottom")+G)),!function Le(H){return H===Fn(H).document.documentElement}(H)){var oe=Math.round(q+nt)-Y,Ae=Math.round(z+G)-J;1!==Math.abs(oe)&&(q-=oe),1!==Math.abs(Ae)&&(z-=Ae)}return kt(Fe.left,Fe.top,q,z)}(H):Ln}function kt(H,Y,J,De){return{x:H,y:Y,width:J,height:De}}var vt=function(){function H(Y){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=kt(0,0,0,0),this.target=Y}return H.prototype.isActive=function(){var Y=Ge(this.target);return this.contentRect_=Y,Y.width!==this.broadcastWidth||Y.height!==this.broadcastHeight},H.prototype.broadcastRect=function(){var Y=this.contentRect_;return this.broadcastWidth=Y.width,this.broadcastHeight=Y.height,Y},H}(),st=function H(Y,J){var De=function It(H){var Y=H.x,J=H.y,De=H.width,Fe=H.height,nt=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,G=Object.create(nt.prototype);return Mn(G,{x:Y,y:J,width:De,height:Fe,top:J,right:Y+De,bottom:Fe+J,left:Y}),G}(J);Mn(this,{target:Y,contentRect:De})},gn=function(){function H(Y,J,De){if(this.activeObservations_=[],this.observations_=new Qn,"function"!=typeof Y)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=Y,this.controller_=J,this.callbackCtx_=De}return H.prototype.observe=function(Y){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u")&&Element instanceof Object){if(!(Y instanceof Fn(Y).Element))throw new TypeError('parameter 1 is not of type "Element".');var J=this.observations_;J.has(Y)||(J.set(Y,new vt(Y)),this.controller_.addObserver(this),this.controller_.refresh())}},H.prototype.unobserve=function(Y){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u")&&Element instanceof Object){if(!(Y instanceof Fn(Y).Element))throw new TypeError('parameter 1 is not of type "Element".');var J=this.observations_;!J.has(Y)||(J.delete(Y),J.size||this.controller_.removeObserver(this))}},H.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},H.prototype.gatherActive=function(){var Y=this;this.clearActive(),this.observations_.forEach(function(J){J.isActive()&&Y.activeObservations_.push(J)})},H.prototype.broadcastActive=function(){if(this.hasActive()){var Y=this.callbackCtx_,J=this.activeObservations_.map(function(De){return new st(De.target,De.broadcastRect())});this.callback_.call(Y,J,Y),this.clearActive()}},H.prototype.clearActive=function(){this.activeObservations_.splice(0)},H.prototype.hasActive=function(){return this.activeObservations_.length>0},H}(),Zt=typeof WeakMap<"u"?new WeakMap:new Qn,nr=function H(Y){if(!(this instanceof H))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var J=dt.getInstance(),De=new gn(Y,J,this);Zt.set(this,De)};["observe","unobserve","disconnect"].forEach(function(H){nr.prototype[H]=function(){var Y;return(Y=Zt.get(this))[H].apply(Y,arguments)}});const Kt=typeof dr.ResizeObserver<"u"?dr.ResizeObserver:nr;function on(H,Y){if(1&H&&(Z.TgZ(0,"div",3),Z._UZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),Z.qZA()),2&H){const J=Z.oxw();Z.ekj("ps-at-top",J.states.top)("ps-at-left",J.states.left)("ps-at-right",J.states.right)("ps-at-bottom",J.states.bottom),Z.xp6(1),Z.ekj("ps-indicator-show",J.indicatorY&&J.interaction),Z.xp6(1),Z.ekj("ps-indicator-show",J.indicatorX&&J.interaction),Z.xp6(1),Z.ekj("ps-indicator-show",J.indicatorX&&J.interaction),Z.xp6(1),Z.ekj("ps-indicator-show",J.indicatorY&&J.interaction)}}const Xn=["*"],Bn=new Z.OlP("PERFECT_SCROLLBAR_CONFIG");class Nn{constructor(Y,J,De,Fe){this.x=Y,this.y=J,this.w=De,this.h=Fe}}class hr{constructor(Y,J){this.x=Y,this.y=J}}const Hn=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"];class or{constructor(Y={}){this.assign(Y)}assign(Y={}){for(const J in Y)this[J]=Y[J]}}let er=(()=>{class H{constructor(J,De,Fe,nt,G){this.zone=J,this.differs=De,this.elementRef=Fe,this.platformId=nt,this.defaults=G,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new d.x,this.disabled=!1,this.psScrollY=new Z.vpe,this.psScrollX=new Z.vpe,this.psScrollUp=new Z.vpe,this.psScrollDown=new Z.vpe,this.psScrollLeft=new Z.vpe,this.psScrollRight=new Z.vpe,this.psYReachEnd=new Z.vpe,this.psYReachStart=new Z.vpe,this.psXReachEnd=new Z.vpe,this.psXReachStart=new Z.vpe}ngOnInit(){if(!this.disabled&&(0,ge.NF)(this.platformId)){const J=new or(this.defaults);J.assign(this.config),this.zone.runOutsideAngular(()=>{this.instance=new zt(this.elementRef.nativeElement,J)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(()=>{this.ro=new Kt(()=>{this.update()}),this.elementRef.nativeElement.children[0]&&this.ro.observe(this.elementRef.nativeElement.children[0]),this.ro.observe(this.elementRef.nativeElement)}),this.zone.runOutsideAngular(()=>{Hn.forEach(De=>{const Fe=De.replace(/([A-Z])/g,nt=>`-${nt.toLowerCase()}`);(0,T.R)(this.elementRef.nativeElement,Fe).pipe((0,le.e)(20),(0,ye.R)(this.ngDestroy)).subscribe(nt=>{this[De].emit(nt)})})})}}ngOnDestroy(){(0,ge.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&typeof window<"u"&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.instance&&this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&(0,ge.NF)(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(J){J.disabled&&!J.disabled.isFirstChange()&&(0,ge.NF)(this.platformId)&&J.disabled.currentValue!==J.disabled.previousValue&&(!0===J.disabled.currentValue?this.ngOnDestroy():!1===J.disabled.currentValue&&this.ngOnInit())}ps(){return this.instance}update(){typeof window<"u"&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{if(!this.disabled&&this.configDiff)try{this.zone.runOutsideAngular(()=>{this.instance&&this.instance.update()})}catch{}},0))}geometry(J="scroll"){return new Nn(this.elementRef.nativeElement[J+"Left"],this.elementRef.nativeElement[J+"Top"],this.elementRef.nativeElement[J+"Width"],this.elementRef.nativeElement[J+"Height"])}position(J=!1){return!J&&this.instance?new hr(this.instance.reach.x||0,this.instance.reach.y||0):new hr(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}scrollable(J="any"){const De=this.elementRef.nativeElement;return"any"===J?De.classList.contains("ps--active-x")||De.classList.contains("ps--active-y"):"both"===J?De.classList.contains("ps--active-x")&&De.classList.contains("ps--active-y"):De.classList.contains("ps--active-"+J)}scrollTo(J,De,Fe){this.disabled||(null==De&&null==Fe?this.animateScrolling("scrollTop",J,Fe):(null!=J&&this.animateScrolling("scrollLeft",J,Fe),null!=De&&this.animateScrolling("scrollTop",De,Fe)))}scrollToX(J,De){this.animateScrolling("scrollLeft",J,De)}scrollToY(J,De){this.animateScrolling("scrollTop",J,De)}scrollToTop(J,De){this.animateScrolling("scrollTop",J||0,De)}scrollToLeft(J,De){this.animateScrolling("scrollLeft",J||0,De)}scrollToRight(J,De){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(J||0),De)}scrollToBottom(J,De){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(J||0),De)}scrollToElement(J,De,Fe){if("string"==typeof J&&(J=this.elementRef.nativeElement.querySelector(J)),J){const nt=J.getBoundingClientRect(),G=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",nt.left-G.left+this.elementRef.nativeElement.scrollLeft+(De||0),Fe),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",nt.top-G.top+this.elementRef.nativeElement.scrollTop+(De||0),Fe)}}animateScrolling(J,De,Fe){if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),!Fe||typeof window>"u")this.elementRef.nativeElement[J]=De;else if(De!==this.elementRef.nativeElement[J]){let nt=0,G=0,q=performance.now(),z=this.elementRef.nativeElement[J];const oe=(z-De)/2,Ae=Ke=>{G+=Math.PI/(Fe/(Ke-q)),nt=Math.round(De+oe+oe*Math.cos(G)),this.elementRef.nativeElement[J]===z&&(G>=Math.PI?this.animateScrolling(J,De,0):(this.elementRef.nativeElement[J]=nt,z=this.elementRef.nativeElement[J],q=Ke,this.animation=window.requestAnimationFrame(Ae)))};window.requestAnimationFrame(Ae)}}}return H.\u0275fac=function(J){return new(J||H)(Z.Y36(Z.R0b),Z.Y36(Z.aQg),Z.Y36(Z.SBq),Z.Y36(Z.Lbi),Z.Y36(Bn,8))},H.\u0275dir=Z.lG2({type:H,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[Z.TTD]}),H})(),Hr=(()=>{class H{constructor(J,De,Fe){this.zone=J,this.cdRef=De,this.platformId=Fe,this.states={},this.indicatorX=!1,this.indicatorY=!1,this.interaction=!1,this.scrollPositionX=0,this.scrollPositionY=0,this.scrollDirectionX=0,this.scrollDirectionY=0,this.usePropagationX=!1,this.usePropagationY=!1,this.allowPropagationX=!1,this.allowPropagationY=!1,this.stateTimeout=null,this.ngDestroy=new d.x,this.stateUpdate=new d.x,this.disabled=!1,this.usePSClass=!0,this.autoPropagation=!1,this.scrollIndicators=!1,this.psScrollY=new Z.vpe,this.psScrollX=new Z.vpe,this.psScrollUp=new Z.vpe,this.psScrollDown=new Z.vpe,this.psScrollLeft=new Z.vpe,this.psScrollRight=new Z.vpe,this.psYReachEnd=new Z.vpe,this.psYReachStart=new Z.vpe,this.psXReachEnd=new Z.vpe,this.psXReachStart=new Z.vpe}ngOnInit(){(0,ge.NF)(this.platformId)&&(this.stateUpdate.pipe((0,ye.R)(this.ngDestroy),(0,pe.x)((J,De)=>J===De&&!this.stateTimeout)).subscribe(J=>{this.stateTimeout&&typeof window<"u"&&(window.clearTimeout(this.stateTimeout),this.stateTimeout=null),"x"===J||"y"===J?(this.interaction=!1,"x"===J?(this.indicatorX=!1,this.states.left=!1,this.states.right=!1,this.autoPropagation&&this.usePropagationX&&(this.allowPropagationX=!1)):"y"===J&&(this.indicatorY=!1,this.states.top=!1,this.states.bottom=!1,this.autoPropagation&&this.usePropagationY&&(this.allowPropagationY=!1))):("left"===J||"right"===J?(this.states.left=!1,this.states.right=!1,this.states[J]=!0,this.autoPropagation&&this.usePropagationX&&(this.indicatorX=!0)):("top"===J||"bottom"===J)&&(this.states.top=!1,this.states.bottom=!1,this.states[J]=!0,this.autoPropagation&&this.usePropagationY&&(this.indicatorY=!0)),this.autoPropagation&&typeof window<"u"&&(this.stateTimeout=window.setTimeout(()=>{this.indicatorX=!1,this.indicatorY=!1,this.stateTimeout=null,this.interaction&&(this.states.left||this.states.right)&&(this.allowPropagationX=!0),this.interaction&&(this.states.top||this.states.bottom)&&(this.allowPropagationY=!0),this.cdRef.markForCheck()},500))),this.cdRef.markForCheck(),this.cdRef.detectChanges()}),this.zone.runOutsideAngular(()=>{if(this.directiveRef){const J=this.directiveRef.elementRef.nativeElement;(0,T.R)(J,"wheel").pipe((0,ye.R)(this.ngDestroy)).subscribe(De=>{!this.disabled&&this.autoPropagation&&this.checkPropagation(De,De.deltaX,De.deltaY)}),(0,T.R)(J,"touchmove").pipe((0,ye.R)(this.ngDestroy)).subscribe(De=>{if(!this.disabled&&this.autoPropagation){const Fe=De.touches[0].clientX,nt=De.touches[0].clientY;this.checkPropagation(De,Fe-this.scrollPositionX,nt-this.scrollPositionY),this.scrollPositionX=Fe,this.scrollPositionY=nt}}),(0,se.T)((0,T.R)(J,"ps-scroll-x").pipe((0,ce.h)("x")),(0,T.R)(J,"ps-scroll-y").pipe((0,ce.h)("y")),(0,T.R)(J,"ps-x-reach-end").pipe((0,ce.h)("right")),(0,T.R)(J,"ps-y-reach-end").pipe((0,ce.h)("bottom")),(0,T.R)(J,"ps-x-reach-start").pipe((0,ce.h)("left")),(0,T.R)(J,"ps-y-reach-start").pipe((0,ce.h)("top"))).pipe((0,ye.R)(this.ngDestroy)).subscribe(De=>{!this.disabled&&(this.autoPropagation||this.scrollIndicators)&&this.stateUpdate.next(De)})}}),window.setTimeout(()=>{Hn.forEach(J=>{this.directiveRef&&(this.directiveRef[J]=this[J])})},0))}ngOnDestroy(){(0,ge.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.unsubscribe(),this.stateTimeout&&typeof window<"u"&&window.clearTimeout(this.stateTimeout))}ngDoCheck(){if((0,ge.NF)(this.platformId)&&!this.disabled&&this.autoPropagation&&this.directiveRef){const J=this.directiveRef.elementRef.nativeElement;this.usePropagationX=J.classList.contains("ps--active-x"),this.usePropagationY=J.classList.contains("ps--active-y")}}checkPropagation(J,De,Fe){this.interaction=!0;const nt=De<0?-1:1,G=Fe<0?-1:1;(this.usePropagationX&&this.usePropagationY||this.usePropagationX&&(!this.allowPropagationX||this.scrollDirectionX!==nt)||this.usePropagationY&&(!this.allowPropagationY||this.scrollDirectionY!==G))&&(J.preventDefault(),J.stopPropagation()),De&&(this.scrollDirectionX=nt),Fe&&(this.scrollDirectionY=G),this.stateUpdate.next("interaction"),this.cdRef.detectChanges()}}return H.\u0275fac=function(J){return new(J||H)(Z.Y36(Z.R0b),Z.Y36(Z.sBO),Z.Y36(Z.Lbi))},H.\u0275cmp=Z.Xpm({type:H,selectors:[["perfect-scrollbar"]],viewQuery:function(J,De){if(1&J&&Z.Gf(er,7),2&J){let Fe;Z.iGM(Fe=Z.CRH())&&(De.directiveRef=Fe.first)}},hostVars:4,hostBindings:function(J,De){2&J&&Z.ekj("ps-show-limits",De.autoPropagation)("ps-show-active",De.scrollIndicators)},inputs:{disabled:"disabled",usePSClass:"usePSClass",autoPropagation:"autoPropagation",scrollIndicators:"scrollIndicators",config:"config"},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],ngContentSelectors:Xn,decls:4,vars:5,consts:[[2,"position","static",3,"perfectScrollbar","disabled"],[1,"ps-content"],["class","ps-overlay",3,"ps-at-top","ps-at-left","ps-at-right","ps-at-bottom",4,"ngIf"],[1,"ps-overlay"],[1,"ps-indicator-top"],[1,"ps-indicator-left"],[1,"ps-indicator-right"],[1,"ps-indicator-bottom"]],template:function(J,De){1&J&&(Z.F$t(),Z.TgZ(0,"div",0)(1,"div",1),Z.Hsn(2),Z.qZA(),Z.YNc(3,on,5,16,"div",2),Z.qZA()),2&J&&(Z.ekj("ps",De.usePSClass),Z.Q6J("perfectScrollbar",De.config)("disabled",De.disabled),Z.xp6(3),Z.Q6J("ngIf",De.scrollIndicators))},dependencies:[ge.O5,er],styles:["perfect-scrollbar{display:block;height:100%;max-height:100%;max-width:100%;overflow:hidden;position:relative;width:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:flex;flex-direction:column;height:auto;min-height:0;min-width:0}perfect-scrollbar[fxflex]>.ps{-webkit-box-flex:1;flex:1 1 auto;height:auto;min-height:0;min-width:0;width:auto}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{-webkit-box-align:inherit;-webkit-box-flex:1;-webkit-box-pack:inherit;align-content:inherit;align-items:inherit;display:flex;flex:1 1 auto;flex-direction:inherit;height:100%;justify-content:inherit;width:100%},perfect-scrollbar[fxlayout=row]>.ps,perfect-scrollbar[fxlayout=row]>.ps>.ps-content{flex-direction:row!important}perfect-scrollbar[fxlayout=column]>.ps,perfect-scrollbar[fxlayout=column]>.ps>.ps-content{flex-direction:column!important}perfect-scrollbar>.ps{display:block;height:100%;max-height:100%;max-width:100%;position:static;width:100%}perfect-scrollbar>.ps textarea{-ms-overflow-style:scrollbar}perfect-scrollbar>.ps>.ps-overlay{bottom:0;display:block;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{opacity:0;position:absolute;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-height:24px;min-width:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{min-height:100%;min-width:24px;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{cursor:default;left:auto!important;right:0!important;top:0!important;transition:width .2s linear,opacity .2s linear,background-color .2s linear;width:10px}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y.ps--clicking,perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{bottom:0!important;cursor:default;height:10px;left:0!important;top:auto!important;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x.ps--clicking,perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x,perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{background-color:#eee;opacity:.9}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x,perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show{opacity:1}",".ps{-ms-overflow-style:none;-ms-touch-action:auto;overflow:hidden!important;overflow-anchor:none;touch-action:auto}.ps__rail-x{bottom:0;height:15px}.ps__rail-x,.ps__rail-y{-webkit-transition:background-color .2s linear,opacity .2s linear;display:none;opacity:0;position:absolute;transition:background-color .2s linear,opacity .2s linear}.ps__rail-y{right:0;width:15px}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{background-color:transparent;display:block}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{-webkit-transition:background-color .2s linear,height .2s ease-in-out;bottom:2px;height:6px;transition:background-color .2s linear,height .2s ease-in-out}.ps__thumb-x,.ps__thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps__thumb-y{-webkit-transition:background-color .2s linear,width .2s ease-in-out;right:2px;transition:background-color .2s linear,width .2s ease-in-out;width:6px}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}"],encapsulation:2}),H})(),zr=(()=>{class H{}return H.\u0275fac=function(J){return new(J||H)},H.\u0275mod=Z.oAB({type:H}),H.\u0275inj=Z.cJS({imports:[ge.ez,ge.ez]}),H})()},1135:(yt,Ie,F)=>{F.d(Ie,{X:()=>T});var d=F(7579);class T extends d.x{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const ye=super._subscribe(le);return!ye.closed&&le.next(this._value),ye}getValue(){const{hasError:le,thrownError:ye,_value:pe}=this;if(le)throw ye;return this._throwIfClosed(),pe}next(le){super.next(this._value=le)}}},9751:(yt,Ie,F)=>{F.d(Ie,{y:()=>Z});var d=F(930),T=F(727),se=F(8822),le=F(9635),ye=F(2416),pe=F(576),ce=F(2806);let Z=(()=>{class Te{constructor(ue){ue&&(this._subscribe=ue)}lift(ue){const Ce=new Te;return Ce.source=this,Ce.operator=ue,Ce}subscribe(ue,Ce,lt){const Ee=function be(Te){return Te&&Te instanceof d.Lv||function we(Te){return Te&&(0,pe.m)(Te.next)&&(0,pe.m)(Te.error)&&(0,pe.m)(Te.complete)}(Te)&&(0,T.Nn)(Te)}(ue)?ue:new d.Hp(ue,Ce,lt);return(0,ce.x)(()=>{const{operator:Pe,source:Tt}=this;Ee.add(Pe?Pe.call(Ee,Tt):Tt?this._subscribe(Ee):this._trySubscribe(Ee))}),Ee}_trySubscribe(ue){try{return this._subscribe(ue)}catch(Ce){ue.error(Ce)}}forEach(ue,Ce){return new(Ce=ge(Ce))((lt,Ee)=>{const Pe=new d.Hp({next:Tt=>{try{ue(Tt)}catch(Xe){Ee(Xe),Pe.unsubscribe()}},error:Ee,complete:lt});this.subscribe(Pe)})}_subscribe(ue){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(ue)}[se.L](){return this}pipe(...ue){return(0,le.U)(ue)(this)}toPromise(ue){return new(ue=ge(ue))((Ce,lt)=>{let Ee;this.subscribe(Pe=>Ee=Pe,Pe=>lt(Pe),()=>Ce(Ee))})}}return Te.create=et=>new Te(et),Te})();function ge(Te){var et;return null!==(et=Te??ye.v.Promise)&&void 0!==et?et:Promise}},7579:(yt,Ie,F)=>{F.d(Ie,{x:()=>ce});var d=F(9751),T=F(727);const le=(0,F(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=F(8737),pe=F(2806);let ce=(()=>{class ge extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(be){const Te=new Z(this,this);return Te.operator=be,Te}_throwIfClosed(){if(this.closed)throw new le}next(be){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Te of this.currentObservers)Te.next(be)}})}error(be){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=be;const{observers:Te}=this;for(;Te.length;)Te.shift().error(be)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:be}=this;for(;be.length;)be.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var be;return(null===(be=this.observers)||void 0===be?void 0:be.length)>0}_trySubscribe(be){return this._throwIfClosed(),super._trySubscribe(be)}_subscribe(be){return this._throwIfClosed(),this._checkFinalizedStatuses(be),this._innerSubscribe(be)}_innerSubscribe(be){const{hasError:Te,isStopped:et,observers:ue}=this;return Te||et?T.Lc:(this.currentObservers=null,ue.push(be),new T.w0(()=>{this.currentObservers=null,(0,ye.P)(ue,be)}))}_checkFinalizedStatuses(be){const{hasError:Te,thrownError:et,isStopped:ue}=this;Te?be.error(et):ue&&be.complete()}asObservable(){const be=new d.y;return be.source=this,be}}return ge.create=(we,be)=>new Z(we,be),ge})();class Z extends ce{constructor(we,be){super(),this.destination=we,this.source=be}next(we){var be,Te;null===(Te=null===(be=this.destination)||void 0===be?void 0:be.next)||void 0===Te||Te.call(be,we)}error(we){var be,Te;null===(Te=null===(be=this.destination)||void 0===be?void 0:be.error)||void 0===Te||Te.call(be,we)}complete(){var we,be;null===(be=null===(we=this.destination)||void 0===we?void 0:we.complete)||void 0===be||be.call(we)}_subscribe(we){var be,Te;return null!==(Te=null===(be=this.source)||void 0===be?void 0:be.subscribe(we))&&void 0!==Te?Te:T.Lc}}},930:(yt,Ie,F)=>{F.d(Ie,{Hp:()=>lt,Lv:()=>Te});var d=F(576),T=F(727),se=F(2416),le=F(7849),ye=F(5032);const pe=ge("C",void 0,void 0);function ge(We,ve,Qe){return{kind:We,value:ve,error:Qe}}var we=F(3410),be=F(2806);class Te extends T.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,T.Nn)(ve)&&ve.add(this)):this.destination=Xe}static create(ve,Qe,_t){return new lt(ve,Qe,_t)}next(ve){this.isStopped?Tt(function Z(We){return ge("N",We,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Tt(function ce(We){return ge("E",void 0,We)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Tt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const et=Function.prototype.bind;function ue(We,ve){return et.call(We,ve)}class Ce{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(ve)}catch(_t){Ee(_t)}}error(ve){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(ve)}catch(_t){Ee(_t)}else Ee(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Qe){Ee(Qe)}}}class lt extends Te{constructor(ve,Qe,_t){let ft;if(super(),(0,d.m)(ve)||!ve)ft={next:ve??void 0,error:Qe??void 0,complete:_t??void 0};else{let ut;this&&se.v.useDeprecatedNextContext?(ut=Object.create(ve),ut.unsubscribe=()=>this.unsubscribe(),ft={next:ve.next&&ue(ve.next,ut),error:ve.error&&ue(ve.error,ut),complete:ve.complete&&ue(ve.complete,ut)}):ft=ve}this.destination=new Ce(ft)}}function Ee(We){se.v.useDeprecatedSynchronousErrorHandling?(0,be.O)(We):(0,le.h)(We)}function Tt(We,ve){const{onStoppedNotification:Qe}=se.v;Qe&&we.z.setTimeout(()=>Qe(We,ve))}const Xe={closed:!0,next:ye.Z,error:function Pe(We){throw We},complete:ye.Z}},727:(yt,Ie,F)=>{F.d(Ie,{Lc:()=>pe,w0:()=>ye,Nn:()=>ce});var d=F(576);const se=(0,F(3888).d)(ge=>function(be){ge(this),this.message=be?`${be.length} errors occurred during unsubscription:\n${be.map((Te,et)=>`${et+1}) ${Te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=be});var le=F(8737);class ye{constructor(we){this.initialTeardown=we,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let we;if(!this.closed){this.closed=!0;const{_parentage:be}=this;if(be)if(this._parentage=null,Array.isArray(be))for(const ue of be)ue.remove(this);else be.remove(this);const{initialTeardown:Te}=this;if((0,d.m)(Te))try{Te()}catch(ue){we=ue instanceof se?ue.errors:[ue]}const{_finalizers:et}=this;if(et){this._finalizers=null;for(const ue of et)try{Z(ue)}catch(Ce){we=we??[],Ce instanceof se?we=[...we,...Ce.errors]:we.push(Ce)}}if(we)throw new se(we)}}add(we){var be;if(we&&we!==this)if(this.closed)Z(we);else{if(we instanceof ye){if(we.closed||we._hasParent(this))return;we._addParent(this)}(this._finalizers=null!==(be=this._finalizers)&&void 0!==be?be:[]).push(we)}}_hasParent(we){const{_parentage:be}=this;return be===we||Array.isArray(be)&&be.includes(we)}_addParent(we){const{_parentage:be}=this;this._parentage=Array.isArray(be)?(be.push(we),be):be?[be,we]:we}_removeParent(we){const{_parentage:be}=this;be===we?this._parentage=null:Array.isArray(be)&&(0,le.P)(be,we)}remove(we){const{_finalizers:be}=this;be&&(0,le.P)(be,we),we instanceof ye&&we._removeParent(this)}}ye.EMPTY=(()=>{const ge=new ye;return ge.closed=!0,ge})();const pe=ye.EMPTY;function ce(ge){return ge instanceof ye||ge&&"closed"in ge&&(0,d.m)(ge.remove)&&(0,d.m)(ge.add)&&(0,d.m)(ge.unsubscribe)}function Z(ge){(0,d.m)(ge)?ge():ge.unsubscribe()}},2416:(yt,Ie,F)=>{F.d(Ie,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(yt,Ie,F)=>{F.d(Ie,{c:()=>pe});var d=F(9751),T=F(727),se=F(8343),le=F(5403),ye=F(4482);class pe extends d.y{constructor(Z,ge){super(),this.source=Z,this.subjectFactory=ge,this._subject=null,this._refCount=0,this._connection=null,(0,ye.A)(Z)&&(this.lift=Z.lift)}_subscribe(Z){return this.getSubject().subscribe(Z)}getSubject(){const Z=this._subject;return(!Z||Z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Z}=this;this._subject=this._connection=null,Z?.unsubscribe()}connect(){let Z=this._connection;if(!Z){Z=this._connection=new T.w0;const ge=this.getSubject();Z.add(this.source.subscribe((0,le.x)(ge,void 0,()=>{this._teardown(),ge.complete()},we=>{this._teardown(),ge.error(we)},()=>this._teardown()))),Z.closed&&(this._connection=null,Z=T.w0.EMPTY)}return Z}refCount(){return(0,se.x)()(this)}}},9841:(yt,Ie,F)=>{F.d(Ie,{a:()=>we});var d=F(9751),T=F(4742),se=F(2076),le=F(4671),ye=F(3268),pe=F(3269),ce=F(1810),Z=F(5403),ge=F(9672);function we(...et){const ue=(0,pe.yG)(et),Ce=(0,pe.jO)(et),{args:lt,keys:Ee}=(0,T.D)(et);if(0===lt.length)return(0,se.D)([],ue);const Pe=new d.y(function be(et,ue,Ce=le.y){return lt=>{Te(ue,()=>{const{length:Ee}=et,Pe=new Array(Ee);let Tt=Ee,Xe=Ee;for(let We=0;We<Ee;We++)Te(ue,()=>{const ve=(0,se.D)(et[We],ue);let Qe=!1;ve.subscribe((0,Z.x)(lt,_t=>{Pe[We]=_t,Qe||(Qe=!0,Xe--),Xe||lt.next(Ce(Pe.slice()))},()=>{--Tt||lt.complete()}))},lt)},lt)}}(lt,ue,Ee?Tt=>(0,ce.n)(Ee,Tt):le.y));return Ce?Pe.pipe((0,ye.Z)(Ce)):Pe}function Te(et,ue,Ce){et?(0,ge.f)(Ce,et,ue):ue()}},7272:(yt,Ie,F)=>{F.d(Ie,{z:()=>ye});var d=F(8189),se=F(3269),le=F(2076);function ye(...pe){return function T(){return(0,d.J)(1)}()((0,le.D)(pe,(0,se.yG)(pe)))}},9770:(yt,Ie,F)=>{F.d(Ie,{P:()=>se});var d=F(9751),T=F(8421);function se(le){return new d.y(ye=>{(0,T.Xf)(le()).subscribe(ye)})}},515:(yt,Ie,F)=>{F.d(Ie,{E:()=>T});const T=new(F(9751).y)(ye=>ye.complete())},4128:(yt,Ie,F)=>{F.d(Ie,{D:()=>Z});var d=F(9751),T=F(4742),se=F(8421),le=F(3269),ye=F(5403),pe=F(3268),ce=F(1810);function Z(...ge){const we=(0,le.jO)(ge),{args:be,keys:Te}=(0,T.D)(ge),et=new d.y(ue=>{const{length:Ce}=be;if(!Ce)return void ue.complete();const lt=new Array(Ce);let Ee=Ce,Pe=Ce;for(let Tt=0;Tt<Ce;Tt++){let Xe=!1;(0,se.Xf)(be[Tt]).subscribe((0,ye.x)(ue,We=>{Xe||(Xe=!0,Pe--),lt[Tt]=We},()=>Ee--,void 0,()=>{(!Ee||!Xe)&&(Pe||ue.next(Te?(0,ce.n)(Te,lt):lt),ue.complete())}))}});return we?et.pipe((0,pe.Z)(we)):et}},2076:(yt,Ie,F)=>{F.d(Ie,{D:()=>_t});var d=F(8421),T=F(9672),se=F(4482),le=F(5403);function ye(ft,ut=0){return(0,se.e)((ct,_e)=>{ct.subscribe((0,le.x)(_e,Se=>(0,T.f)(_e,ft,()=>_e.next(Se),ut),()=>(0,T.f)(_e,ft,()=>_e.complete(),ut),Se=>(0,T.f)(_e,ft,()=>_e.error(Se),ut)))})}function pe(ft,ut=0){return(0,se.e)((ct,_e)=>{_e.add(ft.schedule(()=>ct.subscribe(_e),ut))})}var ge=F(9751),be=F(2202),Te=F(576);function ue(ft,ut){if(!ft)throw new Error("Iterable cannot be null");return new ge.y(ct=>{(0,T.f)(ct,ut,()=>{const _e=ft[Symbol.asyncIterator]();(0,T.f)(ct,ut,()=>{_e.next().then(Se=>{Se.done?ct.complete():ct.next(Se.value)})},0,!0)})})}var Ce=F(3670),lt=F(8239),Ee=F(1144),Pe=F(6495),Tt=F(2206),Xe=F(4532),We=F(3260);function _t(ft,ut){return ut?function Qe(ft,ut){if(null!=ft){if((0,Ce.c)(ft))return function ce(ft,ut){return(0,d.Xf)(ft).pipe(pe(ut),ye(ut))}(ft,ut);if((0,Ee.z)(ft))return function we(ft,ut){return new ge.y(ct=>{let _e=0;return ut.schedule(function(){_e===ft.length?ct.complete():(ct.next(ft[_e++]),ct.closed||this.schedule())})})}(ft,ut);if((0,lt.t)(ft))return function Z(ft,ut){return(0,d.Xf)(ft).pipe(pe(ut),ye(ut))}(ft,ut);if((0,Tt.D)(ft))return ue(ft,ut);if((0,Pe.T)(ft))return function et(ft,ut){return new ge.y(ct=>{let _e;return(0,T.f)(ct,ut,()=>{_e=ft[be.h](),(0,T.f)(ct,ut,()=>{let Se,He;try{({value:Se,done:He}=_e.next())}catch(Me){return void ct.error(Me)}He?ct.complete():ct.next(Se)},0,!0)}),()=>(0,Te.m)(_e?.return)&&_e.return()})}(ft,ut);if((0,We.L)(ft))return function ve(ft,ut){return ue((0,We.Q)(ft),ut)}(ft,ut)}throw(0,Xe.z)(ft)}(ft,ut):(0,d.Xf)(ft)}},4968:(yt,Ie,F)=>{F.d(Ie,{R:()=>we});var d=F(8421),T=F(9751),se=F(5577),le=F(1144),ye=F(576),pe=F(3268);const ce=["addListener","removeListener"],Z=["addEventListener","removeEventListener"],ge=["on","off"];function we(Ce,lt,Ee,Pe){if((0,ye.m)(Ee)&&(Pe=Ee,Ee=void 0),Pe)return we(Ce,lt,Ee).pipe((0,pe.Z)(Pe));const[Tt,Xe]=function ue(Ce){return(0,ye.m)(Ce.addEventListener)&&(0,ye.m)(Ce.removeEventListener)}(Ce)?Z.map(We=>ve=>Ce[We](lt,ve,Ee)):function Te(Ce){return(0,ye.m)(Ce.addListener)&&(0,ye.m)(Ce.removeListener)}(Ce)?ce.map(be(Ce,lt)):function et(Ce){return(0,ye.m)(Ce.on)&&(0,ye.m)(Ce.off)}(Ce)?ge.map(be(Ce,lt)):[];if(!Tt&&(0,le.z)(Ce))return(0,se.z)(We=>we(We,lt,Ee))((0,d.Xf)(Ce));if(!Tt)throw new TypeError("Invalid event target");return new T.y(We=>{const ve=(...Qe)=>We.next(1<Qe.length?Qe:Qe[0]);return Tt(ve),()=>Xe(ve)})}function be(Ce,lt){return Ee=>Pe=>Ce[Ee](lt,Pe)}},8421:(yt,Ie,F)=>{F.d(Ie,{Xf:()=>et});var d=F(655),T=F(1144),se=F(8239),le=F(9751),ye=F(3670),pe=F(2206),ce=F(4532),Z=F(6495),ge=F(3260),we=F(576),be=F(7849),Te=F(8822);function et(We){if(We instanceof le.y)return We;if(null!=We){if((0,ye.c)(We))return function ue(We){return new le.y(ve=>{const Qe=We[Te.L]();if((0,we.m)(Qe.subscribe))return Qe.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,T.z)(We))return function Ce(We){return new le.y(ve=>{for(let Qe=0;Qe<We.length&&!ve.closed;Qe++)ve.next(We[Qe]);ve.complete()})}(We);if((0,se.t)(We))return function lt(We){return new le.y(ve=>{We.then(Qe=>{ve.closed||(ve.next(Qe),ve.complete())},Qe=>ve.error(Qe)).then(null,be.h)})}(We);if((0,pe.D)(We))return Pe(We);if((0,Z.T)(We))return function Ee(We){return new le.y(ve=>{for(const Qe of We)if(ve.next(Qe),ve.closed)return;ve.complete()})}(We);if((0,ge.L)(We))return function Tt(We){return Pe((0,ge.Q)(We))}(We)}throw(0,ce.z)(We)}function Pe(We){return new le.y(ve=>{(function Xe(We,ve){var Qe,_t,ft,ut;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,d.KL)(We);!(_t=yield Qe.next()).done;)if(ve.next(_t.value),ve.closed)return}catch(ct){ft={error:ct}}finally{try{_t&&!_t.done&&(ut=Qe.return)&&(yield ut.call(Qe))}finally{if(ft)throw ft.error}}ve.complete()})})(We,ve).catch(Qe=>ve.error(Qe))})}},6451:(yt,Ie,F)=>{F.d(Ie,{T:()=>pe});var d=F(8189),T=F(8421),se=F(515),le=F(3269),ye=F(2076);function pe(...ce){const Z=(0,le.yG)(ce),ge=(0,le._6)(ce,1/0),we=ce;return we.length?1===we.length?(0,T.Xf)(we[0]):(0,d.J)(ge)((0,ye.D)(we,Z)):se.E}},9646:(yt,Ie,F)=>{F.d(Ie,{of:()=>se});var d=F(3269),T=F(2076);function se(...le){const ye=(0,d.yG)(le);return(0,T.D)(le,ye)}},2843:(yt,Ie,F)=>{F.d(Ie,{_:()=>se});var d=F(9751),T=F(576);function se(le,ye){const pe=(0,T.m)(le)?le:()=>le,ce=Z=>Z.error(pe());return new d.y(ye?Z=>ye.schedule(ce,0,Z):ce)}},5963:(yt,Ie,F)=>{F.d(Ie,{H:()=>ye});var d=F(9751),T=F(4986),se=F(3532);function ye(pe=0,ce,Z=T.P){let ge=-1;return null!=ce&&((0,se.K)(ce)?Z=ce:ge=ce),new d.y(we=>{let be=function le(pe){return pe instanceof Date&&!isNaN(pe)}(pe)?+pe-Z.now():pe;be<0&&(be=0);let Te=0;return Z.schedule(function(){we.closed||(we.next(Te++),0<=ge?this.schedule(void 0,ge):we.complete())},be)})}},5403:(yt,Ie,F)=>{F.d(Ie,{x:()=>T});var d=F(930);function T(le,ye,pe,ce,Z){return new se(le,ye,pe,ce,Z)}class se extends d.Lv{constructor(ye,pe,ce,Z,ge,we){super(ye),this.onFinalize=ge,this.shouldUnsubscribe=we,this._next=pe?function(be){try{pe(be)}catch(Te){ye.error(Te)}}:super._next,this._error=Z?function(be){try{Z(be)}catch(Te){ye.error(Te)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(be){ye.error(be)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},3601:(yt,Ie,F)=>{F.d(Ie,{e:()=>ce});var d=F(4986),T=F(4482),se=F(8421),le=F(5403),pe=F(5963);function ce(Z,ge=d.z){return function ye(Z){return(0,T.e)((ge,we)=>{let be=!1,Te=null,et=null,ue=!1;const Ce=()=>{if(et?.unsubscribe(),et=null,be){be=!1;const Ee=Te;Te=null,we.next(Ee)}ue&&we.complete()},lt=()=>{et=null,ue&&we.complete()};ge.subscribe((0,le.x)(we,Ee=>{be=!0,Te=Ee,et||(0,se.Xf)(Z(Ee)).subscribe(et=(0,le.x)(we,Ce,lt))},()=>{ue=!0,(!be||!et||et.closed)&&we.complete()}))})}(()=>(0,pe.H)(Z,ge))}},262:(yt,Ie,F)=>{F.d(Ie,{K:()=>le});var d=F(8421),T=F(5403),se=F(4482);function le(ye){return(0,se.e)((pe,ce)=>{let we,Z=null,ge=!1;Z=pe.subscribe((0,T.x)(ce,void 0,void 0,be=>{we=(0,d.Xf)(ye(be,le(ye)(pe))),Z?(Z.unsubscribe(),Z=null,we.subscribe(ce)):ge=!0})),ge&&(Z.unsubscribe(),Z=null,we.subscribe(ce))})}},4351:(yt,Ie,F)=>{F.d(Ie,{b:()=>se});var d=F(5577),T=F(576);function se(le,ye){return(0,T.m)(ye)?(0,d.z)(le,ye,1):(0,d.z)(le,1)}},1005:(yt,Ie,F)=>{F.d(Ie,{g:()=>Te});var d=F(4986),T=F(7272),se=F(5698),le=F(4482),ye=F(5403),pe=F(5032),Z=F(9718),ge=F(5577);function we(et,ue){return ue?Ce=>(0,T.z)(ue.pipe((0,se.q)(1),function ce(){return(0,le.e)((et,ue)=>{et.subscribe((0,ye.x)(ue,pe.Z))})}()),Ce.pipe(we(et))):(0,ge.z)((Ce,lt)=>et(Ce,lt).pipe((0,se.q)(1),(0,Z.h)(Ce)))}var be=F(5963);function Te(et,ue=d.z){const Ce=(0,be.H)(et,ue);return we(()=>Ce)}},1884:(yt,Ie,F)=>{F.d(Ie,{x:()=>le});var d=F(4671),T=F(4482),se=F(5403);function le(pe,ce=d.y){return pe=pe??ye,(0,T.e)((Z,ge)=>{let we,be=!0;Z.subscribe((0,se.x)(ge,Te=>{const et=ce(Te);(be||!pe(we,et))&&(be=!1,we=et,ge.next(Te))}))})}function ye(pe,ce){return pe===ce}},9300:(yt,Ie,F)=>{F.d(Ie,{h:()=>se});var d=F(4482),T=F(5403);function se(le,ye){return(0,d.e)((pe,ce)=>{let Z=0;pe.subscribe((0,T.x)(ce,ge=>le.call(ye,ge,Z++)&&ce.next(ge)))})}},8746:(yt,Ie,F)=>{F.d(Ie,{x:()=>T});var d=F(4482);function T(se){return(0,d.e)((le,ye)=>{try{le.subscribe(ye)}finally{ye.add(se)}})}},4004:(yt,Ie,F)=>{F.d(Ie,{U:()=>se});var d=F(4482),T=F(5403);function se(le,ye){return(0,d.e)((pe,ce)=>{let Z=0;pe.subscribe((0,T.x)(ce,ge=>{ce.next(le.call(ye,ge,Z++))}))})}},9718:(yt,Ie,F)=>{F.d(Ie,{h:()=>T});var d=F(4004);function T(se){return(0,d.U)(()=>se)}},8189:(yt,Ie,F)=>{F.d(Ie,{J:()=>se});var d=F(5577),T=F(4671);function se(le=1/0){return(0,d.z)(T.y,le)}},5577:(yt,Ie,F)=>{F.d(Ie,{z:()=>Z});var d=F(4004),T=F(8421),se=F(4482),le=F(9672),ye=F(5403),ce=F(576);function Z(ge,we,be=1/0){return(0,ce.m)(we)?Z((Te,et)=>(0,d.U)((ue,Ce)=>we(Te,ue,et,Ce))((0,T.Xf)(ge(Te,et))),be):("number"==typeof we&&(be=we),(0,se.e)((Te,et)=>function pe(ge,we,be,Te,et,ue,Ce,lt){const Ee=[];let Pe=0,Tt=0,Xe=!1;const We=()=>{Xe&&!Ee.length&&!Pe&&we.complete()},ve=_t=>Pe<Te?Qe(_t):Ee.push(_t),Qe=_t=>{ue&&we.next(_t),Pe++;let ft=!1;(0,T.Xf)(be(_t,Tt++)).subscribe((0,ye.x)(we,ut=>{et?.(ut),ue?ve(ut):we.next(ut)},()=>{ft=!0},void 0,()=>{if(ft)try{for(Pe--;Ee.length&&Pe<Te;){const ut=Ee.shift();Ce?(0,le.f)(we,Ce,()=>Qe(ut)):Qe(ut)}We()}catch(ut){we.error(ut)}}))};return ge.subscribe((0,ye.x)(we,ve,()=>{Xe=!0,We()})),()=>{lt?.()}}(Te,et,ge,be)))}},8343:(yt,Ie,F)=>{F.d(Ie,{x:()=>se});var d=F(4482),T=F(5403);function se(){return(0,d.e)((le,ye)=>{let pe=null;le._refCount++;const ce=(0,T.x)(ye,void 0,void 0,void 0,()=>{if(!le||le._refCount<=0||0<--le._refCount)return void(pe=null);const Z=le._connection,ge=pe;pe=null,Z&&(!ge||Z===ge)&&Z.unsubscribe(),ye.unsubscribe()});le.subscribe(ce),ce.closed||(pe=le.connect())})}},3099:(yt,Ie,F)=>{F.d(Ie,{B:()=>ye});var d=F(8421),T=F(7579),se=F(930),le=F(4482);function ye(ce={}){const{connector:Z=(()=>new T.x),resetOnError:ge=!0,resetOnComplete:we=!0,resetOnRefCountZero:be=!0}=ce;return Te=>{let et,ue,Ce,lt=0,Ee=!1,Pe=!1;const Tt=()=>{ue?.unsubscribe(),ue=void 0},Xe=()=>{Tt(),et=Ce=void 0,Ee=Pe=!1},We=()=>{const ve=et;Xe(),ve?.unsubscribe()};return(0,le.e)((ve,Qe)=>{lt++,!Pe&&!Ee&&Tt();const _t=Ce=Ce??Z();Qe.add(()=>{lt--,0===lt&&!Pe&&!Ee&&(ue=pe(We,be))}),_t.subscribe(Qe),!et&&lt>0&&(et=new se.Hp({next:ft=>_t.next(ft),error:ft=>{Pe=!0,Tt(),ue=pe(Xe,ge,ft),_t.error(ft)},complete:()=>{Ee=!0,Tt(),ue=pe(Xe,we),_t.complete()}}),(0,d.Xf)(ve).subscribe(et))})(Te)}}function pe(ce,Z,...ge){if(!0===Z)return void ce();if(!1===Z)return;const we=new se.Hp({next:()=>{we.unsubscribe(),ce()}});return Z(...ge).subscribe(we)}},8675:(yt,Ie,F)=>{F.d(Ie,{O:()=>le});var d=F(7272),T=F(3269),se=F(4482);function le(...ye){const pe=(0,T.yG)(ye);return(0,se.e)((ce,Z)=>{(pe?(0,d.z)(ye,ce,pe):(0,d.z)(ye,ce)).subscribe(Z)})}},3900:(yt,Ie,F)=>{F.d(Ie,{w:()=>le});var d=F(8421),T=F(4482),se=F(5403);function le(ye,pe){return(0,T.e)((ce,Z)=>{let ge=null,we=0,be=!1;const Te=()=>be&&!ge&&Z.complete();ce.subscribe((0,se.x)(Z,et=>{ge?.unsubscribe();let ue=0;const Ce=we++;(0,d.Xf)(ye(et,Ce)).subscribe(ge=(0,se.x)(Z,lt=>Z.next(pe?pe(et,lt,Ce,ue++):lt),()=>{ge=null,Te()}))},()=>{be=!0,Te()}))})}},5698:(yt,Ie,F)=>{F.d(Ie,{q:()=>le});var d=F(515),T=F(4482),se=F(5403);function le(ye){return ye<=0?()=>d.E:(0,T.e)((pe,ce)=>{let Z=0;pe.subscribe((0,se.x)(ce,ge=>{++Z<=ye&&(ce.next(ge),ye<=Z&&ce.complete())}))})}},2722:(yt,Ie,F)=>{F.d(Ie,{R:()=>ye});var d=F(4482),T=F(5403),se=F(8421),le=F(5032);function ye(pe){return(0,d.e)((ce,Z)=>{(0,se.Xf)(pe).subscribe((0,T.x)(Z,()=>Z.complete(),le.Z)),!Z.closed&&ce.subscribe(Z)})}},8505:(yt,Ie,F)=>{F.d(Ie,{b:()=>ye});var d=F(576),T=F(4482),se=F(5403),le=F(4671);function ye(pe,ce,Z){const ge=(0,d.m)(pe)||ce||Z?{next:pe,error:ce,complete:Z}:pe;return ge?(0,T.e)((we,be)=>{var Te;null===(Te=ge.subscribe)||void 0===Te||Te.call(ge);let et=!0;we.subscribe((0,se.x)(be,ue=>{var Ce;null===(Ce=ge.next)||void 0===Ce||Ce.call(ge,ue),be.next(ue)},()=>{var ue;et=!1,null===(ue=ge.complete)||void 0===ue||ue.call(ge),be.complete()},ue=>{var Ce;et=!1,null===(Ce=ge.error)||void 0===Ce||Ce.call(ge,ue),be.error(ue)},()=>{var ue,Ce;et&&(null===(ue=ge.unsubscribe)||void 0===ue||ue.call(ge)),null===(Ce=ge.finalize)||void 0===Ce||Ce.call(ge)}))}):le.y}},4408:(yt,Ie,F)=>{F.d(Ie,{o:()=>ye});var d=F(727);class T extends d.w0{constructor(ce,Z){super()}schedule(ce,Z=0){return this}}const se={setInterval(pe,ce,...Z){const{delegate:ge}=se;return ge?.setInterval?ge.setInterval(pe,ce,...Z):setInterval(pe,ce,...Z)},clearInterval(pe){const{delegate:ce}=se;return(ce?.clearInterval||clearInterval)(pe)},delegate:void 0};var le=F(8737);class ye extends T{constructor(ce,Z){super(ce,Z),this.scheduler=ce,this.work=Z,this.pending=!1}schedule(ce,Z=0){if(this.closed)return this;this.state=ce;const ge=this.id,we=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(we,ge,Z)),this.pending=!0,this.delay=Z,this.id=this.id||this.requestAsyncId(we,this.id,Z),this}requestAsyncId(ce,Z,ge=0){return se.setInterval(ce.flush.bind(ce,this),ge)}recycleAsyncId(ce,Z,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return Z;se.clearInterval(Z)}execute(ce,Z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ce,Z);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,Z){let we,ge=!1;try{this.work(ce)}catch(be){ge=!0,we=be||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),we}unsubscribe(){if(!this.closed){const{id:ce,scheduler:Z}=this,{actions:ge}=Z;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ge,this),null!=ce&&(this.id=this.recycleAsyncId(Z,ce,null)),this.delay=null,super.unsubscribe()}}}},640:(yt,Ie,F)=>{F.d(Ie,{v:()=>se});const d={now:()=>(d.delegate||Date).now(),delegate:void 0};class T{constructor(ye,pe=T.now){this.schedulerActionCtor=ye,this.now=pe}schedule(ye,pe=0,ce){return new this.schedulerActionCtor(this,ye).schedule(ce,pe)}}T.now=d.now;class se extends T{constructor(ye,pe=T.now){super(ye,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ye){const{actions:pe}=this;if(this._active)return void pe.push(ye);let ce;this._active=!0;do{if(ce=ye.execute(ye.state,ye.delay))break}while(ye=pe.shift());if(this._active=!1,ce){for(;ye=pe.shift();)ye.unsubscribe();throw ce}}}},4986:(yt,Ie,F)=>{F.d(Ie,{P:()=>le,z:()=>se});var d=F(4408);const se=new(F(640).v)(d.o),le=se},3410:(yt,Ie,F)=>{F.d(Ie,{z:()=>d});const d={setTimeout(T,se,...le){const{delegate:ye}=d;return ye?.setTimeout?ye.setTimeout(T,se,...le):setTimeout(T,se,...le)},clearTimeout(T){const{delegate:se}=d;return(se?.clearTimeout||clearTimeout)(T)},delegate:void 0}},2202:(yt,Ie,F)=>{F.d(Ie,{h:()=>T});const T=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,Ie,F)=>{F.d(Ie,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(yt,Ie,F)=>{F.d(Ie,{_6:()=>pe,jO:()=>le,yG:()=>ye});var d=F(576),T=F(3532);function se(ce){return ce[ce.length-1]}function le(ce){return(0,d.m)(se(ce))?ce.pop():void 0}function ye(ce){return(0,T.K)(se(ce))?ce.pop():void 0}function pe(ce,Z){return"number"==typeof se(ce)?ce.pop():Z}},4742:(yt,Ie,F)=>{F.d(Ie,{D:()=>ye});const{isArray:d}=Array,{getPrototypeOf:T,prototype:se,keys:le}=Object;function ye(ce){if(1===ce.length){const Z=ce[0];if(d(Z))return{args:Z,keys:null};if(function pe(ce){return ce&&"object"==typeof ce&&T(ce)===se}(Z)){const ge=le(Z);return{args:ge.map(we=>Z[we]),keys:ge}}}return{args:ce,keys:null}}},8737:(yt,Ie,F)=>{function d(T,se){if(T){const le=T.indexOf(se);0<=le&&T.splice(le,1)}}F.d(Ie,{P:()=>d})},3888:(yt,Ie,F)=>{function d(T){const le=T(ye=>{Error.call(ye),ye.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}F.d(Ie,{d:()=>d})},1810:(yt,Ie,F)=>{function d(T,se){return T.reduce((le,ye,pe)=>(le[ye]=se[pe],le),{})}F.d(Ie,{n:()=>d})},2806:(yt,Ie,F)=>{F.d(Ie,{O:()=>le,x:()=>se});var d=F(2416);let T=null;function se(ye){if(d.v.useDeprecatedSynchronousErrorHandling){const pe=!T;if(pe&&(T={errorThrown:!1,error:null}),ye(),pe){const{errorThrown:ce,error:Z}=T;if(T=null,ce)throw Z}}else ye()}function le(ye){d.v.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=ye)}},9672:(yt,Ie,F)=>{function d(T,se,le,ye=0,pe=!1){const ce=se.schedule(function(){le(),pe?T.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(T.add(ce),!pe)return ce}F.d(Ie,{f:()=>d})},4671:(yt,Ie,F)=>{function d(T){return T}F.d(Ie,{y:()=>d})},1144:(yt,Ie,F)=>{F.d(Ie,{z:()=>d});const d=T=>T&&"number"==typeof T.length&&"function"!=typeof T},2206:(yt,Ie,F)=>{F.d(Ie,{D:()=>T});var d=F(576);function T(se){return Symbol.asyncIterator&&(0,d.m)(se?.[Symbol.asyncIterator])}},576:(yt,Ie,F)=>{function d(T){return"function"==typeof T}F.d(Ie,{m:()=>d})},3670:(yt,Ie,F)=>{F.d(Ie,{c:()=>se});var d=F(8822),T=F(576);function se(le){return(0,T.m)(le[d.L])}},6495:(yt,Ie,F)=>{F.d(Ie,{T:()=>se});var d=F(2202),T=F(576);function se(le){return(0,T.m)(le?.[d.h])}},8239:(yt,Ie,F)=>{F.d(Ie,{t:()=>T});var d=F(576);function T(se){return(0,d.m)(se?.then)}},3260:(yt,Ie,F)=>{F.d(Ie,{L:()=>le,Q:()=>se});var d=F(655),T=F(576);function se(ye){return(0,d.FC)(this,arguments,function*(){const ce=ye.getReader();try{for(;;){const{value:Z,done:ge}=yield(0,d.qq)(ce.read());if(ge)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Z)}}finally{ce.releaseLock()}})}function le(ye){return(0,T.m)(ye?.getReader)}},3532:(yt,Ie,F)=>{F.d(Ie,{K:()=>T});var d=F(576);function T(se){return se&&(0,d.m)(se.schedule)}},4482:(yt,Ie,F)=>{F.d(Ie,{A:()=>T,e:()=>se});var d=F(576);function T(le){return(0,d.m)(le?.lift)}function se(le){return ye=>{if(T(ye))return ye.lift(function(pe){try{return le(pe,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(yt,Ie,F)=>{F.d(Ie,{Z:()=>le});var d=F(4004);const{isArray:T}=Array;function le(ye){return(0,d.U)(pe=>function se(ye,pe){return T(pe)?ye(...pe):ye(pe)}(ye,pe))}},5032:(yt,Ie,F)=>{function d(){}F.d(Ie,{Z:()=>d})},9635:(yt,Ie,F)=>{F.d(Ie,{U:()=>se,z:()=>T});var d=F(4671);function T(...le){return se(le)}function se(le){return 0===le.length?d.y:1===le.length?le[0]:function(pe){return le.reduce((ce,Z)=>Z(ce),pe)}}},7849:(yt,Ie,F)=>{F.d(Ie,{h:()=>se});var d=F(2416),T=F(3410);function se(le){T.z.setTimeout(()=>{const{onUnhandledError:ye}=d.v;if(!ye)throw le;ye(le)})}},4532:(yt,Ie,F)=>{function d(T){return new TypeError(`You provided ${null!==T&&"object"==typeof T?"an invalid object":`'${T}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ie,{z:()=>d})},655:(yt,Ie,F)=>{function Z(_e,Se,He,Me){return new(He||(He=Promise))(function(at,Lt){function sn($n){try{gt(Me.next($n))}catch(Je){Lt(Je)}}function pn($n){try{gt(Me.throw($n))}catch(Je){Lt(Je)}}function gt($n){$n.done?at($n.value):function it(at){return at instanceof He?at:new He(function(Lt){Lt(at)})}($n.value).then(sn,pn)}gt((Me=Me.apply(_e,Se||[])).next())})}function Ee(_e){return this instanceof Ee?(this.v=_e,this):new Ee(_e)}function Pe(_e,Se,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,Me=He.apply(_e,Se||[]),at=[];return it={},Lt("next"),Lt("throw"),Lt("return"),it[Symbol.asyncIterator]=function(){return this},it;function Lt(tt){Me[tt]&&(it[tt]=function(xe){return new Promise(function(Ve,$e){at.push([tt,xe,Ve,$e])>1||sn(tt,xe)})})}function sn(tt,xe){try{!function pn(tt){tt.value instanceof Ee?Promise.resolve(tt.value.v).then(gt,$n):Je(at[0][2],tt)}(Me[tt](xe))}catch(Ve){Je(at[0][3],Ve)}}function gt(tt){sn("next",tt)}function $n(tt){sn("throw",tt)}function Je(tt,xe){tt(xe),at.shift(),at.length&&sn(at[0][0],at[0][1])}}function Xe(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Se=_e[Symbol.asyncIterator];return Se?Se.call(_e):(_e=function Te(_e){var Se="function"==typeof Symbol&&Symbol.iterator,He=Se&&_e[Se],Me=0;if(He)return He.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&Me>=_e.length&&(_e=void 0),{value:_e&&_e[Me++],done:!_e}}};throw new TypeError(Se?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),He={},Me("next"),Me("throw"),Me("return"),He[Symbol.asyncIterator]=function(){return this},He);function Me(at){He[at]=_e[at]&&function(Lt){return new Promise(function(sn,pn){!function it(at,Lt,sn,pn){Promise.resolve(pn).then(function(gt){at({value:gt,done:sn})},Lt)}(sn,pn,(Lt=_e[at](Lt)).done,Lt.value)})}}}F.d(Ie,{FC:()=>Pe,KL:()=>Xe,mG:()=>Z,qq:()=>Ee})},7340:(yt,Ie,F)=>{F.d(Ie,{IO:()=>Ce,LC:()=>T,SB:()=>ge,X$:()=>le,ZE:()=>Tt,ZN:()=>Pe,_j:()=>d,eR:()=>be,jt:()=>ye,k1:()=>Xe,l3:()=>se,oB:()=>Z,pV:()=>et,vP:()=>ce});class d{}class T{}const se="*";function le(We,ve){return{type:7,name:We,definitions:ve,options:{}}}function ye(We,ve=null){return{type:4,styles:ve,timings:We}}function ce(We,ve=null){return{type:2,steps:We,options:ve}}function Z(We){return{type:6,styles:We,offset:null}}function ge(We,ve,Qe){return{type:0,name:We,styles:ve,options:Qe}}function be(We,ve,Qe=null){return{type:1,expr:We,animation:ve,options:Qe}}function et(We=null){return{type:9,options:We}}function Ce(We,ve,Qe=null){return{type:11,selector:We,animation:ve,options:Qe}}function Ee(We){Promise.resolve().then(We)}class Pe{constructor(ve=0,Qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ve+Qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ve=>ve()),this._onDoneFns=[])}onStart(ve){this._originalOnStartFns.push(ve),this._onStartFns.push(ve)}onDone(ve){this._originalOnDoneFns.push(ve),this._onDoneFns.push(ve)}onDestroy(ve){this._onDestroyFns.push(ve)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ee(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ve=>ve()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ve=>ve()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ve){this._position=this.totalTime?ve*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ve){const Qe="start"==ve?this._onStartFns:this._onDoneFns;Qe.forEach(_t=>_t()),Qe.length=0}}class Tt{constructor(ve){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ve;let Qe=0,_t=0,ft=0;const ut=this.players.length;0==ut?Ee(()=>this._onFinish()):this.players.forEach(ct=>{ct.onDone(()=>{++Qe==ut&&this._onFinish()}),ct.onDestroy(()=>{++_t==ut&&this._onDestroy()}),ct.onStart(()=>{++ft==ut&&this._onStart()})}),this.totalTime=this.players.reduce((ct,_e)=>Math.max(ct,_e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ve=>ve()),this._onDoneFns=[])}init(){this.players.forEach(ve=>ve.init())}onStart(ve){this._onStartFns.push(ve)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ve=>ve()),this._onStartFns=[])}onDone(ve){this._onDoneFns.push(ve)}onDestroy(ve){this._onDestroyFns.push(ve)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ve=>ve.play())}pause(){this.players.forEach(ve=>ve.pause())}restart(){this.players.forEach(ve=>ve.restart())}finish(){this._onFinish(),this.players.forEach(ve=>ve.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ve=>ve.destroy()),this._onDestroyFns.forEach(ve=>ve()),this._onDestroyFns=[])}reset(){this.players.forEach(ve=>ve.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ve){const Qe=ve*this.totalTime;this.players.forEach(_t=>{const ft=_t.totalTime?Math.min(1,Qe/_t.totalTime):1;_t.setPosition(ft)})}getPosition(){const ve=this.players.reduce((Qe,_t)=>null===Qe||_t.totalTime>Qe.totalTime?_t:Qe,null);return null!=ve?ve.getPosition():0}beforeDestroy(){this.players.forEach(ve=>{ve.beforeDestroy&&ve.beforeDestroy()})}triggerCallback(ve){const Qe="start"==ve?this._onStartFns:this._onDoneFns;Qe.forEach(_t=>_t()),Qe.length=0}}const Xe="!"},6895:(yt,Ie,F)=>{F.d(Ie,{Do:()=>Xe,EM:()=>ss,HT:()=>ye,JF:()=>Mi,JJ:()=>Vt,K0:()=>ce,Mx:()=>rr,NF:()=>ks,Nd:()=>fn,O5:()=>Dn,OU:()=>Xi,Ov:()=>Ui,PC:()=>ii,S$:()=>Ee,V_:()=>we,Ye:()=>We,b0:()=>Tt,bD:()=>mi,ez:()=>gi,mk:()=>xn,q:()=>se,rS:()=>Rr,sg:()=>xi,tP:()=>Di,w_:()=>pe});var d=F(4650);let T=null;function se(){return T}function ye(E){T||(T=E)}class pe{}const ce=new d.OlP("DocumentToken");let Z=(()=>{class E{historyGo(A){throw new Error("Not implemented")}}return E.\u0275fac=function(A){return new(A||E)},E.\u0275prov=d.Yz7({token:E,factory:function(){return function ge(){return(0,d.LFG)(be)}()},providedIn:"platform"}),E})();const we=new d.OlP("Location Initialized");let be=(()=>{class E extends Z{constructor(A){super(),this._doc=A,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return se().getBaseHref(this._doc)}onPopState(A){const W=se().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",A,!1),()=>W.removeEventListener("popstate",A)}onHashChange(A){const W=se().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",A,!1),()=>W.removeEventListener("hashchange",A)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(A){this.location.pathname=A}pushState(A,W,re){Te()?this._history.pushState(A,W,re):this.location.hash=re}replaceState(A,W,re){Te()?this._history.replaceState(A,W,re):this.location.hash=re}forward(){this._history.forward()}back(){this._history.back()}historyGo(A=0){this._history.go(A)}getState(){return this._history.state}}return E.\u0275fac=function(A){return new(A||E)(d.LFG(ce))},E.\u0275prov=d.Yz7({token:E,factory:function(){return function et(){return new be((0,d.LFG)(ce))}()},providedIn:"platform"}),E})();function Te(){return!!window.history.pushState}function ue(E,B){if(0==E.length)return B;if(0==B.length)return E;let A=0;return E.endsWith("/")&&A++,B.startsWith("/")&&A++,2==A?E+B.substring(1):1==A?E+B:E+"/"+B}function Ce(E){const B=E.match(/#|\?|$/),A=B&&B.index||E.length;return E.slice(0,A-("/"===E[A-1]?1:0))+E.slice(A)}function lt(E){return E&&"?"!==E[0]?"?"+E:E}let Ee=(()=>{class E{historyGo(A){throw new Error("Not implemented")}}return E.\u0275fac=function(A){return new(A||E)},E.\u0275prov=d.Yz7({token:E,factory:function(){return(0,d.f3M)(Tt)},providedIn:"root"}),E})();const Pe=new d.OlP("appBaseHref");let Tt=(()=>{class E extends Ee{constructor(A,W){super(),this._platformLocation=A,this._removeListenerFns=[],this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}prepareExternalUrl(A){return ue(this._baseHref,A)}path(A=!1){const W=this._platformLocation.pathname+lt(this._platformLocation.search),re=this._platformLocation.hash;return re&&A?`${W}${re}`:W}pushState(A,W,re,ke){const ze=this.prepareExternalUrl(re+lt(ke));this._platformLocation.pushState(A,W,ze)}replaceState(A,W,re,ke){const ze=this.prepareExternalUrl(re+lt(ke));this._platformLocation.replaceState(A,W,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}}return E.\u0275fac=function(A){return new(A||E)(d.LFG(Z),d.LFG(Pe,8))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Xe=(()=>{class E extends Ee{constructor(A,W){super(),this._platformLocation=A,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}path(A=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(A){const W=ue(this._baseHref,A);return W.length>0?"#"+W:W}pushState(A,W,re,ke){let ze=this.prepareExternalUrl(re+lt(ke));0==ze.length&&(ze=this._platformLocation.pathname),this._platformLocation.pushState(A,W,ze)}replaceState(A,W,re,ke){let ze=this.prepareExternalUrl(re+lt(ke));0==ze.length&&(ze=this._platformLocation.pathname),this._platformLocation.replaceState(A,W,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}}return E.\u0275fac=function(A){return new(A||E)(d.LFG(Z),d.LFG(Pe,8))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac}),E})(),We=(()=>{class E{constructor(A){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=A;const W=this._locationStrategy.getBaseHref();this._baseHref=Ce(_t(W)),this._locationStrategy.onPopState(re=>{this._subject.emit({url:this.path(!0),pop:!0,state:re.state,type:re.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(A=!1){return this.normalize(this._locationStrategy.path(A))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(A,W=""){return this.path()==this.normalize(A+lt(W))}normalize(A){return E.stripTrailingSlash(function Qe(E,B){return E&&B.startsWith(E)?B.substring(E.length):B}(this._baseHref,_t(A)))}prepareExternalUrl(A){return A&&"/"!==A[0]&&(A="/"+A),this._locationStrategy.prepareExternalUrl(A)}go(A,W="",re=null){this._locationStrategy.pushState(re,"",A,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+lt(W)),re)}replaceState(A,W="",re=null){this._locationStrategy.replaceState(re,"",A,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+lt(W)),re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(A=0){this._locationStrategy.historyGo?.(A)}onUrlChange(A){return this._urlChangeListeners.push(A),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(A);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(A="",W){this._urlChangeListeners.forEach(re=>re(A,W))}subscribe(A,W,re){return this._subject.subscribe({next:A,error:W,complete:re})}}return E.normalizeQueryParams=lt,E.joinWithSlash=ue,E.stripTrailingSlash=Ce,E.\u0275fac=function(A){return new(A||E)(d.LFG(Ee))},E.\u0275prov=d.Yz7({token:E,factory:function(){return function ve(){return new We((0,d.LFG)(Ee))}()},providedIn:"root"}),E})();function _t(E){return E.replace(/\/index.html$/,"")}var ut=(()=>((ut=ut||{})[ut.Decimal=0]="Decimal",ut[ut.Percent=1]="Percent",ut[ut.Currency=2]="Currency",ut[ut.Scientific=3]="Scientific",ut))(),Me=(()=>((Me=Me||{})[Me.Decimal=0]="Decimal",Me[Me.Group=1]="Group",Me[Me.List=2]="List",Me[Me.PercentSign=3]="PercentSign",Me[Me.PlusSign=4]="PlusSign",Me[Me.MinusSign=5]="MinusSign",Me[Me.Exponential=6]="Exponential",Me[Me.SuperscriptingExponent=7]="SuperscriptingExponent",Me[Me.PerMille=8]="PerMille",Me[Me.Infinity=9]="Infinity",Me[Me.NaN=10]="NaN",Me[Me.TimeSeparator=11]="TimeSeparator",Me[Me.CurrencyDecimal=12]="CurrencyDecimal",Me[Me.CurrencyGroup=13]="CurrencyGroup",Me))();function $e(E,B){const A=(0,d.cg1)(E),W=A[d.wAp.NumberSymbols][B];if(typeof W>"u"){if(B===Me.CurrencyDecimal)return A[d.wAp.NumberSymbols][Me.Decimal];if(B===Me.CurrencyGroup)return A[d.wAp.NumberSymbols][Me.Group]}return W}const Fe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,G=".",q="0";function tr(E){const B=parseInt(E);if(isNaN(B))throw new Error("Invalid integer literal when parsing "+E);return B}function rr(E,B){B=encodeURIComponent(B);for(const A of E.split(";")){const W=A.indexOf("="),[re,ke]=-1==W?[A,""]:[A.slice(0,W),A.slice(W+1)];if(re.trim()===B)return decodeURIComponent(ke)}return null}let xn=(()=>{class E{constructor(A,W,re,ke){this._iterableDiffers=A,this._keyValueDiffers=W,this._ngEl=re,this._renderer=ke,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(A){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof A?A.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(A){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof A?A.split(/\s+/):A,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const A=this._iterableDiffer.diff(this._rawClass);A&&this._applyIterableChanges(A)}else if(this._keyValueDiffer){const A=this._keyValueDiffer.diff(this._rawClass);A&&this._applyKeyValueChanges(A)}}_applyKeyValueChanges(A){A.forEachAddedItem(W=>this._toggleClass(W.key,W.currentValue)),A.forEachChangedItem(W=>this._toggleClass(W.key,W.currentValue)),A.forEachRemovedItem(W=>{W.previousValue&&this._toggleClass(W.key,!1)})}_applyIterableChanges(A){A.forEachAddedItem(W=>{if("string"!=typeof W.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(W.item)}`);this._toggleClass(W.item,!0)}),A.forEachRemovedItem(W=>this._toggleClass(W.item,!1))}_applyClasses(A){A&&(Array.isArray(A)||A instanceof Set?A.forEach(W=>this._toggleClass(W,!0)):Object.keys(A).forEach(W=>this._toggleClass(W,!!A[W])))}_removeClasses(A){A&&(Array.isArray(A)||A instanceof Set?A.forEach(W=>this._toggleClass(W,!1)):Object.keys(A).forEach(W=>this._toggleClass(W,!1)))}_toggleClass(A,W){(A=A.trim())&&A.split(/\s+/g).forEach(re=>{W?this._renderer.addClass(this._ngEl.nativeElement,re):this._renderer.removeClass(this._ngEl.nativeElement,re)})}}return E.\u0275fac=function(A){return new(A||E)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},E.\u0275dir=d.lG2({type:E,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),E})();class Bi{constructor(B,A,W,re){this.$implicit=B,this.ngForOf=A,this.index=W,this.count=re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xi=(()=>{class E{constructor(A,W,re){this._viewContainer=A,this._template=W,this._differs=re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(A){this._ngForOf=A,this._ngForOfDirty=!0}set ngForTrackBy(A){this._trackByFn=A}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(A){A&&(this._template=A)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const A=this._ngForOf;!this._differ&&A&&(this._differ=this._differs.find(A).create(this.ngForTrackBy))}if(this._differ){const A=this._differ.diff(this._ngForOf);A&&this._applyChanges(A)}}_applyChanges(A){const W=this._viewContainer;A.forEachOperation((re,ke,ze)=>{if(null==re.previousIndex)W.createEmbeddedView(this._template,new Bi(re.item,this._ngForOf,-1,-1),null===ze?void 0:ze);else if(null==ze)W.remove(null===ke?void 0:ke);else if(null!==ke){const wt=W.get(ke);W.move(wt,ze),Yr(wt,re)}});for(let re=0,ke=W.length;re<ke;re++){const wt=W.get(re).context;wt.index=re,wt.count=ke,wt.ngForOf=this._ngForOf}A.forEachIdentityChange(re=>{Yr(W.get(re.currentIndex),re)})}static ngTemplateContextGuard(A,W){return!0}}return E.\u0275fac=function(A){return new(A||E)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},E.\u0275dir=d.lG2({type:E,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),E})();function Yr(E,B){E.context.$implicit=B.item}let Dn=(()=>{class E{constructor(A,W){this._viewContainer=A,this._context=new hi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(A){this._context.$implicit=this._context.ngIf=A,this._updateView()}set ngIfThen(A){Wn("ngIfThen",A),this._thenTemplateRef=A,this._thenViewRef=null,this._updateView()}set ngIfElse(A){Wn("ngIfElse",A),this._elseTemplateRef=A,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(A,W){return!0}}return E.\u0275fac=function(A){return new(A||E)(d.Y36(d.s_b),d.Y36(d.Rgc))},E.\u0275dir=d.lG2({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),E})();class hi{constructor(){this.$implicit=null,this.ngIf=null}}function Wn(E,B){if(B&&!B.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,d.AaK)(B)}'.`)}let ii=(()=>{class E{constructor(A,W,re){this._ngEl=A,this._differs=W,this._renderer=re,this._ngStyle=null,this._differ=null}set ngStyle(A){this._ngStyle=A,!this._differ&&A&&(this._differ=this._differs.find(A).create())}ngDoCheck(){if(this._differ){const A=this._differ.diff(this._ngStyle);A&&this._applyChanges(A)}}_setStyle(A,W){const[re,ke]=A.split("."),ze=-1===re.indexOf("-")?void 0:d.JOm.DashCase;null!=W?this._renderer.setStyle(this._ngEl.nativeElement,re,ke?`${W}${ke}`:W,ze):this._renderer.removeStyle(this._ngEl.nativeElement,re,ze)}_applyChanges(A){A.forEachRemovedItem(W=>this._setStyle(W.key,null)),A.forEachAddedItem(W=>this._setStyle(W.key,W.currentValue)),A.forEachChangedItem(W=>this._setStyle(W.key,W.currentValue))}}return E.\u0275fac=function(A){return new(A||E)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},E.\u0275dir=d.lG2({type:E,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),E})(),Di=(()=>{class E{constructor(A){this._viewContainerRef=A,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(A){if(A.ngTemplateOutlet||A.ngTemplateOutletInjector){const W=this._viewContainerRef;if(this._viewRef&&W.remove(W.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:re,ngTemplateOutletContext:ke,ngTemplateOutletInjector:ze}=this;this._viewRef=W.createEmbeddedView(re,ke,ze?{injector:ze}:void 0)}else this._viewRef=null}else this._viewRef&&A.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return E.\u0275fac=function(A){return new(A||E)(d.Y36(d.s_b))},E.\u0275dir=d.lG2({type:E,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),E})();function Sr(E,B){return new d.vHH(2100,!1)}class Os{createSubscription(B,A){return B.subscribe({next:A,error:W=>{throw W}})}dispose(B){B.unsubscribe()}}class To{createSubscription(B,A){return B.then(A,W=>{throw W})}dispose(B){}}const Ns=new To,Hi=new Os;let Ui=(()=>{class E{constructor(A){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=A}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(A){return this._obj?A!==this._obj?(this._dispose(),this.transform(A)):this._latestValue:(A&&this._subscribe(A),this._latestValue)}_subscribe(A){this._obj=A,this._strategy=this._selectStrategy(A),this._subscription=this._strategy.createSubscription(A,W=>this._updateLatestValue(A,W))}_selectStrategy(A){if((0,d.QGY)(A))return Ns;if((0,d.F4k)(A))return Hi;throw Sr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(A,W){A===this._obj&&(this._latestValue=W,this._ref.markForCheck())}}return E.\u0275fac=function(A){return new(A||E)(d.Y36(d.sBO,16))},E.\u0275pipe=d.Yjl({name:"async",type:E,pure:!1,standalone:!0}),E})();const zi=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Rr=(()=>{class E{transform(A){if(null==A)return null;if("string"!=typeof A)throw Sr();return A.replace(zi,W=>W[0].toUpperCase()+W.slice(1).toLowerCase())}}return E.\u0275fac=function(A){return new(A||E)},E.\u0275pipe=d.Yjl({name:"titlecase",type:E,pure:!0,standalone:!0}),E})(),fn=(()=>{class E{constructor(A){this.differs=A,this.keyValues=[],this.compareFn=Tr}transform(A,W=Tr){if(!A||!(A instanceof Map)&&"object"!=typeof A)return null;this.differ||(this.differ=this.differs.find(A).create());const re=this.differ.diff(A),ke=W!==this.compareFn;return re&&(this.keyValues=[],re.forEachItem(ze=>{this.keyValues.push(function si(E,B){return{key:E,value:B}}(ze.key,ze.currentValue))})),(re||ke)&&(this.keyValues.sort(W),this.compareFn=W),this.keyValues}}return E.\u0275fac=function(A){return new(A||E)(d.Y36(d.aQg,16))},E.\u0275pipe=d.Yjl({name:"keyvalue",type:E,pure:!1,standalone:!0}),E})();function Tr(E,B){const A=E.key,W=B.key;if(A===W)return 0;if(void 0===A)return 1;if(void 0===W)return-1;if(null===A)return 1;if(null===W)return-1;if("string"==typeof A&&"string"==typeof W)return A<W?-1:1;if("number"==typeof A&&"number"==typeof W)return A-W;if("boolean"==typeof A&&"boolean"==typeof W)return A<W?-1:1;const re=String(A),ke=String(W);return re==ke?0:re<ke?-1:1}let Vt=(()=>{class E{constructor(A){this._locale=A}transform(A,W,re){if(!function Qi(E){return!(null==E||""===E||E!=E)}(A))return null;re=re||this._locale;try{return function Mt(E,B,A){return function bt(E,B,A,W,re,ke,ze=!1){let wt="",_n=!1;if(isFinite(E)){let nn=function Sn(E){let W,re,ke,ze,wt,B=Math.abs(E)+"",A=0;for((re=B.indexOf(G))>-1&&(B=B.replace(G,"")),(ke=B.search(/e/i))>0?(re<0&&(re=ke),re+=+B.slice(ke+1),B=B.substring(0,ke)):re<0&&(re=B.length),ke=0;B.charAt(ke)===q;ke++);if(ke===(wt=B.length))W=[0],re=1;else{for(wt--;B.charAt(wt)===q;)wt--;for(re-=ke,W=[],ze=0;ke<=wt;ke++,ze++)W[ze]=Number(B.charAt(ke))}return re>22&&(W=W.splice(0,21),A=re-1,re=1),{digits:W,exponent:A,integerLen:re}}(E);ze&&(nn=function Pt(E){if(0===E.digits[0])return E;const B=E.digits.length-E.integerLen;return E.exponent?E.exponent+=2:(0===B?E.digits.push(0,0):1===B&&E.digits.push(0),E.integerLen+=2),E}(nn));let bn=B.minInt,Jt=B.minFrac,Tn=B.maxFrac;if(ke){const Ai=ke.match(Fe);if(null===Ai)throw new Error(`${ke} is not a valid digit info`);const Or=Ai[1],wi=Ai[3],wo=Ai[5];null!=Or&&(bn=tr(Or)),null!=wi&&(Jt=tr(wi)),null!=wo?Tn=tr(wo):null!=wi&&Jt>Tn&&(Tn=Jt)}!function Kn(E,B,A){if(B>A)throw new Error(`The minimum number of digits after fraction (${B}) is higher than the maximum (${A}).`);let W=E.digits,re=W.length-E.integerLen;const ke=Math.min(Math.max(B,re),A);let ze=ke+E.integerLen,wt=W[ze];if(ze>0){W.splice(Math.max(E.integerLen,ze));for(let Jt=ze;Jt<W.length;Jt++)W[Jt]=0}else{re=Math.max(0,re),E.integerLen=1,W.length=Math.max(1,ze=ke+1),W[0]=0;for(let Jt=1;Jt<ze;Jt++)W[Jt]=0}if(wt>=5)if(ze-1<0){for(let Jt=0;Jt>ze;Jt--)W.unshift(0),E.integerLen++;W.unshift(1),E.integerLen++}else W[ze-1]++;for(;re<Math.max(0,ke);re++)W.push(0);let _n=0!==ke;const nn=B+E.integerLen,bn=W.reduceRight(function(Jt,Tn,mn,Gn){return Gn[mn]=(Tn+=Jt)<10?Tn:Tn-10,_n&&(0===Gn[mn]&&mn>=nn?Gn.pop():_n=!1),Tn>=10?1:0},0);bn&&(W.unshift(bn),E.integerLen++)}(nn,Jt,Tn);let mn=nn.digits,Gn=nn.integerLen;const vi=nn.exponent;let cr=[];for(_n=mn.every(Ai=>!Ai);Gn<bn;Gn++)mn.unshift(0);for(;Gn<0;Gn++)mn.unshift(0);Gn>0?cr=mn.splice(Gn,mn.length):(cr=mn,mn=[0]);const Ir=[];for(mn.length>=B.lgSize&&Ir.unshift(mn.splice(-B.lgSize,mn.length).join(""));mn.length>B.gSize;)Ir.unshift(mn.splice(-B.gSize,mn.length).join(""));mn.length&&Ir.unshift(mn.join("")),wt=Ir.join($e(A,W)),cr.length&&(wt+=$e(A,re)+cr.join("")),vi&&(wt+=$e(A,Me.Exponential)+"+"+vi)}else wt=$e(A,Me.Infinity);return wt=E<0&&!_n?B.negPre+wt+B.negSuf:B.posPre+wt+B.posSuf,wt}(E,function Bt(E,B="-"){const A={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},W=E.split(";"),re=W[0],ke=W[1],ze=-1!==re.indexOf(G)?re.split(G):[re.substring(0,re.lastIndexOf(q)+1),re.substring(re.lastIndexOf(q)+1)],wt=ze[0],_n=ze[1]||"";A.posPre=wt.substring(0,wt.indexOf("#"));for(let bn=0;bn<_n.length;bn++){const Jt=_n.charAt(bn);Jt===q?A.minFrac=A.maxFrac=bn+1:"#"===Jt?A.maxFrac=bn+1:A.posSuf+=Jt}const nn=wt.split(",");if(A.gSize=nn[1]?nn[1].length:0,A.lgSize=nn[2]||nn[1]?(nn[2]||nn[1]).length:0,ke){const bn=re.length-A.posPre.length-A.posSuf.length,Jt=ke.indexOf("#");A.negPre=ke.substring(0,Jt).replace(/'/g,""),A.negSuf=ke.slice(Jt+bn).replace(/'/g,"")}else A.negPre=B+A.posPre,A.negSuf=A.posSuf;return A}(function zt(E,B){return(0,d.cg1)(E)[d.wAp.NumberFormats][B]}(B,ut.Decimal),$e(B,Me.MinusSign)),B,Me.Group,Me.Decimal,A)}(function _r(E){if("string"==typeof E&&!isNaN(Number(E)-parseFloat(E)))return Number(E);if("number"!=typeof E)throw new Error(`${E} is not a number`);return E}(A),re,W)}catch(ke){throw Sr()}}}return E.\u0275fac=function(A){return new(A||E)(d.Y36(d.soG,16))},E.\u0275pipe=d.Yjl({name:"number",type:E,pure:!0,standalone:!0}),E})();let Xi=(()=>{class E{transform(A,W,re){if(null==A)return null;if(!this.supports(A))throw Sr();return A.slice(W,re)}supports(A){return"string"==typeof A||Array.isArray(A)}}return E.\u0275fac=function(A){return new(A||E)},E.\u0275pipe=d.Yjl({name:"slice",type:E,pure:!1,standalone:!0}),E})(),gi=(()=>{class E{}return E.\u0275fac=function(A){return new(A||E)},E.\u0275mod=d.oAB({type:E}),E.\u0275inj=d.cJS({}),E})();const mi="browser";function ks(E){return E===mi}let ss=(()=>{class E{}return E.\u0275prov=(0,d.Yz7)({token:E,providedIn:"root",factory:()=>new as((0,d.LFG)(ce),window)}),E})();class as{constructor(B,A){this.document=B,this.window=A,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const A=function Pn(E,B){const A=E.getElementById(B)||E.getElementsByName(B)[0];if(A)return A;if("function"==typeof E.createTreeWalker&&E.body&&(E.body.createShadowRoot||E.body.attachShadow)){const W=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let re=W.currentNode;for(;re;){const ke=re.shadowRoot;if(ke){const ze=ke.getElementById(B)||ke.querySelector(`[name="${B}"]`);if(ze)return ze}re=W.nextNode()}}return null}(this.document,B);A&&(this.scrollToElement(A),A.focus())}setHistoryScrollRestoration(B){if(this.supportScrollRestoration()){const A=this.window.history;A&&A.scrollRestoration&&(A.scrollRestoration=B)}}scrollToElement(B){const A=B.getBoundingClientRect(),W=A.left+this.window.pageXOffset,re=A.top+this.window.pageYOffset,ke=this.offset();this.window.scrollTo(W-ke[0],re-ke[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const B=xr(this.window.history)||xr(Object.getPrototypeOf(this.window.history));return!(!B||!B.writable&&!B.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xr(E){return Object.getOwnPropertyDescriptor(E,"scrollRestoration")}class Mi{}},529:(yt,Ie,F)=>{F.d(Ie,{JF:()=>yr,TP:()=>sn,WM:()=>we,eN:()=>at});var d=F(6895),T=F(4650),se=F(9646),le=F(9751),ye=F(4351),pe=F(9300),ce=F(4004);class Z{}class ge{}class we{constructor(de){this.normalizedNames=new Map,this.lazyUpdate=null,de?this.lazyInit="string"==typeof de?()=>{this.headers=new Map,de.split("\n").forEach(te=>{const Le=te.indexOf(":");if(Le>0){const Ge=te.slice(0,Le),It=Ge.toLowerCase(),kt=te.slice(Le+1).trim();this.maybeSetNormalizedName(Ge,It),this.headers.has(It)?this.headers.get(It).push(kt):this.headers.set(It,[kt])}})}:()=>{this.headers=new Map,Object.keys(de).forEach(te=>{let Le=de[te];const Ge=te.toLowerCase();"string"==typeof Le&&(Le=[Le]),Le.length>0&&(this.headers.set(Ge,Le),this.maybeSetNormalizedName(te,Ge))})}:this.headers=new Map}has(de){return this.init(),this.headers.has(de.toLowerCase())}get(de){this.init();const te=this.headers.get(de.toLowerCase());return te&&te.length>0?te[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(de){return this.init(),this.headers.get(de.toLowerCase())||null}append(de,te){return this.clone({name:de,value:te,op:"a"})}set(de,te){return this.clone({name:de,value:te,op:"s"})}delete(de,te){return this.clone({name:de,value:te,op:"d"})}maybeSetNormalizedName(de,te){this.normalizedNames.has(te)||this.normalizedNames.set(te,de)}init(){this.lazyInit&&(this.lazyInit instanceof we?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(de=>this.applyUpdate(de)),this.lazyUpdate=null))}copyFrom(de){de.init(),Array.from(de.headers.keys()).forEach(te=>{this.headers.set(te,de.headers.get(te)),this.normalizedNames.set(te,de.normalizedNames.get(te))})}clone(de){const te=new we;return te.lazyInit=this.lazyInit&&this.lazyInit instanceof we?this.lazyInit:this,te.lazyUpdate=(this.lazyUpdate||[]).concat([de]),te}applyUpdate(de){const te=de.name.toLowerCase();switch(de.op){case"a":case"s":let Le=de.value;if("string"==typeof Le&&(Le=[Le]),0===Le.length)return;this.maybeSetNormalizedName(de.name,te);const Ge=("a"===de.op?this.headers.get(te):void 0)||[];Ge.push(...Le),this.headers.set(te,Ge);break;case"d":const It=de.value;if(It){let kt=this.headers.get(te);if(!kt)return;kt=kt.filter(vt=>-1===It.indexOf(vt)),0===kt.length?(this.headers.delete(te),this.normalizedNames.delete(te)):this.headers.set(te,kt)}else this.headers.delete(te),this.normalizedNames.delete(te)}}forEach(de){this.init(),Array.from(this.normalizedNames.keys()).forEach(te=>de(this.normalizedNames.get(te),this.headers.get(te)))}}class Te{encodeKey(de){return lt(de)}encodeValue(de){return lt(de)}decodeKey(de){return decodeURIComponent(de)}decodeValue(de){return decodeURIComponent(de)}}const ue=/%(\d[a-f0-9])/gi,Ce={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lt(Ue){return encodeURIComponent(Ue).replace(ue,(de,te)=>Ce[te]??de)}function Ee(Ue){return`${Ue}`}class Pe{constructor(de={}){if(this.updates=null,this.cloneFrom=null,this.encoder=de.encoder||new Te,de.fromString){if(de.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function et(Ue,de){const te=new Map;return Ue.length>0&&Ue.replace(/^\?/,"").split("&").forEach(Ge=>{const It=Ge.indexOf("="),[kt,vt]=-1==It?[de.decodeKey(Ge),""]:[de.decodeKey(Ge.slice(0,It)),de.decodeValue(Ge.slice(It+1))],st=te.get(kt)||[];st.push(vt),te.set(kt,st)}),te}(de.fromString,this.encoder)}else de.fromObject?(this.map=new Map,Object.keys(de.fromObject).forEach(te=>{const Le=de.fromObject[te],Ge=Array.isArray(Le)?Le.map(Ee):[Ee(Le)];this.map.set(te,Ge)})):this.map=null}has(de){return this.init(),this.map.has(de)}get(de){this.init();const te=this.map.get(de);return te?te[0]:null}getAll(de){return this.init(),this.map.get(de)||null}keys(){return this.init(),Array.from(this.map.keys())}append(de,te){return this.clone({param:de,value:te,op:"a"})}appendAll(de){const te=[];return Object.keys(de).forEach(Le=>{const Ge=de[Le];Array.isArray(Ge)?Ge.forEach(It=>{te.push({param:Le,value:It,op:"a"})}):te.push({param:Le,value:Ge,op:"a"})}),this.clone(te)}set(de,te){return this.clone({param:de,value:te,op:"s"})}delete(de,te){return this.clone({param:de,value:te,op:"d"})}toString(){return this.init(),this.keys().map(de=>{const te=this.encoder.encodeKey(de);return this.map.get(de).map(Le=>te+"="+this.encoder.encodeValue(Le)).join("&")}).filter(de=>""!==de).join("&")}clone(de){const te=new Pe({encoder:this.encoder});return te.cloneFrom=this.cloneFrom||this,te.updates=(this.updates||[]).concat(de),te}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(de=>this.map.set(de,this.cloneFrom.map.get(de))),this.updates.forEach(de=>{switch(de.op){case"a":case"s":const te=("a"===de.op?this.map.get(de.param):void 0)||[];te.push(Ee(de.value)),this.map.set(de.param,te);break;case"d":if(void 0===de.value){this.map.delete(de.param);break}{let Le=this.map.get(de.param)||[];const Ge=Le.indexOf(Ee(de.value));-1!==Ge&&Le.splice(Ge,1),Le.length>0?this.map.set(de.param,Le):this.map.delete(de.param)}}}),this.cloneFrom=this.updates=null)}}class Xe{constructor(){this.map=new Map}set(de,te){return this.map.set(de,te),this}get(de){return this.map.has(de)||this.map.set(de,de.defaultValue()),this.map.get(de)}delete(de){return this.map.delete(de),this}has(de){return this.map.has(de)}keys(){return this.map.keys()}}function ve(Ue){return typeof ArrayBuffer<"u"&&Ue instanceof ArrayBuffer}function Qe(Ue){return typeof Blob<"u"&&Ue instanceof Blob}function _t(Ue){return typeof FormData<"u"&&Ue instanceof FormData}class ut{constructor(de,te,Le,Ge){let It;if(this.url=te,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=de.toUpperCase(),function We(Ue){switch(Ue){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ge?(this.body=void 0!==Le?Le:null,It=Ge):It=Le,It&&(this.reportProgress=!!It.reportProgress,this.withCredentials=!!It.withCredentials,It.responseType&&(this.responseType=It.responseType),It.headers&&(this.headers=It.headers),It.context&&(this.context=It.context),It.params&&(this.params=It.params)),this.headers||(this.headers=new we),this.context||(this.context=new Xe),this.params){const kt=this.params.toString();if(0===kt.length)this.urlWithParams=te;else{const vt=te.indexOf("?");this.urlWithParams=te+(-1===vt?"?":vt<te.length-1?"&":"")+kt}}else this.params=new Pe,this.urlWithParams=te}serializeBody(){return null===this.body?null:ve(this.body)||Qe(this.body)||_t(this.body)||function ft(Ue){return typeof URLSearchParams<"u"&&Ue instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_t(this.body)?null:Qe(this.body)?this.body.type||null:ve(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(de={}){const te=de.method||this.method,Le=de.url||this.url,Ge=de.responseType||this.responseType,It=void 0!==de.body?de.body:this.body,kt=void 0!==de.withCredentials?de.withCredentials:this.withCredentials,vt=void 0!==de.reportProgress?de.reportProgress:this.reportProgress;let st=de.headers||this.headers,gn=de.params||this.params;const Zt=de.context??this.context;return void 0!==de.setHeaders&&(st=Object.keys(de.setHeaders).reduce((nr,Wt)=>nr.set(Wt,de.setHeaders[Wt]),st)),de.setParams&&(gn=Object.keys(de.setParams).reduce((nr,Wt)=>nr.set(Wt,de.setParams[Wt]),gn)),new ut(te,Le,It,{params:gn,headers:st,context:Zt,reportProgress:vt,responseType:Ge,withCredentials:kt})}}var ct=(()=>((ct=ct||{})[ct.Sent=0]="Sent",ct[ct.UploadProgress=1]="UploadProgress",ct[ct.ResponseHeader=2]="ResponseHeader",ct[ct.DownloadProgress=3]="DownloadProgress",ct[ct.Response=4]="Response",ct[ct.User=5]="User",ct))();class _e{constructor(de,te=200,Le="OK"){this.headers=de.headers||new we,this.status=void 0!==de.status?de.status:te,this.statusText=de.statusText||Le,this.url=de.url||null,this.ok=this.status>=200&&this.status<300}}class Se extends _e{constructor(de={}){super(de),this.type=ct.ResponseHeader}clone(de={}){return new Se({headers:de.headers||this.headers,status:void 0!==de.status?de.status:this.status,statusText:de.statusText||this.statusText,url:de.url||this.url||void 0})}}class He extends _e{constructor(de={}){super(de),this.type=ct.Response,this.body=void 0!==de.body?de.body:null}clone(de={}){return new He({body:void 0!==de.body?de.body:this.body,headers:de.headers||this.headers,status:void 0!==de.status?de.status:this.status,statusText:de.statusText||this.statusText,url:de.url||this.url||void 0})}}class Me extends _e{constructor(de){super(de,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${de.url||"(unknown url)"}`:`Http failure response for ${de.url||"(unknown url)"}: ${de.status} ${de.statusText}`,this.error=de.error||null}}function it(Ue,de){return{body:de,headers:Ue.headers,context:Ue.context,observe:Ue.observe,params:Ue.params,reportProgress:Ue.reportProgress,responseType:Ue.responseType,withCredentials:Ue.withCredentials}}let at=(()=>{class Ue{constructor(te){this.handler=te}request(te,Le,Ge={}){let It;if(te instanceof ut)It=te;else{let st,gn;st=Ge.headers instanceof we?Ge.headers:new we(Ge.headers),Ge.params&&(gn=Ge.params instanceof Pe?Ge.params:new Pe({fromObject:Ge.params})),It=new ut(te,Le,void 0!==Ge.body?Ge.body:null,{headers:st,context:Ge.context,params:gn,reportProgress:Ge.reportProgress,responseType:Ge.responseType||"json",withCredentials:Ge.withCredentials})}const kt=(0,se.of)(It).pipe((0,ye.b)(st=>this.handler.handle(st)));if(te instanceof ut||"events"===Ge.observe)return kt;const vt=kt.pipe((0,pe.h)(st=>st instanceof He));switch(Ge.observe||"body"){case"body":switch(It.responseType){case"arraybuffer":return vt.pipe((0,ce.U)(st=>{if(null!==st.body&&!(st.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return st.body}));case"blob":return vt.pipe((0,ce.U)(st=>{if(null!==st.body&&!(st.body instanceof Blob))throw new Error("Response is not a Blob.");return st.body}));case"text":return vt.pipe((0,ce.U)(st=>{if(null!==st.body&&"string"!=typeof st.body)throw new Error("Response is not a string.");return st.body}));default:return vt.pipe((0,ce.U)(st=>st.body))}case"response":return vt;default:throw new Error(`Unreachable: unhandled observe type ${Ge.observe}}`)}}delete(te,Le={}){return this.request("DELETE",te,Le)}get(te,Le={}){return this.request("GET",te,Le)}head(te,Le={}){return this.request("HEAD",te,Le)}jsonp(te,Le){return this.request("JSONP",te,{params:(new Pe).append(Le,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(te,Le={}){return this.request("OPTIONS",te,Le)}patch(te,Le,Ge={}){return this.request("PATCH",te,it(Ge,Le))}post(te,Le,Ge={}){return this.request("POST",te,it(Ge,Le))}put(te,Le,Ge={}){return this.request("PUT",te,it(Ge,Le))}}return Ue.\u0275fac=function(te){return new(te||Ue)(T.LFG(Z))},Ue.\u0275prov=T.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();class Lt{constructor(de,te){this.next=de,this.interceptor=te}handle(de){return this.interceptor.intercept(de,this.next)}}const sn=new T.OlP("HTTP_INTERCEPTORS");let pn=(()=>{class Ue{intercept(te,Le){return Le.handle(te)}}return Ue.\u0275fac=function(te){return new(te||Ue)},Ue.\u0275prov=T.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const On=/^\)\]\}',?\n/;let Pr=(()=>{class Ue{constructor(te){this.xhrFactory=te}handle(te){if("JSONP"===te.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new le.y(Le=>{const Ge=this.xhrFactory.build();if(Ge.open(te.method,te.urlWithParams),te.withCredentials&&(Ge.withCredentials=!0),te.headers.forEach((Kt,on)=>Ge.setRequestHeader(Kt,on.join(","))),te.headers.has("Accept")||Ge.setRequestHeader("Accept","application/json, text/plain, */*"),!te.headers.has("Content-Type")){const Kt=te.detectContentTypeHeader();null!==Kt&&Ge.setRequestHeader("Content-Type",Kt)}if(te.responseType){const Kt=te.responseType.toLowerCase();Ge.responseType="json"!==Kt?Kt:"text"}const It=te.serializeBody();let kt=null;const vt=()=>{if(null!==kt)return kt;const Kt=Ge.statusText||"OK",on=new we(Ge.getAllResponseHeaders()),Xn=function dr(Ue){return"responseURL"in Ue&&Ue.responseURL?Ue.responseURL:/^X-Request-URL:/m.test(Ue.getAllResponseHeaders())?Ue.getResponseHeader("X-Request-URL"):null}(Ge)||te.url;return kt=new Se({headers:on,status:Ge.status,statusText:Kt,url:Xn}),kt},st=()=>{let{headers:Kt,status:on,statusText:Xn,url:Bn}=vt(),Nn=null;204!==on&&(Nn=typeof Ge.response>"u"?Ge.responseText:Ge.response),0===on&&(on=Nn?200:0);let hr=on>=200&&on<300;if("json"===te.responseType&&"string"==typeof Nn){const Hn=Nn;Nn=Nn.replace(On,"");try{Nn=""!==Nn?JSON.parse(Nn):null}catch(or){Nn=Hn,hr&&(hr=!1,Nn={error:or,text:Nn})}}hr?(Le.next(new He({body:Nn,headers:Kt,status:on,statusText:Xn,url:Bn||void 0})),Le.complete()):Le.error(new Me({error:Nn,headers:Kt,status:on,statusText:Xn,url:Bn||void 0}))},gn=Kt=>{const{url:on}=vt(),Xn=new Me({error:Kt,status:Ge.status||0,statusText:Ge.statusText||"Unknown Error",url:on||void 0});Le.error(Xn)};let Zt=!1;const nr=Kt=>{Zt||(Le.next(vt()),Zt=!0);let on={type:ct.DownloadProgress,loaded:Kt.loaded};Kt.lengthComputable&&(on.total=Kt.total),"text"===te.responseType&&!!Ge.responseText&&(on.partialText=Ge.responseText),Le.next(on)},Wt=Kt=>{let on={type:ct.UploadProgress,loaded:Kt.loaded};Kt.lengthComputable&&(on.total=Kt.total),Le.next(on)};return Ge.addEventListener("load",st),Ge.addEventListener("error",gn),Ge.addEventListener("timeout",gn),Ge.addEventListener("abort",gn),te.reportProgress&&(Ge.addEventListener("progress",nr),null!==It&&Ge.upload&&Ge.upload.addEventListener("progress",Wt)),Ge.send(It),Le.next({type:ct.Sent}),()=>{Ge.removeEventListener("error",gn),Ge.removeEventListener("abort",gn),Ge.removeEventListener("load",st),Ge.removeEventListener("timeout",gn),te.reportProgress&&(Ge.removeEventListener("progress",nr),null!==It&&Ge.upload&&Ge.upload.removeEventListener("progress",Wt)),Ge.readyState!==Ge.DONE&&Ge.abort()}})}}return Ue.\u0275fac=function(te){return new(te||Ue)(T.LFG(d.JF))},Ue.\u0275prov=T.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const tn=new T.OlP("XSRF_COOKIE_NAME"),An=new T.OlP("XSRF_HEADER_NAME");class mr{}let Vr=(()=>{class Ue{constructor(te,Le,Ge){this.doc=te,this.platform=Le,this.cookieName=Ge,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const te=this.doc.cookie||"";return te!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,d.Mx)(te,this.cookieName),this.lastCookieString=te),this.lastToken}}return Ue.\u0275fac=function(te){return new(te||Ue)(T.LFG(d.K0),T.LFG(T.Lbi),T.LFG(tn))},Ue.\u0275prov=T.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),Gr=(()=>{class Ue{constructor(te,Le){this.tokenService=te,this.headerName=Le}intercept(te,Le){const Ge=te.url.toLowerCase();if("GET"===te.method||"HEAD"===te.method||Ge.startsWith("http://")||Ge.startsWith("https://"))return Le.handle(te);const It=this.tokenService.getToken();return null!==It&&!te.headers.has(this.headerName)&&(te=te.clone({headers:te.headers.set(this.headerName,It)})),Le.handle(te)}}return Ue.\u0275fac=function(te){return new(te||Ue)(T.LFG(mr),T.LFG(An))},Ue.\u0275prov=T.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),dt=(()=>{class Ue{constructor(te,Le){this.backend=te,this.injector=Le,this.chain=null}handle(te){if(null===this.chain){const Le=this.injector.get(sn,[]);this.chain=Le.reduceRight((Ge,It)=>new Lt(Ge,It),this.backend)}return this.chain.handle(te)}}return Ue.\u0275fac=function(te){return new(te||Ue)(T.LFG(ge),T.LFG(T.zs3))},Ue.\u0275prov=T.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),Ln=(()=>{class Ue{static disable(){return{ngModule:Ue,providers:[{provide:Gr,useClass:pn}]}}static withOptions(te={}){return{ngModule:Ue,providers:[te.cookieName?{provide:tn,useValue:te.cookieName}:[],te.headerName?{provide:An,useValue:te.headerName}:[]]}}}return Ue.\u0275fac=function(te){return new(te||Ue)},Ue.\u0275mod=T.oAB({type:Ue}),Ue.\u0275inj=T.cJS({providers:[Gr,{provide:sn,useExisting:Gr,multi:!0},{provide:mr,useClass:Vr},{provide:tn,useValue:"XSRF-TOKEN"},{provide:An,useValue:"X-XSRF-TOKEN"}]}),Ue})(),yr=(()=>{class Ue{}return Ue.\u0275fac=function(te){return new(te||Ue)},Ue.\u0275mod=T.oAB({type:Ue}),Ue.\u0275inj=T.cJS({providers:[at,{provide:Z,useClass:dt},Pr,{provide:ge,useExisting:Pr}],imports:[Ln.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ue})()},4650:(yt,Ie,F)=>{F.d(Ie,{$8M:()=>Ye,$Z:()=>sp,AFp:()=>yv,ALo:()=>ky,AaK:()=>Z,AsE:()=>Lp,BQk:()=>ih,CHM:()=>Si,CRH:()=>Yy,CZH:()=>yh,CqO:()=>Km,D6c:()=>gC,Dn7:()=>By,EJc:()=>O2,EiD:()=>Ou,EpF:()=>Gm,F$t:()=>e0,F4k:()=>Ym,FYo:()=>$u,FiY:()=>co,G48:()=>J2,Gf:()=>Wy,GfV:()=>nf,GkF:()=>Ap,Gpc:()=>be,Hsn:()=>t0,Ikx:()=>Vp,JOm:()=>Eo,JVY:()=>Rg,Jf7:()=>od,KtG:()=>yn,L6k:()=>kg,LAX:()=>Lg,LFG:()=>Cn,LMc:()=>yC,LSH:()=>Sl,Lbi:()=>S2,Lck:()=>T_,MAs:()=>Wm,MGl:()=>sh,MMx:()=>qp,NdJ:()=>Op,O4$:()=>wt,OlP:()=>Xt,Oqu:()=>Fp,PXZ:()=>G2,Q6J:()=>Mp,QGY:()=>Ip,QP$:()=>De,QbO:()=>T2,Qsj:()=>ta,R0b:()=>So,RDi:()=>Cu,Rgc:()=>uu,SBq:()=>tl,Sil:()=>P2,Suo:()=>Gy,TTD:()=>Ei,TgZ:()=>th,Tol:()=>v0,Udp:()=>Pp,VKq:()=>Ey,W1O:()=>Jy,WLB:()=>My,XFs:()=>dt,Xpm:()=>Bn,Xts:()=>gc,Y36:()=>Va,YKP:()=>my,YNc:()=>$m,Yjl:()=>zr,Yz7:()=>xe,Z0I:()=>Qn,ZZ4:()=>wg,_Bn:()=>gy,_UZ:()=>Tp,_Vd:()=>Oa,_c5:()=>fC,_uU:()=>E0,aQg:()=>_g,c2e:()=>A2,cJS:()=>$e,cg1:()=>Up,d8E:()=>Hp,dDg:()=>z2,dqk:()=>Ge,eBb:()=>Fg,eFA:()=>Iv,ekj:()=>Rp,eoX:()=>Sv,evT:()=>ad,f3M:()=>Fo,g9A:()=>wv,h0i:()=>tc,hGG:()=>pC,hij:()=>ah,iGM:()=>$y,ifc:()=>Le,ip1:()=>mv,jDz:()=>vy,kEZ:()=>Sy,kL8:()=>U0,kYT:()=>er,kcU:()=>nn,l5B:()=>Ty,lG2:()=>Ur,lcZ:()=>Fy,lnq:()=>Bp,lqb:()=>fa,lri:()=>Ev,mCW:()=>bl,n5z:()=>K,n_E:()=>hh,oAB:()=>or,oJD:()=>$h,oxw:()=>Xm,pB0:()=>Bg,q3G:()=>ni,qLn:()=>Gs,qOj:()=>xp,qZA:()=>nh,qbA:()=>Ay,qzn:()=>qa,rWj:()=>Mv,s9C:()=>Np,sBO:()=>Q2,sIi:()=>eu,s_b:()=>ph,soG:()=>vh,tb:()=>_v,tp0:()=>ba,uIk:()=>Ep,vHH:()=>Ce,vpe:()=>la,wAp:()=>en,xi3:()=>Ly,xp6:()=>Id,ynx:()=>rh,z2F:()=>wh,z3N:()=>Xo,zSh:()=>Ol,zs3:()=>va});var d=F(7579),T=F(727),se=F(9751),le=F(6451),ye=F(3099);function pe(t){for(let n in t)if(t[n]===pe)return n;throw Error("Could not find renamed property on target object.")}function ce(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Z(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Z).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function ge(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const we=pe({__forward_ref__:pe});function be(t){return t.__forward_ref__=be,t.toString=function(){return Z(this())},t}function Te(t){return et(t)?t():t}function et(t){return"function"==typeof t&&t.hasOwnProperty(we)&&t.__forward_ref__===be}class Ce extends Error{constructor(n,i){super(function lt(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}(n,i)),this.code=n}}function Ee(t){return"string"==typeof t?t:null==t?"":String(t)}function ve(t,n){throw new Ce(-201,!1)}function pn(t,n){null==t&&function gt(t,n,i,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${i} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function xe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function $e(t){return{providers:t.providers||[],imports:t.imports||[]}}function zt(t){return On(t,An)||On(t,Vr)}function Qn(t){return null!==zt(t)}function On(t,n){return t.hasOwnProperty(n)?t[n]:null}function tn(t){return t&&(t.hasOwnProperty(mr)||t.hasOwnProperty(Gr))?t[mr]:null}const An=pe({\u0275prov:pe}),mr=pe({\u0275inj:pe}),Vr=pe({ngInjectableDef:pe}),Gr=pe({ngInjectorDef:pe});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let Mn;function Ln(t){const n=Mn;return Mn=t,n}function yr(t,n,i){const a=zt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&dt.Optional?null:void 0!==n?n:void ve(Z(t))}function Yn(t){return{toString:t}.toString()}var Ue=(()=>((Ue=Ue||{})[Ue.OnPush=0]="OnPush",Ue[Ue.Default=1]="Default",Ue))(),Le=(()=>{return(t=Le||(Le={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Le;var t})();const Ge=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vt={},st=[],gn=pe({\u0275cmp:pe}),Zt=pe({\u0275dir:pe}),nr=pe({\u0275pipe:pe}),Wt=pe({\u0275mod:pe}),Kt=pe({\u0275fac:pe}),on=pe({__NG_ELEMENT_ID__:pe});let Xn=0;function Bn(t){return Yn(()=>{const i=!0===t.standalone,a={},c={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ue.OnPush,directiveDefs:null,pipeDefs:null,standalone:i,dependencies:i&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||st,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Le.Emulated,id:"c"+Xn++,styles:t.styles||st,_:null,setInput:null,schemas:t.schemas||null,tView:null},h=t.dependencies,y=t.features;return c.inputs=Hr(t.inputs,a),c.outputs=Hr(t.outputs),y&&y.forEach(C=>C(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(hr).filter(Hn):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map(J).filter(Hn):null,c})}function hr(t){return H(t)||Y(t)}function Hn(t){return null!==t}function or(t){return Yn(()=>({type:t.type,bootstrap:t.bootstrap||st,declarations:t.declarations||st,imports:t.imports||st,exports:t.exports||st,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function er(t,n){return Yn(()=>{const i=Fe(t,!0);i.declarations=n.declarations||st,i.imports=n.imports||st,i.exports=n.exports||st})}function Hr(t,n){if(null==t)return vt;const i={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),i[c]=a,n&&(n[c]=h)}return i}const Ur=Bn;function zr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function H(t){return t[gn]||null}function Y(t){return t[Zt]||null}function J(t){return t[nr]||null}function De(t){const n=H(t)||Y(t)||J(t);return null!==n&&n.standalone}function Fe(t,n){const i=t[Wt]||null;if(!i&&!0===n)throw new Error(`Type ${Z(t)} does not have '\u0275mod' property.`);return i}function Wn(t){return Array.isArray(t)&&"object"==typeof t[1]}function vr(t){return Array.isArray(t)&&!0===t[1]}function fi(t){return 0!=(8&t.flags)}function Vi(t){return 2==(2&t.flags)}function qi(t){return 1==(1&t.flags)}function wr(t){return null!==t.template}function vs(t){return 0!=(256&t[2])}function Tr(t,n){return t.hasOwnProperty(Kt)?t[Kt]:null}class Vt{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ei(){return lr}function lr(t){return t.type.prototype.ngOnChanges&&(t.setInput=_r),Qi}function Qi(){const t=Ps(this),n=t?.current;if(n){const i=t.previous;if(i===vt)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function _r(t,n,i,a){const c=Ps(t)||function gi(t,n){return t[Xi]=n}(t,{previous:vt,current:null}),h=c.current||(c.current={}),y=c.previous,C=this.declaredInputs[i],M=y[C];h[C]=new Vt(M&&M.currentValue,n,y===vt),t[a]=n}Ei.ngInherit=!0;const Xi="__ngSimpleChanges__";function Ps(t){return t[Xi]||null}function wn(t){for(;Array.isArray(t);)t=t[0];return t}function xr(t,n){return wn(n[t])}function Pn(t,n){return wn(n[t.index])}function Mi(t,n){return t.data[n]}function kr(t,n){return t[n]}function an(t,n){const i=n[t];return Wn(i)?i:i[0]}function li(t){return 64==(64&t[2])}function Fr(t,n){return null==n?null:t[n]}function Rn(t){t[18]=0}function Zr(t,n){t[5]+=n;let i=t,a=t[3];for(;null!==a&&(1===n&&1===i[5]||-1===n&&0===i[5]);)a[5]+=n,i=a,a=a[3]}const Ot={lFrame:Xs(null),bindingsEnabled:!0};function yi(){return Ot.bindingsEnabled}function qe(){return Ot.lFrame.lView}function Gt(){return Ot.lFrame.tView}function Si(t){return Ot.lFrame.contextLView=t,t[8]}function yn(t){return Ot.lFrame.contextLView=null,t}function Un(){let t=N();for(;null!==t&&64===t.type;)t=t.parent;return t}function N(){return Ot.lFrame.currentTNode}function S(t,n){const i=Ot.lFrame;i.currentTNode=t,i.isParent=n}function j(){return Ot.lFrame.isParent}function Be(){Ot.lFrame.isParent=!1}function En(){const t=Ot.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ci(){return Ot.lFrame.bindingIndex}function _s(){return Ot.lFrame.bindingIndex++}function Ti(t){const n=Ot.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function Vs(t,n){const i=Ot.lFrame;i.bindingIndex=i.bindingRootIndex=t,Hs(n)}function Hs(t){Ot.lFrame.currentDirectiveIndex=t}function xs(t){const n=Ot.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function Io(){return Ot.lFrame.currentQueryIndex}function Ds(t){Ot.lFrame.currentQueryIndex=t}function Js(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Qs(t,n,i){if(i&dt.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||i&dt.Host||(c=Js(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;n=c,t=h}const a=Ot.lFrame=Oo();return a.currentTNode=n,a.lView=t,!0}function Qr(t){const n=Oo(),i=t[1];Ot.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Oo(){const t=Ot.lFrame,n=null===t?null:t.child;return null===n?Xs(t):n}function Xs(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function ts(){const t=Ot.lFrame;return Ot.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const E=ts;function B(){const t=ts();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function re(){return Ot.lFrame.selectedIndex}function ke(t){Ot.lFrame.selectedIndex=t}function ze(){const t=Ot.lFrame;return Mi(t.tView,t.selectedIndex)}function wt(){Ot.lFrame.currentNamespace="svg"}function nn(){!function bn(){Ot.lFrame.currentNamespace=null}()}function mn(t,n){for(let i=n.directiveStart,a=n.directiveEnd;i<a;i++){const h=t.data[i].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:M,ngAfterViewChecked:k,ngOnDestroy:$}=h;y&&(t.contentHooks||(t.contentHooks=[])).push(-i,y),C&&((t.contentHooks||(t.contentHooks=[])).push(i,C),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,C)),M&&(t.viewHooks||(t.viewHooks=[])).push(-i,M),k&&((t.viewHooks||(t.viewHooks=[])).push(i,k),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,k)),null!=$&&(t.destroyHooks||(t.destroyHooks=[])).push(i,$)}}function Gn(t,n,i){Ir(t,n,3,i)}function vi(t,n,i,a){(3&t[2])===i&&Ir(t,n,i,a)}function cr(t,n){let i=t[2];(3&i)===n&&(i&=2047,i+=1,t[2]=i)}function Ir(t,n,i,a){const h=a??-1,y=n.length-1;let C=0;for(let M=void 0!==a?65535&t[18]:0;M<y;M++)if("number"==typeof n[M+1]){if(C=n[M],null!=a&&C>=a)break}else n[M]<0&&(t[18]+=65536),(C<h||-1==h)&&(Ai(t,i,n,M),t[18]=(4294901760&t[18])+M+2),M++}function Ai(t,n,i,a){const c=i[a]<0,h=i[a+1],C=t[c?-i[a]:i[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{h.call(C)}finally{}}}else try{h.call(C)}finally{}}class wi{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function Oi(t,n,i){let a=0;for(;a<i.length;){const c=i[a];if("number"==typeof c){if(0!==c)break;a++;const h=i[a++],y=i[a++],C=i[a++];t.setAttribute(n,y,C,h)}else{const h=c,y=i[++a];Go(h)?t.setProperty(n,h,y):t.setAttribute(n,h,y),a++}}return a}function Us(t){return 3===t||4===t||6===t}function Go(t){return 64===t.charCodeAt(0)}function to(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?i=c:0===i||Yo(t,i,c,null,-1===i||2===i?n[++a]:null)}}return t}function Yo(t,n,i,a,c){let h=0,y=t.length;if(-1===n)y=-1;else for(;h<t.length;){const C=t[h++];if("number"==typeof C){if(C===n){y=-1;break}if(C>n){y=h-1;break}}}for(;h<t.length;){const C=t[h];if("number"==typeof C)break;if(C===i){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==y&&(t.splice(y,0,n),h=y+1),t.splice(h++,0,i),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}function Ko(t){return-1!==t}function bs(t){return 32767&t}function ds(t,n){let i=function _o(t){return t>>16}(t),a=n;for(;i>0;)a=a[15],i--;return a}let zs=!0;function no(t){const n=zs;return zs=t,n}let ro=0;const Xr={};function js(t,n){const i=so(t,n);if(-1!==i)return i;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,Co(a.data,t),Co(n,null),Co(a.blueprint,null));const c=oo(t,n),h=t.injectorIndex;if(Ko(c)){const y=bs(c),C=ds(c,n),M=C[1].data;for(let k=0;k<8;k++)n[h+k]=C[y+k]|M[y+k]}return n[h+8]=c,h}function Co(t,n){t.push(0,0,0,0,0,0,0,0,n)}function so(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function oo(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,c=n;for(;null!==c;){if(a=Ne(c),null===a)return-1;if(i++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return-1}function hs(t,n,i){!function io(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(on)&&(a=i[on]),null==a&&(a=i[on]=ro++);const c=255&a;n.data[t+(c>>5)]|=1<<c}(t,n,i)}function No(t,n,i){if(i&dt.Optional||void 0!==t)return t;ve()}function ca(t,n,i,a){if(i&dt.Optional&&void 0===a&&(a=null),0==(i&(dt.Self|dt.Host))){const c=t[9],h=Ln(void 0);try{return c?c.get(n,a,i&dt.Optional):yr(n,a,i&dt.Optional)}finally{Ln(h)}}return No(a,0,i)}function Po(t,n,i,a=dt.Default,c){if(null!==t){if(1024&n[2]){const y=function he(t,n,i,a,c){let h=t,y=n;for(;null!==h&&null!==y&&1024&y[2]&&!(256&y[2]);){const C=fs(h,y,i,a|dt.Self,Xr);if(C!==Xr)return C;let M=h.parent;if(!M){const k=y[21];if(k){const $=k.get(i,Xr,a);if($!==Xr)return $}M=Ne(y),y=y[15]}h=M}return c}(t,n,i,a,Xr);if(y!==Xr)return y}const h=fs(t,n,i,a,Xr);if(h!==Xr)return h}return ca(n,i,a,c)}function fs(t,n,i,a,c){const h=function P(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(on)?t[on]:void 0;return"number"==typeof n?n>=0?255&n:L:n}(i);if("function"==typeof h){if(!Qs(n,t,a))return a&dt.Host?No(c,0,a):ca(n,i,a,c);try{const y=h(a);if(null!=y||a&dt.Optional)return y;ve()}finally{E()}}else if("number"==typeof h){let y=null,C=so(t,n),M=-1,k=a&dt.Host?n[16][6]:null;for((-1===C||a&dt.SkipSelf)&&(M=-1===C?oo(t,n):n[C+8],-1!==M&&m(a,!1)?(y=n[1],C=bs(M),n=ds(M,n)):C=-1);-1!==C;){const $=n[1];if(p(h,C,$.data)){const Q=Jo(C,n,i,y,a,k);if(Q!==Xr)return Q}M=n[C+8],-1!==M&&m(a,n[1].data[C+8]===k)&&p(h,C,n)?(y=$,C=bs(M),n=ds(M,n)):C=-1}}return c}function Jo(t,n,i,a,c,h){const y=n[1],C=y.data[t+8],$=qn(C,y,i,null==a?Vi(C)&&zs:a!=y&&0!=(3&C.type),c&dt.Host&&h===C);return null!==$?ps(n,y,$,C):Xr}function qn(t,n,i,a,c){const h=t.providerIndexes,y=n.data,C=1048575&h,M=t.directiveStart,$=h>>20,me=c?C+$:t.directiveEnd;for(let Oe=a?C:C+$;Oe<me;Oe++){const Ze=y[Oe];if(Oe<M&&i===Ze||Oe>=M&&Ze.type===i)return Oe}if(c){const Oe=y[M];if(Oe&&wr(Oe)&&Oe.type===i)return M}return null}function ps(t,n,i,a){let c=t[i];const h=n.data;if(function wo(t){return t instanceof wi}(c)){const y=c;y.resolving&&function Tt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${t}${i}`)}(function Pe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ee(t)}(h[i]));const C=no(y.canSeeViewProviders);y.resolving=!0;const M=y.injectImpl?Ln(y.injectImpl):null;Qs(t,a,dt.Default);try{c=t[i]=y.factory(void 0,h,t,a),n.firstCreatePass&&i>=a.directiveStart&&function Tn(t,n,i){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(a){const y=lr(n);(i.preOrderHooks||(i.preOrderHooks=[])).push(t,y),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,y)}c&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-t,c),h&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,h),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,h))}(i,h[i],n)}finally{null!==M&&Ln(M),no(C),y.resolving=!1,E()}}return c}function p(t,n,i){return!!(i[n+(t>>5)]&1<<t)}function m(t,n){return!(t&dt.Self||t&dt.Host&&n)}class D{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return Po(this._tNode,this._lView,n,a,i)}}function L(){return new D(Un(),qe())}function K(t){return Yn(()=>{const n=t.prototype.constructor,i=n[Kt]||ie(n),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const h=c[Kt]||ie(c);if(h&&h!==i)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function ie(t){return et(t)?()=>{const n=ie(Te(t));return n&&n()}:Tr(t)}function Ne(t){const n=t[1],i=n.type;return 2===i?n.declTNode:1===i?t[6]:null}function Ye(t){return function Zo(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let c=0;for(;c<a;){const h=i[c];if(Us(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof i[c];)c++;else{if(h===n)return i[c+1];c+=2}}}return null}(Un(),t)}const xt="__parameters__";function $t(t,n,i){return Yn(()=>{const a=function Ht(t){return function(...i){if(t){const a=t(...i);for(const c in a)this[c]=a[c]}}}(n);function c(...h){if(this instanceof c)return a.apply(this,h),this;const y=new c(...h);return C.annotation=y,C;function C(M,k,$){const Q=M.hasOwnProperty(xt)?M[xt]:Object.defineProperty(M,xt,{value:[]})[xt];for(;Q.length<=$;)Q.push(null);return(Q[$]=Q[$]||[]).push(y),M}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class Xt{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=xe({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Rt(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let a=t[i];Array.isArray(a)?(n===t&&(n=t.slice(0,i)),Rt(a,n)):n!==t&&n.push(a)}return n}function un(t,n){t.forEach(i=>Array.isArray(i)?un(i,n):n(i))}function ur(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function _i(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Nr(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}function U(t,n,i){let a=ne(t,n);return a>=0?t[1|a]=i:(a=~a,function _(t,n,i,a){let c=t.length;if(c==n)t.push(i,a);else if(1===c)t.push(a,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function X(t,n){const i=ne(t,n);if(i>=0)return t[1|i]}function ne(t,n){return function mt(t,n,i){let a=0,c=t.length>>i;for(;c!==a;){const h=a+(c-a>>1),y=t[h<<i];if(n===y)return h<<i;y>n?c=h:a=h+1}return~(c<<i)}(t,n,1)}const ao={},ic="__NG_DI_FLAG__",ja="ngTempTokenPath",sc=/\n/gm,wl="__source";let Yi;function lo(t){const n=Yi;return Yi=t,n}function da(t,n=dt.Default){if(void 0===Yi)throw new Ce(-203,!1);return null===Yi?yr(t,void 0,n):Yi.get(t,n&dt.Optional?null:void 0,n)}function Cn(t,n=dt.Default){return(function Fn(){return Mn}()||da)(Te(t),n)}function Fo(t,n=dt.Default){return"number"!=typeof n&&(n=0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)),Cn(t,n)}function oc(t){const n=[];for(let i=0;i<t.length;i++){const a=Te(t[i]);if(Array.isArray(a)){if(0===a.length)throw new Ce(900,!1);let c,h=dt.Default;for(let y=0;y<a.length;y++){const C=a[y],M=Dh(C);"number"==typeof M?-1===M?c=C.token:h|=M:c=C}n.push(Cn(c,h))}else n.push(Cn(a))}return n}function xa(t,n){return t[ic]=n,t.prototype[ic]=n,t}function Dh(t){return t[ic]}const co=xa($t("Optional"),8),ba=xa($t("SkipSelf"),4);let dc,Ya,Ka;function Cu(t){dc=t}function Ma(t){return function ti(){if(void 0===Ya&&(Ya=null,Ge.trustedTypes))try{Ya=Ge.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ya}()?.createHTML(t)||t}function Dl(t){return function xl(){if(void 0===Ka&&(Ka=null,Ge.trustedTypes))try{Ka=Ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ka}()?.createHTML(t)||t}class ha{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Rh extends ha{getTypeName(){return"HTML"}}class bu extends ha{getTypeName(){return"Style"}}class kh extends ha{getTypeName(){return"Script"}}class Fh extends ha{getTypeName(){return"URL"}}class Eu extends ha{getTypeName(){return"ResourceURL"}}function Xo(t){return t instanceof ha?t.changingThisBreaksApplicationSecurity:t}function qa(t,n){const i=function Pg(t){return t instanceof ha&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===n}function Rg(t){return new Rh(t)}function kg(t){return new bu(t)}function Fg(t){return new kh(t)}function Lg(t){return new Fh(t)}function Bg(t){return new Eu(t)}class Lh{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Ma(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Bh{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const a=this.inertDocument.createElement("body");i.appendChild(a)}}getInertBodyElement(n){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=Ma(n),i;const a=this.inertDocument.createElement("body");return a.innerHTML=Ma(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const i=n.attributes;for(let c=i.length-1;0<c;c--){const y=i.item(c).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&n.removeAttribute(y)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const Hh=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function bl(t){return(t=String(t)).match(Hh)?t:"unsafe:"+t}function Lo(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Za(...t){const n={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(n[a]=!0);return n}const Su=Lo("area,br,col,hr,img,wbr"),Tu=Lo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Au=Lo("rp,rt"),Sa=Za(Su,Za(Tu,Lo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Za(Au,Lo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Za(Au,Tu)),El=Lo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zh=Za(El,Lo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jg=Lo("script,style,template");class Iu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,a=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let c=this.checkClobberedElement(i,i.nextSibling);if(c){i=c;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Sa.hasOwnProperty(i))return this.sanitizedSomething=!0,!jg.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=n.attributes;for(let c=0;c<a.length;c++){const h=a.item(c),y=h.name,C=y.toLowerCase();if(!zh.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let M=h.value;El[C]&&(M=bl(M)),this.buf.push(" ",y,'="',Ml(M),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Sa.hasOwnProperty(i)&&!Su.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Ml(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const Ta=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jh=/([^\#-~ |!])/g;function Ml(t){return t.replace(/&/g,"&amp;").replace(Ta,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(jh,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ja;function Ou(t,n){let i=null;try{Ja=Ja||function Mu(t){const n=new Bh(t);return function Vh(){try{return!!(new window.DOMParser).parseFromString(Ma(""),"text/html")}catch{return!1}}()?new Lh(n):n}(t);let a=n?String(n):"";i=Ja.getInertBodyElement(a);let c=5,h=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=h,h=i.innerHTML,i=Ja.getInertBodyElement(a)}while(a!==h);return Ma((new Iu).sanitizeChildren(hc(i)||i))}finally{if(i){const a=hc(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function hc(t){return"content"in t&&function fc(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ni=(()=>((ni=ni||{})[ni.NONE=0]="NONE",ni[ni.HTML=1]="HTML",ni[ni.STYLE=2]="STYLE",ni[ni.SCRIPT=3]="SCRIPT",ni[ni.URL=4]="URL",ni[ni.RESOURCE_URL=5]="RESOURCE_URL",ni))();function $h(t){const n=Qa();return n?Dl(n.sanitize(ni.HTML,t)||""):qa(t,"HTML")?Dl(Xo(t)):Ou(function xu(){return void 0!==dc?dc:typeof document<"u"?document:void 0}(),Ee(t))}function Sl(t){const n=Qa();return n?n.sanitize(ni.URL,t)||"":qa(t,"URL")?Xo(t):bl(Ee(t))}function Qa(){const t=qe();return t&&t[12]}const gc=new Xt("ENVIRONMENT_INITIALIZER"),mc=new Xt("INJECTOR",-1),yc=new Xt("INJECTOR_DEF_TYPES");class ku{get(n,i=ao){if(i===ao){const a=new Error(`NullInjectorError: No provider for ${Z(n)}!`);throw a.name="NullInjectorError",a}return i}}function Yh(...t){return{\u0275providers:Fu(0,t)}}function Fu(t,...n){const i=[],a=new Set;let c;return un(n,h=>{const y=h;vc(y,i,[],a)&&(c||(c=[]),c.push(y))}),void 0!==c&&Al(c,i),i}function Al(t,n){for(let i=0;i<t.length;i++){const{providers:c}=t[i];un(c,h=>{n.push(h)})}}function vc(t,n,i,a){if(!(t=Te(t)))return!1;let c=null,h=tn(t);const y=!h&&H(t);if(h||y){if(y&&!y.standalone)return!1;c=t}else{const M=t.ngModule;if(h=tn(M),!h)return!1;c=M}const C=a.has(c);if(y){if(C)return!1;if(a.add(c),y.dependencies){const M="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const k of M)vc(k,n,i,a)}}else{if(!h)return!1;{if(null!=h.imports&&!C){let k;a.add(c);try{un(h.imports,$=>{vc($,n,i,a)&&(k||(k=[]),k.push($))})}finally{}void 0!==k&&Al(k,n)}if(!C){const k=Tr(c)||(()=>new c);n.push({provide:c,useFactory:k,deps:st},{provide:yc,useValue:c,multi:!0},{provide:gc,useValue:()=>Cn(c),multi:!0})}const M=h.providers;null==M||C||un(M,$=>{n.push($)})}}return c!==t&&void 0!==t.providers}const Kh=pe({provide:String,useValue:pe});function Lu(t){return null!==t&&"object"==typeof t&&Kh in t}function ea(t){return"function"==typeof t}const Ol=new Xt("Set Injector scope."),wc={},qh={};let uo;function Nl(){return void 0===uo&&(uo=new ku),uo}class fa{}class Bu extends fa{constructor(n,i,a,c){super(),this.parent=i,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,el(n,y=>this.processProvider(y)),this.records.set(mc,Ia(void 0,this)),c.has("environment")&&this.records.set(fa,Ia(void 0,this));const h=this.records.get(Ol);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(yc.multi,st,dt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const i=lo(this),a=Ln(void 0);try{return n()}finally{lo(i),Ln(a)}}get(n,i=ao,a=dt.Default){this.assertNotDestroyed();const c=lo(this),h=Ln(void 0);try{if(!(a&dt.SkipSelf)){let C=this.records.get(n);if(void 0===C){const M=function Xh(t){return"function"==typeof t||"object"==typeof t&&t instanceof Xt}(n)&&zt(n);C=M&&this.injectableDefInScope(M)?Ia(Pl(n),wc):null,this.records.set(n,C)}if(null!=C)return this.hydrate(n,C)}return(a&dt.Self?Nl():this.parent).get(n,i=a&dt.Optional&&i===ao?null:i)}catch(y){if("NullInjectorError"===y.name){if((y[ja]=y[ja]||[]).unshift(Z(n)),c)throw y;return function hu(t,n,i,a){const c=t[ja];throw n[wl]&&c.unshift(n[wl]),t.message=function fu(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Z(n);if(Array.isArray(n))c=n.map(Z).join(" -> ");else if("object"==typeof n){let h=[];for(let y in n)if(n.hasOwnProperty(y)){let C=n[y];h.push(y+":"+("string"==typeof C?JSON.stringify(C):Z(C)))}c=`{${h.join(", ")}}`}return`${i}${a?"("+a+")":""}[${c}]: ${t.replace(sc,"\n  ")}`}("\n"+t.message,c,i,a),t.ngTokenPath=c,t[ja]=null,t}(y,n,"R3InjectorError",this.source)}throw y}finally{Ln(h),lo(c)}}resolveInjectorInitializers(){const n=lo(this),i=Ln(void 0);try{const a=this.get(gc.multi,st,dt.Self);for(const c of a)c()}finally{lo(n),Ln(i)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(Z(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(n){let i=ea(n=Te(n))?n:Te(n&&n.provide);const a=function Zh(t){return Lu(t)?Ia(void 0,t.useValue):Ia(Vu(t),wc)}(n);if(ea(n)||!0!==n.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=Ia(void 0,wc,!0),c.factory=()=>oc(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,a)}hydrate(n,i){return i.value===wc&&(i.value=qh,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Qh(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Te(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}}function Pl(t){const n=zt(t),i=null!==n?n.factory:Tr(t);if(null!==i)return i;if(t instanceof Xt)throw new Ce(204,!1);if(t instanceof Function)return function $g(t){const n=t.length;if(n>0)throw Nr(n,"?"),new Ce(204,!1);const i=function dr(t){const n=t&&(t[An]||t[Vr]);if(n){const i=function Pr(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),n}return null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Ce(204,!1)}function Vu(t,n,i){let a;if(ea(t)){const c=Te(t);return Tr(c)||Pl(c)}if(Lu(t))a=()=>Te(t.useValue);else if(function Il(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...oc(t.deps||[]));else if(function Aa(t){return!(!t||!t.useExisting)}(t))a=()=>Cn(Te(t.useExisting));else{const c=Te(t&&(t.useClass||t.provide));if(!function Jh(t){return!!t.deps}(t))return Tr(c)||Pl(c);a=()=>new c(...oc(t.deps))}return a}function Ia(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function ef(t){return!!t.\u0275providers}function el(t,n){for(const i of t)Array.isArray(i)?el(i,n):ef(i)?el(i.\u0275providers,n):n(i)}class Rl{}class Uu{resolveComponentFactory(n){throw function tf(t){const n=Error(`No component factory found for ${Z(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Oa=(()=>{class t{}return t.NULL=new Uu,t})();function zu(){return Na(Un(),qe())}function Na(t,n){return new tl(Pn(t,n))}let tl=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=zu,t})();function ju(t){return t instanceof tl?t.nativeElement:t}class $u{}let ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function kl(){const t=qe(),i=an(Un().index,t);return(Wn(i)?i:t)[11]}(),t})(),Wu=(()=>{class t{}return t.\u0275prov=xe({token:t,providedIn:"root",factory:()=>null}),t})();class nf{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const rf=new nf("14.2.2"),Cc={};function Ws(t){return t.ngOriginalError}class Gs{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Ws(n);for(;i&&Ws(i);)i=Ws(i);return i||null}}const Pa=new Map;let Jg=0;const Nc="__ngContext__";function Ki(t,n){Wn(n)?(t[Nc]=n[20],function Ju(t){Pa.set(t[20],t)}(n)):t[Nc]=n}function od(t){return t.ownerDocument.defaultView}function ad(t){return t.ownerDocument}function Vo(t){return t instanceof Function?t():t}var Eo=(()=>((Eo=Eo||{})[Eo.Important=1]="Important",Eo[Eo.DashCase=2]="DashCase",Eo))();function Rc(t,n){return undefined(t,n)}function il(t){const n=t[3];return vr(n)?n[3]:n}function kc(t){return bf(t[13])}function ud(t){return bf(t[4])}function bf(t){for(;null!==t&&!vr(t);)t=t[4];return t}function ka(t,n,i,a,c){if(null!=a){let h,y=!1;vr(a)?h=a:Wn(a)&&(y=!0,a=a[0]);const C=wn(a);0===t&&null!==i?null==c?sl(n,i,C):ma(n,i,C,c||null,!0):1===t&&null!==i?ma(n,i,C,c||null,!0):2===t?function Cd(t,n,i){const a=Fa(t,n);a&&function ol(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,C,y):3===t&&n.destroyNode(C),null!=h&&function Pf(t,n,i,a,c){const h=i[7];h!==wn(i)&&ka(n,t,a,h,c);for(let C=10;C<i.length;C++){const M=i[C];al(M[1],M,t,n,a,h)}}(n,t,h,i,c)}}function Lc(t,n,i){return t.createElement(n,i)}function fd(t,n){const i=t[9],a=i.indexOf(n),c=n[3];512&n[2]&&(n[2]&=-513,Zr(c,-1)),i.splice(a,1)}function Bc(t,n){if(t.length<=10)return;const i=10+n,a=t[i];if(a){const c=a[17];null!==c&&c!==t&&fd(c,a),n>0&&(t[i-1][4]=a[4]);const h=_i(t,10+n);!function Mf(t,n){al(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const y=h[19];null!==y&&y.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function pd(t,n){if(!(128&n[2])){const i=n[11];i.destroyNode&&al(t,n,i,3,null,null),function Af(t){let n=t[13];if(!n)return pa(t[1],t);for(;n;){let i=null;if(Wn(n))i=n[13];else{const a=n[10];a&&(i=a)}if(!i){for(;n&&!n[4]&&n!==t;)Wn(n)&&pa(n[1],n),n=n[3];null===n&&(n=t),Wn(n)&&pa(n[1],n),i=n&&n[4]}n=i}}(n)}}function pa(t,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function na(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const c=n[i[a]];if(!(c instanceof wi)){const h=i[a+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const C=c[h[y]],M=h[y+1];try{M.call(C)}finally{}}else try{h.call(c)}finally{}}}}(t,n),function Of(t,n){const i=t.cleanup,a=n[7];let c=-1;if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const y=i[h+1],C="function"==typeof y?y(n):wn(n[y]),M=a[c=i[h+2]],k=i[h+3];"boolean"==typeof k?C.removeEventListener(i[h],M,k):k>=0?a[c=k]():a[c=-k].unsubscribe(),h+=2}else{const y=a[c=i[h+1]];i[h].call(y)}if(null!==a){for(let h=c+1;h<a.length;h++)(0,a[h])();n[7]=null}}(t,n),1===n[1].type&&n[11].destroy();const i=n[17];if(null!==i&&vr(n[3])){i!==n[3]&&fd(i,n);const a=n[19];null!==a&&a.detachView(t)}!function Xu(t){Pa.delete(t[20])}(n)}}function ga(t,n,i){return function gd(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[0];if(2&a.flags){const c=t.data[a.directiveStart].encapsulation;if(c===Le.None||c===Le.Emulated)return null}return Pn(a,i)}(t,n.parent,i)}function ma(t,n,i,a,c){t.insertBefore(n,i,a,c)}function sl(t,n,i){t.appendChild(n,i)}function ra(t,n,i,a,c){null!==a?ma(t,n,i,a,c):sl(t,n,i)}function Fa(t,n){return t.parentNode(n)}function ya(t,n,i){return vd(t,n,i)}let vd=function yd(t,n,i){return 40&t.type?Pn(t,i):null};function Fl(t,n,i,a){const c=ga(t,a,n),h=n[11],C=ya(a.parent||n[6],a,n);if(null!=c)if(Array.isArray(i))for(let M=0;M<i.length;M++)ra(h,c,i[M],C,!1);else ra(h,c,i,C,!1)}function Ll(t,n){if(null!==n){const i=n.type;if(3&i)return Pn(n,t);if(4&i)return Hc(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return Ll(t,a);{const c=t[n.index];return vr(c)?Hc(-1,c):wn(c)}}if(32&i)return Rc(n,t)()||wn(t[n.index]);{const a=_d(t,n);return null!==a?Array.isArray(a)?a[0]:Ll(il(t[16]),a):Ll(t,n.next)}}return null}function _d(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Hc(t,n){const i=10+t+1;if(i<n.length){const a=n[i],c=a[1].firstChild;if(null!==c)return Ll(a,c)}return n[7]}function Uc(t,n,i,a,c,h,y){for(;null!=i;){const C=a[i.index],M=i.type;if(y&&0===n&&(C&&Ki(wn(C),a),i.flags|=4),64!=(64&i.flags))if(8&M)Uc(t,n,i.child,a,c,h,!1),ka(n,t,c,C,h);else if(32&M){const k=Rc(i,a);let $;for(;$=k();)ka(n,t,c,$,h);ka(n,t,c,C,h)}else 16&M?xd(t,n,a,i,c,h):ka(n,t,c,C,h);i=y?i.projectionNext:i.next}}function al(t,n,i,a,c,h){Uc(i,a,t.firstChild,n,c,h,!1)}function xd(t,n,i,a,c,h){const y=i[16],M=y[6].projection[a.projection];if(Array.isArray(M))for(let k=0;k<M.length;k++)ka(n,t,c,M[k],h);else Uc(t,n,M,y[3],c,h,!0)}function Dd(t,n,i){t.setAttribute(n,"style",i)}function zc(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function bd(t,n,i){let a=t.length;for(;;){const c=t.indexOf(n,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}i=c+1}}const Ed="ng-template";function kf(t,n,i){let a=0;for(;a<t.length;){let c=t[a++];if(i&&"class"===c){if(c=t[a],-1!==bd(c.toLowerCase(),n,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===n)return!0;return!1}}return!1}function Md(t){return 4===t.type&&t.value!==Ed}function Ff(t,n,i){return n===(4!==t.type||i?t.value:Ed)}function Lf(t,n,i){let a=4;const c=t.attrs||[],h=function cl(t){for(let n=0;n<t.length;n++)if(Us(t[n]))return n;return t.length}(c);let y=!1;for(let C=0;C<n.length;C++){const M=n[C];if("number"!=typeof M){if(!y)if(4&a){if(a=2|1&a,""!==M&&!Ff(t,M,i)||""===M&&1===n.length){if(ho(a))return!1;y=!0}}else{const k=8&a?M:n[++C];if(8&a&&null!==t.attrs){if(!kf(t.attrs,k,i)){if(ho(a))return!1;y=!0}continue}const Q=Bf(8&a?"class":M,c,Md(t),i);if(-1===Q){if(ho(a))return!1;y=!0;continue}if(""!==k){let me;me=Q>h?"":c[Q+1].toLowerCase();const Oe=8&a?me:null;if(Oe&&-1!==bd(Oe,k,0)||2&a&&k!==me){if(ho(a))return!1;y=!0}}}}else{if(!y&&!ho(a)&&!ho(M))return!1;if(y&&ho(M))continue;y=!1,a=M|1&a}}return ho(a)||y}function ho(t){return 0==(1&t)}function Bf(t,n,i,a){if(null===n)return-1;let c=0;if(a||!i){let h=!1;for(;c<n.length;){const y=n[c];if(y===t)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let C=n[++c];for(;"string"==typeof C;)C=n[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function Td(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function ll(t,n,i=!1){for(let a=0;a<n.length;a++)if(Lf(t,n[a],i))return!0;return!1}function Vf(t,n){e:for(let i=0;i<n.length;i++){const a=n[i];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Ad(t,n){return t?":not("+n.trim()+")":n}function jc(t){let n=t[0],i=1,a=2,c="",h=!1;for(;i<t.length;){let y=t[i];if("string"==typeof y)if(2&a){const C=t[++i];c+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&a?c+="."+y:4&a&&(c+=" "+y);else""!==c&&!ho(y)&&(n+=Ad(h,c),c=""),a=y,h=h||!ho(a);i++}return""!==c&&(n+=Ad(h,c)),n}const hn={};function Id(t){Od(Gt(),qe(),re()+t,!1)}function Od(t,n,i,a){if(!a)if(3==(3&n[2])){const h=t.preOrderCheckHooks;null!==h&&Gn(n,h,i)}else{const h=t.preOrderHooks;null!==h&&vi(n,h,0,i)}ke(i)}function kd(t,n=null,i=null,a){const c=Fd(t,n,i,a);return c.resolveInjectorInitializers(),c}function Fd(t,n=null,i=null,a,c=new Set){const h=[i||st,Yh(t)];return a=a||("object"==typeof t?void 0:Z(t)),new Bu(h,n||Nl(),a||null,c)}let va=(()=>{class t{static create(i,a){if(Array.isArray(i))return kd({name:""},a,i,"");{const c=i.name??"";return kd({name:c},i.parent,i.providers,c)}}}return t.THROW_IF_NOT_FOUND=ao,t.NULL=new ku,t.\u0275prov=xe({token:t,providedIn:"any",factory:()=>Cn(mc)}),t.__NG_ELEMENT_ID__=-1,t})();function Va(t,n=dt.Default){const i=qe();return null===i?Cn(t,n):Po(Un(),i,Te(t),n)}function sp(){throw new Error("invalid")}function Hl(t,n){return t<<17|n<<2}function po(t){return t>>17&32767}function Yc(t){return 2|t}function Ho(t){return(131068&t)>>2}function Kc(t,n){return-131069&t|n<<2}function qc(t){return 1|t}function gm(t,n){const i=t.contentQueries;if(null!==i)for(let a=0;a<i.length;a+=2){const c=i[a],h=i[a+1];if(-1!==h){const y=t.data[h];Ds(c),y.contentQueries(2,n[h],h)}}}function Yd(t,n,i,a,c,h,y,C,M,k,$){const Q=n.blueprint.slice();return Q[0]=c,Q[2]=76|a,(null!==$||t&&1024&t[2])&&(Q[2]|=1024),Rn(Q),Q[3]=Q[15]=t,Q[8]=i,Q[10]=y||t&&t[10],Q[11]=C||t&&t[11],Q[12]=M||t&&t[12]||null,Q[9]=k||t&&t[9]||null,Q[6]=h,Q[20]=function bo(){return Jg++}(),Q[21]=$,Q[16]=2==n.type?t[16]:Q,Q}function Ul(t,n,i,a,c){let h=t.data[n];if(null===h)h=function up(t,n,i,a,c){const h=N(),y=j(),M=t.data[n]=function i1(t,n,i,a,c,h){return{type:i,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,i,n,a,c);return null===t.firstChild&&(t.firstChild=M),null!==h&&(y?null==h.child&&null!==M.parent&&(h.child=M):null===h.next&&(h.next=M)),M}(t,n,i,a,c),function Cs(){return Ot.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=i,h.value=a,h.attrs=c;const y=function I(){const t=Ot.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return S(h,!0),h}function zl(t,n,i,a){if(0===i)return-1;const c=n.length;for(let h=0;h<i;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function dp(t,n,i){Qr(n);try{const a=t.viewQuery;null!==a&&wp(1,a,i);const c=t.template;null!==c&&mm(t,n,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gm(t,n),t.staticViewQueries&&wp(2,t.viewQuery,i);const h=t.components;null!==h&&function t1(t,n){for(let i=0;i<n.length;i++)_1(t,n[i])}(n,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,B()}}function Kd(t,n,i,a){const c=n[2];if(128!=(128&c)){Qr(n);try{Rn(n),function Bs(t){return Ot.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&mm(t,n,i,2,a);const y=3==(3&c);if(y){const k=t.preOrderCheckHooks;null!==k&&Gn(n,k,null)}else{const k=t.preOrderHooks;null!==k&&vi(n,k,0,null),cr(n,0)}if(function v1(t){for(let n=kc(t);null!==n;n=ud(n)){if(!n[2])continue;const i=n[9];for(let a=0;a<i.length;a++){const c=i[a],h=c[3];0==(512&c[2])&&Zr(h,1),c[2]|=512}}}(n),function y1(t){for(let n=kc(t);null!==n;n=ud(n))for(let i=10;i<n.length;i++){const a=n[i],c=a[1];li(a)&&Kd(c,a,c.template,a[8])}}(n),null!==t.contentQueries&&gm(t,n),y){const k=t.contentCheckHooks;null!==k&&Gn(n,k)}else{const k=t.contentHooks;null!==k&&vi(n,k,1),cr(n,1)}!function Xv(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const c=i[a];if(c<0)ke(~c);else{const h=c,y=i[++a],C=i[++a];Vs(y,h),C(2,n[h])}}}finally{ke(-1)}}(t,n);const C=t.components;null!==C&&function e1(t,n){for(let i=0;i<n.length;i++)w1(t,n[i])}(n,C);const M=t.viewQuery;if(null!==M&&wp(2,M,a),y){const k=t.viewCheckHooks;null!==k&&Gn(n,k)}else{const k=t.viewHooks;null!==k&&vi(n,k,2),cr(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,Zr(n[3],-1))}finally{B()}}}function mm(t,n,i,a,c){const h=re(),y=2&a;try{ke(-1),y&&n.length>22&&Od(t,n,22,!1),i(a,c)}finally{ke(h)}}function ym(t,n,i){if(fi(n)){const c=n.directiveEnd;for(let h=n.directiveStart;h<c;h++){const y=t.data[h];y.contentQueries&&y.contentQueries(1,i[h],h)}}}function hp(t,n,i){!yi()||(function c1(t,n,i,a){const c=i.directiveStart,h=i.directiveEnd;t.firstCreatePass||js(i,n),Ki(a,n);const y=i.initialInputs;for(let C=c;C<h;C++){const M=t.data[C],k=wr(M);k&&p1(n,i,M);const $=ps(n,t,C,i);Ki($,n),null!==y&&g1(0,C-c,$,M,0,y),k&&(an(i.index,n)[8]=$)}}(t,n,i,Pn(i,n)),128==(128&i.flags)&&function u1(t,n,i){const a=i.directiveStart,c=i.directiveEnd,h=i.index,y=function Ao(){return Ot.lFrame.currentDirectiveIndex}();try{ke(h);for(let C=a;C<c;C++){const M=t.data[C],k=n[C];Hs(C),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&bm(M,k)}}finally{ke(-1),Hs(y)}}(t,n,i))}function fp(t,n,i=Pn){const a=n.localNames;if(null!==a){let c=n.index+1;for(let h=0;h<a.length;h+=2){const y=a[h+1],C=-1===y?i(n,t):t[y];t[c++]=C}}}function vm(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=pp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function pp(t,n,i,a,c,h,y,C,M,k){const $=22+a,Q=$+c,me=function n1(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:hn);return i}($,Q),Oe="function"==typeof k?k():k;return me[1]={type:t,blueprint:me,template:i,queries:null,viewQuery:C,declTNode:n,data:me.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:M,consts:Oe,incompleteFirstPass:!1}}function wm(t,n,i,a){const c=Am(n);null===i?c.push(a):(c.push(i),t.firstCreatePass&&Im(t).push(a,c.length-1))}function _m(t,n,i){for(let a in t)if(t.hasOwnProperty(a)){const c=t[a];(i=null===i?{}:i).hasOwnProperty(a)?i[a].push(n,c):i[a]=[n,c]}return i}function Cm(t,n){const a=n.directiveEnd,c=t.data,h=n.attrs,y=[];let C=null,M=null;for(let k=n.directiveStart;k<a;k++){const $=c[k],Q=$.inputs,me=null===h||Md(n)?null:m1(Q,h);y.push(me),C=_m(Q,k,C),M=_m($.outputs,k,M)}null!==C&&(C.hasOwnProperty("class")&&(n.flags|=16),C.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=y,n.inputs=C,n.outputs=M}function mo(t,n,i,a,c,h,y,C){const M=Pn(n,i);let $,k=n.inputs;!C&&null!=k&&($=k[a])?(_p(t,i,$,a,c),Vi(n)&&xm(i,n.index)):3&n.type&&(a=function s1(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=y?y(c,n.value||"",a):c,h.setProperty(M,a,c))}function xm(t,n){const i=an(n,t);16&i[2]||(i[2]|=32)}function gp(t,n,i,a){let c=!1;if(yi()){const h=function d1(t,n,i){const a=t.directiveRegistry;let c=null;if(a)for(let h=0;h<a.length;h++){const y=a[h];ll(i,y.selectors,!1)&&(c||(c=[]),hs(js(i,n),t,y.type),wr(y)?(Em(t,i),c.unshift(y)):c.push(y))}return c}(t,n,i),y=null===a?null:{"":-1};if(null!==h){c=!0,Mm(i,t.data.length,h.length);for(let $=0;$<h.length;$++){const Q=h[$];Q.providersResolver&&Q.providersResolver(Q)}let C=!1,M=!1,k=zl(t,n,h.length,null);for(let $=0;$<h.length;$++){const Q=h[$];i.mergedAttrs=to(i.mergedAttrs,Q.hostAttrs),Sm(t,i,n,k,Q),f1(k,Q,y),null!==Q.contentQueries&&(i.flags|=8),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(i.flags|=128);const me=Q.type.prototype;!C&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i.index),C=!0),!M&&(me.ngOnChanges||me.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i.index),M=!0),k++}Cm(t,i)}y&&function h1(t,n,i){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=i[n[c+1]];if(null==h)throw new Ce(-301,!1);a.push(n[c],h)}}}(i,a,y)}return i.mergedAttrs=to(i.mergedAttrs,i.attrs),c}function Dm(t,n,i,a,c,h){const y=h.hostBindings;if(y){let C=t.hostBindingOpCodes;null===C&&(C=t.hostBindingOpCodes=[]);const M=~n.index;(function l1(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(C)!=M&&C.push(M),C.push(a,c,y)}}function bm(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Em(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function f1(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;wr(n)&&(i[""]=t)}}function Mm(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}function Sm(t,n,i,a,c){t.data[a]=c;const h=c.factory||(c.factory=Tr(c.type)),y=new wi(h,wr(c),Va);t.blueprint[a]=y,i[a]=y,Dm(t,n,0,a,zl(t,i,c.hostVars,hn),c)}function p1(t,n,i){const a=Pn(n,t),c=vm(i),h=t[10],y=qd(t,Yd(t,c,null,i.onPush?32:16,a,n,h,h.createRenderer(a,i),null,null,null));t[n.index]=y}function ia(t,n,i,a,c,h){const y=Pn(t,n);!function mp(t,n,i,a,c,h,y){if(null==h)t.removeAttribute(n,c,i);else{const C=null==y?Ee(h):y(h,a||"",c);t.setAttribute(n,c,C,i)}}(n[11],y,h,t.value,i,a,c)}function g1(t,n,i,a,c,h){const y=h[n];if(null!==y){const C=a.setInput;for(let M=0;M<y.length;){const k=y[M++],$=y[M++],Q=y[M++];null!==C?a.setInput(i,Q,k,$):i[$]=Q}}}function m1(t,n){let i=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===i&&(i=[]),i.push(c,t[c],n[a+1])),a+=2}else a+=2;else a+=4}return i}function Tm(t,n,i,a){return new Array(t,!0,!1,n,null,0,a,i,null,null)}function w1(t,n){const i=an(n,t);if(li(i)){const a=i[1];48&i[2]?Kd(a,i,a.template,i[8]):i[5]>0&&yp(i)}}function yp(t){for(let a=kc(t);null!==a;a=ud(a))for(let c=10;c<a.length;c++){const h=a[c];if(li(h))if(512&h[2]){const y=h[1];Kd(y,h,y.template,h[8])}else h[5]>0&&yp(h)}const i=t[1].components;if(null!==i)for(let a=0;a<i.length;a++){const c=an(i[a],t);li(c)&&c[5]>0&&yp(c)}}function _1(t,n){const i=an(n,t),a=i[1];(function C1(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])})(a,i),dp(a,i,i[8])}function qd(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function vp(t){for(;t;){t[2]|=32;const n=il(t);if(vs(t)&&!n)return t;t=n}return null}function Zd(t,n,i,a=!0){const c=n[10];c.begin&&c.begin();try{Kd(t,n,t.template,i)}catch(y){throw a&&Nm(n,y),y}finally{c.end&&c.end()}}function wp(t,n,i){Ds(0),n(t,i)}function Am(t){return t[7]||(t[7]=[])}function Im(t){return t.cleanup||(t.cleanup=[])}function Nm(t,n){const i=t[9],a=i?i.get(Gs,null):null;a&&a.handleError(n)}function _p(t,n,i,a,c){for(let h=0;h<i.length;){const y=i[h++],C=i[h++],M=n[y],k=t.data[y];null!==k.setInput?k.setInput(M,c,a,C):M[C]=c}}function wa(t,n,i){const a=xr(n,t);!function dd(t,n,i){t.setValue(n,i)}(t[11],a,i)}function Jd(t,n,i){let a=i?t.styles:null,c=i?t.classes:null,h=0;if(null!==n)for(let y=0;y<n.length;y++){const C=n[y];"number"==typeof C?h=C:1==h?c=ge(c,C):2==h&&(a=ge(a,C+": "+n[++y]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=c:t.classesWithoutHost=c}function Qd(t,n,i,a,c=!1){for(;null!==i;){const h=n[i.index];if(null!==h&&a.push(wn(h)),vr(h))for(let C=10;C<h.length;C++){const M=h[C],k=M[1].firstChild;null!==k&&Qd(M[1],M,k,a)}const y=i.type;if(8&y)Qd(t,n,i.child,a);else if(32&y){const C=Rc(i,n);let M;for(;M=C();)a.push(M)}else if(16&y){const C=_d(n,i);if(Array.isArray(C))a.push(...C);else{const M=il(n[16]);Qd(M[1],M,C,a,!0)}}i=c?i.projectionNext:i.next}return a}class Qc{constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,i=n[1];return Qd(i,n,i.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(vr(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(Bc(n,a),_i(i,a))}this._attachedToViewContainer=!1}pd(this._lView[1],this._lView)}onDestroy(n){wm(this._lView[1],this._lView,null,n)}markForCheck(){vp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Zd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tf(t,n){al(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=n}}class x1 extends Qc{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Zd(n[1],n,n[8],!1)}checkNoChanges(){}get context(){return null}}class Cp extends Oa{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=H(n);return new Xc(i,this.ngModule)}}function Pm(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class b1{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){const c=this.injector.get(n,Cc,a);return c!==Cc||i===Cc?c:this.parentInjector.get(n,i,a)}}class Xc extends Rl{constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Hf(t){return t.map(jc).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return Pm(this.componentDef.inputs)}get outputs(){return Pm(this.componentDef.outputs)}create(n,i,a,c){let h=(c=c||this.ngModule)instanceof fa?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new b1(n,h):n,C=y.get($u,null);if(null===C)throw new Ce(407,!1);const M=y.get(Wu,null),k=C.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",Q=a?function r1(t,n,i){return t.selectRootElement(n,i===Le.ShadowDom)}(k,a,this.componentDef.encapsulation):Lc(C.createRenderer(null,this.componentDef),$,function D1(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}($)),me=this.componentDef.onPush?288:272,Oe=pp(0,null,null,1,0,null,null,null,null,null),Ze=Yd(null,Oe,null,me,null,null,C,k,M,y,null);let ht,Dt;Qr(Ze);try{const Ut=function S1(t,n,i,a,c,h){const y=i[1];i[22]=t;const M=Ul(y,22,2,"#host",null),k=M.mergedAttrs=n.hostAttrs;null!==k&&(Jd(M,k,!0),null!==t&&(Oi(c,t,k),null!==M.classes&&zc(c,t,M.classes),null!==M.styles&&Dd(c,t,M.styles)));const $=a.createRenderer(t,n),Q=Yd(i,vm(n),null,n.onPush?32:16,i[22],M,a,$,h||null,null,null);return y.firstCreatePass&&(hs(js(M,i),y,n.type),Em(y,M),Mm(M,i.length,1)),qd(i,Q),i[22]=Q}(Q,this.componentDef,Ze,C,k);if(Q)if(a)Oi(k,Q,["ng-version",rf.full]);else{const{attrs:qt,classes:rt}=function Uf(t){const n=[],i=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++a]):8===c&&i.push(h);else{if(!ho(c))break;c=h}a++}return{attrs:n,classes:i}}(this.componentDef.selectors[0]);qt&&Oi(k,Q,qt),rt&&rt.length>0&&zc(k,Q,rt.join(" "))}if(Dt=Mi(Oe,22),void 0!==i){const qt=Dt.projection=[];for(let rt=0;rt<this.ngContentSelectors.length;rt++){const rn=i[rt];qt.push(null!=rn?Array.from(rn):null)}}ht=function T1(t,n,i,a){const c=i[1],h=function a1(t,n,i){const a=Un();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),Sm(t,a,n,zl(t,n,1,null),i),Cm(t,a));const c=ps(n,t,a.directiveStart,a);Ki(c,n);const h=Pn(a,n);return h&&Ki(h,n),c}(c,i,n);if(t[8]=i[8]=h,null!==a)for(const C of a)C(h,n);if(n.contentQueries){const C=Un();n.contentQueries(1,h,C.directiveStart)}const y=Un();return!c.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(ke(y.index),Dm(i[1],y,0,y.directiveStart,y.directiveEnd,n),bm(n,h)),h}(Ut,this.componentDef,Ze,[A1]),dp(Oe,Ze,null)}finally{B()}return new M1(this.componentType,ht,Na(Dt,Ze),Ze,Dt)}}class M1 extends class Hu{}{constructor(n,i,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=i,this.hostView=this.changeDetectorRef=new x1(c),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[n])){const h=this._rootLView;_p(h[1],h,c,n,i),xm(h,this._tNode.index)}}get injector(){return new D(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function A1(){const t=Un();mn(qe()[1],t)}function xp(t){let n=function Rm(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let c;if(wr(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ce(903,!1);c=n.\u0275dir}if(c){if(i){a.push(c);const y=t;y.inputs=Dp(t.inputs),y.declaredInputs=Dp(t.declaredInputs),y.outputs=Dp(t.outputs);const C=c.hostBindings;C&&P1(t,C);const M=c.viewQuery,k=c.contentQueries;if(M&&O1(t,M),k&&N1(t,k),ce(t.inputs,c.inputs),ce(t.declaredInputs,c.declaredInputs),ce(t.outputs,c.outputs),wr(c)&&c.data.animation){const $=t.data;$.animation=($.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const C=h[y];C&&C.ngInherit&&C(t),C===xp&&(i=!1)}}n=Object.getPrototypeOf(n)}!function I1(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=n+=c.hostVars,c.hostAttrs=to(c.hostAttrs,i=to(i,c.hostAttrs))}}(a)}function Dp(t){return t===vt?{}:t===st?[]:t}function O1(t,n){const i=t.viewQuery;t.viewQuery=i?(a,c)=>{n(a,c),i(a,c)}:n}function N1(t,n){const i=t.contentQueries;t.contentQueries=i?(a,c,h)=>{n(a,c,h),i(a,c,h)}:n}function P1(t,n){const i=t.hostBindings;t.hostBindings=i?(a,c)=>{n(a,c),i(a,c)}:n}let Xd=null;function fl(){if(!Xd){const t=Ge.Symbol;if(t&&t.iterator)Xd=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<n.length;++i){const a=n[i];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Xd=a)}}}return Xd}function eu(t){return!!bp(t)&&(Array.isArray(t)||!(t instanceof Map)&&fl()in t)}function bp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function sa(t,n,i){return t[n]=i}function ys(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function pl(t,n,i,a){const c=ys(t,n,i);return ys(t,n+1,a)||c}function eh(t,n,i,a,c){const h=pl(t,n,i,a);return ys(t,n+2,c)||h}function Mo(t,n,i,a,c,h){const y=pl(t,n,i,a);return pl(t,n+2,c,h)||y}function Ep(t,n,i,a){const c=qe();return ys(c,_s(),n)&&(Gt(),ia(ze(),c,t,n,i,a)),Ep}function $l(t,n,i,a){return ys(t,_s(),i)?n+Ee(i)+a:hn}function $m(t,n,i,a,c,h,y,C){const M=qe(),k=Gt(),$=t+22,Q=k.firstCreatePass?function U1(t,n,i,a,c,h,y,C,M){const k=n.consts,$=Ul(n,t,4,y||null,Fr(k,C));gp(n,i,$,Fr(k,M)),mn(n,$);const Q=$.tViews=pp(2,$,a,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,k);return null!==n.queries&&(n.queries.template(n,$),Q.queries=n.queries.embeddedTView($)),$}($,k,M,n,i,a,c,h,y):k.data[$];S(Q,!1);const me=M[11].createComment("");Fl(k,M,me,Q),Ki(me,M),qd(M,M[$]=Tm(me,M,me,Q)),qi(Q)&&hp(k,M,Q),null!=y&&fp(M,Q,C)}function Wm(t){return kr(function sr(){return Ot.lFrame.contextLView}(),22+t)}function Mp(t,n,i){const a=qe();return ys(a,_s(),n)&&mo(Gt(),ze(),a,t,n,a[11],i,!1),Mp}function Sp(t,n,i,a,c){const y=c?"class":"style";_p(t,i,n.inputs[y],y,a)}function th(t,n,i,a){const c=qe(),h=Gt(),y=22+t,C=c[11],M=c[y]=Lc(C,n,function Jt(){return Ot.lFrame.currentNamespace}()),k=h.firstCreatePass?function j1(t,n,i,a,c,h,y){const C=n.consts,k=Ul(n,t,2,c,Fr(C,h));return gp(n,i,k,Fr(C,y)),null!==k.attrs&&Jd(k,k.attrs,!1),null!==k.mergedAttrs&&Jd(k,k.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,k),k}(y,h,c,0,n,i,a):h.data[y];S(k,!0);const $=k.mergedAttrs;null!==$&&Oi(C,M,$);const Q=k.classes;null!==Q&&zc(C,M,Q);const me=k.styles;return null!==me&&Dd(C,M,me),64!=(64&k.flags)&&Fl(h,c,M,k),0===function ls(){return Ot.lFrame.elementDepthCount}()&&Ki(M,c),function Ar(){Ot.lFrame.elementDepthCount++}(),qi(k)&&(hp(h,c,k),ym(h,k,c)),null!==a&&fp(c,k),th}function nh(){let t=Un();j()?Be():(t=t.parent,S(t,!1));const n=t;!function cs(){Ot.lFrame.elementDepthCount--}();const i=Gt();return i.firstCreatePass&&(mn(i,t),fi(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ii(t){return 0!=(16&t.flags)}(n)&&Sp(i,n,qe(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function $o(t){return 0!=(32&t.flags)}(n)&&Sp(i,n,qe(),n.stylesWithoutHost,!1),nh}function Tp(t,n,i,a){return th(t,n,i,a),nh(),Tp}function rh(t,n,i){const a=qe(),c=Gt(),h=t+22,y=c.firstCreatePass?function $1(t,n,i,a,c){const h=n.consts,y=Fr(h,a),C=Ul(n,t,8,"ng-container",y);return null!==y&&Jd(C,y,!0),gp(n,i,C,Fr(h,c)),null!==n.queries&&n.queries.elementStart(n,C),C}(h,c,a,n,i):c.data[h];S(y,!0);const C=a[h]=a[11].createComment("");return Fl(c,a,C,y),Ki(C,a),qi(y)&&(hp(c,a,y),ym(c,y,a)),null!=i&&fp(a,y),rh}function ih(){let t=Un();const n=Gt();return j()?Be():(t=t.parent,S(t,!1)),n.firstCreatePass&&(mn(n,t),fi(t)&&n.queries.elementEnd(t)),ih}function Ap(t,n,i){return rh(t,n,i),ih(),Ap}function Gm(){return qe()}function Ip(t){return!!t&&"function"==typeof t.then}function Ym(t){return!!t&&"function"==typeof t.subscribe}const Km=Ym;function Op(t,n,i,a){const c=qe(),h=Gt(),y=Un();return function Zm(t,n,i,a,c,h,y,C){const M=qi(a),$=t.firstCreatePass&&Im(t),Q=n[8],me=Am(n);let Oe=!0;if(3&a.type||C){const Dt=Pn(a,n),Ut=C?C(Dt):Dt,qt=me.length,rt=C?Jn=>C(wn(Jn[a.index])):a.index;let rn=null;if(!C&&M&&(rn=function W1(t,n,i,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===i&&c[h+1]===a){const C=n[7],M=c[h+2];return C.length>M?C[M]:null}"string"==typeof y&&(h+=2)}return null}(t,n,c,a.index)),null!==rn)(rn.__ngLastListenerFn__||rn).__ngNextListenerFn__=h,rn.__ngLastListenerFn__=h,Oe=!1;else{h=Qm(a,n,Q,h,!1);const Jn=i.listen(Ut,c,h);me.push(h,Jn),$&&$.push(c,rt,qt,qt+1)}}else h=Qm(a,n,Q,h,!1);const Ze=a.outputs;let ht;if(Oe&&null!==Ze&&(ht=Ze[c])){const Dt=ht.length;if(Dt)for(let Ut=0;Ut<Dt;Ut+=2){const Br=n[ht[Ut]][ht[Ut+1]].subscribe(h),yl=me.length;me.push(h,Br),$&&$.push(c,a.index,yl,-(yl+1))}}}(h,c,c[11],y,t,n,0,a),Op}function Jm(t,n,i,a){try{return!1!==i(a)}catch(c){return Nm(t,c),!1}}function Qm(t,n,i,a,c){return function h(y){if(y===Function)return a;vp(2&t.flags?an(t.index,n):n);let M=Jm(n,0,a,y),k=h.__ngNextListenerFn__;for(;k;)M=Jm(n,0,k,y)&&M,k=k.__ngNextListenerFn__;return c&&!1===M&&(y.preventDefault(),y.returnValue=!1),M}}function Xm(t=1){return function A(t){return(Ot.lFrame.contextLView=function W(t,n){for(;t>0;)n=n[15],t--;return n}(t,Ot.lFrame.contextLView))[8]}(t)}function G1(t,n){let i=null;const a=function Sd(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(0==(1&i))return n[i+1]}return null}(t);for(let c=0;c<n.length;c++){const h=n[c];if("*"!==h){if(null===a?ll(t,h,!0):Vf(a,h))return c}else i=c}return i}function e0(t){const n=qe()[16][6];if(!n.projection){const a=n.projection=Nr(t?t.length:1,null),c=a.slice();let h=n.child;for(;null!==h;){const y=t?G1(h,t):0;null!==y&&(c[y]?c[y].projectionNext=h:a[y]=h,c[y]=h),h=h.next}}}function t0(t,n=0,i){const a=qe(),c=Gt(),h=Ul(c,22+t,16,null,i||null);null===h.projection&&(h.projection=n),Be(),64!=(64&h.flags)&&function Nf(t,n,i){xd(n[11],0,n,i,ga(t,i,n),ya(i.parent||n[6],i,n))}(c,a,h)}function Np(t,n,i){return sh(t,"",n,"",i),Np}function sh(t,n,i,a,c){const h=qe(),y=$l(h,n,i,a);return y!==hn&&mo(Gt(),ze(),h,t,y,h[11],c,!1),sh}function d0(t,n,i,a,c){const h=t[i+1],y=null===n;let C=a?po(h):Ho(h),M=!1;for(;0!==C&&(!1===M||y);){const $=t[C+1];q1(t[C],n)&&(M=!0,t[C+1]=a?qc($):Yc($)),C=a?po($):Ho($)}M&&(t[i+1]=a?Yc(h):qc(h))}function q1(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ne(t,n)>=0}const Fi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function h0(t){return t.substring(Fi.key,Fi.keyEnd)}function f0(t,n){const i=Fi.textEnd;return i===n?-1:(n=Fi.keyEnd=function X1(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Fi.key=n,i),Ql(t,n,i))}function Ql(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function Pp(t,n,i){return Uo(t,n,i,!1),Pp}function Rp(t,n){return Uo(t,n,null,!0),Rp}function v0(t){!function zo(t,n,i,a){const c=Gt(),h=Ti(2);c.firstUpdatePass&&_0(c,null,h,a);const y=qe();if(i!==hn&&ys(y,h,i)){const C=c.data[re()];if(b0(C,a)&&!w0(c,h)){let M=a?C.classesWithoutHost:C.stylesWithoutHost;null!==M&&(i=ge(M,i||"")),Sp(c,C,y,i,a)}else!function lw(t,n,i,a,c,h,y,C){c===hn&&(c=st);let M=0,k=0,$=0<c.length?c[0]:null,Q=0<h.length?h[0]:null;for(;null!==$||null!==Q;){const me=M<c.length?c[M+1]:void 0,Oe=k<h.length?h[k+1]:void 0;let ht,Ze=null;$===Q?(M+=2,k+=2,me!==Oe&&(Ze=Q,ht=Oe)):null===Q||null!==$&&$<Q?(M+=2,Ze=$):(k+=2,Ze=Q,ht=Oe),null!==Ze&&x0(t,n,i,a,Ze,ht,y,C),$=M<c.length?c[M]:null,Q=k<h.length?h[k]:null}}(c,C,y,y[11],y[h+1],y[h+1]=function aw(t,n,i){if(null==i||""===i)return st;const a=[],c=Xo(i);if(Array.isArray(c))for(let h=0;h<c.length;h++)t(a,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&t(a,h,c[h]);else"string"==typeof c&&n(a,c);return a}(t,n,i),a,h)}}(U,aa,t,!0)}function aa(t,n){for(let i=function J1(t){return function g0(t){Fi.key=0,Fi.keyEnd=0,Fi.value=0,Fi.valueEnd=0,Fi.textEnd=t.length}(t),f0(t,Ql(t,0,Fi.textEnd))}(n);i>=0;i=f0(n,i))U(t,h0(n),!0)}function Uo(t,n,i,a){const c=qe(),h=Gt(),y=Ti(2);h.firstUpdatePass&&_0(h,t,y,a),n!==hn&&ys(c,y,n)&&x0(h,h.data[re()],c,c[11],t,c[y+1]=function cw(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Z(Xo(t)))),t}(n,i),a,y)}function w0(t,n){return n>=t.expandoStartIndex}function _0(t,n,i,a){const c=t.data;if(null===c[i+1]){const h=c[re()],y=w0(t,i);b0(h,a)&&null===n&&!y&&(n=!1),n=function rw(t,n,i,a){const c=xs(t);let h=a?n.residualClasses:n.residualStyles;if(null===c)0===(a?n.classBindings:n.styleBindings)&&(i=nu(i=kp(null,t,n,i,a),n.attrs,a),h=null);else{const y=n.directiveStylingLast;if(-1===y||t[y]!==c)if(i=kp(c,t,n,i,a),null===h){let M=function iw(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==Ho(a))return t[po(a)]}(t,n,a);void 0!==M&&Array.isArray(M)&&(M=kp(null,t,n,M[1],a),M=nu(M,n.attrs,a),function sw(t,n,i,a){t[po(i?n.classBindings:n.styleBindings)]=a}(t,n,a,M))}else h=function ow(t,n,i){let a;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)a=nu(a,t[h].hostAttrs,i);return nu(a,n.attrs,i)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),i}(c,h,n,a),function Y1(t,n,i,a,c,h){let y=h?n.classBindings:n.styleBindings,C=po(y),M=Ho(y);t[a]=i;let $,k=!1;if(Array.isArray(i)){const Q=i;$=Q[1],(null===$||ne(Q,$)>0)&&(k=!0)}else $=i;if(c)if(0!==M){const me=po(t[C+1]);t[a+1]=Hl(me,C),0!==me&&(t[me+1]=Kc(t[me+1],a)),t[C+1]=function op(t,n){return 131071&t|n<<17}(t[C+1],a)}else t[a+1]=Hl(C,0),0!==C&&(t[C+1]=Kc(t[C+1],a)),C=a;else t[a+1]=Hl(M,0),0===C?C=a:t[M+1]=Kc(t[M+1],a),M=a;k&&(t[a+1]=Yc(t[a+1])),d0(t,$,a,!0),d0(t,$,a,!1),function K1(t,n,i,a,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&ne(h,n)>=0&&(i[a+1]=qc(i[a+1]))}(n,$,t,a,h),y=Hl(C,M),h?n.classBindings=y:n.styleBindings=y}(c,h,n,i,y,a)}}function kp(t,n,i,a,c){let h=null;const y=i.directiveEnd;let C=i.directiveStylingLast;for(-1===C?C=i.directiveStart:C++;C<y&&(h=n[C],a=nu(a,h.hostAttrs,c),h!==t);)C++;return null!==t&&(i.directiveStylingLast=C),a}function nu(t,n,i){const a=i?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const y=n[h];"number"==typeof y?c=y:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),U(t,y,!!i||n[++h]))}return void 0===t?null:t}function x0(t,n,i,a,c,h,y,C){if(!(3&n.type))return;const M=t.data,k=M[C+1];oh(function $d(t){return 1==(1&t)}(k)?D0(M,n,i,c,Ho(k),y):void 0)||(oh(h)||function jd(t){return 2==(2&t)}(k)&&(h=D0(M,null,i,c,C,y)),function Rf(t,n,i,a,c){if(n)c?t.addClass(i,a):t.removeClass(i,a);else{let h=-1===a.indexOf("-")?void 0:Eo.DashCase;null==c?t.removeStyle(i,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Eo.Important),t.setStyle(i,a,c,h))}}(a,y,xr(re(),i),c,h))}function D0(t,n,i,a,c,h){const y=null===n;let C;for(;c>0;){const M=t[c],k=Array.isArray(M),$=k?M[1]:M,Q=null===$;let me=i[c+1];me===hn&&(me=Q?st:void 0);let Oe=Q?X(me,a):$===a?me:void 0;if(k&&!oh(Oe)&&(Oe=X(M,a)),oh(Oe)&&(C=Oe,y))return C;const Ze=t[c+1];c=y?po(Ze):Ho(Ze)}if(null!==n){let M=h?n.residualClasses:n.residualStyles;null!=M&&(C=X(M,a))}return C}function oh(t){return void 0!==t}function b0(t,n){return 0!=(t.flags&(n?16:32))}function E0(t,n=""){const i=qe(),a=Gt(),c=t+22,h=a.firstCreatePass?Ul(a,c,1,n,null):a.data[c],y=i[c]=function Fc(t,n){return t.createText(n)}(i[11],n);Fl(a,i,y,h),S(h,!1)}function Fp(t){return ah("",t,""),Fp}function ah(t,n,i){const a=qe(),c=$l(a,t,n,i);return c!==hn&&wa(a,re(),c),ah}function Lp(t,n,i,a,c){const h=qe(),y=function Wl(t,n,i,a,c,h){const C=pl(t,ci(),i,c);return Ti(2),C?n+Ee(i)+a+Ee(c)+h:hn}(h,t,n,i,a,c);return y!==hn&&wa(h,re(),y),Lp}function Bp(t,n,i,a,c,h,y){const C=qe(),M=function Gl(t,n,i,a,c,h,y,C){const k=eh(t,ci(),i,c,y);return Ti(3),k?n+Ee(i)+a+Ee(c)+h+Ee(y)+C:hn}(C,t,n,i,a,c,h,y);return M!==hn&&wa(C,re(),M),Bp}function Vp(t,n,i){const a=qe();return ys(a,_s(),n)&&mo(Gt(),ze(),a,t,n,a[11],i,!0),Vp}function Hp(t,n,i){const a=qe();if(ys(a,_s(),n)){const h=Gt(),y=ze();mo(h,y,a,t,n,function Om(t,n,i){return(null===t||wr(t))&&(i=function ss(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(i[n.index])),i[11]}(xs(h.data),y,a),i,!0)}return Hp}const gl=void 0;var Aw=["en",[["a","p"],["AM","PM"],gl],[["AM","PM"],gl,gl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gl,"{1} 'at' {0}",gl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Tw(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let Xl={};function Up(t){const n=function Iw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=z0(n);if(i)return i;const a=n.split("-")[0];if(i=z0(a),i)return i;if("en"===a)return Aw;throw new Ce(701,!1)}function U0(t){return Up(t)[en.PluralCase]}function z0(t){return t in Xl||(Xl[t]=Ge.ng&&Ge.ng.common&&Ge.ng.common.locales&&Ge.ng.common.locales[t]),Xl[t]}var en=(()=>((en=en||{})[en.LocaleId=0]="LocaleId",en[en.DayPeriodsFormat=1]="DayPeriodsFormat",en[en.DayPeriodsStandalone=2]="DayPeriodsStandalone",en[en.DaysFormat=3]="DaysFormat",en[en.DaysStandalone=4]="DaysStandalone",en[en.MonthsFormat=5]="MonthsFormat",en[en.MonthsStandalone=6]="MonthsStandalone",en[en.Eras=7]="Eras",en[en.FirstDayOfWeek=8]="FirstDayOfWeek",en[en.WeekendRange=9]="WeekendRange",en[en.DateFormat=10]="DateFormat",en[en.TimeFormat=11]="TimeFormat",en[en.DateTimeFormat=12]="DateTimeFormat",en[en.NumberSymbols=13]="NumberSymbols",en[en.NumberFormats=14]="NumberFormats",en[en.CurrencyCode=15]="CurrencyCode",en[en.CurrencySymbol=16]="CurrencySymbol",en[en.CurrencyName=17]="CurrencyName",en[en.Currencies=18]="Currencies",en[en.Directionality=19]="Directionality",en[en.PluralCase=20]="PluralCase",en[en.ExtraData=21]="ExtraData",en))();const ec="en-US";let j0=ec;function $p(t,n,i,a,c){if(t=Te(t),Array.isArray(t))for(let h=0;h<t.length;h++)$p(t[h],n,i,a,c);else{const h=Gt(),y=qe();let C=ea(t)?t:Te(t.provide),M=Vu(t);const k=Un(),$=1048575&k.providerIndexes,Q=k.directiveStart,me=k.providerIndexes>>20;if(ea(t)||!t.multi){const Oe=new wi(M,c,Va),Ze=Gp(C,n,c?$:$+me,Q);-1===Ze?(hs(js(k,y),h,C),Wp(h,t,n.length),n.push(C),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),i.push(Oe),y.push(Oe)):(i[Ze]=Oe,y[Ze]=Oe)}else{const Oe=Gp(C,n,$+me,Q),Ze=Gp(C,n,$,$+me),ht=Oe>=0&&i[Oe],Dt=Ze>=0&&i[Ze];if(c&&!Dt||!c&&!ht){hs(js(k,y),h,C);const Ut=function S_(t,n,i,a,c){const h=new wi(t,i,Va);return h.multi=[],h.index=n,h.componentProviders=0,py(h,c,a&&!i),h}(c?M_:E_,i.length,c,a,M);!c&&Dt&&(i[Ze].providerFactory=Ut),Wp(h,t,n.length,0),n.push(C),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),i.push(Ut),y.push(Ut)}else Wp(h,t,Oe>-1?Oe:Ze,py(i[c?Ze:Oe],M,!c&&a));!c&&a&&Dt&&i[Ze].componentProviders++}}}function Wp(t,n,i,a){const c=ea(n),h=function Bo(t){return!!t.useClass}(n);if(c||h){const M=(h?Te(n.useClass):n).prototype.ngOnDestroy;if(M){const k=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const $=k.indexOf(i);-1===$?k.push(i,[a,M]):k[$+1].push(a,M)}else k.push(i,M)}}}function py(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Gp(t,n,i,a){for(let c=i;c<a;c++)if(n[c]===t)return c;return-1}function E_(t,n,i,a){return Yp(this.multi,[])}function M_(t,n,i,a){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=ps(i,i[1],this.providerFactory.index,a);h=C.slice(0,y),Yp(c,h);for(let M=y;M<C.length;M++)h.push(C[M])}else h=[],Yp(c,h);return h}function Yp(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function gy(t,n=[]){return i=>{i.providersResolver=(a,c)=>function b_(t,n,i){const a=Gt();if(a.firstCreatePass){const c=wr(t);$p(i,a.data,a.blueprint,c,!0),$p(n,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,n)}}class tc{}class my{}function T_(t,n){return new yy(t,n??null)}class yy extends tc{constructor(n,i){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cp(this);const a=Fe(n);this._bootstrapComponents=Vo(a.bootstrap),this._r3Injector=Fd(n,i,[{provide:tc,useValue:this},{provide:Oa,useValue:this.componentFactoryResolver}],Z(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Kp extends my{constructor(n){super(),this.moduleType=n}create(n){return new yy(this.moduleType,n)}}class A_ extends tc{constructor(n,i,a){super(),this.componentFactoryResolver=new Cp(this),this.instance=null;const c=new Bu([...n,{provide:tc,useValue:this},{provide:Oa,useValue:this.componentFactoryResolver}],i||Nl(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function qp(t,n,i=null){return new A_(t,n,i).injector}let I_=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i.id)){const a=Fu(0,i.type),c=a.length>0?qp([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i.id,c)}return this.cachedInjectors.get(i.id)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=xe({token:t,providedIn:"environment",factory:()=>new t(Cn(fa))}),t})();function vy(t){t.getStandaloneInjector=n=>n.get(I_).getOrCreateStandaloneInjector(t)}function Ey(t,n,i,a){return Iy(qe(),En(),t,n,i,a)}function My(t,n,i,a,c){return Oy(qe(),En(),t,n,i,a,c)}function Sy(t,n,i,a,c,h){return Ny(qe(),En(),t,n,i,a,c,h)}function Ty(t,n,i,a,c,h,y){return function Py(t,n,i,a,c,h,y,C,M){const k=n+i;return Mo(t,k,c,h,y,C)?sa(t,k+4,M?a.call(M,c,h,y,C):a(c,h,y,C)):lu(t,k+4)}(qe(),En(),t,n,i,a,c,h,y)}function Ay(t,n,i,a,c,h,y,C){const M=En()+t,k=qe(),$=Mo(k,M,i,a,c,h);return ys(k,M+4,y)||$?sa(k,M+5,C?n.call(C,i,a,c,h,y):n(i,a,c,h,y)):function tu(t,n){return t[n]}(k,M+5)}function lu(t,n){const i=t[n];return i===hn?void 0:i}function Iy(t,n,i,a,c,h){const y=n+i;return ys(t,y,c)?sa(t,y+1,h?a.call(h,c):a(c)):lu(t,y+1)}function Oy(t,n,i,a,c,h,y){const C=n+i;return pl(t,C,c,h)?sa(t,C+2,y?a.call(y,c,h):a(c,h)):lu(t,C+2)}function Ny(t,n,i,a,c,h,y,C){const M=n+i;return eh(t,M,c,h,y)?sa(t,M+3,C?a.call(C,c,h,y):a(c,h,y)):lu(t,M+3)}function ky(t,n){const i=Gt();let a;const c=t+22;i.firstCreatePass?(a=function $_(t,n){if(n)for(let i=n.length-1;i>=0;i--){const a=n[i];if(t===a.name)return a}}(n,i.pipeRegistry),i.data[c]=a,a.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(c,a.onDestroy)):a=i.data[c];const h=a.factory||(a.factory=Tr(a.type)),y=Ln(Va);try{const C=no(!1),M=h();return no(C),function z1(t,n,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=a}(i,qe(),c,M),M}finally{Ln(y)}}function Fy(t,n,i){const a=t+22,c=qe(),h=kr(c,a);return cu(c,a)?Iy(c,En(),n,h.transform,i,h):h.transform(i)}function Ly(t,n,i,a){const c=t+22,h=qe(),y=kr(h,c);return cu(h,c)?Oy(h,En(),n,y.transform,i,a,y):y.transform(i,a)}function By(t,n,i,a,c){const h=t+22,y=qe(),C=kr(y,h);return cu(y,h)?Ny(y,En(),n,C.transform,i,a,c,C):C.transform(i,a,c)}function cu(t,n){return t[1].data[n].pure}function Jp(t){return n=>{setTimeout(t,void 0,n)}}const la=class Y_ extends d.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,a){let c=n,h=i||(()=>null),y=a;if(n&&"object"==typeof n){const M=n;c=M.next?.bind(M),h=M.error?.bind(M),y=M.complete?.bind(M)}this.__isAsync&&(h=Jp(h),c&&(c=Jp(c)),y&&(y=Jp(y)));const C=super.subscribe({next:c,error:h,complete:y});return n instanceof T.w0&&n.add(C),C}};function K_(){return this._results[fl()]()}class hh{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=fl(),a=hh.prototype;a[i]||(a[i]=K_)}get changes(){return this._changes||(this._changes=new la)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const a=this;a.dirty=!1;const c=Rt(n);(this._changesDetected=!function jt(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=n[a];if(i&&(c=i(c),h=i(h)),h!==c)return!1}return!0}(a._results,c,i))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let uu=(()=>{class t{}return t.__NG_ELEMENT_ID__=J_,t})();const q_=uu,Z_=class extends q_{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}createEmbeddedView(n,i){const a=this._declarationTContainer.tViews,c=Yd(this._declarationLView,a,n,16,null,a.declTNode,null,null,null,null,i||null);c[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(c[19]=y.createEmbeddedView(a)),dp(a,c,n),new Qc(c)}};function J_(){return fh(Un(),qe())}function fh(t,n){return 4&t.type?new Z_(n,t,Na(t,n)):null}let ph=(()=>{class t{}return t.__NG_ELEMENT_ID__=Q_,t})();function Q_(){return Uy(Un(),qe())}const X_=ph,Vy=class extends X_{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return Na(this._hostTNode,this._hostLView)}get injector(){return new D(this._hostTNode,this._hostLView)}get parentInjector(){const n=oo(this._hostTNode,this._hostLView);if(Ko(n)){const i=ds(n,this._hostLView),a=bs(n);return new D(i[1].data[a+8],i)}return new D(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=Hy(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const y=n.createEmbeddedView(i||{},h);return this.insert(y,c),y}createComponent(n,i,a,c,h){const y=n&&!function Do(t){return"function"==typeof t}(n);let C;if(y)C=i;else{const Q=i||{};C=Q.index,a=Q.injector,c=Q.projectableNodes,h=Q.environmentInjector||Q.ngModuleRef}const M=y?n:new Xc(H(n)),k=a||this.parentInjector;if(!h&&null==M.ngModule){const me=(y?k:this.parentInjector).get(fa,null);me&&(h=me)}const $=M.create(k,c,void 0,h);return this.insert($.hostView,C),$}insert(n,i){const a=n._lView,c=a[1];if(function qr(t){return vr(t[3])}(a)){const $=this.indexOf(n);if(-1!==$)this.detach($);else{const Q=a[3],me=new Vy(Q,Q[6],Q[3]);me.detach(me.indexOf(n))}}const h=this._adjustIndex(i),y=this._lContainer;!function hd(t,n,i,a){const c=10+a,h=i.length;a>0&&(i[c-1][4]=n),a<h-10?(n[4]=i[c],ur(i,10+a,n)):(i.push(n),n[4]=null),n[3]=i;const y=n[17];null!==y&&i!==y&&function If(t,n){const i=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===i?t[9]=[n]:i.push(n)}(y,n);const C=n[19];null!==C&&C.insertView(t),n[2]|=64}(c,a,y,h);const C=Hc(h,y),M=a[11],k=Fa(M,y[7]);return null!==k&&function Sf(t,n,i,a,c,h){a[0]=c,a[6]=n,al(t,a,i,1,c,h)}(c,y[6],M,a,k,C),n.attachToViewContainerRef(),ur(Qp(y),h,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=Hy(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=Bc(this._lContainer,i);a&&(_i(Qp(this._lContainer),i),pd(a[1],a))}detach(n){const i=this._adjustIndex(n,-1),a=Bc(this._lContainer,i);return a&&null!=_i(Qp(this._lContainer),i)?new Qc(a):null}_adjustIndex(n,i=0){return n??this.length+i}};function Hy(t){return t[8]}function Qp(t){return t[8]||(t[8]=[])}function Uy(t,n){let i;const a=n[t.index];if(vr(a))i=a;else{let c;if(8&t.type)c=wn(a);else{const h=n[11];c=h.createComment("");const y=Pn(t,n);ma(h,Fa(h,y),c,function md(t,n){return t.nextSibling(n)}(h,y),!1)}n[t.index]=i=Tm(a,n,c,t),qd(n,i)}return new Vy(i,t,n)}class Xp{constructor(n){this.queryList=n,this.matches=null}clone(){return new Xp(this.queryList)}setDirty(){this.queryList.setDirty()}}class eg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let h=0;h<a;h++){const y=i.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new eg(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==Zy(n,i).matches&&this.queries[i].setDirty()}}class zy{constructor(n,i,a=null){this.predicate=n,this.flags=i,this.read=a}}class tg{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const c=null!==i?i.length:0,h=this.getByIndex(a).embeddedTView(n,c);h&&(h.indexInDeclarationView=a,null!==i?i.push(h):i=[h])}return null!==i?new tg(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class ng{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new ng(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(n,i,n2(i,h)),this.matchTNodeWithReadOption(n,i,qn(i,n,h,!1,!1))}else a===uu?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,qn(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===tl||c===ph||c===uu&&4&i.type)this.addMatch(i.index,-2);else{const h=qn(i,n,c,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function n2(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function i2(t,n,i,a){return-1===i?function r2(t,n){return 11&t.type?Na(t,n):4&t.type?fh(t,n):null}(n,t):-2===i?function s2(t,n,i){return i===tl?Na(n,t):i===uu?fh(n,t):i===ph?Uy(n,t):void 0}(t,n,a):ps(t,t[1],i,n)}function jy(t,n,i,a){const c=n[19].queries[a];if(null===c.matches){const h=t.data,y=i.matches,C=[];for(let M=0;M<y.length;M+=2){const k=y[M];C.push(k<0?null:i2(n,h[k],y[M+1],i.metadata.read))}c.matches=C}return c.matches}function rg(t,n,i,a){const c=t.queries.getByIndex(i),h=c.matches;if(null!==h){const y=jy(t,n,c,i);for(let C=0;C<h.length;C+=2){const M=h[C];if(M>0)a.push(y[C/2]);else{const k=h[C+1],$=n[-M];for(let Q=10;Q<$.length;Q++){const me=$[Q];me[17]===me[3]&&rg(me[1],me,k,a)}if(null!==$[9]){const Q=$[9];for(let me=0;me<Q.length;me++){const Oe=Q[me];rg(Oe[1],Oe,k,a)}}}}}return a}function $y(t){const n=qe(),i=Gt(),a=Io();Ds(a+1);const c=Zy(i,a);if(t.dirty&&function yo(t){return 4==(4&t[2])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?rg(i,n,a,[]):jy(i,n,c,a);t.reset(h,ju),t.notifyOnChanges()}return!0}return!1}function Wy(t,n,i){const a=Gt();a.firstCreatePass&&(qy(a,new zy(t,n,i),-1),2==(2&n)&&(a.staticViewQueries=!0)),Ky(a,qe(),n)}function Gy(t,n,i,a){const c=Gt();if(c.firstCreatePass){const h=Un();qy(c,new zy(n,i,a),h.index),function a2(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(c,t),2==(2&i)&&(c.staticContentQueries=!0)}Ky(c,qe(),i)}function Yy(){return function o2(t,n){return t[19].queries[n].queryList}(qe(),Io())}function Ky(t,n,i){const a=new hh(4==(4&i));wm(t,n,a,a.destroy),null===n[19]&&(n[19]=new eg),n[19].queries.push(new Xp(a))}function qy(t,n,i){null===t.queries&&(t.queries=new tg),t.queries.track(new ng(n,i))}function Zy(t,n){return t.queries.getByIndex(n)}function Jy(t,n){return fh(t,n)}function mh(...t){}const mv=new Xt("Application Initializer");let yh=(()=>{class t{constructor(i){this.appInits=i,this.resolve=mh,this.reject=mh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const i=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Ip(h))i.push(h);else if(Km(h)){const y=new Promise((C,M)=>{h.subscribe({complete:C,error:M})});i.push(y)}}Promise.all(i).then(()=>{a()}).catch(c=>{this.reject(c)}),0===i.length&&a(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)(Cn(mv,8))},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yv=new Xt("AppId",{providedIn:"root",factory:function vv(){return`${lg()}${lg()}${lg()}`}});function lg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wv=new Xt("Platform Initializer"),S2=new Xt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_v=new Xt("appBootstrapListener"),T2=new Xt("AnimationModuleType");let A2=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const vh=new Xt("LocaleId",{providedIn:"root",factory:()=>Fo(vh,dt.Optional|dt.SkipSelf)||function I2(){return typeof $localize<"u"&&$localize.locale||ec}()}),O2=new Xt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class N2{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let P2=(()=>{class t{compileModuleSync(i){return new Kp(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),h=Vo(Fe(i).declarations).reduce((y,C)=>{const M=H(C);return M&&y.push(new Xc(M)),y},[]);return new N2(a,h)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const F2=(()=>Promise.resolve(0))();function cg(t){typeof Zone>"u"?F2.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class So{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new la(!1),this.onMicrotaskEmpty=new la(!1),this.onStable=new la(!1),this.onError=new la(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&i,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function L2(){let t=Ge.requestAnimationFrame,n=Ge.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function H2(t){const n=()=>{!function V2(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ge,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,dg(t),t.isCheckStableRunning=!0,ug(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),dg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,c,h,y,C)=>{try{return Dv(t),i.invokeTask(c,h,y,C)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),bv(t)}},onInvoke:(i,a,c,h,y,C,M)=>{try{return Dv(t),i.invoke(c,h,y,C,M)}finally{t.shouldCoalesceRunChangeDetection&&n(),bv(t)}},onHasTask:(i,a,c,h)=>{i.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,dg(t),ug(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,a,c,h)=>(i.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!So.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(So.isInAngularZone())throw new Ce(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,n,B2,mh,mh);try{return h.runTask(y,i,a)}finally{h.cancelTask(y)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const B2={};function ug(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Dv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bv(t){t._nesting--,ug(t)}class U2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new la,this.onMicrotaskEmpty=new la,this.onStable=new la,this.onError=new la}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,c){return n.apply(i,a)}}const Ev=new Xt(""),Mv=new Xt("");let hg,z2=(()=>{class t{constructor(i,a,c){this._ngZone=i,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,hg||(function j2(t){hg=t}(c),c.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{So.assertNotInAngularZone(),cg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())cg(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),i(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:i,timeoutId:h,updateCb:c})}whenStable(i,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,c){return[]}}return t.\u0275fac=function(i){return new(i||t)(Cn(So),Cn(Sv),Cn(Mv))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),t})(),Sv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return hg?.findTestabilityInTree(this,i,a)??null}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),za=null;const Tv=new Xt("AllowMultipleToken"),fg=new Xt("PlatformDestroyListeners");class G2{constructor(n,i){this.name=n,this.token=i}}function Iv(t,n,i=[]){const a=`Platform: ${n}`,c=new Xt(a);return(h=[])=>{let y=pg();if(!y||y.injector.get(Tv,!1)){const C=[...i,...h,{provide:c,useValue:!0}];t?t(C):function Y2(t){if(za&&!za.get(Tv,!1))throw new Ce(400,!1);za=t;const n=t.get(Nv);(function Av(t){const n=t.get(wv,null);n&&n.forEach(i=>i())})(t)}(function Ov(t=[],n){return va.create({name:n,providers:[{provide:Ol,useValue:"platform"},{provide:fg,useValue:new Set([()=>za=null])},...t]})}(C,a))}return function q2(t){const n=pg();if(!n)throw new Ce(401,!1);return n}()}}function pg(){return za?.get(Nv)??null}let Nv=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const c=function Rv(t,n){let i;return i="noop"===t?new U2:("zone.js"===t?void 0:t)||new So(n),i}(a?.ngZone,function Pv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:So,useValue:c}];return c.run(()=>{const y=va.create({providers:h,parent:this.injector,name:i.moduleType.name}),C=i.create(y),M=C.injector.get(Gs,null);if(!M)throw new Ce(402,!1);return c.runOutsideAngular(()=>{const k=c.onError.subscribe({next:$=>{M.handleError($)}});C.onDestroy(()=>{_h(this._modules,C),k.unsubscribe()})}),function kv(t,n,i){try{const a=i();return Ip(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(M,c,()=>{const k=C.injector.get(yh);return k.runInitializers(),k.donePromise.then(()=>(function $0(t){pn(t,"Expected localeId to be defined"),"string"==typeof t&&(j0=t.toLowerCase().replace(/_/g,"-"))}(C.injector.get(vh,ec)||ec),this._moduleDoBootstrap(C),C))})})}bootstrapModule(i,a=[]){const c=Fv({},a);return function $2(t,n,i){const a=new Kp(i);return Promise.resolve(a)}(0,0,i).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(i){const a=i.injector.get(wh);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new Ce(403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const i=this._injector.get(fg,null);i&&(i.forEach(a=>a()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(Cn(va))},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Fv(t,n){return Array.isArray(n)?n.reduce(Fv,t):{...t,...n}}let wh=(()=>{class t{constructor(i,a,c){this._zone=i,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new se.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),y=new se.y(C=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{So.assertNotInAngularZone(),cg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{So.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,le.T)(h,y.pipe((0,ye.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,a){const c=i instanceof Rl;if(!this._injector.get(yh).done)throw!c&&De(i),new Ce(405,false);let y;y=c?i:this._injector.get(Oa).resolveComponentFactory(i),this.componentTypes.push(y.componentType);const C=function W2(t){return t.isBoundToModule}(y)?void 0:this._injector.get(tc),k=y.create(va.NULL,[],a||y.selector,C),$=k.location.nativeElement,Q=k.injector.get(Ev,null);return Q?.registerApplication($),k.onDestroy(()=>{this.detachView(k.hostView),_h(this.components,k),Q?.unregisterApplication($)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;_h(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(_v,[]).concat(this._bootstrapListeners).forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>_h(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Ce(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(i){return new(i||t)(Cn(So),Cn(fa),Cn(Gs))},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function _h(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}let Bv=!0;function J2(){Bv=!1}let Q2=(()=>{class t{}return t.__NG_ELEMENT_ID__=X2,t})();function X2(t){return function eC(t,n,i){if(Vi(t)&&!i){const a=an(t.index,n);return new Qc(a,a)}return 47&t.type?new Qc(n[16],n):null}(Un(),qe(),16==(16&t))}class jv{constructor(){}supports(n){return eu(n)}create(n){return new oC(n)}}const sC=(t,n)=>n;class oC{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||sC}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,c=0,h=null;for(;i||a;){const y=!a||i&&i.currentIndex<Wv(a,c,h)?i:a,C=Wv(y,c,h),M=y.currentIndex;if(y===a)c--,a=a._nextRemoved;else if(i=i._next,null==y.previousIndex)c++;else{h||(h=[]);const k=C-c,$=M-c;if(k!=$){for(let me=0;me<k;me++){const Oe=me<h.length?h[me]:h[me]=0,Ze=Oe+me;$<=Ze&&Ze<k&&(h[me]=Oe+1)}h[y.previousIndex]=$-k}}C!==M&&n(y,C,M)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!eu(n))throw new Ce(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,y,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let C=0;C<this.length;C++)h=n[C],y=this._trackByFn(C,h),null!==i&&Object.is(i.trackById,y)?(a&&(i=this._verifyReinsertion(i,h,y,C)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,y,C),a=!0),i=i._next}else c=0,function B1(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[fl()]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,C=>{y=this._trackByFn(c,C),null!==i&&Object.is(i.trackById,y)?(a&&(i=this._verifyReinsertion(i,C,y,c)),Object.is(i.item,C)||this._addIdentityChange(i,C)):(i=this._mismatch(i,C,y,c),a=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,c)):n=this._addAfter(new aC(i,a),h,c),n}_verifyReinsertion(n,i,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new $v),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $v),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class aC{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lC{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class $v{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new lC,this.map.set(i,a)),a.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wv(t,n,i){const a=t.previousIndex;if(null===a)return a;let c=0;return i&&a<i.length&&(c=i[a]),a+n+c}class Gv{constructor(){}supports(n){return n instanceof Map||bp(n)}create(){return new cC}}class cC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||bp(n)))throw new Ce(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(c,a);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const a=new uC(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class uC{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yv(){return new wg([new jv])}let wg=(()=>{class t{constructor(i){this.factories=i}static create(i,a){if(null!=a){const c=a.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Yv()),deps:[[t,new ba,new co]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(null!=a)return a;throw new Ce(901,!1)}}return t.\u0275prov=xe({token:t,providedIn:"root",factory:Yv}),t})();function Kv(){return new _g([new Gv])}let _g=(()=>{class t{constructor(i){this.factories=i}static create(i,a){if(a){const c=a.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Kv()),deps:[[t,new ba,new co]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(a)return a;throw new Ce(901,!1)}}return t.\u0275prov=xe({token:t,providedIn:"root",factory:Kv}),t})();const fC=Iv(null,"core",[]);let pC=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(Cn(wh))},t.\u0275mod=or({type:t}),t.\u0275inj=$e({}),t})();function gC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function yC(t,n){const i=H(t),a=n.elementInjector||Nl();return new Xc(i).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}},4006:(yt,Ie,F)=>{F.d(Ie,{CE:()=>si,Cf:()=>Pe,EJ:()=>_r,F:()=>di,Fj:()=>ue,JJ:()=>dt,JL:()=>Mn,JU:()=>Z,Kr:()=>oi,NI:()=>Yr,Oe:()=>yi,On:()=>ii,Q7:()=>ji,UX:()=>cs,Wl:()=>we,YN:()=>Xi,Zs:()=>Mi,_Y:()=>Di,cw:()=>H,kI:()=>We,nD:()=>Fr,oH:()=>pi,qu:()=>Gt,sg:()=>Ji,u:()=>Vt,u5:()=>Ar,wO:()=>li,wV:()=>Sr,x0:()=>bi});var d=F(4650),T=F(6895),se=F(2076),le=F(4128),ye=F(4004);let pe=(()=>{class N{constructor(S,j){this._renderer=S,this._elementRef=j,this.onChange=Be=>{},this.onTouched=()=>{}}setProperty(S,j){this._renderer.setProperty(this._elementRef.nativeElement,S,j)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(d.Qsj),d.Y36(d.SBq))},N.\u0275dir=d.lG2({type:N}),N})(),ce=(()=>{class N extends pe{}return N.\u0275fac=function(){let I;return function(j){return(I||(I=d.n5z(N)))(j||N)}}(),N.\u0275dir=d.lG2({type:N,features:[d.qOj]}),N})();const Z=new d.OlP("NgValueAccessor"),ge={provide:Z,useExisting:(0,d.Gpc)(()=>we),multi:!0};let we=(()=>{class N extends ce{writeValue(S){this.setProperty("checked",S)}}return N.\u0275fac=function(){let I;return function(j){return(I||(I=d.n5z(N)))(j||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(S,j){1&S&&d.NdJ("change",function(Et){return j.onChange(Et.target.checked)})("blur",function(){return j.onTouched()})},features:[d._Bn([ge]),d.qOj]}),N})();const be={provide:Z,useExisting:(0,d.Gpc)(()=>ue),multi:!0},et=new d.OlP("CompositionEventMode");let ue=(()=>{class N extends pe{constructor(S,j,Be){super(S,j),this._compositionMode=Be,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Te(){const N=(0,T.q)()?(0,T.q)().getUserAgent():"";return/android (\d+)/.test(N.toLowerCase())}())}writeValue(S){this.setProperty("value",S??"")}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(et,8))},N.\u0275dir=d.lG2({type:N,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,j){1&S&&d.NdJ("input",function(Et){return j._handleInput(Et.target.value)})("blur",function(){return j.onTouched()})("compositionstart",function(){return j._compositionStart()})("compositionend",function(Et){return j._compositionEnd(Et.target.value)})},features:[d._Bn([be]),d.qOj]}),N})();function lt(N){return null==N||("string"==typeof N||Array.isArray(N))&&0===N.length}function Ee(N){return null!=N&&"number"==typeof N.length}const Pe=new d.OlP("NgValidators"),Tt=new d.OlP("NgAsyncValidators"),Xe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class We{static min(I){return function ve(N){return I=>{if(lt(I.value)||lt(N))return null;const S=parseFloat(I.value);return!isNaN(S)&&S<N?{min:{min:N,actual:I.value}}:null}}(I)}static max(I){return function Qe(N){return I=>{if(lt(I.value)||lt(N))return null;const S=parseFloat(I.value);return!isNaN(S)&&S>N?{max:{max:N,actual:I.value}}:null}}(I)}static required(I){return _t(I)}static requiredTrue(I){return ft(I)}static email(I){return function ut(N){return lt(N.value)||Xe.test(N.value)?null:{email:!0}}(I)}static minLength(I){return ct(I)}static maxLength(I){return _e(I)}static pattern(I){return function Se(N){if(!N)return He;let I,S;return"string"==typeof N?(S="","^"!==N.charAt(0)&&(S+="^"),S+=N,"$"!==N.charAt(N.length-1)&&(S+="$"),I=new RegExp(S)):(S=N.toString(),I=N),j=>{if(lt(j.value))return null;const Be=j.value;return I.test(Be)?null:{pattern:{requiredPattern:S,actualValue:Be}}}}(I)}static nullValidator(I){return null}static compose(I){return gt(I)}static composeAsync(I){return Je(I)}}function _t(N){return lt(N.value)?{required:!0}:null}function ft(N){return!0===N.value?null:{required:!0}}function ct(N){return I=>lt(I.value)||!Ee(I.value)?null:I.value.length<N?{minlength:{requiredLength:N,actualLength:I.value.length}}:null}function _e(N){return I=>Ee(I.value)&&I.value.length>N?{maxlength:{requiredLength:N,actualLength:I.value.length}}:null}function He(N){return null}function Me(N){return null!=N}function it(N){return(0,d.QGY)(N)?(0,se.D)(N):N}function at(N){let I={};return N.forEach(S=>{I=null!=S?{...I,...S}:I}),0===Object.keys(I).length?null:I}function Lt(N,I){return I.map(S=>S(N))}function pn(N){return N.map(I=>function sn(N){return!N.validate}(I)?I:S=>I.validate(S))}function gt(N){if(!N)return null;const I=N.filter(Me);return 0==I.length?null:function(S){return at(Lt(S,I))}}function $n(N){return null!=N?gt(pn(N)):null}function Je(N){if(!N)return null;const I=N.filter(Me);return 0==I.length?null:function(S){const j=Lt(S,I).map(it);return(0,le.D)(j).pipe((0,ye.U)(at))}}function tt(N){return null!=N?Je(pn(N)):null}function xe(N,I){return null===N?[I]:Array.isArray(N)?[...N,I]:[N,I]}function Ve(N){return N._rawValidators}function $e(N){return N._rawAsyncValidators}function zt(N){return N?Array.isArray(N)?N:[N]:[]}function Qn(N,I){return Array.isArray(N)?N.includes(I):N===I}function On(N,I){const S=zt(I);return zt(N).forEach(Be=>{Qn(S,Be)||S.push(Be)}),S}function dr(N,I){return zt(I).filter(S=>!Qn(N,S))}class Pr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(I){this._rawValidators=I||[],this._composedValidatorFn=$n(this._rawValidators)}_setAsyncValidators(I){this._rawAsyncValidators=I||[],this._composedAsyncValidatorFn=tt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(I){this._onDestroyCallbacks.push(I)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(I=>I()),this._onDestroyCallbacks=[]}reset(I){this.control&&this.control.reset(I)}hasError(I,S){return!!this.control&&this.control.hasError(I,S)}getError(I,S){return this.control?this.control.getError(I,S):null}}class tn extends Pr{get formDirective(){return null}get path(){return null}}class An extends Pr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mr{constructor(I){this._cd=I}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dt=(()=>{class N extends mr{constructor(S){super(S)}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(An,2))},N.\u0275dir=d.lG2({type:N,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,j){2&S&&d.ekj("ng-untouched",j.isUntouched)("ng-touched",j.isTouched)("ng-pristine",j.isPristine)("ng-dirty",j.isDirty)("ng-valid",j.isValid)("ng-invalid",j.isInvalid)("ng-pending",j.isPending)},features:[d.qOj]}),N})(),Mn=(()=>{class N extends mr{constructor(S){super(S)}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(tn,10))},N.\u0275dir=d.lG2({type:N,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,j){2&S&&d.ekj("ng-untouched",j.isUntouched)("ng-touched",j.isTouched)("ng-pristine",j.isPristine)("ng-dirty",j.isDirty)("ng-valid",j.isValid)("ng-invalid",j.isInvalid)("ng-pending",j.isPending)("ng-submitted",j.isSubmitted)},features:[d.qOj]}),N})();const Kt="VALID",on="INVALID",Xn="PENDING",Bn="DISABLED";function Nn(N){return(er(N)?N.validators:N)||null}function hr(N){return Array.isArray(N)?$n(N):N||null}function Hn(N,I){return(er(I)?I.asyncValidators:N)||null}function or(N){return Array.isArray(N)?tt(N):N||null}function er(N){return null!=N&&!Array.isArray(N)&&"object"==typeof N}function Hr(N,I,S){const j=N.controls;if(!(I?Object.keys(j):j).length)throw new d.vHH(1e3,"");if(!j[S])throw new d.vHH(1001,"")}function Ur(N,I,S){N._forEachChild((j,Be)=>{if(void 0===S[Be])throw new d.vHH(1002,"")})}class zr{constructor(I,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=I,this._rawAsyncValidators=S,this._composedValidatorFn=hr(this._rawValidators),this._composedAsyncValidatorFn=or(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(I){this._rawValidators=this._composedValidatorFn=I}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(I){this._rawAsyncValidators=this._composedAsyncValidatorFn=I}get parent(){return this._parent}get valid(){return this.status===Kt}get invalid(){return this.status===on}get pending(){return this.status==Xn}get disabled(){return this.status===Bn}get enabled(){return this.status!==Bn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(I){this._rawValidators=I,this._composedValidatorFn=hr(I)}setAsyncValidators(I){this._rawAsyncValidators=I,this._composedAsyncValidatorFn=or(I)}addValidators(I){this.setValidators(On(I,this._rawValidators))}addAsyncValidators(I){this.setAsyncValidators(On(I,this._rawAsyncValidators))}removeValidators(I){this.setValidators(dr(I,this._rawValidators))}removeAsyncValidators(I){this.setAsyncValidators(dr(I,this._rawAsyncValidators))}hasValidator(I){return Qn(this._rawValidators,I)}hasAsyncValidator(I){return Qn(this._rawAsyncValidators,I)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(I={}){this.touched=!0,this._parent&&!I.onlySelf&&this._parent.markAsTouched(I)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(I=>I.markAllAsTouched())}markAsUntouched(I={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!I.onlySelf&&this._parent._updateTouched(I)}markAsDirty(I={}){this.pristine=!1,this._parent&&!I.onlySelf&&this._parent.markAsDirty(I)}markAsPristine(I={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!I.onlySelf&&this._parent._updatePristine(I)}markAsPending(I={}){this.status=Xn,!1!==I.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!I.onlySelf&&this._parent.markAsPending(I)}disable(I={}){const S=this._parentMarkedDirty(I.onlySelf);this.status=Bn,this.errors=null,this._forEachChild(j=>{j.disable({...I,onlySelf:!0})}),this._updateValue(),!1!==I.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...I,skipPristineCheck:S}),this._onDisabledChange.forEach(j=>j(!0))}enable(I={}){const S=this._parentMarkedDirty(I.onlySelf);this.status=Kt,this._forEachChild(j=>{j.enable({...I,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:I.emitEvent}),this._updateAncestors({...I,skipPristineCheck:S}),this._onDisabledChange.forEach(j=>j(!1))}_updateAncestors(I){this._parent&&!I.onlySelf&&(this._parent.updateValueAndValidity(I),I.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(I){this._parent=I}getRawValue(){return this.value}updateValueAndValidity(I={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kt||this.status===Xn)&&this._runAsyncValidator(I.emitEvent)),!1!==I.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!I.onlySelf&&this._parent.updateValueAndValidity(I)}_updateTreeValidity(I={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(I)),this.updateValueAndValidity({onlySelf:!0,emitEvent:I.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bn:Kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(I){if(this.asyncValidator){this.status=Xn,this._hasOwnPendingAsyncValidator=!0;const S=it(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(j=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(j,{emitEvent:I})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(I,S={}){this.errors=I,this._updateControlsErrors(!1!==S.emitEvent)}get(I){let S=I;return null==S||(Array.isArray(S)||(S=S.split(".")),0===S.length)?null:S.reduce((j,Be)=>j&&j._find(Be),this)}getError(I,S){const j=S?this.get(S):this;return j&&j.errors?j.errors[I]:null}hasError(I,S){return!!this.getError(I,S)}get root(){let I=this;for(;I._parent;)I=I._parent;return I}_updateControlsErrors(I){this.status=this._calculateStatus(),I&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(I)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Bn:this.errors?on:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xn)?Xn:this._anyControlsHaveStatus(on)?on:Kt}_anyControlsHaveStatus(I){return this._anyControls(S=>S.status===I)}_anyControlsDirty(){return this._anyControls(I=>I.dirty)}_anyControlsTouched(){return this._anyControls(I=>I.touched)}_updatePristine(I={}){this.pristine=!this._anyControlsDirty(),this._parent&&!I.onlySelf&&this._parent._updatePristine(I)}_updateTouched(I={}){this.touched=this._anyControlsTouched(),this._parent&&!I.onlySelf&&this._parent._updateTouched(I)}_registerOnCollectionChange(I){this._onCollectionChange=I}_setUpdateStrategy(I){er(I)&&null!=I.updateOn&&(this._updateOn=I.updateOn)}_parentMarkedDirty(I){return!I&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(I){return null}}class H extends zr{constructor(I,S,j){super(Nn(S),Hn(j,S)),this.controls=I,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(I,S){return this.controls[I]?this.controls[I]:(this.controls[I]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(I,S,j={}){this.registerControl(I,S),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}removeControl(I,S={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),delete this.controls[I],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(I,S,j={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),delete this.controls[I],S&&this.registerControl(I,S),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}contains(I){return this.controls.hasOwnProperty(I)&&this.controls[I].enabled}setValue(I,S={}){Ur(this,0,I),Object.keys(I).forEach(j=>{Hr(this,!0,j),this.controls[j].setValue(I[j],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(I,S={}){null!=I&&(Object.keys(I).forEach(j=>{const Be=this.controls[j];Be&&Be.patchValue(I[j],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(I={},S={}){this._forEachChild((j,Be)=>{j.reset(I[Be],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(I,S,j)=>(I[j]=S.getRawValue(),I))}_syncPendingControls(){let I=this._reduceChildren(!1,(S,j)=>!!j._syncPendingControls()||S);return I&&this.updateValueAndValidity({onlySelf:!0}),I}_forEachChild(I){Object.keys(this.controls).forEach(S=>{const j=this.controls[S];j&&I(j,S)})}_setUpControls(){this._forEachChild(I=>{I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(I){for(const[S,j]of Object.entries(this.controls))if(this.contains(S)&&I(j))return!0;return!1}_reduceValue(){return this._reduceChildren({},(S,j,Be)=>((j.enabled||this.disabled)&&(S[Be]=j.value),S))}_reduceChildren(I,S){let j=I;return this._forEachChild((Be,Et)=>{j=S(j,Be,Et)}),j}_allControlsDisabled(){for(const I of Object.keys(this.controls))if(this.controls[I].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(I){return this.controls.hasOwnProperty(I)?this.controls[I]:null}}class De extends H{}function nt(N,I){return[...I.path,N]}function G(N,I){Ae(N,I),I.valueAccessor.writeValue(N.value),N.disabled&&I.valueAccessor.setDisabledState?.(!0),function At(N,I){I.valueAccessor.registerOnChange(S=>{N._pendingValue=S,N._pendingChange=!0,N._pendingDirty=!0,"change"===N.updateOn&&Ct(N,I)})}(N,I),function Qt(N,I){const S=(j,Be)=>{I.valueAccessor.writeValue(j),Be&&I.viewToModelUpdate(j)};N.registerOnChange(S),I._registerOnDestroy(()=>{N._unregisterOnChange(S)})}(N,I),function bt(N,I){I.valueAccessor.registerOnTouched(()=>{N._pendingTouched=!0,"blur"===N.updateOn&&N._pendingChange&&Ct(N,I),"submit"!==N.updateOn&&N.markAsTouched()})}(N,I),function oe(N,I){if(I.valueAccessor.setDisabledState){const S=j=>{I.valueAccessor.setDisabledState(j)};N.registerOnDisabledChange(S),I._registerOnDestroy(()=>{N._unregisterOnDisabledChange(S)})}}(N,I)}function q(N,I,S=!0){const j=()=>{};I.valueAccessor&&(I.valueAccessor.registerOnChange(j),I.valueAccessor.registerOnTouched(j)),Ke(N,I),N&&(I._invokeOnDestroyCallbacks(),N._registerOnCollectionChange(()=>{}))}function z(N,I){N.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(I)})}function Ae(N,I){const S=Ve(N);null!==I.validator?N.setValidators(xe(S,I.validator)):"function"==typeof S&&N.setValidators([S]);const j=$e(N);null!==I.asyncValidator?N.setAsyncValidators(xe(j,I.asyncValidator)):"function"==typeof j&&N.setAsyncValidators([j]);const Be=()=>N.updateValueAndValidity();z(I._rawValidators,Be),z(I._rawAsyncValidators,Be)}function Ke(N,I){let S=!1;if(null!==N){if(null!==I.validator){const Be=Ve(N);if(Array.isArray(Be)&&Be.length>0){const Et=Be.filter(sr=>sr!==I.validator);Et.length!==Be.length&&(S=!0,N.setValidators(Et))}}if(null!==I.asyncValidator){const Be=$e(N);if(Array.isArray(Be)&&Be.length>0){const Et=Be.filter(sr=>sr!==I.asyncValidator);Et.length!==Be.length&&(S=!0,N.setAsyncValidators(Et))}}}const j=()=>{};return z(I._rawValidators,j),z(I._rawAsyncValidators,j),S}function Ct(N,I){N._pendingDirty&&N.markAsDirty(),N.setValue(N._pendingValue,{emitModelToViewChange:!1}),I.viewToModelUpdate(N._pendingValue),N._pendingChange=!1}function Mt(N,I){Ae(N,I)}function br(N,I){if(!N.hasOwnProperty("model"))return!1;const S=N.model;return!!S.isFirstChange()||!Object.is(I,S.currentValue)}function ar(N,I){N._syncPendingControls(),I.forEach(S=>{const j=S.control;"submit"===j.updateOn&&j._pendingChange&&(S.viewToModelUpdate(j._pendingValue),j._pendingChange=!1)})}function Ci(N,I){if(!I)return null;let S,j,Be;return Array.isArray(I),I.forEach(Et=>{Et.constructor===ue?S=Et:function Er(N){return Object.getPrototypeOf(N.constructor)===ce}(Et)?j=Et:Be=Et}),Be||j||S||null}const Li={provide:tn,useExisting:(0,d.Gpc)(()=>di)},Mr=(()=>Promise.resolve())();let di=(()=>{class N extends tn{constructor(S,j){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new H({},$n(S),tt(j))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){Mr.then(()=>{const j=this._findContainer(S.path);S.control=j.registerControl(S.name,S.control),G(S.control,S),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){Mr.then(()=>{const j=this._findContainer(S.path);j&&j.removeControl(S.name),this._directives.delete(S)})}addFormGroup(S){Mr.then(()=>{const j=this._findContainer(S.path),Be=new H({});Mt(Be,S),j.registerControl(S.name,Be),Be.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){Mr.then(()=>{const j=this._findContainer(S.path);j&&j.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,j){Mr.then(()=>{this.form.get(S.path).setValue(j)})}setValue(S){this.control.setValue(S)}onSubmit(S){return this.submitted=!0,ar(this.form,this._directives),this.ngSubmit.emit(S),"dialog"===S?.target?.method}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(Pe,10),d.Y36(Tt,10))},N.\u0275dir=d.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,j){1&S&&d.NdJ("submit",function(Et){return j.onSubmit(Et)})("reset",function(){return j.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Li]),d.qOj]}),N})();function Bi(N,I){const S=N.indexOf(I);S>-1&&N.splice(S,1)}function xi(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}const Yr=class extends zr{constructor(I=null,S,j){super(Nn(S),Hn(j,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(I),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),er(S)&&(S.nonNullable||S.initialValueIsDefault)&&(this.defaultValue=xi(I)?I.value:I)}setValue(I,S={}){this.value=this._pendingValue=I,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(j=>j(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(I,S={}){this.setValue(I,S)}reset(I=this.defaultValue,S={}){this._applyFormState(I),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(I){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(I){this._onChange.push(I)}_unregisterOnChange(I){Bi(this._onChange,I)}registerOnDisabledChange(I){this._onDisabledChange.push(I)}_unregisterOnDisabledChange(I){Bi(this._onDisabledChange,I)}_forEachChild(I){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(I){xi(I)?(this.value=this._pendingValue=I.value,I.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=I}};let hi=(()=>{class N extends tn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return nt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return N.\u0275fac=function(){let I;return function(j){return(I||(I=d.n5z(N)))(j||N)}}(),N.\u0275dir=d.lG2({type:N,features:[d.qOj]}),N})();const vs={provide:An,useExisting:(0,d.Gpc)(()=>ii)},ws=(()=>Promise.resolve())();let ii=(()=>{class N extends An{constructor(S,j,Be,Et,sr){super(),this._changeDetectorRef=sr,this.control=new Yr,this._registered=!1,this.update=new d.vpe,this._parent=S,this._setValidators(j),this._setAsyncValidators(Be),this.valueAccessor=Ci(0,Et)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const j=S.name.previousValue;this.formDirective.removeControl({name:j,path:this._getPath(j)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),br(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){G(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){ws.then(()=>{this.control.setValue(S,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(S){const j=S.isDisabled.currentValue,Be=0!==j&&(0,d.D6c)(j);ws.then(()=>{Be&&!this.control.disabled?this.control.disable():!Be&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(S){return this._parent?nt(S,this._parent):[S]}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(tn,9),d.Y36(Pe,10),d.Y36(Tt,10),d.Y36(Z,10),d.Y36(d.sBO,8))},N.\u0275dir=d.lG2({type:N,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([vs]),d.qOj,d.TTD]}),N})(),Di=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=d.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),N})();const qs={provide:Z,useExisting:(0,d.Gpc)(()=>Sr),multi:!0};let Sr=(()=>{class N extends ce{writeValue(S){this.setProperty("value",S??"")}registerOnChange(S){this.onChange=j=>{S(""==j?null:parseFloat(j))}}}return N.\u0275fac=function(){let I;return function(j){return(I||(I=d.n5z(N)))(j||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(S,j){1&S&&d.NdJ("input",function(Et){return j.onChange(Et.target.value)})("blur",function(){return j.onTouched()})},features:[d._Bn([qs]),d.qOj]}),N})(),Ns=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=d.oAB({type:N}),N.\u0275inj=d.cJS({}),N})();const Rr=new d.OlP("NgModelWithFormControlWarning"),Kr={provide:An,useExisting:(0,d.Gpc)(()=>pi)};let pi=(()=>{class N extends An{constructor(S,j,Be,Et){super(),this._ngModelWarningConfig=Et,this.update=new d.vpe,this._ngModelWarningSent=!1,this._setValidators(S),this._setAsyncValidators(j),this.valueAccessor=Ci(0,Be)}set isDisabled(S){}ngOnChanges(S){if(this._isControlChanged(S)){const j=S.form.previousValue;j&&q(j,this,!1),G(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}br(S,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&q(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_isControlChanged(S){return S.hasOwnProperty("form")}}return N._ngModelWarningSentOnce=!1,N.\u0275fac=function(S){return new(S||N)(d.Y36(Pe,10),d.Y36(Tt,10),d.Y36(Z,10),d.Y36(Rr,8))},N.\u0275dir=d.lG2({type:N,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[d._Bn([Kr]),d.qOj,d.TTD]}),N})();const Zs={provide:tn,useExisting:(0,d.Gpc)(()=>Ji)};let Ji=(()=>{class N extends tn{constructor(S,j){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(S),this._setAsyncValidators(j)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ke(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const j=this.form.get(S.path);return G(j,S),j.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),j}getControl(S){return this.form.get(S.path)}removeControl(S){q(S.control||null,S,!1),function rr(N,I){const S=N.indexOf(I);S>-1&&N.splice(S,1)}(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,j){this.form.get(S.path).setValue(j)}onSubmit(S){return this.submitted=!0,ar(this.form,this.directives),this.ngSubmit.emit(S),"dialog"===S?.target?.method}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_updateDomValue(){this.directives.forEach(S=>{const j=S.control,Be=this.form.get(S.path);j!==Be&&(q(j||null,S),(N=>N instanceof Yr)(Be)&&(G(Be,S),S.control=Be))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const j=this.form.get(S.path);Mt(j,S),j.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const j=this.form.get(S.path);j&&function Bt(N,I){return Ke(N,I)}(j,S)&&j.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ae(this.form,this),this._oldForm&&Ke(this._oldForm,this)}_checkFormPresent(){}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(Pe,10),d.Y36(Tt,10))},N.\u0275dir=d.lG2({type:N,selectors:[["","formGroup",""]],hostBindings:function(S,j){1&S&&d.NdJ("submit",function(Et){return j.onSubmit(Et)})("reset",function(){return j.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Zs]),d.qOj,d.TTD]}),N})();const Yt={provide:tn,useExisting:(0,d.Gpc)(()=>bi)};let bi=(()=>{class N extends hi{constructor(S,j,Be){super(),this._parent=S,this._setValidators(j),this._setAsyncValidators(Be)}_checkParentType(){fn(this._parent)}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(tn,13),d.Y36(Pe,10),d.Y36(Tt,10))},N.\u0275dir=d.lG2({type:N,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[d._Bn([Yt]),d.qOj]}),N})();const is={provide:tn,useExisting:(0,d.Gpc)(()=>si)};let si=(()=>{class N extends tn{constructor(S,j,Be){super(),this._parent=S,this._setValidators(j),this._setAsyncValidators(Be)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return nt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){fn(this._parent)}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(tn,13),d.Y36(Pe,10),d.Y36(Tt,10))},N.\u0275dir=d.lG2({type:N,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[d._Bn([is]),d.qOj]}),N})();function fn(N){return!(N instanceof bi||N instanceof Ji||N instanceof si)}const Tr={provide:An,useExisting:(0,d.Gpc)(()=>Vt)};let Vt=(()=>{class N extends An{constructor(S,j,Be,Et,sr){super(),this._ngModelWarningConfig=sr,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=S,this._setValidators(j),this._setAsyncValidators(Be),this.valueAccessor=Ci(0,Et)}set isDisabled(S){}ngOnChanges(S){this._added||this._setUpControl(),br(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return nt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return N._ngModelWarningSentOnce=!1,N.\u0275fac=function(S){return new(S||N)(d.Y36(tn,13),d.Y36(Pe,10),d.Y36(Tt,10),d.Y36(Z,10),d.Y36(Rr,8))},N.\u0275dir=d.lG2({type:N,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Tr]),d.qOj,d.TTD]}),N})();const Ei={provide:Z,useExisting:(0,d.Gpc)(()=>_r),multi:!0};function lr(N,I){return null==N?`${I}`:(I&&"object"==typeof I&&(I="Object"),`${N}: ${I}`.slice(0,50))}let _r=(()=>{class N extends ce{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){this.value=S;const Be=lr(this._getOptionId(S),S);this.setProperty("value",Be)}registerOnChange(S){this.onChange=j=>{this.value=this._getOptionValue(j),S(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(S){for(const j of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(j),S))return j;return null}_getOptionValue(S){const j=function Qi(N){return N.split(":")[0]}(S);return this._optionMap.has(j)?this._optionMap.get(j):S}}return N.\u0275fac=function(){let I;return function(j){return(I||(I=d.n5z(N)))(j||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(S,j){1&S&&d.NdJ("change",function(Et){return j.onChange(Et.target.value)})("blur",function(){return j.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([Ei]),d.qOj]}),N})(),Xi=(()=>{class N{constructor(S,j,Be){this._element=S,this._renderer=j,this._select=Be,this._select&&(this.id=this._select._registerOption())}set ngValue(S){null!=this._select&&(this._select._optionMap.set(this.id,S),this._setElementValue(lr(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._setElementValue(S),this._select&&this._select.writeValue(this._select.value)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(_r,9))},N.\u0275dir=d.lG2({type:N,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),N})();const Ps={provide:Z,useExisting:(0,d.Gpc)(()=>fr),multi:!0};function gi(N,I){return null==N?`${I}`:("string"==typeof I&&(I=`'${I}'`),I&&"object"==typeof I&&(I="Object"),`${N}: ${I}`.slice(0,50))}let fr=(()=>{class N extends ce{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){let j;if(this.value=S,Array.isArray(S)){const Be=S.map(Et=>this._getOptionId(Et));j=(Et,sr)=>{Et._setSelected(Be.indexOf(sr.toString())>-1)}}else j=(Be,Et)=>{Be._setSelected(!1)};this._optionMap.forEach(j)}registerOnChange(S){this.onChange=j=>{const Be=[],Et=j.selectedOptions;if(void 0!==Et){const sr=Et;for(let pr=0;pr<sr.length;pr++){const En=this._getOptionValue(sr[pr].value);Be.push(En)}}else{const sr=j.options;for(let pr=0;pr<sr.length;pr++){const Lr=sr[pr];if(Lr.selected){const En=this._getOptionValue(Lr.value);Be.push(En)}}}this.value=Be,S(Be)}}_registerOption(S){const j=(this._idCounter++).toString();return this._optionMap.set(j,S),j}_getOptionId(S){for(const j of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(j)._value,S))return j;return null}_getOptionValue(S){const j=function mi(N){return N.split(":")[0]}(S);return this._optionMap.has(j)?this._optionMap.get(j)._value:S}}return N.\u0275fac=function(){let I;return function(j){return(I||(I=d.n5z(N)))(j||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(S,j){1&S&&d.NdJ("change",function(Et){return j.onChange(Et.target)})("blur",function(){return j.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([Ps]),d.qOj]}),N})(),oi=(()=>{class N{constructor(S,j,Be){this._element=S,this._renderer=j,this._select=Be,this._select&&(this.id=this._select._registerOption(this))}set ngValue(S){null!=this._select&&(this._value=S,this._setElementValue(gi(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._select?(this._value=S,this._setElementValue(gi(this.id,S)),this._select.writeValue(this._select.value)):this._setElementValue(S)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}_setSelected(S){this._renderer.setProperty(this._element.nativeElement,"selected",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(fr,9))},N.\u0275dir=d.lG2({type:N,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),N})();function ks(N){return"number"==typeof N?N:parseInt(N,10)}let Cr=(()=>{class N{constructor(){this._validator=He}ngOnChanges(S){if(this.inputName in S){const j=this.normalizeInput(S[this.inputName].currentValue);this._enabled=this.enabled(j),this._validator=this._enabled?this.createValidator(j):He,this._onChange&&this._onChange()}}validate(S){return this._validator(S)}registerOnValidatorChange(S){this._onChange=S}enabled(S){return null!=S}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=d.lG2({type:N,features:[d.TTD]}),N})();const xr={provide:Pe,useExisting:(0,d.Gpc)(()=>ji),multi:!0},Pn={provide:Pe,useExisting:(0,d.Gpc)(()=>Mi),multi:!0};let ji=(()=>{class N extends Cr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=S=>_t}enabled(S){return S}}return N.\u0275fac=function(){let I;return function(j){return(I||(I=d.n5z(N)))(j||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(S,j){2&S&&d.uIk("required",j._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([xr]),d.qOj]}),N})(),Mi=(()=>{class N extends ji{constructor(){super(...arguments),this.createValidator=S=>ft}}return N.\u0275fac=function(){let I;return function(j){return(I||(I=d.n5z(N)))(j||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(S,j){2&S&&d.uIk("required",j._enabled?"":null)},features:[d._Bn([Pn]),d.qOj]}),N})();const yo={provide:Pe,useExisting:(0,d.Gpc)(()=>li),multi:!0};let li=(()=>{class N extends Cr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=S=>ks(S),this.createValidator=S=>ct(S)}}return N.\u0275fac=function(){let I;return function(j){return(I||(I=d.n5z(N)))(j||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(S,j){2&S&&d.uIk("minlength",j._enabled?j.minlength:null)},inputs:{minlength:"minlength"},features:[d._Bn([yo]),d.qOj]}),N})();const qr={provide:Pe,useExisting:(0,d.Gpc)(()=>Fr),multi:!0};let Fr=(()=>{class N extends Cr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=S=>ks(S),this.createValidator=S=>_e(S)}}return N.\u0275fac=function(){let I;return function(j){return(I||(I=d.n5z(N)))(j||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(S,j){2&S&&d.uIk("maxlength",j._enabled?j.maxlength:null)},inputs:{maxlength:"maxlength"},features:[d._Bn([qr]),d.qOj]}),N})(),ls=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=d.oAB({type:N}),N.\u0275inj=d.cJS({imports:[Ns]}),N})(),Ar=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=d.oAB({type:N}),N.\u0275inj=d.cJS({imports:[ls]}),N})(),cs=(()=>{class N{static withConfig(S){return{ngModule:N,providers:[{provide:Rr,useValue:S.warnOnNgModelWithFormControl}]}}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=d.oAB({type:N}),N.\u0275inj=d.cJS({imports:[ls]}),N})();class yi extends zr{constructor(I,S,j){super(Nn(S),Hn(j,S)),this.controls=I,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(I){return this.controls[this._adjustIndex(I)]}push(I,S={}){this.controls.push(I),this._registerControl(I),this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}insert(I,S,j={}){this.controls.splice(I,0,S),this._registerControl(S),this.updateValueAndValidity({emitEvent:j.emitEvent})}removeAt(I,S={}){let j=this._adjustIndex(I);j<0&&(j=0),this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),this.updateValueAndValidity({emitEvent:S.emitEvent})}setControl(I,S,j={}){let Be=this._adjustIndex(I);Be<0&&(Be=0),this.controls[Be]&&this.controls[Be]._registerOnCollectionChange(()=>{}),this.controls.splice(Be,1),S&&(this.controls.splice(Be,0,S),this._registerControl(S)),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(I,S={}){Ur(this,0,I),I.forEach((j,Be)=>{Hr(this,!1,Be),this.at(Be).setValue(j,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(I,S={}){null!=I&&(I.forEach((j,Be)=>{this.at(Be)&&this.at(Be).patchValue(j,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(I=[],S={}){this._forEachChild((j,Be)=>{j.reset(I[Be],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this.controls.map(I=>I.getRawValue())}clear(I={}){this.controls.length<1||(this._forEachChild(S=>S._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:I.emitEvent}))}_adjustIndex(I){return I<0?I+this.length:I}_syncPendingControls(){let I=this.controls.reduce((S,j)=>!!j._syncPendingControls()||S,!1);return I&&this.updateValueAndValidity({onlySelf:!0}),I}_forEachChild(I){this.controls.forEach((S,j)=>{I(S,j)})}_updateValue(){this.value=this.controls.filter(I=>I.enabled||this.disabled).map(I=>I.value)}_anyControls(I){return this.controls.some(S=>S.enabled&&I(S))}_setUpControls(){this._forEachChild(I=>this._registerControl(I))}_allControlsDisabled(){for(const I of this.controls)if(I.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(I){I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange)}_find(I){return this.at(I)??null}}function qe(N){return!!N&&(void 0!==N.asyncValidators||void 0!==N.validators||void 0!==N.updateOn)}let Gt=(()=>{class N{constructor(){this.useNonNullable=!1}get nonNullable(){const S=new N;return S.useNonNullable=!0,S}group(S,j=null){const Be=this._reduceControls(S);let Et={};return qe(j)?Et=j:null!==j&&(Et.validators=j.validator,Et.asyncValidators=j.asyncValidator),new H(Be,Et)}record(S,j=null){const Be=this._reduceControls(S);return new De(Be,j)}control(S,j,Be){let Et={};return this.useNonNullable?(qe(j)?Et=j:(Et.validators=j,Et.asyncValidators=Be),new Yr(S,{...Et,nonNullable:!0})):new Yr(S,j,Be)}array(S,j,Be){const Et=S.map(sr=>this._createControl(sr));return new yi(Et,j,Be)}_reduceControls(S){const j={};return Object.keys(S).forEach(Be=>{j[Be]=this._createControl(S[Be])}),j}_createControl(S){return S instanceof Yr||S instanceof zr?S:Array.isArray(S)?this.control(S[0],S.length>1?S[1]:null,S.length>2?S[2]:null):this.control(S)}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=d.Yz7({token:N,factory:N.\u0275fac,providedIn:cs}),N})()},1481:(yt,Ie,F)=>{F.d(Ie,{Dx:()=>Ue,H7:()=>J,b2:()=>Fn,q6:()=>Vr,se:()=>Me});var d=F(6895),T=F(4650);class se extends d.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends se{static makeCurrent(){(0,d.HT)(new le)}onAndCancel(q,z,oe){return q.addEventListener(z,oe,!1),()=>{q.removeEventListener(z,oe,!1)}}dispatchEvent(q,z){q.dispatchEvent(z)}remove(q){q.parentNode&&q.parentNode.removeChild(q)}createElement(q,z){return(z=z||this.getDefaultDocument()).createElement(q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(q){return q.nodeType===Node.ELEMENT_NODE}isShadowRoot(q){return q instanceof DocumentFragment}getGlobalEventTarget(q,z){return"window"===z?window:"document"===z?q:"body"===z?q.body:null}getBaseHref(q){const z=function pe(){return ye=ye||document.querySelector("base"),ye?ye.getAttribute("href"):null}();return null==z?null:function Z(G){ce=ce||document.createElement("a"),ce.setAttribute("href",G);const q=ce.pathname;return"/"===q.charAt(0)?q:`/${q}`}(z)}resetBaseElement(){ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(q){return(0,d.Mx)(document.cookie,q)}}let ce,ye=null;const ge=new T.OlP("TRANSITION_ID"),be=[{provide:T.ip1,useFactory:function we(G,q,z){return()=>{z.get(T.CZH).donePromise.then(()=>{const oe=(0,d.q)(),Ae=q.querySelectorAll(`style[ng-transition="${G}"]`);for(let Ke=0;Ke<Ae.length;Ke++)oe.remove(Ae[Ke])})}},deps:[ge,d.K0,T.zs3],multi:!0}];let et=(()=>{class G{build(){return new XMLHttpRequest}}return G.\u0275fac=function(z){return new(z||G)},G.\u0275prov=T.Yz7({token:G,factory:G.\u0275fac}),G})();const ue=new T.OlP("EventManagerPlugins");let Ce=(()=>{class G{constructor(z,oe){this._zone=oe,this._eventNameToPlugin=new Map,z.forEach(Ae=>Ae.manager=this),this._plugins=z.slice().reverse()}addEventListener(z,oe,Ae){return this._findPluginFor(oe).addEventListener(z,oe,Ae)}addGlobalEventListener(z,oe,Ae){return this._findPluginFor(oe).addGlobalEventListener(z,oe,Ae)}getZone(){return this._zone}_findPluginFor(z){const oe=this._eventNameToPlugin.get(z);if(oe)return oe;const Ae=this._plugins;for(let Ke=0;Ke<Ae.length;Ke++){const At=Ae[Ke];if(At.supports(z))return this._eventNameToPlugin.set(z,At),At}throw new Error(`No event manager plugin found for event ${z}`)}}return G.\u0275fac=function(z){return new(z||G)(T.LFG(ue),T.LFG(T.R0b))},G.\u0275prov=T.Yz7({token:G,factory:G.\u0275fac}),G})();class lt{constructor(q){this._doc=q}addGlobalEventListener(q,z,oe){const Ae=(0,d.q)().getGlobalEventTarget(this._doc,q);if(!Ae)throw new Error(`Unsupported event target ${Ae} for event ${z}`);return this.addEventListener(Ae,z,oe)}}let Ee=(()=>{class G{constructor(){this._stylesSet=new Set}addStyles(z){const oe=new Set;z.forEach(Ae=>{this._stylesSet.has(Ae)||(this._stylesSet.add(Ae),oe.add(Ae))}),this.onStylesAdded(oe)}onStylesAdded(z){}getAllStyles(){return Array.from(this._stylesSet)}}return G.\u0275fac=function(z){return new(z||G)},G.\u0275prov=T.Yz7({token:G,factory:G.\u0275fac}),G})(),Pe=(()=>{class G extends Ee{constructor(z){super(),this._doc=z,this._hostNodes=new Map,this._hostNodes.set(z.head,[])}_addStylesToHost(z,oe,Ae){z.forEach(Ke=>{const At=this._doc.createElement("style");At.textContent=Ke,Ae.push(oe.appendChild(At))})}addHost(z){const oe=[];this._addStylesToHost(this._stylesSet,z,oe),this._hostNodes.set(z,oe)}removeHost(z){const oe=this._hostNodes.get(z);oe&&oe.forEach(Tt),this._hostNodes.delete(z)}onStylesAdded(z){this._hostNodes.forEach((oe,Ae)=>{this._addStylesToHost(z,Ae,oe)})}ngOnDestroy(){this._hostNodes.forEach(z=>z.forEach(Tt))}}return G.\u0275fac=function(z){return new(z||G)(T.LFG(d.K0))},G.\u0275prov=T.Yz7({token:G,factory:G.\u0275fac}),G})();function Tt(G){(0,d.q)().remove(G)}const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},We=/%COMP%/g;function _e(G,q,z){for(let oe=0;oe<q.length;oe++){let Ae=q[oe];Array.isArray(Ae)?_e(G,Ae,z):(Ae=Ae.replace(We,G),z.push(Ae))}return z}function Se(G){return q=>{if("__ngUnwrap__"===q)return G;!1===G(q)&&(q.preventDefault(),q.returnValue=!1)}}let Me=(()=>{class G{constructor(z,oe,Ae){this.eventManager=z,this.sharedStylesHost=oe,this.appId=Ae,this.rendererByCompId=new Map,this.defaultRenderer=new it(z)}createRenderer(z,oe){if(!z||!oe)return this.defaultRenderer;switch(oe.encapsulation){case T.ifc.Emulated:{let Ae=this.rendererByCompId.get(oe.id);return Ae||(Ae=new pn(this.eventManager,this.sharedStylesHost,oe,this.appId),this.rendererByCompId.set(oe.id,Ae)),Ae.applyToHost(z),Ae}case 1:case T.ifc.ShadowDom:return new gt(this.eventManager,this.sharedStylesHost,z,oe);default:if(!this.rendererByCompId.has(oe.id)){const Ae=_e(oe.id,oe.styles,[]);this.sharedStylesHost.addStyles(Ae),this.rendererByCompId.set(oe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return G.\u0275fac=function(z){return new(z||G)(T.LFG(Ce),T.LFG(Pe),T.LFG(T.AFp))},G.\u0275prov=T.Yz7({token:G,factory:G.\u0275fac}),G})();class it{constructor(q){this.eventManager=q,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(q,z){return z?document.createElementNS(Xe[z]||z,q):document.createElement(q)}createComment(q){return document.createComment(q)}createText(q){return document.createTextNode(q)}appendChild(q,z){(sn(q)?q.content:q).appendChild(z)}insertBefore(q,z,oe){q&&(sn(q)?q.content:q).insertBefore(z,oe)}removeChild(q,z){q&&q.removeChild(z)}selectRootElement(q,z){let oe="string"==typeof q?document.querySelector(q):q;if(!oe)throw new Error(`The selector "${q}" did not match any elements`);return z||(oe.textContent=""),oe}parentNode(q){return q.parentNode}nextSibling(q){return q.nextSibling}setAttribute(q,z,oe,Ae){if(Ae){z=Ae+":"+z;const Ke=Xe[Ae];Ke?q.setAttributeNS(Ke,z,oe):q.setAttribute(z,oe)}else q.setAttribute(z,oe)}removeAttribute(q,z,oe){if(oe){const Ae=Xe[oe];Ae?q.removeAttributeNS(Ae,z):q.removeAttribute(`${oe}:${z}`)}else q.removeAttribute(z)}addClass(q,z){q.classList.add(z)}removeClass(q,z){q.classList.remove(z)}setStyle(q,z,oe,Ae){Ae&(T.JOm.DashCase|T.JOm.Important)?q.style.setProperty(z,oe,Ae&T.JOm.Important?"important":""):q.style[z]=oe}removeStyle(q,z,oe){oe&T.JOm.DashCase?q.style.removeProperty(z):q.style[z]=""}setProperty(q,z,oe){q[z]=oe}setValue(q,z){q.nodeValue=z}listen(q,z,oe){return"string"==typeof q?this.eventManager.addGlobalEventListener(q,z,Se(oe)):this.eventManager.addEventListener(q,z,Se(oe))}}function sn(G){return"TEMPLATE"===G.tagName&&void 0!==G.content}class pn extends it{constructor(q,z,oe,Ae){super(q),this.component=oe;const Ke=_e(Ae+"-"+oe.id,oe.styles,[]);z.addStyles(Ke),this.contentAttr=function ut(G){return"_ngcontent-%COMP%".replace(We,G)}(Ae+"-"+oe.id),this.hostAttr=function ct(G){return"_nghost-%COMP%".replace(We,G)}(Ae+"-"+oe.id)}applyToHost(q){super.setAttribute(q,this.hostAttr,"")}createElement(q,z){const oe=super.createElement(q,z);return super.setAttribute(oe,this.contentAttr,""),oe}}class gt extends it{constructor(q,z,oe,Ae){super(q),this.sharedStylesHost=z,this.hostEl=oe,this.shadowRoot=oe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ke=_e(Ae.id,Ae.styles,[]);for(let At=0;At<Ke.length;At++){const bt=document.createElement("style");bt.textContent=Ke[At],this.shadowRoot.appendChild(bt)}}nodeOrShadowRoot(q){return q===this.hostEl?this.shadowRoot:q}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(q,z){return super.appendChild(this.nodeOrShadowRoot(q),z)}insertBefore(q,z,oe){return super.insertBefore(this.nodeOrShadowRoot(q),z,oe)}removeChild(q,z){return super.removeChild(this.nodeOrShadowRoot(q),z)}parentNode(q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(q)))}}let $n=(()=>{class G extends lt{constructor(z){super(z)}supports(z){return!0}addEventListener(z,oe,Ae){return z.addEventListener(oe,Ae,!1),()=>this.removeEventListener(z,oe,Ae)}removeEventListener(z,oe,Ae){return z.removeEventListener(oe,Ae)}}return G.\u0275fac=function(z){return new(z||G)(T.LFG(d.K0))},G.\u0275prov=T.Yz7({token:G,factory:G.\u0275fac}),G})();const Je=["alt","control","meta","shift"],tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xe={alt:G=>G.altKey,control:G=>G.ctrlKey,meta:G=>G.metaKey,shift:G=>G.shiftKey};let Ve=(()=>{class G extends lt{constructor(z){super(z)}supports(z){return null!=G.parseEventName(z)}addEventListener(z,oe,Ae){const Ke=G.parseEventName(oe),At=G.eventCallback(Ke.fullKey,Ae,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.q)().onAndCancel(z,Ke.domEventName,At))}static parseEventName(z){const oe=z.toLowerCase().split("."),Ae=oe.shift();if(0===oe.length||"keydown"!==Ae&&"keyup"!==Ae)return null;const Ke=G._normalizeKey(oe.pop());let At="",bt=oe.indexOf("code");if(bt>-1&&(oe.splice(bt,1),At="code."),Je.forEach(Qt=>{const Mt=oe.indexOf(Qt);Mt>-1&&(oe.splice(Mt,1),At+=Qt+".")}),At+=Ke,0!=oe.length||0===Ke.length)return null;const Ct={};return Ct.domEventName=Ae,Ct.fullKey=At,Ct}static matchEventFullKeyCode(z,oe){let Ae=tt[z.key]||z.key,Ke="";return oe.indexOf("code.")>-1&&(Ae=z.code,Ke="code."),!(null==Ae||!Ae)&&(Ae=Ae.toLowerCase()," "===Ae?Ae="space":"."===Ae&&(Ae="dot"),Je.forEach(At=>{At!==Ae&&(0,xe[At])(z)&&(Ke+=At+".")}),Ke+=Ae,Ke===oe)}static eventCallback(z,oe,Ae){return Ke=>{G.matchEventFullKeyCode(Ke,z)&&Ae.runGuarded(()=>oe(Ke))}}static _normalizeKey(z){return"esc"===z?"escape":z}}return G.\u0275fac=function(z){return new(z||G)(T.LFG(d.K0))},G.\u0275prov=T.Yz7({token:G,factory:G.\u0275fac}),G})();const Vr=(0,T.eFA)(T._c5,"browser",[{provide:T.Lbi,useValue:d.bD},{provide:T.g9A,useValue:function Pr(){le.makeCurrent()},multi:!0},{provide:d.K0,useFactory:function An(){return(0,T.RDi)(document),document},deps:[]}]),Gr=new T.OlP(""),dt=[{provide:T.rWj,useClass:class Te{addToWindow(q){T.dqk.getAngularTestability=(oe,Ae=!0)=>{const Ke=q.findTestabilityInTree(oe,Ae);if(null==Ke)throw new Error("Could not find testability for element.");return Ke},T.dqk.getAllAngularTestabilities=()=>q.getAllTestabilities(),T.dqk.getAllAngularRootElements=()=>q.getAllRootElements(),T.dqk.frameworkStabilizers||(T.dqk.frameworkStabilizers=[]),T.dqk.frameworkStabilizers.push(oe=>{const Ae=T.dqk.getAllAngularTestabilities();let Ke=Ae.length,At=!1;const bt=function(Ct){At=At||Ct,Ke--,0==Ke&&oe(At)};Ae.forEach(function(Ct){Ct.whenStable(bt)})})}findTestabilityInTree(q,z,oe){return null==z?null:q.getTestability(z)??(oe?(0,d.q)().isShadowRoot(z)?this.findTestabilityInTree(q,z.host,!0):this.findTestabilityInTree(q,z.parentElement,!0):null)}},deps:[]},{provide:T.lri,useClass:T.dDg,deps:[T.R0b,T.eoX,T.rWj]},{provide:T.dDg,useClass:T.dDg,deps:[T.R0b,T.eoX,T.rWj]}],Mn=[{provide:T.zSh,useValue:"root"},{provide:T.qLn,useFactory:function tn(){return new T.qLn},deps:[]},{provide:ue,useClass:$n,multi:!0,deps:[d.K0,T.R0b,T.Lbi]},{provide:ue,useClass:Ve,multi:!0,deps:[d.K0]},{provide:Me,useClass:Me,deps:[Ce,Pe,T.AFp]},{provide:T.FYo,useExisting:Me},{provide:Ee,useExisting:Pe},{provide:Pe,useClass:Pe,deps:[d.K0]},{provide:Ce,useClass:Ce,deps:[ue,T.R0b]},{provide:d.JF,useClass:et,deps:[]},[]];let Fn=(()=>{class G{constructor(z){}static withServerTransition(z){return{ngModule:G,providers:[{provide:T.AFp,useValue:z.appId},{provide:ge,useExisting:T.AFp},be]}}}return G.\u0275fac=function(z){return new(z||G)(T.LFG(Gr,12))},G.\u0275mod=T.oAB({type:G}),G.\u0275inj=T.cJS({providers:[...Mn,...dt],imports:[d.ez,T.hGG]}),G})(),Ue=(()=>{class G{constructor(z){this._doc=z}getTitle(){return this._doc.title}setTitle(z){this._doc.title=z||""}}return G.\u0275fac=function(z){return new(z||G)(T.LFG(d.K0))},G.\u0275prov=T.Yz7({token:G,factory:function(z){let oe=null;return oe=z?new z:function Yn(){return new Ue((0,T.LFG)(d.K0))}(),oe},providedIn:"root"}),G})();typeof window<"u"&&window;let J=(()=>{class G{}return G.\u0275fac=function(z){return new(z||G)},G.\u0275prov=T.Yz7({token:G,factory:function(z){let oe=null;return oe=z?new(z||G):T.LFG(Fe),oe},providedIn:"root"}),G})(),Fe=(()=>{class G extends J{constructor(z){super(),this._doc=z}sanitize(z,oe){if(null==oe)return null;switch(z){case T.q3G.NONE:return oe;case T.q3G.HTML:return(0,T.qzn)(oe,"HTML")?(0,T.z3N)(oe):(0,T.EiD)(this._doc,String(oe)).toString();case T.q3G.STYLE:return(0,T.qzn)(oe,"Style")?(0,T.z3N)(oe):oe;case T.q3G.SCRIPT:if((0,T.qzn)(oe,"Script"))return(0,T.z3N)(oe);throw new Error("unsafe value used in a script context");case T.q3G.URL:return(0,T.qzn)(oe,"URL")?(0,T.z3N)(oe):(0,T.mCW)(String(oe));case T.q3G.RESOURCE_URL:if((0,T.qzn)(oe,"ResourceURL"))return(0,T.z3N)(oe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${z} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(z){return(0,T.JVY)(z)}bypassSecurityTrustStyle(z){return(0,T.L6k)(z)}bypassSecurityTrustScript(z){return(0,T.eBb)(z)}bypassSecurityTrustUrl(z){return(0,T.LAX)(z)}bypassSecurityTrustResourceUrl(z){return(0,T.pB0)(z)}}return G.\u0275fac=function(z){return new(z||G)(T.LFG(d.K0))},G.\u0275prov=T.Yz7({token:G,factory:function(z){let oe=null;return oe=z?new z:function De(G){return new Fe(G.get(d.K0))}(T.LFG(T.zs3)),oe},providedIn:"root"}),G})()},8996:(yt,Ie,F)=>{F.d(Ie,{gz:()=>Yt,OD:()=>hi,F0:()=>qn,rH:()=>p,Od:()=>D,yS:()=>m,Bz:()=>Do,lC:()=>Fs});var d=F(4650),T=F(2076),se=F(9646),le=F(1135);const pe=(0,F(3888).d)(w=>function(){w(this),this.name="EmptyError",this.message="no elements in sequence"});var ce=F(9841),Z=F(7272),ge=F(9770),we=F(9635),be=F(2843),Te=F(9751),et=F(515),ue=F(4033),Ce=F(7579),lt=F(6895),Ee=F(4004),Pe=F(3900),Tt=F(5698),Xe=F(8675),We=F(9300),ve=F(5577),Qe=F(4482),_t=F(5403);function ft(w){return(0,Qe.e)((_,v)=>{let b=!1;_.subscribe((0,_t.x)(v,O=>{b=!0,v.next(O)},()=>{b||v.next(w),v.complete()}))})}function ut(w=ct){return(0,Qe.e)((_,v)=>{let b=!1;_.subscribe((0,_t.x)(v,O=>{b=!0,v.next(O)},()=>b?v.complete():v.error(w())))})}function ct(){return new pe}var _e=F(4671);function Se(w,_){const v=arguments.length>=2;return b=>b.pipe(w?(0,We.h)((O,U)=>w(O,U,b)):_e.y,(0,Tt.q)(1),v?ft(_):ut(()=>new pe))}var He=F(4351),Me=F(8505),it=F(262);function at(w,_,v,b,O){return(U,X)=>{let ne=v,je=_,mt=0;U.subscribe((0,_t.x)(X,dn=>{const St=mt++;je=ne?w(je,dn,St):(ne=!0,dn),b&&X.next(je)},O&&(()=>{ne&&X.next(je),X.complete()})))}}function Lt(w,_){return(0,Qe.e)(at(w,_,arguments.length>=2,!0))}function sn(w){return w<=0?()=>et.E:(0,Qe.e)((_,v)=>{let b=[];_.subscribe((0,_t.x)(v,O=>{b.push(O),w<b.length&&b.shift()},()=>{for(const O of b)v.next(O);v.complete()},void 0,()=>{b=null}))})}function pn(w,_){const v=arguments.length>=2;return b=>b.pipe(w?(0,We.h)((O,U)=>w(O,U,b)):_e.y,sn(1),v?ft(_):ut(()=>new pe))}var $n=F(9718),Je=F(8746),tt=F(8343),xe=F(8189),Ve=F(1481);const $e="primary",zt=Symbol("RouteTitle");class Qn{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const v=this.params[_];return Array.isArray(v)?v[0]:v}return null}getAll(_){if(this.has(_)){const v=this.params[_];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function On(w){return new Qn(w)}function dr(w,_,v){const b=v.path.split("/");if(b.length>w.length||"full"===v.pathMatch&&(_.hasChildren()||b.length<w.length))return null;const O={};for(let U=0;U<b.length;U++){const X=b[U],ne=w[U];if(X.startsWith(":"))O[X.substring(1)]=ne;else if(X!==ne.path)return null}return{consumed:w.slice(0,b.length),posParams:O}}function tn(w,_){const v=w?Object.keys(w):void 0,b=_?Object.keys(_):void 0;if(!v||!b||v.length!=b.length)return!1;let O;for(let U=0;U<v.length;U++)if(O=v[U],!An(w[O],_[O]))return!1;return!0}function An(w,_){if(Array.isArray(w)&&Array.isArray(_)){if(w.length!==_.length)return!1;const v=[...w].sort(),b=[..._].sort();return v.every((O,U)=>b[U]===O)}return w===_}function mr(w){return Array.prototype.concat.apply([],w)}function Vr(w){return w.length>0?w[w.length-1]:null}function dt(w,_){for(const v in w)w.hasOwnProperty(v)&&_(w[v],v)}function Mn(w){return(0,d.CqO)(w)?w:(0,d.QGY)(w)?(0,T.D)(Promise.resolve(w)):(0,se.of)(w)}const yr={exact:function de(w,_,v){if(!Zt(w.segments,_.segments)||!It(w.segments,_.segments,v)||w.numberOfChildren!==_.numberOfChildren)return!1;for(const b in _.children)if(!w.children[b]||!de(w.children[b],_.children[b],v))return!1;return!0},subset:Le},Dr={exact:function Ue(w,_){return tn(w,_)},subset:function te(w,_){return Object.keys(_).length<=Object.keys(w).length&&Object.keys(_).every(v=>An(w[v],_[v]))},ignored:()=>!0};function Yn(w,_,v){return yr[v.paths](w.root,_.root,v.matrixParams)&&Dr[v.queryParams](w.queryParams,_.queryParams)&&!("exact"===v.fragment&&w.fragment!==_.fragment)}function Le(w,_,v){return Ge(w,_,_.segments,v)}function Ge(w,_,v,b){if(w.segments.length>v.length){const O=w.segments.slice(0,v.length);return!(!Zt(O,v)||_.hasChildren()||!It(O,v,b))}if(w.segments.length===v.length){if(!Zt(w.segments,v)||!It(w.segments,v,b))return!1;for(const O in _.children)if(!w.children[O]||!Le(w.children[O],_.children[O],b))return!1;return!0}{const O=v.slice(0,w.segments.length),U=v.slice(w.segments.length);return!!(Zt(w.segments,O)&&It(w.segments,O,b)&&w.children[$e])&&Ge(w.children[$e],_,U,b)}}function It(w,_,v){return _.every((b,O)=>Dr[v](w[O].parameters,b.parameters))}class kt{constructor(_,v,b){this.root=_,this.queryParams=v,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=On(this.queryParams)),this._queryParamMap}toString(){return on.serialize(this)}}class vt{constructor(_,v){this.segments=_,this.children=v,this.parent=null,dt(v,(b,O)=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xn(this)}}class st{constructor(_,v){this.path=_,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=On(this.parameters)),this._parameterMap}toString(){return Ur(this)}}function Zt(w,_){return w.length===_.length&&w.every((v,b)=>v.path===_[b].path)}let Wt=(()=>{class w{}return w.\u0275fac=function(v){return new(v||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return new Kt},providedIn:"root"}),w})();class Kt{parse(_){const v=new q(_);return new kt(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(_){const v=`/${Bn(_.root,!0)}`,b=function H(w){const _=Object.keys(w).map(v=>{const b=w[v];return Array.isArray(b)?b.map(O=>`${hr(v)}=${hr(O)}`).join("&"):`${hr(v)}=${hr(b)}`}).filter(v=>!!v);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${v}${b}${"string"==typeof _.fragment?`#${function Hn(w){return encodeURI(w)}(_.fragment)}`:""}`}}const on=new Kt;function Xn(w){return w.segments.map(_=>Ur(_)).join("/")}function Bn(w,_){if(!w.hasChildren())return Xn(w);if(_){const v=w.children[$e]?Bn(w.children[$e],!1):"",b=[];return dt(w.children,(O,U)=>{U!==$e&&b.push(`${U}:${Bn(O,!1)}`)}),b.length>0?`${v}(${b.join("//")})`:v}{const v=function nr(w,_){let v=[];return dt(w.children,(b,O)=>{O===$e&&(v=v.concat(_(b,O)))}),dt(w.children,(b,O)=>{O!==$e&&(v=v.concat(_(b,O)))}),v}(w,(b,O)=>O===$e?[Bn(w.children[$e],!1)]:[`${O}:${Bn(b,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[$e]?`${Xn(w)}/${v[0]}`:`${Xn(w)}/(${v.join("//")})`}}function Nn(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hr(w){return Nn(w).replace(/%3B/gi,";")}function or(w){return Nn(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function er(w){return decodeURIComponent(w)}function Hr(w){return er(w.replace(/\+/g,"%20"))}function Ur(w){return`${or(w.path)}${function zr(w){return Object.keys(w).map(_=>`;${or(_)}=${or(w[_])}`).join("")}(w.parameters)}`}const Y=/^[^\/()?;=#]+/;function J(w){const _=w.match(Y);return _?_[0]:""}const De=/^[^=?&#]+/,nt=/^[^&#]+/;class q{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vt([],{}):new vt([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(_.length>0||Object.keys(v).length>0)&&(b[$e]=new vt(_,v)),b}parseSegment(){const _=J(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(_),new st(er(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const v=J(this.remaining);if(!v)return;this.capture(v);let b="";if(this.consumeOptional("=")){const O=J(this.remaining);O&&(b=O,this.capture(b))}_[er(v)]=er(b)}parseQueryParam(_){const v=function Fe(w){const _=w.match(De);return _?_[0]:""}(this.remaining);if(!v)return;this.capture(v);let b="";if(this.consumeOptional("=")){const X=function G(w){const _=w.match(nt);return _?_[0]:""}(this.remaining);X&&(b=X,this.capture(b))}const O=Hr(v),U=Hr(b);if(_.hasOwnProperty(O)){let X=_[O];Array.isArray(X)||(X=[X],_[O]=X),X.push(U)}else _[O]=U}parseParens(_){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=J(this.remaining),O=this.remaining[b.length];if("/"!==O&&")"!==O&&";"!==O)throw new d.vHH(4010,!1);let U;b.indexOf(":")>-1?(U=b.slice(0,b.indexOf(":")),this.capture(U),this.capture(":")):_&&(U=$e);const X=this.parseChildren();v[U]=1===Object.keys(X).length?X[$e]:new vt([],X),this.consumeOptional("//")}return v}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new d.vHH(4011,!1)}}function z(w){return w.segments.length>0?new vt([],{[$e]:w}):w}function oe(w){const _={};for(const b of Object.keys(w.children)){const U=oe(w.children[b]);(U.segments.length>0||U.hasChildren())&&(_[b]=U)}return function Ae(w){if(1===w.numberOfChildren&&w.children[$e]){const _=w.children[$e];return new vt(w.segments.concat(_.segments),_.children)}return w}(new vt(w.segments,_))}function Ke(w){return w instanceof kt}function Mt(w,_,v,b,O){if(0===v.length)return Sn(_.root,_.root,_.root,b,O);const U=function br(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new tr(!0,0,w);let _=0,v=!1;const b=w.reduce((O,U,X)=>{if("object"==typeof U&&null!=U){if(U.outlets){const ne={};return dt(U.outlets,(je,mt)=>{ne[mt]="string"==typeof je?je.split("/"):je}),[...O,{outlets:ne}]}if(U.segmentPath)return[...O,U.segmentPath]}return"string"!=typeof U?[...O,U]:0===X?(U.split("/").forEach((ne,je)=>{0==je&&"."===ne||(0==je&&""===ne?v=!0:".."===ne?_++:""!=ne&&O.push(ne))}),O):[...O,U]},[]);return new tr(v,_,b)}(v);return U.toRoot()?Sn(_.root,_.root,new vt([],{}),b,O):function X(je){const mt=function Ci(w,_,v,b){if(w.isAbsolute)return new Er(_.root,!0,0);if(-1===b)return new Er(v,v===_.root,0);return function rr(w,_,v){let b=w,O=_,U=v;for(;U>O;){if(U-=O,b=b.parent,!b)throw new d.vHH(4005,!1);O=b.segments.length}return new Er(b,!1,O-U)}(v,b+(Bt(w.commands[0])?0:1),w.numberOfDoubleDots)}(U,_,w.snapshot?._urlSegment,je),dn=mt.processChildren?Mr(mt.segmentGroup,mt.index,U.commands):Li(mt.segmentGroup,mt.index,U.commands);return Sn(_.root,mt.segmentGroup,dn,b,O)}(w.snapshot?._lastPathIndex)}function Bt(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Pt(w){return"object"==typeof w&&null!=w&&w.outlets}function Sn(w,_,v,b,O){let X,U={};b&&dt(b,(je,mt)=>{U[mt]=Array.isArray(je)?je.map(dn=>`${dn}`):`${je}`}),X=w===_?v:Kn(w,_,v);const ne=z(oe(X));return new kt(ne,U,O)}function Kn(w,_,v){const b={};return dt(w.children,(O,U)=>{b[U]=O===_?v:Kn(O,_,v)}),new vt(w.segments,b)}class tr{constructor(_,v,b){if(this.isAbsolute=_,this.numberOfDoubleDots=v,this.commands=b,_&&b.length>0&&Bt(b[0]))throw new d.vHH(4003,!1);const O=b.find(Pt);if(O&&O!==Vr(b))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Er{constructor(_,v,b){this.segmentGroup=_,this.processChildren=v,this.index=b}}function Li(w,_,v){if(w||(w=new vt([],{})),0===w.segments.length&&w.hasChildren())return Mr(w,_,v);const b=function di(w,_,v){let b=0,O=_;const U={match:!1,pathIndex:0,commandIndex:0};for(;O<w.segments.length;){if(b>=v.length)return U;const X=w.segments[O],ne=v[b];if(Pt(ne))break;const je=`${ne}`,mt=b<v.length-1?v[b+1]:null;if(O>0&&void 0===je)break;if(je&&mt&&"object"==typeof mt&&void 0===mt.outlets){if(!jr(je,mt,X))return U;b+=2}else{if(!jr(je,{},X))return U;b++}O++}return{match:!0,pathIndex:O,commandIndex:b}}(w,_,v),O=v.slice(b.commandIndex);if(b.match&&b.pathIndex<w.segments.length){const U=new vt(w.segments.slice(0,b.pathIndex),{});return U.children[$e]=new vt(w.segments.slice(b.pathIndex),w.children),Mr(U,0,O)}return b.match&&0===O.length?new vt(w.segments,{}):b.match&&!w.hasChildren()?Bi(w,_,v):b.match?Mr(w,0,O):Bi(w,_,v)}function Mr(w,_,v){if(0===v.length)return new vt(w.segments,{});{const b=function xn(w){return Pt(w[0])?w[0].outlets:{[$e]:w}}(v),O={};return dt(b,(U,X)=>{"string"==typeof U&&(U=[U]),null!==U&&(O[X]=Li(w.children[X],_,U))}),dt(w.children,(U,X)=>{void 0===b[X]&&(O[X]=U)}),new vt(w.segments,O)}}function Bi(w,_,v){const b=w.segments.slice(0,_);let O=0;for(;O<v.length;){const U=v[O];if(Pt(U)){const je=xi(U.outlets);return new vt(b,je)}if(0===O&&Bt(v[0])){b.push(new st(w.segments[_].path,Yr(v[0]))),O++;continue}const X=Pt(U)?U.outlets[$e]:`${U}`,ne=O<v.length-1?v[O+1]:null;X&&ne&&Bt(ne)?(b.push(new st(X,Yr(ne))),O+=2):(b.push(new st(X,{})),O++)}return new vt(b,{})}function xi(w){const _={};return dt(w,(v,b)=>{"string"==typeof v&&(v=[v]),null!==v&&(_[b]=Bi(new vt([],{}),0,v))}),_}function Yr(w){const _={};return dt(w,(v,b)=>_[b]=`${v}`),_}function jr(w,_,v){return w==v.path&&tn(_,v.parameters)}class Dn{constructor(_,v){this.id=_,this.url=v}}class hi extends Dn{constructor(_,v,b="imperative",O=null){super(_,v),this.type=0,this.navigationTrigger=b,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wn extends Dn{constructor(_,v,b){super(_,v),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vr extends Dn{constructor(_,v,b,O){super(_,v),this.reason=b,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fi extends Dn{constructor(_,v,b,O){super(_,v),this.error=b,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vi extends Dn{constructor(_,v,b,O){super(_,v),this.urlAfterRedirects=b,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qi extends Dn{constructor(_,v,b,O){super(_,v),this.urlAfterRedirects=b,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wr extends Dn{constructor(_,v,b,O,U){super(_,v),this.urlAfterRedirects=b,this.state=O,this.shouldActivate=U,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vs extends Dn{constructor(_,v,b,O){super(_,v),this.urlAfterRedirects=b,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ws extends Dn{constructor(_,v,b,O){super(_,v),this.urlAfterRedirects=b,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ii{constructor(_){this.route=_,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Di{constructor(_){this.route=_,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qs{constructor(_){this.snapshot=_,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sr{constructor(_){this.snapshot=_,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{constructor(_){this.snapshot=_,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(_){this.snapshot=_,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ns{constructor(_,v,b){this.routerEvent=_,this.position=v,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ui{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const v=this.pathFromRoot(_);return v.length>1?v[v.length-2]:null}children(_){const v=Zi(_,this._root);return v?v.children.map(b=>b.value):[]}firstChild(_){const v=Zi(_,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(_){const v=zi(_,this._root);return v.length<2?[]:v[v.length-2].children.map(O=>O.value).filter(O=>O!==_)}pathFromRoot(_){return zi(_,this._root).map(v=>v.value)}}function Zi(w,_){if(w===_.value)return _;for(const v of _.children){const b=Zi(w,v);if(b)return b}return null}function zi(w,_){if(w===_.value)return[_];for(const v of _.children){const b=zi(w,v);if(b.length)return b.unshift(_),b}return[]}class Rr{constructor(_,v){this.value=_,this.children=v}toString(){return`TreeNode(${this.value})`}}function Kr(w){const _={};return w&&w.children.forEach(v=>_[v.value.outlet]=v),_}class pi extends Ui{constructor(_,v){super(_),this.snapshot=v,Tr(this,_)}toString(){return this.snapshot.toString()}}function Zs(w,_){const v=function Ji(w,_){const X=new si([],{},{},"",{},$e,_,null,w.root,-1,{});return new fn("",new Rr(X,[]))}(w,_),b=new le.X([new st("",{})]),O=new le.X({}),U=new le.X({}),X=new le.X({}),ne=new le.X(""),je=new Yt(b,O,X,ne,U,$e,_,v.root);return je.snapshot=v.root,new pi(new Rr(je,[]),v)}class Yt{constructor(_,v,b,O,U,X,ne,je){this.url=_,this.params=v,this.queryParams=b,this.fragment=O,this.data=U,this.outlet=X,this.component=ne,this.title=this.data?.pipe((0,Ee.U)(mt=>mt[zt]))??(0,se.of)(void 0),this._futureSnapshot=je}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ee.U)(_=>On(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ee.U)(_=>On(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bi(w,_="emptyOnly"){const v=w.pathFromRoot;let b=0;if("always"!==_)for(b=v.length-1;b>=1;){const O=v[b],U=v[b-1];if(O.routeConfig&&""===O.routeConfig.path)b--;else{if(U.component)break;b--}}return function is(w){return w.reduce((_,v)=>({params:{..._.params,...v.params},data:{..._.data,...v.data},resolve:{...v.data,..._.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(b))}class si{constructor(_,v,b,O,U,X,ne,je,mt,dn,St,jn){this.url=_,this.params=v,this.queryParams=b,this.fragment=O,this.data=U,this.outlet=X,this.component=ne,this.title=this.data?.[zt],this.routeConfig=je,this._urlSegment=mt,this._lastPathIndex=dn,this._correctedLastPathIndex=jn??dn,this._resolve=St}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=On(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=On(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fn extends Ui{constructor(_,v){super(v),this.url=_,Tr(this,v)}toString(){return Vt(this._root)}}function Tr(w,_){_.value._routerState=w,_.children.forEach(v=>Tr(w,v))}function Vt(w){const _=w.children.length>0?` { ${w.children.map(Vt).join(", ")} } `:"";return`${w.value}${_}`}function Ei(w){if(w.snapshot){const _=w.snapshot,v=w._futureSnapshot;w.snapshot=v,tn(_.queryParams,v.queryParams)||w.queryParams.next(v.queryParams),_.fragment!==v.fragment&&w.fragment.next(v.fragment),tn(_.params,v.params)||w.params.next(v.params),function Pr(w,_){if(w.length!==_.length)return!1;for(let v=0;v<w.length;++v)if(!tn(w[v],_[v]))return!1;return!0}(_.url,v.url)||w.url.next(v.url),tn(_.data,v.data)||w.data.next(v.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function lr(w,_){const v=tn(w.params,_.params)&&function gn(w,_){return Zt(w,_)&&w.every((v,b)=>tn(v.parameters,_[b].parameters))}(w.url,_.url);return v&&!(!w.parent!=!_.parent)&&(!w.parent||lr(w.parent,_.parent))}function _r(w,_,v){if(v&&w.shouldReuseRoute(_.value,v.value.snapshot)){const b=v.value;b._futureSnapshot=_.value;const O=function Xi(w,_,v){return _.children.map(b=>{for(const O of v.children)if(w.shouldReuseRoute(b.value,O.value.snapshot))return _r(w,b,O);return _r(w,b)})}(w,_,v);return new Rr(b,O)}{if(w.shouldAttach(_.value)){const U=w.retrieve(_.value);if(null!==U){const X=U.route;return X.value._futureSnapshot=_.value,X.children=_.children.map(ne=>_r(w,ne)),X}}const b=function Ps(w){return new Yt(new le.X(w.url),new le.X(w.params),new le.X(w.queryParams),new le.X(w.fragment),new le.X(w.data),w.outlet,w.component,w)}(_.value),O=_.children.map(U=>_r(w,U));return new Rr(b,O)}}const gi="ngNavigationCancelingError";function mi(w,_){const{redirectTo:v,navigationBehaviorOptions:b}=Ke(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,O=Rs(!1,0,_);return O.url=v,O.navigationBehaviorOptions=b,O}function Rs(w,_,v){const b=new Error("NavigationCancelingError: "+(w||""));return b[gi]=!0,b.cancellationCode=_,v&&(b.url=v),b}function fr(w){return oi(w)&&Ke(w.url)}function oi(w){return w&&w[gi]}class ks{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ai,this.attachRef=null}}let ai=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(v,b){const O=this.getOrCreateContext(v);O.outlet=b,this.contexts.set(v,O)}onChildOutletDestroyed(v){const b=this.getContext(v);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let b=this.getContext(v);return b||(b=new ks,this.contexts.set(v,b)),b}getContext(v){return this.contexts.get(v)||null}}return w.\u0275fac=function(v){return new(v||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Cr=!1;let Fs=(()=>{class w{constructor(v,b,O,U,X){this.parentContexts=v,this.location=b,this.changeDetector=U,this.environmentInjector=X,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=O||$e,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,Cr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,Cr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,Cr);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,b){this.activated=v,this._activatedRoute=b,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,b){if(this.isActivated)throw new d.vHH(4013,Cr);this._activatedRoute=v;const O=this.location,X=v._futureSnapshot.component,ne=this.parentContexts.getOrCreateContext(this.name).children,je=new wn(v,ne,O.injector);if(b&&function ss(w){return!!w.resolveComponentFactory}(b)){const mt=b.resolveComponentFactory(X);this.activated=O.createComponent(mt,O.length,je)}else this.activated=O.createComponent(X,{index:O.length,injector:je,environmentInjector:b??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(v){return new(v||w)(d.Y36(ai),d.Y36(d.s_b),d.$8M("name"),d.Y36(d.sBO),d.Y36(d.lqb))},w.\u0275dir=d.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),w})();class wn{constructor(_,v,b){this.route=_,this.childContexts=v,this.parent=b}get(_,v){return _===Yt?this.route:_===ai?this.childContexts:this.parent.get(_,v)}}let as=(()=>{class w{}return w.\u0275fac=function(v){return new(v||w)},w.\u0275cmp=d.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(v,b){1&v&&d._UZ(0,"router-outlet")},dependencies:[Fs],encapsulation:2}),w})();function xr(w,_){return w.providers&&!w._injector&&(w._injector=(0,d.MMx)(w.providers,_,`Route: ${w.path}`)),w._injector??_}function Fr(w){const _=w.children&&w.children.map(Fr),v=_?{...w,children:_}:{...w};return!v.component&&!v.loadComponent&&(_||v.loadChildren)&&v.outlet&&v.outlet!==$e&&(v.component=as),v}function Rn(w){return w.outlet||$e}function Zr(w,_){const v=w.filter(b=>Rn(b)===_);return v.push(...w.filter(b=>Rn(b)!==_)),v}function Ot(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let _=w.parent;_;_=_.parent){const v=_.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class es{constructor(_,v,b,O){this.routeReuseStrategy=_,this.futureState=v,this.currState=b,this.forwardEvent=O}activate(_){const v=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,b,_),Ei(this.futureState.root),this.activateChildRoutes(v,b,_)}deactivateChildRoutes(_,v,b){const O=Kr(v);_.children.forEach(U=>{const X=U.value.outlet;this.deactivateRoutes(U,O[X],b),delete O[X]}),dt(O,(U,X)=>{this.deactivateRouteAndItsChildren(U,b)})}deactivateRoutes(_,v,b){const O=_.value,U=v?v.value:null;if(O===U)if(O.component){const X=b.getContext(O.outlet);X&&this.deactivateChildRoutes(_,v,X.children)}else this.deactivateChildRoutes(_,v,b);else U&&this.deactivateRouteAndItsChildren(v,b)}deactivateRouteAndItsChildren(_,v){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,v):this.deactivateRouteAndOutlet(_,v)}detachAndStoreRouteSubtree(_,v){const b=v.getContext(_.value.outlet),O=b&&_.value.component?b.children:v,U=Kr(_);for(const X of Object.keys(U))this.deactivateRouteAndItsChildren(U[X],O);if(b&&b.outlet){const X=b.outlet.detach(),ne=b.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:X,route:_,contexts:ne})}}deactivateRouteAndOutlet(_,v){const b=v.getContext(_.value.outlet),O=b&&_.value.component?b.children:v,U=Kr(_);for(const X of Object.keys(U))this.deactivateRouteAndItsChildren(U[X],O);b&&b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated(),b.attachRef=null,b.resolver=null,b.route=null)}activateChildRoutes(_,v,b){const O=Kr(v);_.children.forEach(U=>{this.activateRoutes(U,O[U.value.outlet],b),this.forwardEvent(new To(U.value.snapshot))}),_.children.length&&this.forwardEvent(new Sr(_.value.snapshot))}activateRoutes(_,v,b){const O=_.value,U=v?v.value:null;if(Ei(O),O===U)if(O.component){const X=b.getOrCreateContext(O.outlet);this.activateChildRoutes(_,v,X.children)}else this.activateChildRoutes(_,v,b);else if(O.component){const X=b.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const ne=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),X.children.onOutletReAttached(ne.contexts),X.attachRef=ne.componentRef,X.route=ne.route.value,X.outlet&&X.outlet.attach(ne.componentRef,ne.route.value),Ei(ne.route.value),this.activateChildRoutes(_,null,X.children)}else{const ne=Ot(O.snapshot),je=ne?.get(d._Vd)??null;X.attachRef=null,X.route=O,X.resolver=je,X.injector=ne,X.outlet&&X.outlet.activateWith(O,X.injector),this.activateChildRoutes(_,null,X.children)}}else this.activateChildRoutes(_,null,b)}}class ls{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class Ar{constructor(_,v){this.component=_,this.route=v}}function cs(w,_,v){const b=w._root;return ir(b,_?_._root:null,v,[b.value])}function Jr(w,_){const v=Symbol(),b=_.get(w,v);return b===v?"function"!=typeof w||(0,d.Z0I)(w)?_.get(w):w:b}function ir(w,_,v,b,O={canDeactivateChecks:[],canActivateChecks:[]}){const U=Kr(_);return w.children.forEach(X=>{(function qe(w,_,v,b,O={canDeactivateChecks:[],canActivateChecks:[]}){const U=w.value,X=_?_.value:null,ne=v?v.getContext(w.value.outlet):null;if(X&&U.routeConfig===X.routeConfig){const je=function Gt(w,_,v){if("function"==typeof v)return v(w,_);switch(v){case"pathParamsChange":return!Zt(w.url,_.url);case"pathParamsOrQueryParamsChange":return!Zt(w.url,_.url)||!tn(w.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lr(w,_)||!tn(w.queryParams,_.queryParams);default:return!lr(w,_)}}(X,U,U.routeConfig.runGuardsAndResolvers);je?O.canActivateChecks.push(new ls(b)):(U.data=X.data,U._resolvedData=X._resolvedData),ir(w,_,U.component?ne?ne.children:null:v,b,O),je&&ne&&ne.outlet&&ne.outlet.isActivated&&O.canDeactivateChecks.push(new Ar(ne.outlet.component,X))}else X&&Si(_,ne,O),O.canActivateChecks.push(new ls(b)),ir(w,null,U.component?ne?ne.children:null:v,b,O)})(X,U[X.value.outlet],v,b.concat([X.value]),O),delete U[X.value.outlet]}),dt(U,(X,ne)=>Si(X,v.getContext(ne),O)),O}function Si(w,_,v){const b=Kr(w),O=w.value;dt(b,(U,X)=>{Si(U,O.component?_?_.children.getContext(X):null:_,v)}),v.canDeactivateChecks.push(new Ar(O.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,O))}function yn(w){return"function"==typeof w}function pr(w){return w instanceof pe||"EmptyError"===w?.name}const Lr=Symbol("INITIAL_VALUE");function En(){return(0,Pe.w)(w=>(0,ce.a)(w.map(_=>_.pipe((0,Tt.q)(1),(0,Xe.O)(Lr)))).pipe((0,Ee.U)(_=>{for(const v of _)if(!0!==v){if(v===Lr)return Lr;if(!1===v||v instanceof kt)return v}return!0}),(0,We.h)(_=>_!==Lr),(0,Tt.q)(1)))}function xs(w){return(0,we.z)((0,Me.b)(_=>{if(Ke(_))throw mi(0,_)}),(0,Ee.U)(_=>!0===_))}const Ds={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Js(w,_,v,b,O){const U=Qs(w,_,v);return U.matched?function Io(w,_,v,b){const O=_.canMatch;if(!O||0===O.length)return(0,se.of)(!0);const U=O.map(X=>{const ne=Jr(X,w);return Mn(function Be(w){return w&&yn(w.canMatch)}(ne)?ne.canMatch(_,v):w.runInContext(()=>ne(_,v)))});return(0,se.of)(U).pipe(En(),xs())}(b=xr(_,b),_,v).pipe((0,Ee.U)(X=>!0===X?U:{...Ds})):(0,se.of)(U)}function Qs(w,_,v){if(""===_.path)return"full"===_.pathMatch&&(w.hasChildren()||v.length>0)?{...Ds}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const O=(_.matcher||dr)(v,w,_);if(!O)return{...Ds};const U={};dt(O.posParams,(ne,je)=>{U[je]=ne.path});const X=O.consumed.length>0?{...U,...O.consumed[O.consumed.length-1].parameters}:U;return{matched:!0,consumedSegments:O.consumed,remainingSegments:v.slice(O.consumed.length),parameters:X,positionalParamSegments:O.posParams??{}}}function Qr(w,_,v,b,O="corrected"){if(v.length>0&&function ts(w,_,v){return v.some(b=>B(w,_,b)&&Rn(b)!==$e)}(w,v,b)){const X=new vt(_,function Xs(w,_,v,b){const O={};O[$e]=b,b._sourceSegment=w,b._segmentIndexShift=_.length;for(const U of v)if(""===U.path&&Rn(U)!==$e){const X=new vt([],{});X._sourceSegment=w,X._segmentIndexShift=_.length,O[Rn(U)]=X}return O}(w,_,b,new vt(v,w.children)));return X._sourceSegment=w,X._segmentIndexShift=_.length,{segmentGroup:X,slicedSegments:[]}}if(0===v.length&&function E(w,_,v){return v.some(b=>B(w,_,b))}(w,v,b)){const X=new vt(w.segments,function Oo(w,_,v,b,O,U){const X={};for(const ne of b)if(B(w,v,ne)&&!O[Rn(ne)]){const je=new vt([],{});je._sourceSegment=w,je._segmentIndexShift="legacy"===U?w.segments.length:_.length,X[Rn(ne)]=je}return{...O,...X}}(w,_,v,b,w.children,O));return X._sourceSegment=w,X._segmentIndexShift=_.length,{segmentGroup:X,slicedSegments:v}}const U=new vt(w.segments,w.children);return U._sourceSegment=w,U._segmentIndexShift=_.length,{segmentGroup:U,slicedSegments:v}}function B(w,_,v){return(!(w.hasChildren()||_.length>0)||"full"!==v.pathMatch)&&""===v.path}function A(w,_,v,b){return!!(Rn(w)===b||b!==$e&&B(_,v,w))&&("**"===w.path||Qs(_,w,v).matched)}function W(w,_,v){return 0===_.length&&!w.children[v]}const re=!1;class ke{constructor(_){this.segmentGroup=_||null}}class ze{constructor(_){this.urlTree=_}}function wt(w){return(0,be._)(new ke(w))}function _n(w){return(0,be._)(new ze(w))}class Tn{constructor(_,v,b,O,U){this.injector=_,this.configLoader=v,this.urlSerializer=b,this.urlTree=O,this.config=U,this.allowRedirects=!0}apply(){const _=Qr(this.urlTree.root,[],[],this.config).segmentGroup,v=new vt(_.segments,_.children);return this.expandSegmentGroup(this.injector,this.config,v,$e).pipe((0,Ee.U)(U=>this.createUrlTree(oe(U),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,it.K)(U=>{if(U instanceof ze)return this.allowRedirects=!1,this.match(U.urlTree);throw U instanceof ke?this.noMatchError(U):U}))}match(_){return this.expandSegmentGroup(this.injector,this.config,_.root,$e).pipe((0,Ee.U)(O=>this.createUrlTree(oe(O),_.queryParams,_.fragment))).pipe((0,it.K)(O=>{throw O instanceof ke?this.noMatchError(O):O}))}noMatchError(_){return new d.vHH(4002,re)}createUrlTree(_,v,b){const O=z(_);return new kt(O,v,b)}expandSegmentGroup(_,v,b,O){return 0===b.segments.length&&b.hasChildren()?this.expandChildren(_,v,b).pipe((0,Ee.U)(U=>new vt([],U))):this.expandSegment(_,b,v,b.segments,O,!0)}expandChildren(_,v,b){const O=[];for(const U of Object.keys(b.children))"primary"===U?O.unshift(U):O.push(U);return(0,T.D)(O).pipe((0,He.b)(U=>{const X=b.children[U],ne=Zr(v,U);return this.expandSegmentGroup(_,ne,X,U).pipe((0,Ee.U)(je=>({segment:je,outlet:U})))}),Lt((U,X)=>(U[X.outlet]=X.segment,U),{}),pn())}expandSegment(_,v,b,O,U,X){return(0,T.D)(b).pipe((0,He.b)(ne=>this.expandSegmentAgainstRoute(_,v,b,ne,O,U,X).pipe((0,it.K)(mt=>{if(mt instanceof ke)return(0,se.of)(null);throw mt}))),Se(ne=>!!ne),(0,it.K)((ne,je)=>{if(pr(ne))return W(v,O,U)?(0,se.of)(new vt([],{})):wt(v);throw ne}))}expandSegmentAgainstRoute(_,v,b,O,U,X,ne){return A(O,v,U,X)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(_,v,O,U,X):ne&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,v,b,O,U,X):wt(v):wt(v)}expandSegmentAgainstRouteUsingRedirect(_,v,b,O,U,X){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,b,O,X):this.expandRegularSegmentAgainstRouteUsingRedirect(_,v,b,O,U,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,v,b,O){const U=this.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?_n(U):this.lineralizeSegments(b,U).pipe((0,ve.z)(X=>{const ne=new vt(X,{});return this.expandSegment(_,ne,v,X,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,v,b,O,U,X){const{matched:ne,consumedSegments:je,remainingSegments:mt,positionalParamSegments:dn}=Qs(v,O,U);if(!ne)return wt(v);const St=this.applyRedirectCommands(je,O.redirectTo,dn);return O.redirectTo.startsWith("/")?_n(St):this.lineralizeSegments(O,St).pipe((0,ve.z)(jn=>this.expandSegment(_,v,b,jn.concat(mt),X,!1)))}matchSegmentAgainstRoute(_,v,b,O,U){return"**"===b.path?(_=xr(b,_),b.loadChildren?(b._loadedRoutes?(0,se.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):this.configLoader.loadChildren(_,b)).pipe((0,Ee.U)(ne=>(b._loadedRoutes=ne.routes,b._loadedInjector=ne.injector,new vt(O,{})))):(0,se.of)(new vt(O,{}))):Js(v,b,O,_).pipe((0,Pe.w)(({matched:X,consumedSegments:ne,remainingSegments:je})=>X?this.getChildConfig(_=b._injector??_,b,O).pipe((0,ve.z)(dn=>{const St=dn.injector??_,jn=dn.routes,{segmentGroup:Gi,slicedSegments:gs}=Qr(v,ne,je,jn),ko=new vt(Gi.segments,Gi.children);if(0===gs.length&&ko.hasChildren())return this.expandChildren(St,jn,ko).pipe((0,Ee.U)(ao=>new vt(ne,ao)));if(0===jn.length&&0===gs.length)return(0,se.of)(new vt(ne,{}));const ei=Rn(b)===U;return this.expandSegment(St,ko,jn,gs,ei?$e:U,!0).pipe((0,Ee.U)(Ca=>new vt(ne.concat(Ca.segments),Ca.children)))})):wt(v)))}getChildConfig(_,v,b){return v.children?(0,se.of)({routes:v.children,injector:_}):v.loadChildren?void 0!==v._loadedRoutes?(0,se.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function Hs(w,_,v,b){const O=_.canLoad;if(void 0===O||0===O.length)return(0,se.of)(!0);const U=O.map(X=>{const ne=Jr(X,w);return Mn(function N(w){return w&&yn(w.canLoad)}(ne)?ne.canLoad(_,v):w.runInContext(()=>ne(_,v)))});return(0,se.of)(U).pipe(En(),xs())}(_,v,b).pipe((0,ve.z)(O=>O?this.configLoader.loadChildren(_,v).pipe((0,Me.b)(U=>{v._loadedRoutes=U.routes,v._loadedInjector=U.injector})):function bn(w){return(0,be._)(Rs(re,3))}())):(0,se.of)({routes:[],injector:_})}lineralizeSegments(_,v){let b=[],O=v.root;for(;;){if(b=b.concat(O.segments),0===O.numberOfChildren)return(0,se.of)(b);if(O.numberOfChildren>1||!O.children[$e])return(0,be._)(new d.vHH(4e3,re));O=O.children[$e]}}applyRedirectCommands(_,v,b){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),_,b)}applyRedirectCreateUrlTree(_,v,b,O){const U=this.createSegmentGroup(_,v.root,b,O);return new kt(U,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(_,v){const b={};return dt(_,(O,U)=>{if("string"==typeof O&&O.startsWith(":")){const ne=O.substring(1);b[U]=v[ne]}else b[U]=O}),b}createSegmentGroup(_,v,b,O){const U=this.createSegments(_,v.segments,b,O);let X={};return dt(v.children,(ne,je)=>{X[je]=this.createSegmentGroup(_,ne,b,O)}),new vt(U,X)}createSegments(_,v,b,O){return v.map(U=>U.path.startsWith(":")?this.findPosParam(_,U,O):this.findOrReturn(U,b))}findPosParam(_,v,b){const O=b[v.path.substring(1)];if(!O)throw new d.vHH(4001,re);return O}findOrReturn(_,v){let b=0;for(const O of v){if(O.path===_.path)return v.splice(b),O;b++}return _}}class vi{}class Ai{constructor(_,v,b,O,U,X,ne,je){this.injector=_,this.rootComponentType=v,this.config=b,this.urlTree=O,this.url=U,this.paramsInheritanceStrategy=X,this.relativeLinkResolution=ne,this.urlSerializer=je}recognize(){const _=Qr(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,_,$e).pipe((0,Ee.U)(v=>{if(null===v)return null;const b=new si([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$e,this.rootComponentType,null,this.urlTree.root,-1,{}),O=new Rr(b,v),U=new fn(this.url,O);return this.inheritParamsAndData(U._root),U}))}inheritParamsAndData(_){const v=_.value,b=bi(v,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data),_.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(_,v,b,O){return 0===b.segments.length&&b.hasChildren()?this.processChildren(_,v,b):this.processSegment(_,v,b,b.segments,O)}processChildren(_,v,b){return(0,T.D)(Object.keys(b.children)).pipe((0,He.b)(O=>{const U=b.children[O],X=Zr(v,O);return this.processSegmentGroup(_,X,U,O)}),Lt((O,U)=>O&&U?(O.push(...U),O):null),function gt(w,_=!1){return(0,Qe.e)((v,b)=>{let O=0;v.subscribe((0,_t.x)(b,U=>{const X=w(U,O++);(X||_)&&b.next(U),!X&&b.complete()}))})}(O=>null!==O),ft(null),pn(),(0,Ee.U)(O=>{if(null===O)return null;const U=eo(O);return function Or(w){w.sort((_,v)=>_.value.outlet===$e?-1:v.value.outlet===$e?1:_.value.outlet.localeCompare(v.value.outlet))}(U),U}))}processSegment(_,v,b,O,U){return(0,T.D)(v).pipe((0,He.b)(X=>this.processSegmentAgainstRoute(X._injector??_,X,b,O,U)),Se(X=>!!X),(0,it.K)(X=>{if(pr(X))return W(b,O,U)?(0,se.of)([]):(0,se.of)(null);throw X}))}processSegmentAgainstRoute(_,v,b,O,U){if(v.redirectTo||!A(v,b,O,U))return(0,se.of)(null);let X;if("**"===v.path){const ne=O.length>0?Vr(O).parameters:{},je=Ii(b)+O.length,mt=new si(O,ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wo(v),Rn(v),v.component??v._loadedComponent??null,v,Wi(b),je,us(v),je);X=(0,se.of)({snapshot:mt,consumedSegments:[],remainingSegments:[]})}else X=Js(b,v,O,_).pipe((0,Ee.U)(({matched:ne,consumedSegments:je,remainingSegments:mt,parameters:dn})=>{if(!ne)return null;const St=Ii(b)+je.length;return{snapshot:new si(je,dn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wo(v),Rn(v),v.component??v._loadedComponent??null,v,Wi(b),St,us(v),St),consumedSegments:je,remainingSegments:mt}}));return X.pipe((0,Pe.w)(ne=>{if(null===ne)return(0,se.of)(null);const{snapshot:je,consumedSegments:mt,remainingSegments:dn}=ne;_=v._injector??_;const St=v._loadedInjector??_,jn=function wi(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(v),{segmentGroup:Gi,slicedSegments:gs}=Qr(b,mt,dn,jn.filter(ei=>void 0===ei.redirectTo),this.relativeLinkResolution);if(0===gs.length&&Gi.hasChildren())return this.processChildren(St,jn,Gi).pipe((0,Ee.U)(ei=>null===ei?null:[new Rr(je,ei)]));if(0===jn.length&&0===gs.length)return(0,se.of)([new Rr(je,[])]);const ko=Rn(v)===U;return this.processSegment(St,jn,Gi,gs,ko?$e:U).pipe((0,Ee.U)(ei=>null===ei?null:[new Rr(je,ei)]))}))}}function wo(w){const _=w.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function eo(w){const _=[],v=new Set;for(const b of w){if(!wo(b)){_.push(b);continue}const O=_.find(U=>b.value.routeConfig===U.value.routeConfig);void 0!==O?(O.children.push(...b.children),v.add(O)):_.push(b)}for(const b of v){const O=eo(b.children);_.push(new Rr(b.value,O))}return _.filter(b=>!v.has(b))}function Wi(w){let _=w;for(;_._sourceSegment;)_=_._sourceSegment;return _}function Ii(w){let _=w,v=_._segmentIndexShift??0;for(;_._sourceSegment;)_=_._sourceSegment,v+=_._segmentIndexShift??0;return v-1}function Wo(w){return w.data||{}}function us(w){return w.resolve||{}}function bs(w){return"string"==typeof w.title||null===w.title}function _o(w){return(0,Pe.w)(_=>{const v=w(_);return v?(0,T.D)(v).pipe((0,Ee.U)(()=>_)):(0,se.of)(_)})}let ds=(()=>{class w{buildTitle(v){let b,O=v.root;for(;void 0!==O;)b=this.getResolvedTitleForRoute(O)??b,O=O.children.find(U=>U.outlet===$e);return b}getResolvedTitleForRoute(v){return v.data[zt]}}return w.\u0275fac=function(v){return new(v||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(zs)},providedIn:"root"}),w})(),zs=(()=>{class w extends ds{constructor(v){super(),this.title=v}updateTitle(v){const b=this.buildTitle(v);void 0!==b&&this.title.setTitle(b)}}return w.\u0275fac=function(v){return new(v||w)(d.LFG(Ve.Dx))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class Es{}class qo extends class ns{shouldDetach(_){return!1}store(_,v){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,v){return _.routeConfig===v.routeConfig}}{}const Xr=new d.OlP("",{providedIn:"root",factory:()=>({})}),js=new d.OlP("ROUTES");let Co=(()=>{class w{constructor(v,b){this.injector=v,this.compiler=b,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,se.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const b=Mn(v.loadComponent()).pipe((0,Me.b)(U=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=U}),(0,Je.x)(()=>{this.componentLoaders.delete(v)})),O=new ue.c(b,()=>new Ce.x).pipe((0,tt.x)());return this.componentLoaders.set(v,O),O}loadChildren(v,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,se.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const U=this.loadModuleFactoryOrRoutes(b.loadChildren).pipe((0,Ee.U)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(b);let je,mt,dn=!1;Array.isArray(ne)?mt=ne:(je=ne.create(v).injector,mt=mr(je.get(js,[],d.XFs.Self|d.XFs.Optional)));return{routes:mt.map(Fr),injector:je}}),(0,Je.x)(()=>{this.childrenLoaders.delete(b)})),X=new ue.c(U,()=>new Ce.x).pipe((0,tt.x)());return this.childrenLoaders.set(b,X),X}loadModuleFactoryOrRoutes(v){return Mn(v()).pipe((0,ve.z)(b=>b instanceof d.YKP||Array.isArray(b)?(0,se.of)(b):(0,T.D)(this.compiler.compileModuleAsync(b))))}}return w.\u0275fac=function(v){return new(v||w)(d.LFG(d.zs3),d.LFG(d.Sil))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class so{}class oo{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,v){return _}}function Zo(w){throw w}function No(w,_,v){return _.parse("/")}const ca={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Po={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Jo(){const w=(0,d.f3M)(Wt),_=(0,d.f3M)(ai),v=(0,d.f3M)(lt.Ye),b=(0,d.f3M)(d.zs3),O=(0,d.f3M)(d.Sil),U=(0,d.f3M)(js,{optional:!0})??[],X=(0,d.f3M)(Xr,{optional:!0})??{},ne=(0,d.f3M)(zs),je=(0,d.f3M)(ds,{optional:!0}),mt=(0,d.f3M)(so,{optional:!0}),dn=(0,d.f3M)(Es,{optional:!0}),St=new qn(null,w,_,v,b,O,mr(U));return mt&&(St.urlHandlingStrategy=mt),dn&&(St.routeReuseStrategy=dn),St.titleStrategy=je??ne,function fs(w,_){w.errorHandler&&(_.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(_.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(_.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(_.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(_.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(_.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(_.canceledNavigationResolution=w.canceledNavigationResolution)}(X,St),St}let qn=(()=>{class w{constructor(v,b,O,U,X,ne,je){this.rootComponentType=v,this.urlSerializer=b,this.rootContexts=O,this.location=U,this.config=je,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ce.x,this.errorHandler=Zo,this.malformedUriErrorHandler=No,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,se.of)(void 0),this.urlHandlingStrategy=new oo,this.routeReuseStrategy=new qo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=X.get(Co),this.configLoader.onLoadEndListener=jn=>this.triggerEvent(new Di(jn)),this.configLoader.onLoadStartListener=jn=>this.triggerEvent(new ii(jn)),this.ngModule=X.get(d.h0i),this.console=X.get(d.c2e);const St=X.get(d.R0b);this.isNgZoneEnabled=St instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(je),this.currentUrlTree=function Ln(){return new kt(new vt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Zs(this.currentUrlTree,this.rootComponentType),this.transitions=new le.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(v){const b=this.events;return v.pipe((0,We.h)(O=>0!==O.id),(0,Ee.U)(O=>({...O,extractedUrl:this.urlHandlingStrategy.extract(O.rawUrl)})),(0,Pe.w)(O=>{let U=!1,X=!1;return(0,se.of)(O).pipe((0,Me.b)(ne=>{this.currentNavigation={id:ne.id,initialUrl:ne.rawUrl,extractedUrl:ne.extractedUrl,trigger:ne.source,extras:ne.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pe.w)(ne=>{const je=this.browserUrlTree.toString(),mt=!this.navigated||ne.extractedUrl.toString()!==je||je!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||mt)&&this.urlHandlingStrategy.shouldProcessUrl(ne.rawUrl))return P(ne.source)&&(this.browserUrlTree=ne.extractedUrl),(0,se.of)(ne).pipe((0,Pe.w)(St=>{const jn=this.transitions.getValue();return b.next(new hi(St.id,this.serializeUrl(St.extractedUrl),St.source,St.restoredState)),jn!==this.transitions.getValue()?et.E:Promise.resolve(St)}),function mn(w,_,v,b){return(0,Pe.w)(O=>function Jt(w,_,v,b,O){return new Tn(w,_,v,b,O).apply()}(w,_,v,O.extractedUrl,b).pipe((0,Ee.U)(U=>({...O,urlAfterRedirects:U}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Me.b)(St=>{this.currentNavigation={...this.currentNavigation,finalUrl:St.urlAfterRedirects},O.urlAfterRedirects=St.urlAfterRedirects}),function Oi(w,_,v,b,O,U){return(0,ve.z)(X=>function Ir(w,_,v,b,O,U,X="emptyOnly",ne="legacy"){return new Ai(w,_,v,b,O,X,ne,U).recognize().pipe((0,Pe.w)(je=>null===je?function cr(w){return new Te.y(_=>_.error(w))}(new vi):(0,se.of)(je)))}(w,_,v,X.urlAfterRedirects,b.serialize(X.urlAfterRedirects),b,O,U).pipe((0,Ee.U)(ne=>({...X,targetSnapshot:ne}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Me.b)(St=>{if(O.targetSnapshot=St.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!St.extras.skipLocationChange){const Gi=this.urlHandlingStrategy.merge(St.urlAfterRedirects,St.rawUrl);this.setBrowserUrl(Gi,St)}this.browserUrlTree=St.urlAfterRedirects}const jn=new Vi(St.id,this.serializeUrl(St.extractedUrl),this.serializeUrl(St.urlAfterRedirects),St.targetSnapshot);b.next(jn)}));if(mt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:jn,extractedUrl:Gi,source:gs,restoredState:ko,extras:ei}=ne,ua=new hi(jn,this.serializeUrl(Gi),gs,ko);b.next(ua);const Ca=Zs(Gi,this.rootComponentType).snapshot;return O={...ne,targetSnapshot:Ca,urlAfterRedirects:Gi,extras:{...ei,skipLocationChange:!1,replaceUrl:!1}},(0,se.of)(O)}return this.rawUrlTree=ne.rawUrl,ne.resolve(null),et.E}),(0,Me.b)(ne=>{const je=new qi(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot);this.triggerEvent(je)}),(0,Ee.U)(ne=>O={...ne,guards:cs(ne.targetSnapshot,ne.currentSnapshot,this.rootContexts)}),function ci(w,_){return(0,ve.z)(v=>{const{targetSnapshot:b,currentSnapshot:O,guards:{canActivateChecks:U,canDeactivateChecks:X}}=v;return 0===X.length&&0===U.length?(0,se.of)({...v,guardsResult:!0}):function Bs(w,_,v,b){return(0,T.D)(w).pipe((0,ve.z)(O=>function Ao(w,_,v,b,O){const U=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!U||0===U.length)return(0,se.of)(!0);const X=U.map(ne=>{const je=Ot(_)??O,mt=Jr(ne,je);return Mn(function j(w){return w&&yn(w.canDeactivate)}(mt)?mt.canDeactivate(w,_,v,b):je.runInContext(()=>mt(w,_,v,b))).pipe(Se())});return(0,se.of)(X).pipe(En())}(O.component,O.route,v,_,b)),Se(O=>!0!==O,!0))}(X,b,O,w).pipe((0,ve.z)(ne=>ne&&function Un(w){return"boolean"==typeof w}(ne)?function _s(w,_,v,b){return(0,T.D)(_).pipe((0,He.b)(O=>(0,Z.z)(function Cs(w,_){return null!==w&&_&&_(new qs(w)),(0,se.of)(!0)}(O.route.parent,b),function Ti(w,_){return null!==w&&_&&_(new Os(w)),(0,se.of)(!0)}(O.route,b),function Vs(w,_,v){const b=_[_.length-1],U=_.slice(0,_.length-1).reverse().map(X=>function yi(w){const _=w.routeConfig?w.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:w,guards:_}:null}(X)).filter(X=>null!==X).map(X=>(0,ge.P)(()=>{const ne=X.guards.map(je=>{const mt=Ot(X.node)??v,dn=Jr(je,mt);return Mn(function S(w){return w&&yn(w.canActivateChild)}(dn)?dn.canActivateChild(b,w):mt.runInContext(()=>dn(b,w))).pipe(Se())});return(0,se.of)(ne).pipe(En())}));return(0,se.of)(U).pipe(En())}(w,O.path,v),function vo(w,_,v){const b=_.routeConfig?_.routeConfig.canActivate:null;if(!b||0===b.length)return(0,se.of)(!0);const O=b.map(U=>(0,ge.P)(()=>{const X=Ot(_)??v,ne=Jr(U,X);return Mn(function I(w){return w&&yn(w.canActivate)}(ne)?ne.canActivate(_,w):X.runInContext(()=>ne(_,w))).pipe(Se())}));return(0,se.of)(O).pipe(En())}(w,O.route,v))),Se(O=>!0!==O,!0))}(b,U,w,_):(0,se.of)(ne)),(0,Ee.U)(ne=>({...v,guardsResult:ne})))})}(this.ngModule.injector,ne=>this.triggerEvent(ne)),(0,Me.b)(ne=>{if(O.guardsResult=ne.guardsResult,Ke(ne.guardsResult))throw mi(0,ne.guardsResult);const je=new wr(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot,!!ne.guardsResult);this.triggerEvent(je)}),(0,We.h)(ne=>!!ne.guardsResult||(this.restoreHistory(ne),this.cancelNavigationTransition(ne,"",3),!1)),_o(ne=>{if(ne.guards.canActivateChecks.length)return(0,se.of)(ne).pipe((0,Me.b)(je=>{const mt=new vs(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(mt)}),(0,Pe.w)(je=>{let mt=!1;return(0,se.of)(je).pipe(function Us(w,_){return(0,ve.z)(v=>{const{targetSnapshot:b,guards:{canActivateChecks:O}}=v;if(!O.length)return(0,se.of)(v);let U=0;return(0,T.D)(O).pipe((0,He.b)(X=>function Go(w,_,v,b){const O=w.routeConfig,U=w._resolve;return void 0!==O?.title&&!bs(O)&&(U[zt]=O.title),function to(w,_,v,b){const O=function Yo(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===O.length)return(0,se.of)({});const U={};return(0,T.D)(O).pipe((0,ve.z)(X=>function Ko(w,_,v,b){const O=Ot(_)??b,U=Jr(w,O);return Mn(U.resolve?U.resolve(_,v):O.runInContext(()=>U(_,v)))}(w[X],_,v,b).pipe(Se(),(0,Me.b)(ne=>{U[X]=ne}))),sn(1),(0,$n.h)(U),(0,it.K)(X=>pr(X)?et.E:(0,be._)(X)))}(U,w,_,b).pipe((0,Ee.U)(X=>(w._resolvedData=X,w.data=bi(w,v).resolve,O&&bs(O)&&(w.data[zt]=O.title),null)))}(X.route,b,w,_)),(0,Me.b)(()=>U++),sn(1),(0,ve.z)(X=>U===O.length?(0,se.of)(v):et.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Me.b)({next:()=>mt=!0,complete:()=>{mt||(this.restoreHistory(je),this.cancelNavigationTransition(je,"",2))}}))}),(0,Me.b)(je=>{const mt=new ws(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(mt)}))}),_o(ne=>{const je=mt=>{const dn=[];mt.routeConfig?.loadComponent&&!mt.routeConfig._loadedComponent&&dn.push(this.configLoader.loadComponent(mt.routeConfig).pipe((0,Me.b)(St=>{mt.component=St}),(0,Ee.U)(()=>{})));for(const St of mt.children)dn.push(...je(St));return dn};return(0,ce.a)(je(ne.targetSnapshot.root)).pipe(ft(),(0,Tt.q)(1))}),_o(()=>this.afterPreactivation()),(0,Ee.U)(ne=>{const je=function Qi(w,_,v){const b=_r(w,_._root,v?v._root:void 0);return new pi(b,_)}(this.routeReuseStrategy,ne.targetSnapshot,ne.currentRouterState);return O={...ne,targetRouterState:je}}),(0,Me.b)(ne=>{this.currentUrlTree=ne.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl),this.routerState=ne.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ne.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ne),this.browserUrlTree=ne.urlAfterRedirects)}),((w,_,v)=>(0,Ee.U)(b=>(new es(_,b.targetRouterState,b.currentRouterState,v).activate(w),b)))(this.rootContexts,this.routeReuseStrategy,ne=>this.triggerEvent(ne)),(0,Me.b)({next(){U=!0},complete(){U=!0}}),(0,Je.x)(()=>{U||X||this.cancelNavigationTransition(O,"",1),this.currentNavigation?.id===O.id&&(this.currentNavigation=null)}),(0,it.K)(ne=>{if(X=!0,oi(ne)){fr(ne)||(this.navigated=!0,this.restoreHistory(O,!0));const je=new vr(O.id,this.serializeUrl(O.extractedUrl),ne.message,ne.cancellationCode);if(b.next(je),fr(ne)){const mt=this.urlHandlingStrategy.merge(ne.url,this.rawUrlTree),dn={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||P(O.source)};this.scheduleNavigation(mt,"imperative",null,dn,{resolve:O.resolve,reject:O.reject,promise:O.promise})}else O.resolve(!1)}else{this.restoreHistory(O,!0);const je=new fi(O.id,this.serializeUrl(O.extractedUrl),ne,O.targetSnapshot??void 0);b.next(je);try{O.resolve(this.errorHandler(ne))}catch(mt){O.reject(mt)}}return et.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next({...this.transitions.value,...v})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const b="popstate"===v.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{const O={replaceUrl:!0},U=v.state?.navigationId?v.state:null;if(U){const ne={...U};delete ne.navigationId,delete ne.\u0275routerPageId,0!==Object.keys(ne).length&&(O.state=ne)}const X=this.parseUrl(v.url);this.scheduleNavigation(X,b,U,O)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){this.config=v.map(Fr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,b={}){const{relativeTo:O,queryParams:U,fragment:X,queryParamsHandling:ne,preserveFragment:je}=b,mt=O||this.routerState.root,dn=je?this.currentUrlTree.fragment:X;let St=null;switch(ne){case"merge":St={...this.currentUrlTree.queryParams,...U};break;case"preserve":St=this.currentUrlTree.queryParams;break;default:St=U||null}return null!==St&&(St=this.removeEmptyProps(St)),Mt(mt,this.currentUrlTree,v,St,dn??null)}navigateByUrl(v,b={skipLocationChange:!1}){const O=Ke(v)?v:this.parseUrl(v),U=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(U,"imperative",null,b)}navigate(v,b={skipLocationChange:!1}){return function ps(w){for(let _=0;_<w.length;_++){if(null==w[_])throw new d.vHH(4008,false)}}(v),this.navigateByUrl(this.createUrlTree(v,b),b)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let b;try{b=this.urlSerializer.parse(v)}catch(O){b=this.malformedUriErrorHandler(O,this.urlSerializer,v)}return b}isActive(v,b){let O;if(O=!0===b?{...ca}:!1===b?{...Po}:b,Ke(v))return Yn(this.currentUrlTree,v,O);const U=this.parseUrl(v);return Yn(this.currentUrlTree,U,O)}removeEmptyProps(v){return Object.keys(v).reduce((b,O)=>{const U=v[O];return null!=U&&(b[O]=U),b},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new Wn(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,b,O,U,X){if(this.disposed)return Promise.resolve(!1);let ne,je,mt;X?(ne=X.resolve,je=X.reject,mt=X.promise):mt=new Promise((jn,Gi)=>{ne=jn,je=Gi});const dn=++this.navigationId;let St;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(O=this.location.getState()),St=O&&O.\u0275routerPageId?O.\u0275routerPageId:U.replaceUrl||U.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):St=0,this.setTransition({id:dn,targetPageId:St,source:b,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:U,resolve:ne,reject:je,promise:mt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mt.catch(jn=>Promise.reject(jn))}setBrowserUrl(v,b){const O=this.urlSerializer.serialize(v),U={...b.extras.state,...this.generateNgRouterState(b.id,b.targetPageId)};this.location.isCurrentPathEqualTo(O)||b.extras.replaceUrl?this.location.replaceState(O,"",U):this.location.go(O,"",U)}restoreHistory(v,b=!1){if("computed"===this.canceledNavigationResolution){const O=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===O?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===O&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(O)}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,b,O){const U=new vr(v.id,this.serializeUrl(v.extractedUrl),b,O);this.triggerEvent(U),v.resolve(!1)}generateNgRouterState(v,b){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:b}:{navigationId:v}}}return w.\u0275fac=function(v){d.$Z()},w.\u0275prov=d.Yz7({token:w,factory:function(){return Jo()},providedIn:"root"}),w})();function P(w){return"imperative"!==w}let p=(()=>{class w{constructor(v,b,O,U,X){this.router=v,this.route=b,this.tabIndexAttribute=O,this.renderer=U,this.el=X,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ce.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(v){this._preserveFragment=(0,d.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,d.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,d.D6c)(v)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(v){if(null!=this.tabIndexAttribute)return;const b=this.renderer,O=this.el.nativeElement;null!==v?b.setAttribute(O,"tabindex",v):b.removeAttribute(O,"tabindex")}ngOnChanges(v){this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(v){return new(v||w)(d.Y36(qn),d.Y36(Yt),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},w.\u0275dir=d.lG2({type:w,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,b){1&v&&d.NdJ("click",function(){return b.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),w})(),m=(()=>{class w{constructor(v,b,O){this.router=v,this.route=b,this.locationStrategy=O,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ce.x,this.subscription=v.events.subscribe(U=>{U instanceof Wn&&this.updateTargetUrlAndHref()})}set preserveFragment(v){this._preserveFragment=(0,d.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,d.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,d.D6c)(v)}get replaceUrl(){return this._replaceUrl}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,b,O,U,X){return!!(0!==v||b||O||U||X||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(v){return new(v||w)(d.Y36(qn),d.Y36(Yt),d.Y36(lt.S$))},w.\u0275dir=d.lG2({type:w,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,b){1&v&&d.NdJ("click",function(U){return b.onClick(U.button,U.ctrlKey,U.shiftKey,U.altKey,U.metaKey)}),2&v&&d.uIk("target",b.target)("href",b.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),w})(),D=(()=>{class w{constructor(v,b,O,U,X,ne){this.router=v,this.element=b,this.renderer=O,this.cdr=U,this.link=X,this.linkWithHref=ne,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.vpe,this.routerEventsSubscription=v.events.subscribe(je=>{je instanceof Wn&&this.update()})}ngAfterContentInit(){(0,se.of)(this.links.changes,this.linksWithHrefs.changes,(0,se.of)(null)).pipe((0,xe.J)()).subscribe(v=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const v=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(b=>!!b).map(b=>b.onChanges);this.linkInputChangesSubscription=(0,T.D)(v).pipe((0,xe.J)()).subscribe(b=>{this.isActive!==this.isLinkActive(this.router)(b)&&this.update()})}set routerLinkActive(v){const b=Array.isArray(v)?v:v.split(" ");this.classes=b.filter(O=>!!O)}ngOnChanges(v){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const v=this.hasActiveLinks();this.isActive!==v&&(this.isActive=v,this.cdr.markForCheck(),this.classes.forEach(b=>{v?this.renderer.addClass(this.element.nativeElement,b):this.renderer.removeClass(this.element.nativeElement,b)}),v&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(v))})}isLinkActive(v){const b=function L(w){return!!w.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return O=>!!O.urlTree&&v.isActive(O.urlTree,b)}hasActiveLinks(){const v=this.isLinkActive(this.router);return this.link&&v(this.link)||this.linkWithHref&&v(this.linkWithHref)||this.links.some(v)||this.linksWithHrefs.some(v)}}return w.\u0275fac=function(v){return new(v||w)(d.Y36(qn),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(p,8),d.Y36(m,8))},w.\u0275dir=d.lG2({type:w,selectors:[["","routerLinkActive",""]],contentQueries:function(v,b,O){if(1&v&&(d.Suo(O,p,5),d.Suo(O,m,5)),2&v){let U;d.iGM(U=d.CRH())&&(b.links=U),d.iGM(U=d.CRH())&&(b.linksWithHrefs=U)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[d.TTD]}),w})();class K{}let Ne=(()=>{class w{constructor(v,b,O,U,X){this.router=v,this.injector=O,this.preloadingStrategy=U,this.loader=X}setUpPreloading(){this.subscription=this.router.events.pipe((0,We.h)(v=>v instanceof Wn),(0,He.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,b){const O=[];for(const U of b){U.providers&&!U._injector&&(U._injector=(0,d.MMx)(U.providers,v,`Route: ${U.path}`));const X=U._injector??v,ne=U._loadedInjector??X;U.loadChildren&&!U._loadedRoutes&&void 0===U.canLoad||U.loadComponent&&!U._loadedComponent?O.push(this.preloadConfig(X,U)):(U.children||U._loadedRoutes)&&O.push(this.processRoutes(ne,U.children??U._loadedRoutes))}return(0,T.D)(O).pipe((0,xe.J)())}preloadConfig(v,b){return this.preloadingStrategy.preload(b,()=>{let O;O=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(v,b):(0,se.of)(null);const U=O.pipe((0,ve.z)(X=>null===X?(0,se.of)(void 0):(b._loadedRoutes=X.routes,b._loadedInjector=X.injector,this.processRoutes(X.injector??v,X.routes))));if(b.loadComponent&&!b._loadedComponent){const X=this.loader.loadComponent(b);return(0,T.D)([U,X]).pipe((0,xe.J)())}return U})}}return w.\u0275fac=function(v){return new(v||w)(d.LFG(qn),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(K),d.LFG(Co))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Ye=new d.OlP("");let pt=(()=>{class w{constructor(v,b,O={}){this.router=v,this.viewportScroller=b,this.options=O,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},O.scrollPositionRestoration=O.scrollPositionRestoration||"disabled",O.anchorScrolling=O.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof hi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof Wn&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Ns&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,b){this.router.triggerEvent(new Ns(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(v){d.$Z()},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),w})();function Ht(w,_){return{\u0275kind:w,\u0275providers:_}}function $t(w){return[{provide:js,multi:!0,useValue:w}]}function Vn(){const w=(0,d.f3M)(d.zs3);return _=>{const v=w.get(d.z2F);if(_!==v.components[0])return;const b=w.get(qn),O=w.get(Xt);1===w.get($r)&&b.initialNavigation(),w.get(ui,null,d.XFs.Optional)?.setUpPreloading(),w.get(Ye,null,d.XFs.Optional)?.init(),b.resetRootComponentType(v.componentTypes[0]),O.next(),O.complete()}}const Xt=new d.OlP("",{factory:()=>new Ce.x}),$r=new d.OlP("",{providedIn:"root",factory:()=>1});const ui=new d.OlP("");function $s(w){return Ht(0,[{provide:ui,useExisting:Ne},{provide:K,useExisting:w}])}const Ro=new d.OlP("ROUTER_FORROOT_GUARD"),Zn=[lt.Ye,{provide:Wt,useClass:Kt},{provide:qn,useFactory:Jo},ai,{provide:Yt,useFactory:function ln(w){return w.routerState.root},deps:[qn]},Co];function rs(){return new d.PXZ("Router",qn)}let Do=(()=>{class w{constructor(v){}static forRoot(v,b){return{ngModule:w,providers:[Zn,[],$t(v),{provide:Ro,useFactory:un,deps:[[qn,new d.FiY,new d.tp0]]},{provide:Xr,useValue:b||{}},b?.useHash?{provide:lt.S$,useClass:lt.Do}:{provide:lt.S$,useClass:lt.b0},{provide:Ye,useFactory:()=>{const w=(0,d.f3M)(qn),_=(0,d.f3M)(lt.EM),v=(0,d.f3M)(Xr);return v.scrollOffset&&_.setOffset(v.scrollOffset),new pt(w,_,v)}},b?.preloadingStrategy?$s(b.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:rs},b?.initialNavigation?ur(b):[],[{provide:_i,useFactory:Vn},{provide:d.tb,multi:!0,useExisting:_i}]]}}static forChild(v){return{ngModule:w,providers:[$t(v)]}}}return w.\u0275fac=function(v){return new(v||w)(d.LFG(Ro,8))},w.\u0275mod=d.oAB({type:w}),w.\u0275inj=d.cJS({imports:[as]}),w})();function un(w){return"guarded"}function ur(w){return["disabled"===w.initialNavigation?Ht(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const _=(0,d.f3M)(qn);return()=>{_.setUpLocationChangeListener()}}},{provide:$r,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?Ht(2,[{provide:$r,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:_=>{const v=_.get(lt.V_,Promise.resolve());let b=!1;return()=>v.then(()=>new Promise(U=>{const X=_.get(qn),ne=_.get(Xt);(function O(U){_.get(qn).events.pipe((0,We.h)(ne=>ne instanceof Wn||ne instanceof vr||ne instanceof fi),(0,Ee.U)(ne=>ne instanceof Wn||ne instanceof vr&&(0===ne.code||1===ne.code)&&null),(0,We.h)(ne=>null!==ne),(0,Tt.q)(1)).subscribe(()=>{U()})})(()=>{U(!0),b=!0}),X.afterPreactivation=()=>(U(!0),b||ne.closed?(0,se.of)(void 0):ne),X.initialNavigation()}))}}]).\u0275providers:[]]}const _i=new d.OlP("")},2642:(yt,Ie,F)=>{F.d(Ie,{$BE:()=>Er,S9g:()=>Zi,acj:()=>br,n5m:()=>Es,uS3:()=>_o});const br='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file-text">\n    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>\n</svg>',Er='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file">\n    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>\n</svg>',Zi='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-layers">\n    <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>\n</svg>',_o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user-check">\n    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>\n</svg>',Es='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user">\n    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>\n</svg>'},6323:(yt,Ie,F)=>{F.d(Ie,{p:()=>pe,u:()=>ye});var d=F(4650);const T=["*"];class se{constructor(Z){this.icons=Z}}let ye=(()=>{class ce{constructor(ge,we,be){this.elem=ge,this.changeDetector=we,this.icons=be}ngOnChanges(ge){const be=Object.assign({},...this.icons)[function le(ce){return ce.toLowerCase().replace(/(?:^\w|[A-Z]|\b\w)/g,Z=>Z.toUpperCase()).replace(/[-_]/g,"")}(ge.name.currentValue)]||"";be||console.warn(`Icon not found: ${ge.name.currentValue}\nRefer to documentation on https://github.com/michaelbazos/angular-feather`),this.elem.nativeElement.innerHTML=be,this.changeDetector.markForCheck()}}return ce.\u0275fac=function(ge){return new(ge||ce)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(se))},ce.\u0275cmp=d.Xpm({type:ce,selectors:[["i-feather"],["feather-icon"]],inputs:{name:"name"},features:[d.TTD],ngContentSelectors:T,decls:1,vars:0,template:function(ge,we){1&ge&&(d.F$t(),d.Hsn(0))},styles:["[_nghost-%COMP%]{display:inline-block;width:24px;height:24px;fill:none;stroke:currentColor;stroke-width:2px;stroke-linecap:round;stroke-linejoin:round}"]}),ce})(),pe=(()=>{class ce{constructor(ge){if(this.icons=ge,!this.icons)throw new Error("No icon provided. Make sure to use 'FeatherModule.pick({ ... })' when importing the module\nRefer to documentation on https://github.com/michaelbazos/angular-feather")}static pick(ge){return{ngModule:ce,providers:[{provide:se,multi:!0,useValue:ge}]}}}return ce.\u0275fac=function(ge){return new(ge||ce)(d.LFG(se,8))},ce.\u0275mod=d.oAB({type:ce}),ce.\u0275inj=d.cJS({}),ce})()},5869:(yt,Ie,F)=>{F.d(Ie,{ML:()=>Zc,Mn:()=>Ud,tP:()=>Of,FP:()=>Gc});var d=F(4650),T=F(4006),se=F(7579),le=F(2722);const Z=o=>{const e=(o=>{const e={};return Object.keys(o).forEach(r=>{o[r]&&(e[r]=o[r])}),e})(o);return Object.entries(e).map(([r,s])=>`${(o=>o.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`))(r)}:${s}`).join(";")};class ge extends Error{constructor(e){super(e),this.name=this.constructor.name}}function we(o){this.content=o}we.prototype={constructor:we,find:function(o){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===o)return e;return-1},get:function(o){var e=this.find(o);return-1==e?void 0:this.content[e+1]},update:function(o,e,r){var s=r&&r!=o?this.remove(r):this,l=s.find(o),u=s.content.slice();return-1==l?u.push(r||o,e):(u[l+1]=e,r&&(u[l]=r)),new we(u)},remove:function(o){var e=this.find(o);if(-1==e)return this;var r=this.content.slice();return r.splice(e,2),new we(r)},addToStart:function(o,e){return new we([o,e].concat(this.remove(o).content))},addToEnd:function(o,e){var r=this.remove(o).content.slice();return r.push(o,e),new we(r)},addBefore:function(o,e,r){var s=this.remove(e),l=s.content.slice(),u=s.find(o);return l.splice(-1==u?l.length:u,0,e,r),new we(l)},forEach:function(o){for(var e=0;e<this.content.length;e+=2)o(this.content[e],this.content[e+1])},prepend:function(o){return(o=we.from(o)).size?new we(o.content.concat(this.subtract(o).content)):this},append:function(o){return(o=we.from(o)).size?new we(this.subtract(o).content.concat(o.content)):this},subtract:function(o){var e=this;o=we.from(o);for(var r=0;r<o.content.length;r+=2)e=e.remove(o.content[r]);return e},toObject:function(){var o={};return this.forEach(function(e,r){o[e]=r}),o},get size(){return this.content.length>>1}},we.from=function(o){if(o instanceof we)return o;var e=[];if(o)for(var r in o)e.push(r,o[r]);return new we(e)};const be=we;function Te(o,e,r){for(let s=0;;s++){if(s==o.childCount||s==e.childCount)return o.childCount==e.childCount?null:r;let l=o.child(s),u=e.child(s);if(l!=u){if(!l.sameMarkup(u))return r;if(l.isText&&l.text!=u.text){for(let f=0;l.text[f]==u.text[f];f++)r++;return r}if(l.content.size||u.content.size){let f=Te(l.content,u.content,r+1);if(null!=f)return f}r+=l.nodeSize}else r+=l.nodeSize}}function et(o,e,r,s){for(let l=o.childCount,u=e.childCount;;){if(0==l||0==u)return l==u?null:{a:r,b:s};let f=o.child(--l),g=e.child(--u),x=f.nodeSize;if(f!=g){if(!f.sameMarkup(g))return{a:r,b:s};if(f.isText&&f.text!=g.text){let R=0,V=Math.min(f.text.length,g.text.length);for(;R<V&&f.text[f.text.length-R-1]==g.text[g.text.length-R-1];)R++,r--,s--;return{a:r,b:s}}if(f.content.size||g.content.size){let R=et(f.content,g.content,r-1,s-1);if(R)return R}r-=x,s-=x}else r-=x,s-=x}}class ue{constructor(e,r){if(this.content=e,this.size=r||0,null==r)for(let s=0;s<e.length;s++)this.size+=e[s].nodeSize}nodesBetween(e,r,s,l=0,u){for(let f=0,g=0;g<r;f++){let x=this.content[f],R=g+x.nodeSize;if(R>e&&!1!==s(x,l+g,u||null,f)&&x.content.size){let V=g+1;x.nodesBetween(Math.max(0,e-V),Math.min(x.content.size,r-V),s,l+V)}g=R}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,s,l){let u="",f=!0;return this.nodesBetween(e,r,(g,x)=>{g.isText?(u+=g.text.slice(Math.max(e,x)-x,r-x),f=!s):g.isLeaf?(l?u+="function"==typeof l?l(g):l:g.type.spec.leafText&&(u+=g.type.spec.leafText(g)),f=!s):!f&&g.isBlock&&(u+=s,f=!0)},0),u}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,s=e.firstChild,l=this.content.slice(),u=0;for(r.isText&&r.sameMarkup(s)&&(l[l.length-1]=r.withText(r.text+s.text),u=1);u<e.content.length;u++)l.push(e.content[u]);return new ue(l,this.size+e.size)}cut(e,r=this.size){if(0==e&&r==this.size)return this;let s=[],l=0;if(r>e)for(let u=0,f=0;f<r;u++){let g=this.content[u],x=f+g.nodeSize;x>e&&((f<e||x>r)&&(g=g.isText?g.cut(Math.max(0,e-f),Math.min(g.text.length,r-f)):g.cut(Math.max(0,e-f-1),Math.min(g.content.size,r-f-1))),s.push(g),l+=g.nodeSize),f=x}return new ue(s,l)}cutByIndex(e,r){return e==r?ue.empty:0==e&&r==this.content.length?this:new ue(this.content.slice(e,r))}replaceChild(e,r){let s=this.content[e];if(s==r)return this;let l=this.content.slice(),u=this.size+r.nodeSize-s.nodeSize;return l[e]=r,new ue(l,u)}addToStart(e){return new ue([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ue(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,s=0;r<this.content.length;r++){let l=this.content[r];e(l,s,r),s+=l.nodeSize}}findDiffStart(e,r=0){return Te(this,e,r)}findDiffEnd(e,r=this.size,s=e.size){return et(this,e,r,s)}findIndex(e,r=-1){if(0==e)return lt(0,e);if(e==this.size)return lt(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let s=0,l=0;;s++){let f=l+this.child(s).nodeSize;if(f>=e)return f==e||r>0?lt(s+1,f):lt(s,l);l=f}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return ue.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new ue(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ue.empty;let r,s=0;for(let l=0;l<e.length;l++){let u=e[l];s+=u.nodeSize,l&&u.isText&&e[l-1].sameMarkup(u)?(r||(r=e.slice(0,l)),r[r.length-1]=u.withText(r[r.length-1].text+u.text)):r&&r.push(u)}return new ue(r||e,s)}static from(e){if(!e)return ue.empty;if(e instanceof ue)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ue([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ue.empty=new ue([],0);const Ce={index:0,offset:0};function lt(o,e){return Ce.index=o,Ce.offset=e,Ce}function Ee(o,e){if(o===e)return!0;if(!o||"object"!=typeof o||!e||"object"!=typeof e)return!1;let r=Array.isArray(o);if(Array.isArray(e)!=r)return!1;if(r){if(o.length!=e.length)return!1;for(let s=0;s<o.length;s++)if(!Ee(o[s],e[s]))return!1}else{for(let s in o)if(!(s in e)||!Ee(o[s],e[s]))return!1;for(let s in e)if(!(s in o))return!1}return!0}let Pe=(()=>{class o{constructor(r,s){this.type=r,this.attrs=s}addToSet(r){let s,l=!1;for(let u=0;u<r.length;u++){let f=r[u];if(this.eq(f))return r;if(this.type.excludes(f.type))s||(s=r.slice(0,u));else{if(f.type.excludes(this.type))return r;!l&&f.type.rank>this.type.rank&&(s||(s=r.slice(0,u)),s.push(this),l=!0),s&&s.push(f)}}return s||(s=r.slice()),l||s.push(this),s}removeFromSet(r){for(let s=0;s<r.length;s++)if(this.eq(r[s]))return r.slice(0,s).concat(r.slice(s+1));return r}isInSet(r){for(let s=0;s<r.length;s++)if(this.eq(r[s]))return!0;return!1}eq(r){return this==r||this.type==r.type&&Ee(this.attrs,r.attrs)}toJSON(){let r={type:this.type.name};for(let s in this.attrs){r.attrs=this.attrs;break}return r}static fromJSON(r,s){if(!s)throw new RangeError("Invalid input for Mark.fromJSON");let l=r.marks[s.type];if(!l)throw new RangeError(`There is no mark type ${s.type} in this schema`);return l.create(s.attrs)}static sameSet(r,s){if(r==s)return!0;if(r.length!=s.length)return!1;for(let l=0;l<r.length;l++)if(!r[l].eq(s[l]))return!1;return!0}static setFrom(r){if(!r||Array.isArray(r)&&0==r.length)return o.none;if(r instanceof o)return[r];let s=r.slice();return s.sort((l,u)=>l.type.rank-u.type.rank),s}}return o.none=[],o})();class Tt extends Error{}class Xe{constructor(e,r,s){this.content=e,this.openStart=r,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let s=ve(this.content,e+this.openStart,r);return s&&new Xe(s,this.openStart,this.openEnd)}removeBetween(e,r){return new Xe(We(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return Xe.empty;let s=r.openStart||0,l=r.openEnd||0;if("number"!=typeof s||"number"!=typeof l)throw new RangeError("Invalid input for Slice.fromJSON");return new Xe(ue.fromJSON(e,r.content),s,l)}static maxOpen(e,r=!0){let s=0,l=0;for(let u=e.firstChild;u&&!u.isLeaf&&(r||!u.type.spec.isolating);u=u.firstChild)s++;for(let u=e.lastChild;u&&!u.isLeaf&&(r||!u.type.spec.isolating);u=u.lastChild)l++;return new Xe(e,s,l)}}function We(o,e,r){let{index:s,offset:l}=o.findIndex(e),u=o.maybeChild(s),{index:f,offset:g}=o.findIndex(r);if(l==e||u.isText){if(g!=r&&!o.child(f).isText)throw new RangeError("Removing non-flat range");return o.cut(0,e).append(o.cut(r))}if(s!=f)throw new RangeError("Removing non-flat range");return o.replaceChild(s,u.copy(We(u.content,e-l-1,r-l-1)))}function ve(o,e,r,s){let{index:l,offset:u}=o.findIndex(e),f=o.maybeChild(l);if(u==e||f.isText)return s&&!s.canReplace(l,l,r)?null:o.cut(0,e).append(r).append(o.cut(e));let g=ve(f.content,e-u-1,r);return g&&o.replaceChild(l,f.copy(g))}function Qe(o,e,r){if(r.openStart>o.depth)throw new Tt("Inserted content deeper than insertion position");if(o.depth-r.openStart!=e.depth-r.openEnd)throw new Tt("Inconsistent open depths");return _t(o,e,r,0)}function _t(o,e,r,s){let l=o.index(s),u=o.node(s);if(l==e.index(s)&&s<o.depth-r.openStart){let f=_t(o,e,r,s+1);return u.copy(u.content.replaceChild(l,f))}if(r.content.size){if(r.openStart||r.openEnd||o.depth!=s||e.depth!=s){let{start:f,end:g}=function it(o,e){let r=e.depth-o.openStart,l=e.node(r).copy(o.content);for(let u=r-1;u>=0;u--)l=e.node(u).copy(ue.from(l));return{start:l.resolveNoCache(o.openStart+r),end:l.resolveNoCache(l.content.size-o.openEnd-r)}}(r,o);return Se(u,He(o,f,g,e,s))}{let f=o.parent,g=f.content;return Se(f,g.cut(0,o.parentOffset).append(r.content).append(g.cut(e.parentOffset)))}}return Se(u,Me(o,e,s))}function ft(o,e){if(!e.type.compatibleContent(o.type))throw new Tt("Cannot join "+e.type.name+" onto "+o.type.name)}function ut(o,e,r){let s=o.node(r);return ft(s,e.node(r)),s}function ct(o,e){let r=e.length-1;r>=0&&o.isText&&o.sameMarkup(e[r])?e[r]=o.withText(e[r].text+o.text):e.push(o)}function _e(o,e,r,s){let l=(e||o).node(r),u=0,f=e?e.index(r):l.childCount;o&&(u=o.index(r),o.depth>r?u++:o.textOffset&&(ct(o.nodeAfter,s),u++));for(let g=u;g<f;g++)ct(l.child(g),s);e&&e.depth==r&&e.textOffset&&ct(e.nodeBefore,s)}function Se(o,e){return o.type.checkContent(e),o.copy(e)}function He(o,e,r,s,l){let u=o.depth>l&&ut(o,e,l+1),f=s.depth>l&&ut(r,s,l+1),g=[];return _e(null,o,l,g),u&&f&&e.index(l)==r.index(l)?(ft(u,f),ct(Se(u,He(o,e,r,s,l+1)),g)):(u&&ct(Se(u,Me(o,e,l+1)),g),_e(e,r,l,g),f&&ct(Se(f,Me(r,s,l+1)),g)),_e(s,null,l,g),new ue(g)}function Me(o,e,r){let s=[];return _e(null,o,r,s),o.depth>r&&ct(Se(ut(o,e,r+1),Me(o,e,r+1)),s),_e(e,null,r,s),new ue(s)}Xe.empty=new Xe(ue.empty,0,0);class at{constructor(e,r,s){this.pos=e,this.path=r,this.parentOffset=s,this.depth=r.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let s=this.pos-this.path[this.path.length-1],l=e.child(r);return s?e.child(r).cut(s):l}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):0==e?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let s=this.path[3*r],l=0==r?0:this.path[3*r-1]+1;for(let u=0;u<e;u++)l+=s.child(u).nodeSize;return l}marks(){let e=this.parent,r=this.index();if(0==e.content.size)return Pe.none;if(this.textOffset)return e.child(r).marks;let s=e.maybeChild(r-1),l=e.maybeChild(r);if(!s){let g=s;s=l,l=g}let u=s.marks;for(var f=0;f<u.length;f++)!1===u[f].type.spec.inclusive&&(!l||!u[f].isInSet(l.marks))&&(u=u[f--].removeFromSet(u));return u}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let s=r.marks,l=e.parent.maybeChild(e.index());for(var u=0;u<s.length;u++)!1===s[u].type.spec.inclusive&&(!l||!s[u].isInSet(l.marks))&&(s=s[u--].removeFromSet(s));return s}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);s>=0;s--)if(e.pos<=this.end(s)&&(!r||r(this.node(s))))return new gt(this,e,s);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let s=[],l=0,u=r;for(let f=e;;){let{index:g,offset:x}=f.content.findIndex(u),R=u-x;if(s.push(f,g,l+x),!R||(f=f.child(g),f.isText))break;u=R-1,l+=x+1}return new at(r,s,u)}static resolveCached(e,r){for(let l=0;l<Lt.length;l++){let u=Lt[l];if(u.pos==r&&u.doc==e)return u}let s=Lt[sn]=at.resolve(e,r);return sn=(sn+1)%pn,s}}let Lt=[],sn=0,pn=12;class gt{constructor(e,r,s){this.$from=e,this.$to=r,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const $n=Object.create(null);class Je{constructor(e,r,s,l=Pe.none){this.type=e,this.attrs=r,this.marks=l,this.content=s||ue.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,s,l=0){this.content.nodesBetween(e,r,s,l,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,s,l){return this.content.textBetween(e,r,s,l)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,s){return this.type==e&&Ee(this.attrs,r||e.defaultAttrs||$n)&&Pe.sameSet(this.marks,s||Pe.none)}copy(e=null){return e==this.content?this:new Je(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Je(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return 0==e&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,s=!1){if(e==r)return Xe.empty;let l=this.resolve(e),u=this.resolve(r),f=s?0:l.sharedDepth(r),g=l.start(f),R=l.node(f).content.cut(l.pos-g,u.pos-g);return new Xe(R,l.depth-f,u.depth-f)}replace(e,r,s){return Qe(this.resolve(e),this.resolve(r),s)}nodeAt(e){for(let r=this;;){let{index:s,offset:l}=r.content.findIndex(e);if(r=r.maybeChild(s),!r)return null;if(l==e||r.isText)return r;e-=l+1}}childAfter(e){let{index:r,offset:s}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:s}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:r,offset:s}=this.content.findIndex(e);if(s<e)return{node:this.content.child(r),index:r,offset:s};let l=this.content.child(r-1);return{node:l,index:r-1,offset:s-l.nodeSize}}resolve(e){return at.resolveCached(this,e)}resolveNoCache(e){return at.resolve(this,e)}rangeHasMark(e,r,s){let l=!1;return r>e&&this.nodesBetween(e,r,u=>(s.isInSet(u.marks)&&(l=!0),!l)),l}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),xe(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,s=ue.empty,l=0,u=s.childCount){let f=this.contentMatchAt(e).matchFragment(s,l,u),g=f&&f.matchFragment(this.content,r);if(!g||!g.validEnd)return!1;for(let x=l;x<u;x++)if(!this.type.allowsMarks(s.child(x).marks))return!1;return!0}canReplaceWith(e,r,s,l){if(l&&!this.type.allowsMarks(l))return!1;let u=this.contentMatchAt(e).matchType(s),f=u&&u.matchFragment(this.content,r);return!!f&&f.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Pe.none;for(let r=0;r<this.marks.length;r++)e=this.marks[r].addToSet(e);if(!Pe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let s=null;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=r.marks.map(e.markFromJSON)}if("text"==r.type){if("string"!=typeof r.text)throw new RangeError("Invalid text node in JSON");return e.text(r.text,s)}let l=ue.fromJSON(e,r.content);return e.nodeType(r.type).create(r.attrs,l,s)}}Je.prototype.text=void 0;class tt extends Je{constructor(e,r,s,l){if(super(e,r,null,l),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):xe(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new tt(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new tt(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return 0==e&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function xe(o,e){for(let r=o.length-1;r>=0;r--)e=o[r].type.name+"("+e+")";return e}class Ve{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let s=new $e(e,r);if(null==s.next)return Ve.empty;let l=zt(s);s.next&&s.err("Unexpected trailing text");let u=function dt(o){let e=Object.create(null);return function r(s){let l=[];s.forEach(f=>{o[f].forEach(({term:g,to:x})=>{if(!g)return;let R;for(let V=0;V<l.length;V++)l[V][0]==g&&(R=l[V][1]);Gr(o,x).forEach(V=>{R||l.push([g,R=[]]),-1==R.indexOf(V)&&R.push(V)})})});let u=e[s.join(",")]=new Ve(s.indexOf(o.length-1)>-1);for(let f=0;f<l.length;f++){let g=l[f][1].sort(Vr);u.next.push({type:l[f][0],next:e[g.join(",")]||r(g)})}return u}(Gr(o,0))}(function mr(o){let e=[[]];return l(function u(f,g){if("choice"==f.type)return f.exprs.reduce((x,R)=>x.concat(u(R,g)),[]);if("seq"!=f.type){if("star"==f.type){let x=r();return s(g,x),l(u(f.expr,x),x),[s(x)]}if("plus"==f.type){let x=r();return l(u(f.expr,g),x),l(u(f.expr,x),x),[s(x)]}if("opt"==f.type)return[s(g)].concat(u(f.expr,g));if("range"==f.type){let x=g;for(let R=0;R<f.min;R++){let V=r();l(u(f.expr,x),V),x=V}if(-1==f.max)l(u(f.expr,x),x);else for(let R=f.min;R<f.max;R++){let V=r();s(x,V),l(u(f.expr,x),V),x=V}return[s(x)]}if("name"==f.type)return[s(g,void 0,f.value)];throw new Error("Unknown expr type")}for(let x=0;;x++){let R=u(f.exprs[x],g);if(x==f.exprs.length-1)return R;l(R,g=r())}}(o,0),r()),e;function r(){return e.push([])-1}function s(f,g,x){let R={term:x,to:g};return e[f].push(R),R}function l(f,g){f.forEach(x=>x.to=g)}}(l));return function Mn(o,e){for(let r=0,s=[o];r<s.length;r++){let l=s[r],u=!l.validEnd,f=[];for(let g=0;g<l.next.length;g++){let{type:x,next:R}=l.next[g];f.push(x.name),u&&!(x.isText||x.hasRequiredAttrs())&&(u=!1),-1==s.indexOf(R)&&s.push(R)}u&&e.err("Only non-generatable nodes ("+f.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(u,s),u}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,s=e.childCount){let l=this;for(let u=r;l&&u<s;u++)l=l.matchType(e.child(u).type);return l}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!r.isText&&!r.hasRequiredAttrs())return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let s=0;s<e.next.length;s++)if(this.next[r].type==e.next[s].type)return!0;return!1}fillBefore(e,r=!1,s=0){let l=[this];return function u(f,g){let x=f.matchFragment(e,s);if(x&&(!r||x.validEnd))return ue.from(g.map(R=>R.createAndFill()));for(let R=0;R<f.next.length;R++){let{type:V,next:ee}=f.next[R];if(!V.isText&&!V.hasRequiredAttrs()&&-1==l.indexOf(ee)){l.push(ee);let ae=u(ee,g.concat(V));if(ae)return ae}}return null}(this,[])}findWrapping(e){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==e)return this.wrapCache[s+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let l=s.shift(),u=l.match;if(u.matchType(e)){let f=[];for(let g=l;g.type;g=g.via)f.push(g.type);return f.reverse()}for(let f=0;f<u.next.length;f++){let{type:g,next:x}=u.next[f];!g.isLeaf&&!g.hasRequiredAttrs()&&!(g.name in r)&&(!l.type||x.validEnd)&&(s.push({match:g.contentMatch,type:g,via:l}),r[g.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function r(s){e.push(s);for(let l=0;l<s.next.length;l++)-1==e.indexOf(s.next[l].next)&&r(s.next[l].next)}(this),e.map((s,l)=>{let u=l+(s.validEnd?"*":" ")+" ";for(let f=0;f<s.next.length;f++)u+=(f?", ":"")+s.next[f].type.name+"->"+e.indexOf(s.next[f].next);return u}).join("\n")}}Ve.empty=new Ve(!0);class $e{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function zt(o){let e=[];do{e.push(Qn(o))}while(o.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function Qn(o){let e=[];do{e.push(On(o))}while(o.next&&")"!=o.next&&"|"!=o.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function On(o){let e=function An(o){if(o.eat("(")){let e=zt(o);return o.eat(")")||o.err("Missing closing paren"),e}if(!/\W/.test(o.next)){let e=function tn(o,e){let r=o.nodeTypes,s=r[e];if(s)return[s];let l=[];for(let u in r){let f=r[u];f.groups.indexOf(e)>-1&&l.push(f)}return 0==l.length&&o.err("No node type or group '"+e+"' found"),l}(o,o.next).map(r=>(null==o.inline?o.inline=r.isInline:o.inline!=r.isInline&&o.err("Mixing inline and block content"),{type:"name",value:r}));return o.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}o.err("Unexpected token '"+o.next+"'")}(o);for(;;)if(o.eat("+"))e={type:"plus",expr:e};else if(o.eat("*"))e={type:"star",expr:e};else if(o.eat("?"))e={type:"opt",expr:e};else{if(!o.eat("{"))break;e=Pr(o,e)}return e}function dr(o){/\D/.test(o.next)&&o.err("Expected number, got '"+o.next+"'");let e=Number(o.next);return o.pos++,e}function Pr(o,e){let r=dr(o),s=r;return o.eat(",")&&(s="}"!=o.next?dr(o):-1),o.eat("}")||o.err("Unclosed braced range"),{type:"range",min:r,max:s,expr:e}}function Vr(o,e){return e-o}function Gr(o,e){let r=[];return function s(l){let u=o[l];if(1==u.length&&!u[0].term)return s(u[0].to);r.push(l);for(let f=0;f<u.length;f++){let{term:g,to:x}=u[f];!g&&-1==r.indexOf(x)&&s(x)}}(e),r.sort(Vr)}function Fn(o){let e=Object.create(null);for(let r in o){let s=o[r];if(!s.hasDefault)return null;e[r]=s.default}return e}function Ln(o,e){let r=Object.create(null);for(let s in o){let l=e&&e[s];if(void 0===l){let u=o[s];if(!u.hasDefault)throw new RangeError("No value supplied for attribute "+s);l=u.default}r[s]=l}return r}function yr(o){let e=Object.create(null);if(o)for(let r in o)e[r]=new Yn(o[r]);return e}class Dr{constructor(e,r,s){this.name=e,this.schema=r,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=yr(s.attrs),this.defaultAttrs=Fn(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ve.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Ln(this.attrs,e)}create(e=null,r,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Je(this,this.computeAttrs(e),ue.from(r),Pe.setFrom(s))}createChecked(e=null,r,s){return r=ue.from(r),this.checkContent(r),new Je(this,this.computeAttrs(e),r,Pe.setFrom(s))}createAndFill(e=null,r,s){if(e=this.computeAttrs(e),(r=ue.from(r)).size){let f=this.contentMatch.fillBefore(r);if(!f)return null;r=f.append(r)}let l=this.contentMatch.matchFragment(r),u=l&&l.fillBefore(ue.empty,!0);return u?new Je(this,e,r.append(u),Pe.setFrom(s)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let s=0;s<e.childCount;s++)if(!this.allowsMarks(e.child(s).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let r;for(let s=0;s<e.length;s++)this.allowsMarkType(e[s].type)?r&&r.push(e[s]):r||(r=e.slice(0,s));return r?r.length?r:Pe.none:e}static compile(e,r){let s=Object.create(null);e.forEach((u,f)=>s[u]=new Dr(u,r,f));let l=r.spec.topNode||"doc";if(!s[l])throw new RangeError("Schema is missing its top node type ('"+l+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let u in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}}class Yn{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Ue{constructor(e,r,s,l){this.name=e,this.rank=r,this.schema=s,this.spec=l,this.attrs=yr(l.attrs),this.excluded=null;let u=Fn(this.attrs);this.instance=u?new Pe(this,u):null}create(e=null){return!e&&this.instance?this.instance:new Pe(this,Ln(this.attrs,e))}static compile(e,r){let s=Object.create(null),l=0;return e.forEach((u,f)=>s[u]=new Ue(u,l++,r,f)),s}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}excludes(e){return this.excluded.indexOf(e)>-1}}function te(o,e){let r=[];for(let s=0;s<e.length;s++){let l=e[s],u=o.marks[l],f=u;if(u)r.push(u);else for(let g in o.marks){let x=o.marks[g];("_"==l||x.spec.group&&x.spec.group.split(" ").indexOf(l)>-1)&&r.push(f=x)}if(!f)throw new SyntaxError("Unknown mark type: '"+e[s]+"'")}return r}class Le{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[],r.forEach(s=>{s.tag?this.tags.push(s):s.style&&this.styles.push(s)}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let l=e.nodes[s.node];return l.contentMatch.matchType(l)})}parse(e,r={}){let s=new Wt(this,r,!1);return s.addAll(e,r.from,r.to),s.finish()}parseSlice(e,r={}){let s=new Wt(this,r,!0);return s.addAll(e,r.from,r.to),Xe.maxOpen(s.finish())}matchTag(e,r,s){for(let l=s?this.tags.indexOf(s)+1:0;l<this.tags.length;l++){let u=this.tags[l];if(on(e,u.tag)&&(void 0===u.namespace||e.namespaceURI==u.namespace)&&(!u.context||r.matchesContext(u.context))){if(u.getAttrs){let f=u.getAttrs(e);if(!1===f)continue;u.attrs=f||void 0}return u}}}matchStyle(e,r,s,l){for(let u=l?this.styles.indexOf(l)+1:0;u<this.styles.length;u++){let f=this.styles[u],g=f.style;if(!(0!=g.indexOf(e)||f.context&&!s.matchesContext(f.context)||g.length>e.length&&(61!=g.charCodeAt(e.length)||g.slice(e.length+1)!=r))){if(f.getAttrs){let x=f.getAttrs(r);if(!1===x)continue;f.attrs=x||void 0}return f}}}static schemaRules(e){let r=[];function s(l){let u=l.priority??50,f=0;for(;f<r.length;f++){if((r[f].priority??50)<u)break}r.splice(f,0,l)}for(let l in e.marks){let u=e.marks[l].spec.parseDOM;u&&u.forEach(f=>{s(f=Bn(f)),f.mark||f.ignore||f.clearMark||(f.mark=l)})}for(let l in e.nodes){let u=e.nodes[l].spec.parseDOM;u&&u.forEach(f=>{s(f=Bn(f)),f.node||f.ignore||f.mark||(f.node=l)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Le(e,Le.schemaRules(e)))}}const Ge={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},It={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},kt={ol:!0,ul:!0};function Zt(o,e,r){return null!=e?(e?1:0)|("full"===e?2:0):o&&"pre"==o.whitespace?3:-5&r}class nr{constructor(e,r,s,l,u,f,g){this.type=e,this.attrs=r,this.marks=s,this.pendingMarks=l,this.solid=u,this.options=g,this.content=[],this.activeMarks=Pe.none,this.stashMarks=[],this.match=f||(4&g?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(ue.from(e));if(!r){let l,s=this.type.contentMatch;return(l=s.findWrapping(e.type))?(this.match=s,l):null}this.match=this.type.contentMatch.matchFragment(r)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let l,s=this.content[this.content.length-1];if(s&&s.isText&&(l=/[ \t\r\n\u000c]+$/.exec(s.text))){let u=s;s.text.length==l[0].length?this.content.pop():this.content[this.content.length-1]=u.withText(u.text.slice(0,u.text.length-l[0].length))}}let r=ue.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(ue.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}popFromStashMark(e){for(let r=this.stashMarks.length-1;r>=0;r--)if(e.eq(this.stashMarks[r]))return this.stashMarks.splice(r,1)[0]}applyPending(e){for(let r=0,s=this.pendingMarks;r<s.length;r++){let l=s[r];(this.type?this.type.allowsMarkType(l.type):Nn(l.type,e))&&!l.isInSet(this.activeMarks)&&(this.activeMarks=l.addToSet(this.activeMarks),this.pendingMarks=l.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Ge.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Wt{constructor(e,r,s){this.parser=e,this.options=r,this.isOpen=s,this.open=0;let u,l=r.topNode,f=Zt(null,r.preserveWhitespace,0)|(s?4:0);u=l?new nr(l.type,l.attrs,Pe.none,Pe.none,!0,r.topMatch||l.type.contentMatch,f):new nr(s?null:e.schema.topNodeType,null,Pe.none,Pe.none,!0,null,f),this.nodes=[u],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){let r=e.getAttribute("style");if(r){let s=this.readStyles(function Xn(o){let r,e=/\s*([\w-]+)\s*:\s*([^;]+)/g,s=[];for(;r=e.exec(o);)s.push(r[1],r[2].trim());return s}(r));if(!s)return;let[l,u]=s,f=this.top;for(let g=0;g<u.length;g++)this.removePendingMark(u[g],f);for(let g=0;g<l.length;g++)this.addPendingMark(l[g]);this.addElement(e);for(let g=0;g<l.length;g++)this.removePendingMark(l[g],f);for(let g=0;g<u.length;g++)this.addPendingMark(u[g])}else this.addElement(e)}}addTextNode(e){let r=e.nodeValue,s=this.top;if(2&s.options||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(1&s.options)r=2&s.options?r.replace(/\r\n?/g,"\n"):r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=s.content[s.content.length-1],u=e.previousSibling;(!l||u&&"BR"==u.nodeName||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r)),this.findInText(e)}else this.findInside(e)}addElement(e,r){let l,s=e.nodeName.toLowerCase();kt.hasOwnProperty(s)&&this.parser.normalizeLists&&function Kt(o){for(let e=o.firstChild,r=null;e;e=e.nextSibling){let s=1==e.nodeType?e.nodeName.toLowerCase():null;s&&kt.hasOwnProperty(s)&&r?(r.appendChild(e),e=r):"li"==s?r=e:s&&(r=null)}}(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));if(u?u.ignore:It.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let f,g=this.top,x=this.needsBlock;if(Ge.hasOwnProperty(s))g.content.length&&g.content[0].isInline&&this.open&&(this.open--,g=this.top),f=!0,g.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),f&&this.sync(g),this.needsBlock=x}else this.addElementByRule(e,u,!1===u.consuming?l:void 0)}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"==e.nodeName&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let r=Pe.none,s=Pe.none;e:for(let l=0;l<e.length;l+=2)for(let u;;){let f=this.parser.matchStyle(e[l],e[l+1],this,u);if(!f)continue e;if(f.ignore)return null;if(f.clearMark?this.top.pendingMarks.forEach(g=>{f.clearMark(g)&&(s=g.addToSet(s))}):r=this.parser.schema.marks[f.mark].create(f.attrs).addToSet(r),!1!==f.consuming)break;u=f}return[r,s]}addElementByRule(e,r,s){let l,u,f;r.node?(u=this.parser.schema.nodes[r.node],u.isLeaf?this.insertNode(u.create(r.attrs))||this.leafFallback(e):l=this.enter(u,r.attrs||null,r.preserveWhitespace)):(f=this.parser.schema.marks[r.mark].create(r.attrs),this.addPendingMark(f));let g=this.top;if(u&&u.isLeaf)this.findInside(e);else if(s)this.addElement(e,s);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(x=>this.insertNode(x));else{let x=e;"string"==typeof r.contentElement?x=e.querySelector(r.contentElement):"function"==typeof r.contentElement?x=r.contentElement(e):r.contentElement&&(x=r.contentElement),this.findAround(e,x,!0),this.addAll(x)}l&&this.sync(g)&&this.open--,f&&this.removePendingMark(f,g)}addAll(e,r,s){let l=r||0;for(let u=r?e.childNodes[r]:e.firstChild,f=null==s?null:e.childNodes[s];u!=f;u=u.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(u);this.findAtPoint(e,l)}findPlace(e){let r,s;for(let l=this.open;l>=0;l--){let u=this.nodes[l],f=u.findWrapping(e);if(f&&(!r||r.length>f.length)&&(r=f,s=u,!f.length)||u.solid)break}if(!r)return!1;this.sync(s);for(let l=0;l<r.length;l++)this.enterInner(r[l],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&this.enterInner(r)}if(this.findPlace(e)){this.closeExtra();let r=this.top;r.applyPending(e.type),r.match&&(r.match=r.match.matchType(e.type));let s=r.activeMarks;for(let l=0;l<e.marks.length;l++)(!r.type||r.type.allowsMarkType(e.marks[l].type))&&(s=e.marks[l].addToSet(s));return r.content.push(e.mark(s)),!0}return!1}enter(e,r,s){let l=this.findPlace(e.create(r));return l&&this.enterInner(e,r,!0,s),l}enterInner(e,r=null,s=!1,l){this.closeExtra();let u=this.top;u.applyPending(e),u.match=u.match&&u.match.matchType(e);let f=Zt(e,l,u.options);4&u.options&&0==u.content.length&&(f|=4),this.nodes.push(new nr(e,r,u.activeMarks,u.pendingMarks,s,null,f)),this.open++}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let r=this.open;r>=0;r--)if(this.nodes[r]==e)return this.open=r,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let s=this.nodes[r].content;for(let l=s.length-1;l>=0;l--)e+=s[l].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&this.find[s].offset==r&&(this.find[s].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,s){if(e!=r&&this.find)for(let l=0;l<this.find.length;l++)null==this.find[l].pos&&1==e.nodeType&&e.contains(this.find[l].node)&&r.compareDocumentPosition(this.find[l].node)&(s?2:4)&&(this.find[l].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),s=this.options.context,l=!(this.isOpen||s&&s.parent.type!=this.nodes[0].type),u=(l?0:1)-(s?s.depth+1:0),f=(g,x)=>{for(;g>=0;g--){let R=r[g];if(""==R){if(g==r.length-1||0==g)continue;for(;x>=u;x--)if(f(g-1,x))return!0;return!1}{let V=x>0||0==x&&l?this.nodes[x].type:s&&x>=u?s.node(x-u).type:null;if(!V||V.name!=R&&-1==V.groups.indexOf(R))return!1;x--}}return!0};return f(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let s=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let r in this.parser.schema.nodes){let s=this.parser.schema.nodes[r];if(s.isTextblock&&s.defaultAttrs)return s}}addPendingMark(e){let r=function hr(o,e){for(let r=0;r<e.length;r++)if(o.eq(e[r]))return e[r]}(e,this.top.pendingMarks);r&&this.top.stashMarks.push(r),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,r){for(let s=this.open;s>=0;s--){let l=this.nodes[s];if(l.pendingMarks.lastIndexOf(e)>-1)l.pendingMarks=e.removeFromSet(l.pendingMarks);else{l.activeMarks=e.removeFromSet(l.activeMarks);let f=l.popFromStashMark(e);f&&l.type&&l.type.allowsMarkType(f.type)&&(l.activeMarks=f.addToSet(l.activeMarks))}if(l==r)break}}}function on(o,e){return(o.matches||o.msMatchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector).call(o,e)}function Bn(o){let e={};for(let r in o)e[r]=o[r];return e}function Nn(o,e){let r=e.schema.nodes;for(let s in r){let l=r[s];if(!l.allowsMarkType(o))continue;let u=[],f=g=>{u.push(g);for(let x=0;x<g.edgeCount;x++){let{type:R,next:V}=g.edge(x);if(R==e||u.indexOf(V)<0&&f(V))return!0}};if(f(l.contentMatch))return!0}}class Hn{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},s){s||(s=er(r).createDocumentFragment());let l=s,u=[];return e.forEach(f=>{if(u.length||f.marks.length){let g=0,x=0;for(;g<u.length&&x<f.marks.length;){let R=f.marks[x];if(this.marks[R.type.name]){if(!R.eq(u[g][0])||!1===R.type.spec.spanning)break;g++,x++}else x++}for(;g<u.length;)l=u.pop()[1];for(;x<f.marks.length;){let R=f.marks[x++],V=this.serializeMark(R,f.isInline,r);V&&(u.push([R,l]),l.appendChild(V.dom),l=V.contentDOM||V.dom)}}l.appendChild(this.serializeNodeInner(f,r))}),s}serializeNodeInner(e,r){let{dom:s,contentDOM:l}=Hn.renderSpec(er(r),this.nodes[e.type.name](e));if(l){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,l)}return s}serializeNode(e,r={}){let s=this.serializeNodeInner(e,r);for(let l=e.marks.length-1;l>=0;l--){let u=this.serializeMark(e.marks[l],e.isInline,r);u&&((u.contentDOM||u.dom).appendChild(s),s=u.dom)}return s}serializeMark(e,r,s={}){let l=this.marks[e.type.name];return l&&Hn.renderSpec(er(s),l(e,r))}static renderSpec(e,r,s=null){if("string"==typeof r)return{dom:e.createTextNode(r)};if(null!=r.nodeType)return{dom:r};if(r.dom&&null!=r.dom.nodeType)return r;let l=r[0],u=l.indexOf(" ");u>0&&(s=l.slice(0,u),l=l.slice(u+1));let f,g=s?e.createElementNS(s,l):e.createElement(l),x=r[1],R=1;if(x&&"object"==typeof x&&null==x.nodeType&&!Array.isArray(x)){R=2;for(let V in x)if(null!=x[V]){let ee=V.indexOf(" ");ee>0?g.setAttributeNS(V.slice(0,ee),V.slice(ee+1),x[V]):g.setAttribute(V,x[V])}}for(let V=R;V<r.length;V++){let ee=r[V];if(0===ee){if(V<r.length-1||V>R)throw new RangeError("Content hole must be the only child of its parent node");return{dom:g,contentDOM:g}}{let{dom:ae,contentDOM:fe}=Hn.renderSpec(e,ee,s);if(g.appendChild(ae),fe){if(f)throw new RangeError("Multiple content holes");f=fe}}}return{dom:g,contentDOM:f}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Hn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=or(e.nodes);return r.text||(r.text=s=>s.text),r}static marksFromSchema(e){return or(e.marks)}}function or(o){let e={};for(let r in o){let s=o[r].spec.toDOM;s&&(e[r]=s)}return e}function er(o){return o.document||window.document}const Ur=Math.pow(2,16);function zr(o,e){return o+e*Ur}function H(o){return 65535&o}class G{constructor(e,r,s){this.pos=e,this.delInfo=r,this.recover=s}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class q{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&q.empty)return q.empty}recover(e){let r=0,s=H(e);if(!this.inverted)for(let l=0;l<s;l++)r+=this.ranges[3*l+2]-this.ranges[3*l+1];return this.ranges[3*s]+r+function Y(o){return(o-(65535&o))/Ur}(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,s){let l=0,u=this.inverted?2:1,f=this.inverted?1:2;for(let g=0;g<this.ranges.length;g+=3){let x=this.ranges[g]-(this.inverted?l:0);if(x>e)break;let R=this.ranges[g+u],V=this.ranges[g+f],ee=x+R;if(e<=ee){let fe=x+l+((R?e==x?-1:e==ee?1:r:r)<0?0:V);if(s)return fe;let Re=e==(r<0?x:ee)?null:zr(g/3,e-x),ot=e==x?2:e==ee?1:4;return(r<0?e!=x:e!=ee)&&(ot|=8),new G(fe,ot,Re)}l+=V-R}return s?e+l:new G(e+l,0,null)}touches(e,r){let s=0,l=H(r),u=this.inverted?2:1,f=this.inverted?1:2;for(let g=0;g<this.ranges.length;g+=3){let x=this.ranges[g]-(this.inverted?s:0);if(x>e)break;let R=this.ranges[g+u];if(e<=x+R&&g==3*l)return!0;s+=this.ranges[g+f]-R}return!1}forEach(e){let r=this.inverted?2:1,s=this.inverted?1:2;for(let l=0,u=0;l<this.ranges.length;l+=3){let f=this.ranges[l],g=f-(this.inverted?u:0),x=f+(this.inverted?0:u),R=this.ranges[l+r],V=this.ranges[l+s];e(g,g+R,x,x+V),u+=V-R}}invert(){return new q(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?q.empty:new q(e<0?[0,-e,0]:[0,0,e])}}q.empty=new q([]);class z{constructor(e=[],r,s=0,l=e.length){this.maps=e,this.mirror=r,this.from=s,this.to=l}slice(e=0,r=this.maps.length){return new z(this.maps,this.mirror,e,r)}copy(){return new z(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,r){this.to=this.maps.push(e),null!=r&&this.setMirror(this.maps.length-1,r)}appendMapping(e){for(let r=0,s=this.maps.length;r<e.maps.length;r++){let l=e.getMirror(r);this.appendMap(e.maps[r],null!=l&&l<r?s+l:void 0)}}getMirror(e){if(this.mirror)for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,s=this.maps.length+e.maps.length;r>=0;r--){let l=e.getMirror(r);this.appendMap(e.maps[r].invert(),null!=l&&l>r?s-l-1:void 0)}}invert(){let e=new z;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let s=this.from;s<this.to;s++)e=this.maps[s].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,s){let l=0;for(let u=this.from;u<this.to;u++){let g=this.maps[u].mapResult(e,r);if(null!=g.recover){let x=this.getMirror(u);if(null!=x&&x>u&&x<this.to){u=x,e=this.maps[x].recover(g.recover);continue}}l|=g.delInfo,e=g.pos}return s?e:new G(e,l,null)}}const oe=Object.create(null);class Ae{getMap(){return q.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=oe[r.stepType];if(!s)throw new RangeError(`No step type ${r.stepType} defined`);return s.fromJSON(e,r)}static jsonID(e,r){if(e in oe)throw new RangeError("Duplicate use of step JSON ID "+e);return oe[e]=r,r.prototype.jsonID=e,r}}class Ke{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Ke(e,null)}static fail(e){return new Ke(null,e)}static fromReplace(e,r,s,l){try{return Ke.ok(e.replace(r,s,l))}catch(u){if(u instanceof Tt)return Ke.fail(u.message);throw u}}}function At(o,e,r){let s=[];for(let l=0;l<o.childCount;l++){let u=o.child(l);u.content.size&&(u=u.copy(At(u.content,e,u))),u.isInline&&(u=e(u,r,l)),s.push(u)}return ue.fromArray(s)}class bt extends Ae{constructor(e,r,s){super(),this.from=e,this.to=r,this.mark=s}apply(e){let r=e.slice(this.from,this.to),s=e.resolve(this.from),l=s.node(s.sharedDepth(this.to)),u=new Xe(At(r.content,(f,g)=>f.isAtom&&g.type.allowsMarkType(this.mark.type)?f.mark(this.mark.addToSet(f.marks)):f,l),r.openStart,r.openEnd);return Ke.fromReplace(e,this.from,this.to,u)}invert(){return new Ct(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return r.deleted&&s.deleted||r.pos>=s.pos?null:new bt(r.pos,s.pos,this.mark)}merge(e){return e instanceof bt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new bt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new bt(r.from,r.to,e.markFromJSON(r.mark))}}Ae.jsonID("addMark",bt);class Ct extends Ae{constructor(e,r,s){super(),this.from=e,this.to=r,this.mark=s}apply(e){let r=e.slice(this.from,this.to),s=new Xe(At(r.content,l=>l.mark(this.mark.removeFromSet(l.marks)),e),r.openStart,r.openEnd);return Ke.fromReplace(e,this.from,this.to,s)}invert(){return new bt(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return r.deleted&&s.deleted||r.pos>=s.pos?null:new Ct(r.pos,s.pos,this.mark)}merge(e){return e instanceof Ct&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ct(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ct(r.from,r.to,e.markFromJSON(r.mark))}}Ae.jsonID("removeMark",Ct);class Qt extends Ae{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Ke.fail("No node at mark step's position");let s=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Ke.fromReplace(e,this.pos,this.pos+1,new Xe(ue.from(s),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let s=this.mark.addToSet(r.marks);if(s.length==r.marks.length){for(let l=0;l<r.marks.length;l++)if(!r.marks[l].isInSet(s))return new Qt(this.pos,r.marks[l]);return new Qt(this.pos,this.mark)}}return new Mt(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Qt(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if("number"!=typeof r.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Qt(r.pos,e.markFromJSON(r.mark))}}Ae.jsonID("addNodeMark",Qt);class Mt extends Ae{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Ke.fail("No node at mark step's position");let s=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Ke.fromReplace(e,this.pos,this.pos+1,new Xe(ue.from(s),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return r&&this.mark.isInSet(r.marks)?new Qt(this.pos,this.mark):this}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Mt(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if("number"!=typeof r.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Mt(r.pos,e.markFromJSON(r.mark))}}Ae.jsonID("removeNodeMark",Mt);class Bt extends Ae{constructor(e,r,s,l=!1){super(),this.from=e,this.to=r,this.slice=s,this.structure=l}apply(e){return this.structure&&Sn(e,this.from,this.to)?Ke.fail("Structure replace would overwrite content"):Ke.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new q([this.from,this.to-this.from,this.slice.size])}invert(e){return new Bt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return r.deletedAcross&&s.deletedAcross?null:new Bt(r.pos,Math.max(r.pos,s.pos),this.slice)}merge(e){if(!(e instanceof Bt)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let r=this.slice.size+e.slice.size==0?Xe.empty:new Xe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Bt(e.from,this.to,r,this.structure)}}{let r=this.slice.size+e.slice.size==0?Xe.empty:new Xe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Bt(this.from,this.to+(e.to-e.from),r,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Bt(r.from,r.to,Xe.fromJSON(e,r.slice),!!r.structure)}}Ae.jsonID("replace",Bt);class Pt extends Ae{constructor(e,r,s,l,u,f,g=!1){super(),this.from=e,this.to=r,this.gapFrom=s,this.gapTo=l,this.slice=u,this.insert=f,this.structure=g}apply(e){if(this.structure&&(Sn(e,this.from,this.gapFrom)||Sn(e,this.gapTo,this.to)))return Ke.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Ke.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,r.content);return s?Ke.fromReplace(e,this.from,this.to,s):Ke.fail("Content does not fit in gap")}getMap(){return new q([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Pt(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),s=e.mapResult(this.to,-1),l=e.map(this.gapFrom,-1),u=e.map(this.gapTo,1);return r.deletedAcross&&s.deletedAcross||l<r.pos||u>s.pos?null:new Pt(r.pos,s.pos,l,u,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if("number"!=typeof r.from||"number"!=typeof r.to||"number"!=typeof r.gapFrom||"number"!=typeof r.gapTo||"number"!=typeof r.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Pt(r.from,r.to,r.gapFrom,r.gapTo,Xe.fromJSON(e,r.slice),r.insert,!!r.structure)}}function Sn(o,e,r){let s=o.resolve(e),l=r-e,u=s.depth;for(;l>0&&u>0&&s.indexAfter(u)==s.node(u).childCount;)u--,l--;if(l>0){let f=s.node(u).maybeChild(s.indexAfter(u));for(;l>0;){if(!f||f.isLeaf)return!0;f=f.firstChild,l--}}return!1}function Er(o,e,r){return(0==e||o.canReplace(e,o.childCount))&&(r==o.childCount||o.canReplace(0,r))}function ar(o){let r=o.parent.content.cutByIndex(o.startIndex,o.endIndex);for(let s=o.depth;;--s){let l=o.$from.node(s),u=o.$from.index(s),f=o.$to.indexAfter(s);if(s<o.depth&&l.canReplace(u,f,r))return s;if(0==s||l.type.spec.isolating||!Er(l,u,f))break}return null}function rr(o,e,r=null,s=o){let l=function Li(o,e){let{parent:r,startIndex:s,endIndex:l}=o,u=r.contentMatchAt(s).findWrapping(e);return u&&r.canReplaceWith(s,l,u.length?u[0]:e)?u:null}(o,e),u=l&&function Mr(o,e){let{parent:r,startIndex:s,endIndex:l}=o,u=r.child(s),f=e.contentMatch.findWrapping(u.type);if(!f)return null;let x=(f.length?f[f.length-1]:e).contentMatch;for(let R=s;x&&R<l;R++)x=x.matchType(r.child(R).type);return x&&x.validEnd?f:null}(s,e);return u?l.map(xn).concat({type:e,attrs:r}).concat(u.map(xn)):null}function xn(o){return{type:o,attrs:null}}function jr(o,e,r=1,s){let l=o.resolve(e),u=l.depth-r,f=s&&s[s.length-1]||l.parent;if(u<0||l.parent.type.spec.isolating||!l.parent.canReplace(l.index(),l.parent.childCount)||!f.type.validContent(l.parent.content.cutByIndex(l.index(),l.parent.childCount)))return!1;for(let R=l.depth-1,V=r-2;R>u;R--,V--){let ee=l.node(R),ae=l.index(R);if(ee.type.spec.isolating)return!1;let fe=ee.content.cutByIndex(ae,ee.childCount),Re=s&&s[V]||ee;if(Re!=ee&&(fe=fe.replaceChild(0,Re.type.create(Re.attrs))),!ee.canReplace(ae+1,ee.childCount)||!Re.type.validContent(fe))return!1}let g=l.indexAfter(u),x=s&&s[0];return l.node(u).canReplaceWith(g,g,x?x.type:l.node(u+1).type)}function hi(o,e){let r=o.resolve(e),s=r.index();return function Wn(o,e){return!(!o||!e||o.isLeaf||!o.canAppend(e))}(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(s,s+1)}function wr(o,e,r=e,s=Xe.empty){if(e==r&&!s.size)return null;let l=o.resolve(e),u=o.resolve(r);return vs(l,u,s)?new Bt(e,r,s):new ws(l,u,s).fit()}function vs(o,e,r){return!r.openStart&&!r.openEnd&&o.start()==e.start()&&o.parent.canReplace(o.index(),e.index(),r.content)}Ae.jsonID("replaceAround",Pt);class ws{constructor(e,r,s){this.$from=e,this.$to=r,this.unplaced=s,this.frontier=[],this.placed=ue.empty;for(let l=0;l<=e.depth;l++){let u=e.node(l);this.frontier.push({type:u.type,match:u.contentMatchAt(e.indexAfter(l))})}for(let l=e.depth;l>0;l--)this.placed=ue.from(e.node(l).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let R=this.findFittable();R?this.placeNodes(R):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,s=this.$from,l=this.close(e<0?this.$to:s.doc.resolve(e));if(!l)return null;let u=this.placed,f=s.depth,g=l.depth;for(;f&&g&&1==u.childCount;)u=u.firstChild.content,f--,g--;let x=new Xe(u,f,g);return e>-1?new Pt(s.pos,e,this.$to.pos,this.$to.end(),x,r):x.size||s.pos!=this.$to.pos?new Bt(s.pos,l.pos,x):null}findFittable(){for(let e=1;e<=2;e++)for(let r=this.unplaced.openStart;r>=0;r--){let s,l=null;r?(l=qs(this.unplaced.content,r-1).firstChild,s=l.content):s=this.unplaced.content;let u=s.firstChild;for(let f=this.depth;f>=0;f--){let R,{type:g,match:x}=this.frontier[f],V=null;if(1==e&&(u?x.matchType(u.type)||(V=x.fillBefore(ue.from(u),!1)):l&&g.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:f,parent:l,inject:V};if(2==e&&u&&(R=x.findWrapping(u.type)))return{sliceDepth:r,frontierDepth:f,parent:l,wrap:R};if(l&&x.matchType(l.type))break}}}openMore(){let{content:e,openStart:r,openEnd:s}=this.unplaced,l=qs(e,r);return!(!l.childCount||l.firstChild.isLeaf||(this.unplaced=new Xe(e,r+1,Math.max(s,l.size+r>=e.size-s?r+1:0)),0))}dropNode(){let{content:e,openStart:r,openEnd:s}=this.unplaced,l=qs(e,r);if(l.childCount<=1&&r>0){let u=e.size-r<=r+l.size;this.unplaced=new Xe(ii(e,r-1,1),r-1,u?r-1:s)}else this.unplaced=new Xe(ii(e,r,1),r,s)}placeNodes({sliceDepth:e,frontierDepth:r,parent:s,inject:l,wrap:u}){for(;this.depth>r;)this.closeFrontierNode();if(u)for(let ot=0;ot<u.length;ot++)this.openFrontierNode(u[ot]);let f=this.unplaced,g=s?s.content:f.content,x=f.openStart-e,R=0,V=[],{match:ee,type:ae}=this.frontier[r];if(l){for(let ot=0;ot<l.childCount;ot++)V.push(l.child(ot));ee=ee.matchFragment(l)}let fe=g.size+e-(f.content.size-f.openEnd);for(;R<g.childCount;){let ot=g.child(R),Ft=ee.matchType(ot.type);if(!Ft)break;R++,(R>1||0==x||ot.content.size)&&(ee=Ft,V.push(Sr(ot.mark(ae.allowedMarks(ot.marks)),1==R?x:0,R==g.childCount?fe:-1)))}let Re=R==g.childCount;Re||(fe=-1),this.placed=Di(this.placed,r,ue.from(V)),this.frontier[r].match=ee,Re&&fe<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let ot=0,Ft=g;ot<fe;ot++){let vn=Ft.lastChild;this.frontier.push({type:vn.type,match:vn.contentMatchAt(vn.childCount)}),Ft=vn.content}this.unplaced=Re?0==e?Xe.empty:new Xe(ii(f.content,e-1,1),e-1,fe<0?f.openEnd:e-1):new Xe(ii(f.content,e,R),f.openStart,f.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let r,e=this.frontier[this.depth];if(!e.type.isTextblock||!Os(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:s}=this.$to,l=this.$to.after(s);for(;s>1&&l==this.$to.end(--s);)++l;return l}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:s,type:l}=this.frontier[r],u=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),f=Os(e,r,l,s,u);if(f){for(let g=r-1;g>=0;g--){let{match:x,type:R}=this.frontier[g],V=Os(e,g,R,x,!0);if(!V||V.childCount)continue e}return{depth:r,fit:f,move:u?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Di(this.placed,r.depth,r.fit)),e=r.move;for(let s=r.depth+1;s<=e.depth;s++){let l=e.node(s),u=l.type.contentMatch.fillBefore(l.content,!0,e.index(s));this.openFrontierNode(l.type,l.attrs,u)}return e}openFrontierNode(e,r=null,s){let l=this.frontier[this.depth];l.match=l.match.matchType(e),this.placed=Di(this.placed,this.depth,ue.from(e.create(r,s))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(ue.empty,!0);r.childCount&&(this.placed=Di(this.placed,this.frontier.length,r))}}function ii(o,e,r){return 0==e?o.cutByIndex(r,o.childCount):o.replaceChild(0,o.firstChild.copy(ii(o.firstChild.content,e-1,r)))}function Di(o,e,r){return 0==e?o.append(r):o.replaceChild(o.childCount-1,o.lastChild.copy(Di(o.lastChild.content,e-1,r)))}function qs(o,e){for(let r=0;r<e;r++)o=o.firstChild.content;return o}function Sr(o,e,r){if(e<=0)return o;let s=o.content;return e>1&&(s=s.replaceChild(0,Sr(s.firstChild,e-1,1==s.childCount?r-1:0))),e>0&&(s=o.type.contentMatch.fillBefore(s).append(s),r<=0&&(s=s.append(o.type.contentMatch.matchFragment(s).fillBefore(ue.empty,!0)))),o.copy(s)}function Os(o,e,r,s,l){let u=o.node(e),f=l?o.indexAfter(e):o.index(e);if(f==u.childCount&&!r.compatibleContent(u.type))return null;let g=s.fillBefore(u.content,!0,f);return g&&!function To(o,e,r){for(let s=r;s<e.childCount;s++)if(!o.allowsMarks(e.child(s).marks))return!0;return!1}(r,u.content,f)?g:null}function Ns(o){return o.spec.defining||o.spec.definingForContent}function Ui(o,e,r,s,l){if(e<r){let u=o.firstChild;o=o.replaceChild(0,u.copy(Ui(u.content,e+1,r,s,u)))}if(e>s){let u=l.contentMatchAt(0),f=u.fillBefore(o).append(o);o=f.append(u.matchFragment(f).fillBefore(ue.empty,!0))}return o}function Rr(o,e){let r=[];for(let l=Math.min(o.depth,e.depth);l>=0;l--){let u=o.start(l);if(u<o.pos-(o.depth-l)||e.end(l)>e.pos+(e.depth-l)||o.node(l).type.spec.isolating||e.node(l).type.spec.isolating)break;(u==e.start(l)||l==o.depth&&l==e.depth&&o.parent.inlineContent&&e.parent.inlineContent&&l&&e.start(l-1)==u-1)&&r.push(l)}return r}class Kr extends Ae{constructor(e,r,s){super(),this.pos=e,this.attr=r,this.value=s}apply(e){let r=e.nodeAt(this.pos);if(!r)return Ke.fail("No node at attribute step's position");let s=Object.create(null);for(let u in r.attrs)s[u]=r.attrs[u];s[this.attr]=this.value;let l=r.type.create(s,null,r.marks);return Ke.fromReplace(e,this.pos,this.pos+1,new Xe(ue.from(l),0,r.isLeaf?0:1))}getMap(){return q.empty}invert(e){return new Kr(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Kr(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if("number"!=typeof r.pos||"string"!=typeof r.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new Kr(r.pos,r.attr,r.value)}}Ae.jsonID("attr",Kr);let pi=class extends Error{};pi=function o(e){let r=Error.call(this,e);return r.__proto__=o.prototype,r},(pi.prototype=Object.create(Error.prototype)).constructor=pi,pi.prototype.name="TransformError";const Ji=Object.create(null);class Yt{constructor(e,r,s){this.$anchor=e,this.$head=r,this.ranges=s||[new bi(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=Xe.empty){let s=r.content.lastChild,l=null;for(let g=0;g<r.openEnd;g++)l=s,s=s.lastChild;let u=e.steps.length,f=this.ranges;for(let g=0;g<f.length;g++){let{$from:x,$to:R}=f[g],V=e.mapping.slice(u);e.replaceRange(V.map(x.pos),V.map(R.pos),g?Xe.empty:r),0==g&&Xi(e,u,(s?s.isInline:l&&l.isTextblock)?-1:1)}}replaceWith(e,r){let s=e.steps.length,l=this.ranges;for(let u=0;u<l.length;u++){let{$from:f,$to:g}=l[u],x=e.mapping.slice(s),R=x.map(f.pos),V=x.map(g.pos);u?e.deleteRange(R,V):(e.replaceRangeWith(R,V,r),Xi(e,s,r.isInline?-1:1))}}static findFrom(e,r,s=!1){let l=e.parent.inlineContent?new fn(e):_r(e.node(0),e.parent,e.pos,e.index(),r,s);if(l)return l;for(let u=e.depth-1;u>=0;u--){let f=r<0?_r(e.node(0),e.node(u),e.before(u+1),e.index(u),r,s):_r(e.node(0),e.node(u),e.after(u+1),e.index(u)+1,r,s);if(f)return f}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new lr(e.node(0))}static atStart(e){return _r(e,e,0,0,1)||new lr(e)}static atEnd(e){return _r(e,e,e.content.size,e.childCount,-1)||new lr(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=Ji[r.type];if(!s)throw new RangeError(`No selection type ${r.type} defined`);return s.fromJSON(e,r)}static jsonID(e,r){if(e in Ji)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ji[e]=r,r.prototype.jsonID=e,r}getBookmark(){return fn.between(this.$anchor,this.$head).getBookmark()}}Yt.prototype.visible=!0;class bi{constructor(e,r){this.$from=e,this.$to=r}}let is=!1;function si(o){!is&&!o.parent.inlineContent&&(is=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+o.parent.type.name+")"))}class fn extends Yt{constructor(e,r=e){si(e),si(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let s=e.resolve(r.map(this.head));if(!s.parent.inlineContent)return Yt.near(s);let l=e.resolve(r.map(this.anchor));return new fn(l.parent.inlineContent?l:s,s)}replace(e,r=Xe.empty){if(super.replace(e,r),r==Xe.empty){let s=this.$from.marksAcross(this.$to);s&&e.ensureMarks(s)}}eq(e){return e instanceof fn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Tr(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if("number"!=typeof r.anchor||"number"!=typeof r.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new fn(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,s=r){let l=e.resolve(r);return new this(l,s==r?l:e.resolve(s))}static between(e,r,s){let l=e.pos-r.pos;if((!s||l)&&(s=l>=0?1:-1),!r.parent.inlineContent){let u=Yt.findFrom(r,s,!0)||Yt.findFrom(r,-s,!0);if(!u)return Yt.near(r,s);r=u.$head}return e.parent.inlineContent||(0==l||(e=(Yt.findFrom(e,-s,!0)||Yt.findFrom(e,s,!0)).$anchor).pos<r.pos!=l<0)&&(e=r),new fn(e,r)}}Yt.jsonID("text",fn);class Tr{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Tr(e.map(this.anchor),e.map(this.head))}resolve(e){return fn.between(e.resolve(this.anchor),e.resolve(this.head))}}class Vt extends Yt{constructor(e){let r=e.nodeAfter,s=e.node(0).resolve(e.pos+r.nodeSize);super(e,s),this.node=r}map(e,r){let{deleted:s,pos:l}=r.mapResult(this.anchor),u=e.resolve(l);return s?Yt.near(u):new Vt(u)}content(){return new Xe(ue.from(this.node),0,0)}eq(e){return e instanceof Vt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ei(this.anchor)}static fromJSON(e,r){if("number"!=typeof r.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Vt(e.resolve(r.anchor))}static create(e,r){return new Vt(e.resolve(r))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}Vt.prototype.visible=!1,Yt.jsonID("node",Vt);class Ei{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:s}=e.mapResult(this.anchor);return r?new Tr(s,s):new Ei(s)}resolve(e){let r=e.resolve(this.anchor),s=r.nodeAfter;return s&&Vt.isSelectable(s)?new Vt(r):Yt.near(r)}}class lr extends Yt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=Xe.empty){if(r==Xe.empty){e.delete(0,e.doc.content.size);let s=Yt.atStart(e.doc);s.eq(e.selection)||e.setSelection(s)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new lr(e)}map(e){return new lr(e)}eq(e){return e instanceof lr}getBookmark(){return Qi}}Yt.jsonID("all",lr);const Qi={map(){return this},resolve:o=>new lr(o)};function _r(o,e,r,s,l,u=!1){if(e.inlineContent)return fn.create(o,r);for(let f=s-(l>0?0:1);l>0?f<e.childCount:f>=0;f+=l){let g=e.child(f);if(g.isAtom){if(!u&&Vt.isSelectable(g))return Vt.create(o,r-(l<0?g.nodeSize:0))}else{let x=_r(o,g,r+l,l<0?g.childCount:0,l,u);if(x)return x}r+=g.nodeSize*l}return null}function Xi(o,e,r){let s=o.steps.length-1;if(s<e)return;let f,l=o.steps[s];(l instanceof Bt||l instanceof Pt)&&(o.mapping.maps[s].forEach((g,x,R,V)=>{null==f&&(f=V)}),o.setSelection(Yt.near(o.doc.resolve(f),r)))}class Rs extends class Zs{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new z}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new pi(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,s=Xe.empty){let l=wr(this.doc,e,r,s);return l&&this.step(l),this}replaceWith(e,r,s){return this.replace(e,r,new Xe(ue.from(s),0,0))}delete(e,r){return this.replace(e,r,Xe.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,s){return function Hi(o,e,r,s){if(!s.size)return o.deleteRange(e,r);let l=o.doc.resolve(e),u=o.doc.resolve(r);if(vs(l,u,s))return o.step(new Bt(e,r,s));let f=Rr(l,o.doc.resolve(r));0==f[f.length-1]&&f.pop();let g=-(l.depth+1);f.unshift(g);for(let ae=l.depth,fe=l.pos-1;ae>0;ae--,fe--){let Re=l.node(ae).type.spec;if(Re.defining||Re.definingAsContext||Re.isolating)break;f.indexOf(ae)>-1?g=ae:l.before(ae)==fe&&f.splice(1,0,-ae)}let x=f.indexOf(g),R=[],V=s.openStart;for(let ae=s.content,fe=0;;fe++){let Re=ae.firstChild;if(R.push(Re),fe==s.openStart)break;ae=Re.content}for(let ae=V-1;ae>=0;ae--){let fe=R[ae].type,Re=Ns(fe);if(Re&&l.node(x).type!=fe)V=ae;else if(Re||!fe.isTextblock)break}for(let ae=s.openStart;ae>=0;ae--){let fe=(ae+V+1)%(s.openStart+1),Re=R[fe];if(Re)for(let ot=0;ot<f.length;ot++){let Ft=f[(ot+x)%f.length],vn=!0;Ft<0&&(vn=!1,Ft=-Ft);let Ys=l.node(Ft-1),As=l.index(Ft-1);if(Ys.canReplaceWith(As,As,Re.type,Re.marks))return o.replace(l.before(Ft),vn?u.after(Ft):r,new Xe(Ui(s.content,0,s.openStart,fe),fe,s.openEnd))}}let ee=o.steps.length;for(let ae=f.length-1;ae>=0&&(o.replace(e,r,s),!(o.steps.length>ee));ae--){let fe=f[ae];fe<0||(e=l.before(fe),r=u.after(fe))}}(this,e,r,s),this}replaceRangeWith(e,r,s){return function Zi(o,e,r,s){if(!s.isInline&&e==r&&o.doc.resolve(e).parent.content.size){let l=function Vi(o,e,r){let s=o.resolve(e);if(s.parent.canReplaceWith(s.index(),s.index(),r))return e;if(0==s.parentOffset)for(let l=s.depth-1;l>=0;l--){let u=s.index(l);if(s.node(l).canReplaceWith(u,u,r))return s.before(l+1);if(u>0)return null}if(s.parentOffset==s.parent.content.size)for(let l=s.depth-1;l>=0;l--){let u=s.indexAfter(l);if(s.node(l).canReplaceWith(u,u,r))return s.after(l+1);if(u<s.node(l).childCount)return null}return null}(o.doc,e,s.type);null!=l&&(e=r=l)}o.replaceRange(e,r,new Xe(ue.from(s),0,0))}(this,e,r,s),this}deleteRange(e,r){return function zi(o,e,r){let s=o.doc.resolve(e),l=o.doc.resolve(r),u=Rr(s,l);for(let f=0;f<u.length;f++){let g=u[f],x=f==u.length-1;if(x&&0==g||s.node(g).type.contentMatch.validEnd)return o.delete(s.start(g),l.end(g));if(g>0&&(x||s.node(g-1).canReplace(s.index(g-1),l.indexAfter(g-1))))return o.delete(s.before(g),l.after(g))}for(let f=1;f<=s.depth&&f<=l.depth;f++)if(e-s.start(f)==s.depth-f&&r>s.end(f)&&l.end(f)-r!=l.depth-f)return o.delete(s.before(f),r);o.delete(e,r)}(this,e,r),this}lift(e,r){return function Ci(o,e,r){let{$from:s,$to:l,depth:u}=e,f=s.before(u+1),g=l.after(u+1),x=f,R=g,V=ue.empty,ee=0;for(let Re=u,ot=!1;Re>r;Re--)ot||s.index(Re)>0?(ot=!0,V=ue.from(s.node(Re).copy(V)),ee++):x--;let ae=ue.empty,fe=0;for(let Re=u,ot=!1;Re>r;Re--)ot||l.after(Re+1)<l.end(Re)?(ot=!0,ae=ue.from(l.node(Re).copy(ae)),fe++):R++;o.step(new Pt(x,R,f,g,new Xe(V.append(ae),ee,fe),V.size-ee,!0))}(this,e,r),this}join(e,r=1){return function fi(o,e,r){let s=new Bt(e-r,e+r,Xe.empty,!0);o.step(s)}(this,e,r),this}wrap(e,r){return function di(o,e,r){let s=ue.empty;for(let f=r.length-1;f>=0;f--){if(s.size){let g=r[f].type.contentMatch.matchFragment(s);if(!g||!g.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=ue.from(r[f].type.create(r[f].attrs,s))}let l=e.start,u=e.end;o.step(new Pt(l,u,l,u,new Xe(s,0,0),r.length,!0))}(this,e,r),this}setBlockType(e,r=e,s,l=null){return function Bi(o,e,r,s,l){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let u=o.steps.length;o.doc.nodesBetween(e,r,(f,g)=>{if(f.isTextblock&&!f.hasMarkup(s,l)&&function xi(o,e,r){let s=o.resolve(e),l=s.index();return s.parent.canReplaceWith(l,l+1,r)}(o.doc,o.mapping.slice(u).map(g),s)){o.clearIncompatible(o.mapping.slice(u).map(g,1),s);let x=o.mapping.slice(u),R=x.map(g,1),V=x.map(g+f.nodeSize,1);return o.step(new Pt(R,V,R+1,V-1,new Xe(ue.from(s.create(l,null,f.marks)),0,0),1,!0)),!1}})}(this,e,r,s,l),this}setNodeMarkup(e,r,s=null,l=[]){return function Yr(o,e,r,s,l){let u=o.doc.nodeAt(e);if(!u)throw new RangeError("No node at given position");r||(r=u.type);let f=r.create(s,null,l||u.marks);if(u.isLeaf)return o.replaceWith(e,e+u.nodeSize,f);if(!r.validContent(u.content))throw new RangeError("Invalid content for node type "+r.name);o.step(new Pt(e,e+u.nodeSize,e+1,e+u.nodeSize-1,new Xe(ue.from(f),0,0),1,!0))}(this,e,r,s,l),this}setNodeAttribute(e,r,s){return this.step(new Kr(e,r,s)),this}addNodeMark(e,r){return this.step(new Qt(e,r)),this}removeNodeMark(e,r){if(!(r instanceof Pe)){let s=this.doc.nodeAt(e);if(!s)throw new RangeError("No node at position "+e);if(!(r=r.isInSet(s.marks)))return this}return this.step(new Mt(e,r)),this}split(e,r=1,s){return function Dn(o,e,r=1,s){let l=o.doc.resolve(e),u=ue.empty,f=ue.empty;for(let g=l.depth,x=l.depth-r,R=r-1;g>x;g--,R--){u=ue.from(l.node(g).copy(u));let V=s&&s[R];f=ue.from(V?V.type.create(V.attrs,f):l.node(g).copy(f))}o.step(new Bt(e,e,new Xe(u.append(f),r,r),!0))}(this,e,r,s),this}addMark(e,r,s){return function Kn(o,e,r,s){let f,g,l=[],u=[];o.doc.nodesBetween(e,r,(x,R,V)=>{if(!x.isInline)return;let ee=x.marks;if(!s.isInSet(ee)&&V.type.allowsMarkType(s.type)){let ae=Math.max(R,e),fe=Math.min(R+x.nodeSize,r),Re=s.addToSet(ee);for(let ot=0;ot<ee.length;ot++)ee[ot].isInSet(Re)||(f&&f.to==ae&&f.mark.eq(ee[ot])?f.to=fe:l.push(f=new Ct(ae,fe,ee[ot])));g&&g.to==ae?g.to=fe:u.push(g=new bt(ae,fe,s))}}),l.forEach(x=>o.step(x)),u.forEach(x=>o.step(x))}(this,e,r,s),this}removeMark(e,r,s){return function tr(o,e,r,s){let l=[],u=0;o.doc.nodesBetween(e,r,(f,g)=>{if(!f.isInline)return;u++;let x=null;if(s instanceof Ue){let V,R=f.marks;for(;V=s.isInSet(R);)(x||(x=[])).push(V),R=V.removeFromSet(R)}else s?s.isInSet(f.marks)&&(x=[s]):x=f.marks;if(x&&x.length){let R=Math.min(g+f.nodeSize,r);for(let V=0;V<x.length;V++){let ae,ee=x[V];for(let fe=0;fe<l.length;fe++){let Re=l[fe];Re.step==u-1&&ee.eq(l[fe].style)&&(ae=Re)}ae?(ae.to=R,ae.step=u):l.push({style:ee,from:Math.max(g,e),to:R,step:u})}}}),l.forEach(f=>o.step(new Ct(f.from,f.to,f.style)))}(this,e,r,s),this}clearIncompatible(e,r,s){return function br(o,e,r,s=r.contentMatch){let l=o.doc.nodeAt(e),u=[],f=e+1;for(let g=0;g<l.childCount;g++){let x=l.child(g),R=f+x.nodeSize,V=s.matchType(x.type);if(V){s=V;for(let ee=0;ee<x.marks.length;ee++)r.allowsMarkType(x.marks[ee].type)||o.step(new Ct(f,R,x.marks[ee]))}else u.push(new Bt(f,R,Xe.empty));f=R}if(!s.validEnd){let g=s.fillBefore(ue.empty,!0);o.replace(f,f,new Xe(g,0,0))}for(let g=u.length-1;g>=0;g--)o.step(u[g])}(this,e,r,s),this}}{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return Pe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,r){super.addStep(e,r),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let s=this.selection;return r&&(e=e.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Pe.none))),s.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,s){let l=this.doc.type.schema;if(null==r)return e?this.replaceSelectionWith(l.text(e),!0):this.deleteSelection();{if(null==s&&(s=r),s=s??r,!e)return this.deleteRange(r,s);let u=this.storedMarks;if(!u){let f=this.doc.resolve(r);u=s==r?f.marks():f.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(r,s,l.text(e,u)),this.selection.empty||this.setSelection(Yt.near(this.selection.$to)),this}}setMeta(e,r){return this.meta["string"==typeof e?e:e.key]=r,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function fr(o,e){return e&&o?o.bind(e):o}class oi{constructor(e,r,s){this.name=e,this.init=fr(r.init,s),this.apply=fr(r.apply,s)}}const ks=[new oi("doc",{init:o=>o.doc||o.schema.topNodeType.createAndFill(),apply:o=>o.doc}),new oi("selection",{init:(o,e)=>o.selection||Yt.atStart(e.doc),apply:o=>o.selection}),new oi("storedMarks",{init:o=>o.storedMarks||null,apply:(o,e,r,s)=>s.selection.$cursor?o.storedMarks:null}),new oi("scrollToSelection",{init:()=>0,apply:(o,e)=>o.scrolledIntoView?e+1:e})];class ai{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ks.slice(),r&&r.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new oi(s.key,s.spec.state,s))})}}class Cr{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=r){let l=this.config.plugins[s];if(l.spec.filterTransaction&&!l.spec.filterTransaction.call(l,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],s=this.applyInner(e),l=null;for(;;){let u=!1;for(let f=0;f<this.config.plugins.length;f++){let g=this.config.plugins[f];if(g.spec.appendTransaction){let x=l?l[f].n:0,R=l?l[f].state:this,V=x<r.length&&g.spec.appendTransaction.call(g,x?r.slice(x):r,R,s);if(V&&s.filterTransaction(V,f)){if(V.setMeta("appendedTransaction",e),!l){l=[];for(let ee=0;ee<this.config.plugins.length;ee++)l.push(ee<f?{state:s,n:r.length}:{state:this,n:0})}r.push(V),s=s.applyInner(V),u=!0}l&&(l[f]={state:s,n:r.length})}}if(!u)return{state:s,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Cr(this.config),s=this.config.fields;for(let l=0;l<s.length;l++){let u=s[l];r[u.name]=u.apply(e,this[u.name],this,r)}return r}get tr(){return new Rs(this)}static create(e){let r=new ai(e.doc?e.doc.type.schema:e.schema,e.plugins),s=new Cr(r);for(let l=0;l<r.fields.length;l++)s[r.fields[l].name]=r.fields[l].init(e,s);return s}reconfigure(e){let r=new ai(this.schema,e.plugins),s=r.fields,l=new Cr(r);for(let u=0;u<s.length;u++){let f=s[u].name;l[f]=this.hasOwnProperty(f)?this[f]:s[u].init(e,l)}return l}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(s=>s.toJSON())),e&&"object"==typeof e)for(let s in e){if("doc"==s||"selection"==s)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let l=e[s],u=l.spec.state;u&&u.toJSON&&(r[s]=u.toJSON.call(l,this[l.key]))}return r}static fromJSON(e,r,s){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let l=new ai(e.schema,e.plugins),u=new Cr(l);return l.fields.forEach(f=>{if("doc"==f.name)u.doc=Je.fromJSON(e.schema,r.doc);else if("selection"==f.name)u.selection=Yt.fromJSON(u.doc,r.selection);else if("storedMarks"==f.name)r.storedMarks&&(u.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(s)for(let g in s){let x=s[g],R=x.spec.state;if(x.key==f.name&&R&&R.fromJSON&&Object.prototype.hasOwnProperty.call(r,g))return void(u[f.name]=R.fromJSON.call(x,e,r[g],u))}u[f.name]=f.init(e,u)}}),u}}function Fs(o,e,r){for(let s in o){let l=o[s];l instanceof Function?l=l.bind(e):"handleDOMEvents"==s&&(l=Fs(l,e,{})),r[s]=l}return r}class wn{constructor(e){this.spec=e,this.props={},e.props&&Fs(e.props,this,this.props),this.key=e.key?e.key.key:as("plugin")}getState(e){return e[this.key]}}const ss=Object.create(null);function as(o){return o in ss?o+"$"+ ++ss[o]:(ss[o]=0,o+"$")}class xr{constructor(e="key"){this.key=as(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Pn=function(o){for(var e=0;;e++)if(!(o=o.previousSibling))return e},ji=function(o){let e=o.assignedSlot||o.parentNode;return e&&11==e.nodeType?e.host:e};let Mi=null;const kr=function(o,e,r){let s=Mi||(Mi=document.createRange());return s.setEnd(o,r??o.nodeValue.length),s.setStart(o,e||0),s},an=function(o,e,r,s){return r&&(li(o,e,r,s,-1)||li(o,e,r,s,1))},yo=/^(img|br|input|textarea|hr)$/i;function li(o,e,r,s,l){for(;;){if(o==r&&e==s)return!0;if(e==(l<0?0:qr(o))){let u=o.parentNode;if(!u||1!=u.nodeType||Rn(o)||yo.test(o.nodeName)||"false"==o.contentEditable)return!1;e=Pn(o)+(l<0?0:1),o=u}else{if(1!=o.nodeType)return!1;if("false"==(o=o.childNodes[e+(l<0?-1:0)]).contentEditable)return!1;e=l<0?qr(o):0}}}function qr(o){return 3==o.nodeType?o.nodeValue.length:o.childNodes.length}function Rn(o){let e;for(let r=o;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==o||e.contentDOM==o)}const Zr=function(o){return o.focusNode&&an(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset)};function Ot(o,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=o,r.key=r.code=e,r}const es=typeof navigator<"u"?navigator:null,ls=typeof document<"u"?document:null,Ar=es&&es.userAgent||"",cs=/Edge\/(\d+)/.exec(Ar),yi=/MSIE \d/.exec(Ar),Jr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ar),ir=!!(yi||Jr||cs),qe=yi?document.documentMode:Jr?+Jr[1]:cs?+cs[1]:0,Gt=!ir&&/gecko\/(\d+)/i.test(Ar);Gt&&/Firefox\/(\d+)/.exec(Ar);const Si=!ir&&/Chrome\/(\d+)/.exec(Ar),yn=!!Si,Un=Si?+Si[1]:0,N=!ir&&!!es&&/Apple Computer/.test(es.vendor),I=N&&(/Mobile\/\w+/.test(Ar)||!!es&&es.maxTouchPoints>2),S=I||!!es&&/Mac/.test(es.platform),j=/Android \d/.test(Ar),Be=!!ls&&"webkitFontSmoothing"in ls.documentElement.style,Et=Be?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function sr(o){return{left:0,right:o.documentElement.clientWidth,top:0,bottom:o.documentElement.clientHeight}}function pr(o,e){return"number"==typeof o?o:o[e]}function Lr(o){let e=o.getBoundingClientRect();return{left:e.left,right:e.left+o.clientWidth*(e.width/o.offsetWidth||1),top:e.top,bottom:e.top+o.clientHeight*(e.height/o.offsetHeight||1)}}function En(o,e,r){let s=o.someProp("scrollThreshold")||0,l=o.someProp("scrollMargin")||5,u=o.dom.ownerDocument;for(let f=r||o.dom;f;f=ji(f)){if(1!=f.nodeType)continue;let g=f,x=g==u.body,R=x?sr(u):Lr(g),V=0,ee=0;if(e.top<R.top+pr(s,"top")?ee=-(R.top-e.top+pr(l,"top")):e.bottom>R.bottom-pr(s,"bottom")&&(ee=e.bottom-R.bottom+pr(l,"bottom")),e.left<R.left+pr(s,"left")?V=-(R.left-e.left+pr(l,"left")):e.right>R.right-pr(s,"right")&&(V=e.right-R.right+pr(l,"right")),V||ee)if(x)u.defaultView.scrollBy(V,ee);else{let ae=g.scrollLeft,fe=g.scrollTop;ee&&(g.scrollTop+=ee),V&&(g.scrollLeft+=V);let Re=g.scrollLeft-ae,ot=g.scrollTop-fe;e={left:e.left-Re,top:e.top-ot,right:e.right-Re,bottom:e.bottom-ot}}if(x)break}}function Bs(o){let e=[],r=o.ownerDocument;for(let s=o;s&&(e.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),o!=r);s=ji(s));return e}function Ti(o,e){for(let r=0;r<o.length;r++){let{dom:s,top:l,left:u}=o[r];s.scrollTop!=l+e&&(s.scrollTop=l+e),s.scrollLeft!=u&&(s.scrollLeft=u)}}let Cs=null;function Vs(o,e){let r,l,s=2e8,u=0,f=e.top,g=e.top;for(let x=o.firstChild,R=0;x;x=x.nextSibling,R++){let V;if(1==x.nodeType)V=x.getClientRects();else{if(3!=x.nodeType)continue;V=kr(x).getClientRects()}for(let ee=0;ee<V.length;ee++){let ae=V[ee];if(ae.top<=f&&ae.bottom>=g){f=Math.max(ae.bottom,f),g=Math.min(ae.top,g);let fe=ae.left>e.left?ae.left-e.left:ae.right<e.left?e.left-ae.right:0;if(fe<s){r=x,s=fe,l=fe&&3==r.nodeType?{left:ae.right<e.left?ae.right:ae.left,top:e.top}:e,1==x.nodeType&&fe&&(u=R+(e.left>=(ae.left+ae.right)/2?1:0));continue}}!r&&(e.left>=ae.right&&e.top>=ae.top||e.left>=ae.left&&e.top>=ae.bottom)&&(u=R+1)}}return r&&3==r.nodeType?function Ao(o,e){let r=o.nodeValue.length,s=document.createRange();for(let l=0;l<r;l++){s.setEnd(o,l+1),s.setStart(o,l);let u=Qr(s,1);if(u.top!=u.bottom&&Hs(e,u))return{node:o,offset:l+(e.left>=(u.left+u.right)/2?1:0)}}return{node:o,offset:0}}(r,l):!r||s&&1==r.nodeType?{node:o,offset:u}:Vs(r,l)}function Hs(o,e){return o.left>=e.left-1&&o.left<=e.right+1&&o.top>=e.top-1&&o.top<=e.bottom+1}function Js(o,e,r){let s=o.childNodes.length;if(s&&r.top<r.bottom)for(let l=Math.max(0,Math.min(s-1,Math.floor(s*(e.top-r.top)/(r.bottom-r.top))-2)),u=l;;){let f=o.childNodes[u];if(1==f.nodeType){let g=f.getClientRects();for(let x=0;x<g.length;x++){let R=g[x];if(Hs(e,R))return Js(f,e,R)}}if((u=(u+1)%s)==l)break}return o}function Qs(o,e){let s,r=o.dom.ownerDocument,l=0;if(r.caretPositionFromPoint)try{let x=r.caretPositionFromPoint(e.left,e.top);x&&({offsetNode:s,offset:l}=x)}catch{}if(!s&&r.caretRangeFromPoint){let x=r.caretRangeFromPoint(e.left,e.top);x&&({startContainer:s,startOffset:l}=x)}let f,u=(o.root.elementFromPoint?o.root:r).elementFromPoint(e.left,e.top);if(!u||!o.dom.contains(1!=u.nodeType?u.parentNode:u)){let x=o.dom.getBoundingClientRect();if(!Hs(e,x)||(u=Js(o.dom,e,x),!u))return null}if(N)for(let x=u;s&&x;x=ji(x))x.draggable&&(s=void 0);if(u=function xs(o,e){let r=o.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<o.getBoundingClientRect().left?r:o}(u,e),s){if(Gt&&1==s.nodeType&&(l=Math.min(l,s.childNodes.length),l<s.childNodes.length)){let R,x=s.childNodes[l];"IMG"==x.nodeName&&(R=x.getBoundingClientRect()).right<=e.left&&R.bottom>e.top&&l++}s==o.dom&&l==s.childNodes.length-1&&1==s.lastChild.nodeType&&e.top>s.lastChild.getBoundingClientRect().bottom?f=o.state.doc.content.size:(0==l||1!=s.nodeType||"BR"!=s.childNodes[l-1].nodeName)&&(f=function Ds(o,e,r,s){let l=-1;for(let u=e;u!=o.dom;){let f=o.docView.nearestDesc(u,!0);if(!f)return null;if(1==f.dom.nodeType&&(f.node.isBlock&&f.parent||!f.contentDOM)){let g=f.dom.getBoundingClientRect();if(f.node.isBlock&&f.parent&&(g.left>s.left||g.top>s.top?l=f.posBefore:(g.right<s.left||g.bottom<s.top)&&(l=f.posAfter)),!f.contentDOM&&l<0)return(f.node.isBlock?s.top<(g.top+g.bottom)/2:s.left<(g.left+g.right)/2)?f.posBefore:f.posAfter}u=f.dom.parentNode}return l>-1?l:o.docView.posFromDOM(e,r,-1)}(o,s,l,e))}null==f&&(f=function Io(o,e,r){let{node:s,offset:l}=Vs(e,r),u=-1;if(1==s.nodeType&&!s.firstChild){let f=s.getBoundingClientRect();u=f.left!=f.right&&r.left>(f.left+f.right)/2?1:-1}return o.docView.posFromDOM(s,l,u)}(o,u,e));let g=o.docView.nearestDesc(u,!0);return{pos:f,inside:g?g.posAtStart-g.border:-1}}function Qr(o,e){let r=o.getClientRects();return r.length?r[e<0?0:r.length-1]:o.getBoundingClientRect()}const Oo=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Xs(o,e,r){let{node:s,offset:l,atom:u}=o.docView.domFromPos(e,r<0?-1:1),f=Be||Gt;if(3==s.nodeType){if(!f||!Oo.test(s.nodeValue)&&(r<0?l:l!=s.nodeValue.length)){let x=l,R=l,V=r<0?1:-1;return r<0&&!l?(R++,V=-1):r>=0&&l==s.nodeValue.length?(x--,V=1):r<0?x--:R++,ts(Qr(kr(s,x,R),1),V<0)}{let x=Qr(kr(s,l,l),r);if(Gt&&l&&/\s/.test(s.nodeValue[l-1])&&l<s.nodeValue.length){let R=Qr(kr(s,l-1,l-1),-1);if(R.top==x.top){let V=Qr(kr(s,l,l+1),-1);if(V.top!=x.top)return ts(V,V.left<R.left)}}return x}}if(!o.state.doc.resolve(e-(u||0)).parent.inlineContent){if(null==u&&l&&(r<0||l==qr(s))){let x=s.childNodes[l-1];if(1==x.nodeType)return E(x.getBoundingClientRect(),!1)}if(null==u&&l<qr(s)){let x=s.childNodes[l];if(1==x.nodeType)return E(x.getBoundingClientRect(),!0)}return E(s.getBoundingClientRect(),r>=0)}if(null==u&&l&&(r<0||l==qr(s))){let x=s.childNodes[l-1],R=3==x.nodeType?kr(x,qr(x)-(f?0:1)):1!=x.nodeType||"BR"==x.nodeName&&x.nextSibling?null:x;if(R)return ts(Qr(R,1),!1)}if(null==u&&l<qr(s)){let x=s.childNodes[l];for(;x.pmViewDesc&&x.pmViewDesc.ignoreForCoords;)x=x.nextSibling;let R=x?3==x.nodeType?kr(x,0,f?0:1):1==x.nodeType?x:null:null;if(R)return ts(Qr(R,-1),!0)}return ts(Qr(3==s.nodeType?kr(s):s,-r),r>=0)}function ts(o,e){if(0==o.width)return o;let r=e?o.left:o.right;return{top:o.top,bottom:o.bottom,left:r,right:r}}function E(o,e){if(0==o.height)return o;let r=e?o.top:o.bottom;return{top:r,bottom:r,left:o.left,right:o.right}}function B(o,e,r){let s=o.state,l=o.root.activeElement;s!=e&&o.updateState(e),l!=o.dom&&o.focus();try{return r()}finally{s!=e&&o.updateState(s),l!=o.dom&&l&&l.focus()}}const W=/[\u0590-\u08ac]/;let ke=null,ze=null,wt=!1;class mn{constructor(e,r,s,l){this.parent=e,this.children=r,this.dom=s,this.contentDOM=l,this.dirty=0,s.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,s){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,s=this.posAtStart;;r++){let l=this.children[r];if(l==e)return s;s+=l.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,s){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(s<0){let u,f;if(e==this.contentDOM)u=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;u=e.previousSibling}for(;u&&(!(f=u.pmViewDesc)||f.parent!=this);)u=u.previousSibling;return u?this.posBeforeChild(f)+f.size:this.posAtStart}{let u,f;if(e==this.contentDOM)u=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;u=e.nextSibling}for(;u&&(!(f=u.pmViewDesc)||f.parent!=this);)u=u.nextSibling;return u?this.posBeforeChild(f):this.posAtEnd}}let l;if(e==this.dom&&this.contentDOM)l=r>Pn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))l=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==r)for(let u=e;;u=u.parentNode){if(u==this.dom){l=!1;break}if(u.previousSibling)break}if(null==l&&r==e.childNodes.length)for(let u=e;;u=u.parentNode){if(u==this.dom){l=!0;break}if(u.nextSibling)break}}return l??s>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let s=!0,l=e;l;l=l.parentNode){let f,u=this.getDesc(l);if(u&&(!r||u.node)){if(!s||!(f=u.nodeDOM)||(1==f.nodeType?f.contains(1==e.nodeType?e:e.parentNode):f==e))return u;s=!1}}}getDesc(e){let r=e.pmViewDesc;for(let s=r;s;s=s.parent)if(s==this)return r}posFromDOM(e,r,s){for(let l=e;l;l=l.parentNode){let u=this.getDesc(l);if(u)return u.localPosFromDOM(e,r,s)}return-1}descAt(e){for(let r=0,s=0;r<this.children.length;r++){let l=this.children[r],u=s+l.size;if(s==e&&u!=s){for(;!l.border&&l.children.length;)l=l.children[0];return l}if(e<u)return l.descAt(e-s-l.border);s=u}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let u,s=0,l=0;for(let u=0;s<this.children.length;s++){let f=this.children[s],g=u+f.size;if(g>e||f instanceof wi){l=e-u;break}u=g}if(l)return this.children[s].domFromPos(l-this.children[s].border,r);for(;s&&!(u=this.children[s-1]).size&&u instanceof Gn&&u.side>=0;s--);if(r<=0){let u,f=!0;for(;u=s?this.children[s-1]:null,u&&u.dom.parentNode!=this.contentDOM;s--,f=!1);return u&&r&&f&&!u.border&&!u.domAtom?u.domFromPos(u.size,r):{node:this.contentDOM,offset:u?Pn(u.dom)+1:0}}{let u,f=!0;for(;u=s<this.children.length?this.children[s]:null,u&&u.dom.parentNode!=this.contentDOM;s++,f=!1);return u&&f&&!u.border&&!u.domAtom?u.domFromPos(0,r):{node:this.contentDOM,offset:u?Pn(u.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,s=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let l=-1,u=-1;for(let f=s,g=0;;g++){let x=this.children[g],R=f+x.size;if(-1==l&&e<=R){let V=f+x.border;if(e>=V&&r<=R-x.border&&x.node&&x.contentDOM&&this.contentDOM.contains(x.contentDOM))return x.parseRange(e,r,V);e=f;for(let ee=g;ee>0;ee--){let ae=this.children[ee-1];if(ae.size&&ae.dom.parentNode==this.contentDOM&&!ae.emptyChildAt(1)){l=Pn(ae.dom)+1;break}e-=ae.size}-1==l&&(l=0)}if(l>-1&&(R>r||g==this.children.length-1)){r=R;for(let V=g+1;V<this.children.length;V++){let ee=this.children[V];if(ee.size&&ee.dom.parentNode==this.contentDOM&&!ee.emptyChildAt(-1)){u=Pn(ee.dom);break}r+=ee.size}-1==u&&(u=this.contentDOM.childNodes.length);break}f=R}return{node:this.contentDOM,from:e,to:r,fromOffset:l,toOffset:u}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return 0==r.size||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:s}=this.domFromPos(e,0);if(1!=r.nodeType||s==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[s]}setSelection(e,r,s,l=!1){let u=Math.min(e,r),f=Math.max(e,r);for(let ae=0,fe=0;ae<this.children.length;ae++){let Re=this.children[ae],ot=fe+Re.size;if(u>fe&&f<ot)return Re.setSelection(e-fe-Re.border,r-fe-Re.border,s,l);fe=ot}let g=this.domFromPos(e,e?-1:1),x=r==e?g:this.domFromPos(r,r?-1:1),R=s.getSelection(),V=!1;if((Gt||N)&&e==r){let{node:ae,offset:fe}=g;if(3==ae.nodeType){if(V=!(!fe||"\n"!=ae.nodeValue[fe-1]),V&&fe==ae.nodeValue.length)for(let ot,Re=ae;Re;Re=Re.parentNode){if(ot=Re.nextSibling){"BR"==ot.nodeName&&(g=x={node:ot.parentNode,offset:Pn(ot)+1});break}let Ft=Re.pmViewDesc;if(Ft&&Ft.node&&Ft.node.isBlock)break}}else{let Re=ae.childNodes[fe-1];V=Re&&("BR"==Re.nodeName||"false"==Re.contentEditable)}}if(Gt&&R.focusNode&&R.focusNode!=x.node&&1==R.focusNode.nodeType){let ae=R.focusNode.childNodes[R.focusOffset];ae&&"false"==ae.contentEditable&&(l=!0)}if(!(l||V&&N)&&an(g.node,g.offset,R.anchorNode,R.anchorOffset)&&an(x.node,x.offset,R.focusNode,R.focusOffset))return;let ee=!1;if((R.extend||e==r)&&!V){R.collapse(g.node,g.offset);try{e!=r&&R.extend(x.node,x.offset),ee=!0}catch{}}if(!ee){if(e>r){let fe=g;g=x,x=fe}let ae=document.createRange();ae.setEnd(x.node,x.offset),ae.setStart(g.node,g.offset),R.removeAllRanges(),R.addRange(ae)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let s=0,l=0;l<this.children.length;l++){let u=this.children[l],f=s+u.size;if(s==f?e<=f&&r>=s:e<f&&r>s){let g=s+u.border,x=f-u.border;if(e>=g&&r<=x)return this.dirty=e==s||r==f?2:1,void(e!=g||r!=x||!u.contentLost&&u.dom.parentNode==this.contentDOM?u.markDirty(e-g,r-g):u.dirty=3);u.dirty=u.dom!=u.contentDOM||u.dom.parentNode!=this.contentDOM||u.children.length?3:2}s=f}this.dirty=2}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let s=1==e?2:1;r.dirty<s&&(r.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Gn extends mn{constructor(e,r,s,l){let u,f=r.type.toDOM;if("function"==typeof f&&(f=f(s,()=>u?u.parent?u.parent.posBeforeChild(u):void 0:l)),!r.type.spec.raw){if(1!=f.nodeType){let g=document.createElement("span");g.appendChild(f),f=g}f.contentEditable="false",f.classList.add("ProseMirror-widget")}super(e,[],f,null),this.widget=r,this.widget=r,u=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return!!r&&r(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class vi extends mn{constructor(e,r,s,l){super(e,[],r,null),this.textDOM=s,this.text=l}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class cr extends mn{constructor(e,r,s,l){super(e,[],s,l),this.mark=r}static create(e,r,s,l){let u=l.nodeViews[r.type.name],f=u&&u(r,l,s);return(!f||!f.dom)&&(f=Hn.renderSpec(document,r.type.spec.toDOM(r,s))),new cr(e,r,f.dom,f.contentDOM||f.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),0!=this.dirty){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=0}}slice(e,r,s){let l=cr.create(this.parent,this.mark,!0,s),u=this.children,f=this.size;r<f&&(u=zs(u,r,f,s)),e>0&&(u=zs(u,0,e,s));for(let g=0;g<u.length;g++)u[g].parent=l;return l.children=u,l}}class Ir extends mn{constructor(e,r,s,l,u,f,g,x,R){super(e,[],u,f),this.node=r,this.outerDeco=s,this.innerDeco=l,this.nodeDOM=g,f&&this.updateChildren(x,R)}static create(e,r,s,l,u,f){let x,g=u.nodeViews[r.type.name],R=g&&g(r,u,()=>x?x.parent?x.parent.posBeforeChild(x):void 0:f,s,l),V=R&&R.dom,ee=R&&R.contentDOM;if(r.isText)if(V){if(3!=V.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else V=document.createTextNode(r.text);else V||({dom:V,contentDOM:ee}=Hn.renderSpec(document,r.type.spec.toDOM(r)));!ee&&!r.isText&&"BR"!=V.nodeName&&(V.hasAttribute("contenteditable")||(V.contentEditable="false"),r.type.spec.draggable&&(V.draggable=!0));let ae=V;return V=us(V,s,r),R?x=new wo(e,r,s,l,V,ee||null,ae,R,u,f+1):r.isText?new Or(e,r,s,l,V,ae,u):new Ir(e,r,s,l,V,ee||null,ae,u,f+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let r=this.children.length-1;r>=0;r--){let s=this.children[r];if(this.dom.contains(s.dom.parentNode)){e.contentElement=s.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ue.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,r,s){return 0==this.dirty&&e.eq(this.node)&&Oi(r,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let s=this.node.inlineContent,l=r,u=e.composing?this.localCompositionInfo(e,r):null,f=u&&u.pos>-1?u:null,g=u&&u.pos<0,x=new Go(this,f&&f.node,e);(function Ko(o,e,r,s){let l=e.locals(o),u=0;if(0==l.length){for(let R=0;R<o.childCount;R++){let V=o.child(R);s(V,l,e.forChild(u,V),R),u+=V.nodeSize}return}let f=0,g=[],x=null;for(let R=0;;){if(f<l.length&&l[f].to==u){let ot,Re=l[f++];for(;f<l.length&&l[f].to==u;)(ot||(ot=[Re])).push(l[f++]);if(ot){ot.sort(Yo);for(let Ft=0;Ft<ot.length;Ft++)r(ot[Ft],R,!!x)}else r(Re,R,!!x)}let V,ee;if(x)ee=-1,V=x,x=null;else{if(!(R<o.childCount))break;ee=R,V=o.child(R++)}for(let Re=0;Re<g.length;Re++)g[Re].to<=u&&g.splice(Re--,1);for(;f<l.length&&l[f].from<=u&&l[f].to>u;)g.push(l[f++]);let ae=u+V.nodeSize;if(V.isText){let Re=ae;f<l.length&&l[f].from<Re&&(Re=l[f].from);for(let ot=0;ot<g.length;ot++)g[ot].to<Re&&(Re=g[ot].to);Re<ae&&(x=V.cut(Re-u),V=V.cut(0,Re-u),ae=Re,ee=-1)}s(V,V.isInline&&!V.isLeaf?g.filter(Re=>!Re.inline):g.slice(),e.forChild(u,V),ee),u=ae}})(this.node,this.innerDeco,(R,V,ee)=>{R.spec.marks?x.syncToMarks(R.spec.marks,s,e):R.type.side>=0&&!ee&&x.syncToMarks(V==this.node.childCount?Pe.none:this.node.child(V).marks,s,e),x.placeWidget(R,e,l)},(R,V,ee,ae)=>{let fe;x.syncToMarks(R.marks,s,e),x.findNodeMatch(R,V,ee,ae)||g&&e.state.selection.from>l&&e.state.selection.to<l+R.nodeSize&&(fe=x.findIndexWithChild(u.node))>-1&&x.updateNodeAt(R,V,ee,fe,e)||x.updateNextNode(R,V,ee,e,ae)||x.addNode(R,V,ee,e,l),l+=R.nodeSize}),x.syncToMarks([],s,e),this.node.isTextblock&&x.addTextblockHacks(),x.destroyRest(),(x.changed||2==this.dirty)&&(f&&this.protectLocalComposition(e,f),eo(this.contentDOM,this.children,e),I&&function bs(o){if("UL"==o.nodeName||"OL"==o.nodeName){let e=o.style.cssText;o.style.cssText=e+"; list-style: square !important",window.getComputedStyle(o),o.style.cssText=e}}(this.dom))}localCompositionInfo(e,r){let{from:s,to:l}=e.state.selection;if(!(e.state.selection instanceof fn)||s<r||l>r+this.node.content.size)return null;let u=e.domSelectionRange(),f=function _o(o,e){for(;;){if(3==o.nodeType)return o;if(1==o.nodeType&&e>0){if(o.childNodes.length>e&&3==o.childNodes[e].nodeType)return o.childNodes[e];e=qr(o=o.childNodes[e-1])}else{if(!(1==o.nodeType&&e<o.childNodes.length))return null;o=o.childNodes[e],e=0}}}(u.focusNode,u.focusOffset);if(!f||!this.dom.contains(f.parentNode))return null;if(this.node.inlineContent){let g=f.nodeValue,x=function ds(o,e,r,s){for(let l=0,u=0;l<o.childCount&&u<=s;){let f=o.child(l++),g=u;if(u+=f.nodeSize,!f.isText)continue;let x=f.text;for(;l<o.childCount;){let R=o.child(l++);if(u+=R.nodeSize,!R.isText)break;x+=R.text}if(u>=r){let R=g<s?x.lastIndexOf(e,s-g-1):-1;if(R>=0&&R+e.length+g>=r)return g+R;if(r==s&&x.length>=s+e.length-g&&x.slice(s-g,s-g+e.length)==e)return s}}return-1}(this.node.content,g,s-r,l-r);return x<0?null:{node:f,pos:x,text:g}}return{node:f,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:s,text:l}){if(this.getDesc(r))return;let u=r;for(;u.parentNode!=this.contentDOM;u=u.parentNode){for(;u.previousSibling;)u.parentNode.removeChild(u.previousSibling);for(;u.nextSibling;)u.parentNode.removeChild(u.nextSibling);u.pmViewDesc&&(u.pmViewDesc=void 0)}let f=new vi(this,u,r,l);e.input.compositionNodes.push(f),this.children=zs(this.children,s,s+l.length,e,f)}update(e,r,s,l){return!(3==this.dirty||!e.sameMarkup(this.node)||(this.updateInner(e,r,s,l),0))}updateInner(e,r,s,l){this.updateOuterDeco(r),this.node=e,this.innerDeco=s,this.contentDOM&&this.updateChildren(l,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(Oi(e,this.outerDeco))return;let r=1!=this.nodeDOM.nodeType,s=this.dom;this.dom=$o(this.dom,this.nodeDOM,Ii(this.outerDeco,this.node,r),Ii(e,this.node,r)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Ai(o,e,r,s,l){return us(s,e,o),new Ir(void 0,o,e,r,s,s,s,l,0)}class Or extends Ir{constructor(e,r,s,l,u,f,g){super(e,r,s,l,u,null,f,g,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,s,l){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(r),(0!=this.dirty||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,l.trackWrites==this.nodeDOM&&(l.trackWrites=null)),this.node=e,this.dirty=0,0))}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,s){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,s)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,r,s){let l=this.node.cut(e,r),u=document.createTextNode(l.text);return new Or(this.parent,l,this.outerDeco,this.innerDeco,u,u,s)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(0==e||r==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}}class wi extends mn{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class wo extends Ir{constructor(e,r,s,l,u,f,g,x,R,V){super(e,r,s,l,u,f,g,R,V),this.spec=x}update(e,r,s,l){if(3==this.dirty)return!1;if(this.spec.update){let u=this.spec.update(e,r,s);return u&&this.updateInner(e,r,s,l),u}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,r,s,l)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,s,l){this.spec.setSelection?this.spec.setSelection(e,r,s):super.setSelection(e,r,s,l)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function eo(o,e,r){let s=o.firstChild,l=!1;for(let u=0;u<e.length;u++){let f=e[u],g=f.dom;if(g.parentNode==o){for(;g!=s;)s=Us(s),l=!0;s=s.nextSibling}else l=!0,o.insertBefore(g,s);if(f instanceof cr){let x=s?s.previousSibling:o.lastChild;eo(f.contentDOM,f.children,r),s=x?x.nextSibling:o.firstChild}}for(;s;)s=Us(s),l=!0;l&&r.trackWrites==o&&(r.trackWrites=null)}const $i=function(o){o&&(this.nodeName=o)};$i.prototype=Object.create(null);const Wi=[new $i];function Ii(o,e,r){if(0==o.length)return Wi;let s=r?Wi[0]:new $i,l=[s];for(let u=0;u<o.length;u++){let f=o[u].type.attrs;if(f){f.nodeName&&l.push(s=new $i(f.nodeName));for(let g in f){let x=f[g];null!=x&&(r&&1==l.length&&l.push(s=new $i(e.isInline?"span":"div")),"class"==g?s.class=(s.class?s.class+" ":"")+x:"style"==g?s.style=(s.style?s.style+";":"")+x:"nodeName"!=g&&(s[g]=x))}}}return l}function $o(o,e,r,s){if(r==Wi&&s==Wi)return e;let l=e;for(let u=0;u<s.length;u++){let f=s[u],g=r[u];if(u){let x;g&&g.nodeName==f.nodeName&&l!=o&&(x=l.parentNode)&&x.nodeName.toLowerCase()==f.nodeName||(x=document.createElement(f.nodeName),x.pmIsDeco=!0,x.appendChild(l),g=Wi[0]),l=x}Wo(l,g||Wi[0],f)}return l}function Wo(o,e,r){for(let s in e)"class"!=s&&"style"!=s&&"nodeName"!=s&&!(s in r)&&o.removeAttribute(s);for(let s in r)"class"!=s&&"style"!=s&&"nodeName"!=s&&r[s]!=e[s]&&o.setAttribute(s,r[s]);if(e.class!=r.class){let s=e.class?e.class.split(" ").filter(Boolean):[],l=r.class?r.class.split(" ").filter(Boolean):[];for(let u=0;u<s.length;u++)-1==l.indexOf(s[u])&&o.classList.remove(s[u]);for(let u=0;u<l.length;u++)-1==s.indexOf(l[u])&&o.classList.add(l[u]);0==o.classList.length&&o.removeAttribute("class")}if(e.style!=r.style){if(e.style){let l,s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;l=s.exec(e.style);)o.style.removeProperty(l[1])}r.style&&(o.style.cssText+=r.style)}}function us(o,e,r){return $o(o,o,Wi,Ii(e,r,1!=o.nodeType))}function Oi(o,e){if(o.length!=e.length)return!1;for(let r=0;r<o.length;r++)if(!o[r].type.eq(e[r].type))return!1;return!0}function Us(o){let e=o.nextSibling;return o.parentNode.removeChild(o),e}class Go{constructor(e,r,s){this.lock=r,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function to(o,e){let r=e,s=r.children.length,l=o.childCount,u=new Map,f=[];e:for(;l>0;){let g;for(;;)if(s){let R=r.children[s-1];if(!(R instanceof cr)){g=R,s--;break}r=R,s=R.children.length}else{if(r==e)break e;s=r.parent.children.indexOf(r),r=r.parent}let x=g.node;if(x){if(x!=o.child(l-1))break;--l,u.set(g,l),f.push(g)}}return{index:l,matched:u,matches:f.reverse()}}(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let s=e;s<r;s++)this.top.children[s].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,s){let l=0,u=this.stack.length>>1,f=Math.min(u,e.length);for(;l<f&&(l==u-1?this.top:this.stack[l+1<<1]).matchesMark(e[l])&&!1!==e[l].type.spec.spanning;)l++;for(;l<u;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),u--;for(;u<e.length;){this.stack.push(this.top,this.index+1);let g=-1;for(let x=this.index;x<Math.min(this.index+3,this.top.children.length);x++){let R=this.top.children[x];if(R.matchesMark(e[u])&&!this.isLocked(R.dom)){g=x;break}}if(g>-1)g>this.index&&(this.changed=!0,this.destroyBetween(this.index,g)),this.top=this.top.children[this.index];else{let x=cr.create(this.top,e[u],r,s);this.top.children.splice(this.index,0,x),this.top=x,this.changed=!0}this.index=0,u++}}findNodeMatch(e,r,s,l){let f,u=-1;if(l>=this.preMatch.index&&(f=this.preMatch.matches[l-this.preMatch.index]).parent==this.top&&f.matchesNode(e,r,s))u=this.top.children.indexOf(f,this.index);else for(let g=this.index,x=Math.min(this.top.children.length,g+5);g<x;g++){let R=this.top.children[g];if(R.matchesNode(e,r,s)&&!this.preMatch.matched.has(R)){u=g;break}}return!(u<0||(this.destroyBetween(this.index,u),this.index++,0))}updateNodeAt(e,r,s,l,u){let f=this.top.children[l];return 3==f.dirty&&f.dom==f.contentDOM&&(f.dirty=2),!!f.update(e,r,s,u)&&(this.destroyBetween(this.index,l),this.index++,!0)}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let s=e.pmViewDesc;if(s)for(let l=this.index;l<this.top.children.length;l++)if(this.top.children[l]==s)return l;return-1}e=r}}updateNextNode(e,r,s,l,u){for(let f=this.index;f<this.top.children.length;f++){let g=this.top.children[f];if(g instanceof Ir){let x=this.preMatch.matched.get(g);if(null!=x&&x!=u)return!1;let R=g.dom;if((!this.isLocked(R)||e.isText&&g.node&&g.node.isText&&g.nodeDOM.nodeValue==e.text&&3!=g.dirty&&Oi(r,g.outerDeco))&&g.update(e,r,s,l))return this.destroyBetween(this.index,f),g.dom!=R&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,r,s,l,u){this.top.children.splice(this.index++,0,Ir.create(this.top,e,r,s,l,u)),this.changed=!0}placeWidget(e,r,s){let l=this.index<this.top.children.length?this.top.children[this.index]:null;if(!l||!l.matchesWidget(e)||e!=l.widget&&l.widget.type.toDOM.parentNode){let u=new Gn(this.top,e,r,s);this.top.children.splice(this.index++,0,u),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof cr;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof Or)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((N||yn)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let s=document.createElement(e);"IMG"==e&&(s.className="ProseMirror-separator",s.alt=""),"BR"==e&&(s.className="ProseMirror-trailingBreak");let l=new wi(this.top,[],s,null);r!=this.top?r.children.push(l):r.children.splice(this.index++,0,l),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function Yo(o,e){return o.type.side-e.type.side}function zs(o,e,r,s,l){let u=[];for(let f=0,g=0;f<o.length;f++){let x=o[f],R=g,V=g+=x.size;R>=r||V<=e?u.push(x):(R<e&&u.push(x.slice(0,e-R,s)),l&&(u.push(l),l=void 0),V>r&&u.push(x.slice(r-R,x.size,s)))}return u}function no(o,e=null){let r=o.domSelectionRange(),s=o.state.doc;if(!r.focusNode)return null;let l=o.docView.nearestDesc(r.focusNode),u=l&&0==l.size,f=o.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(f<0)return null;let x,R,g=s.resolve(f);if(Zr(r)){for(x=g;l&&!l.node;)l=l.parent;let V=l.node;if(l&&V.isAtom&&Vt.isSelectable(V)&&l.parent&&(!V.isInline||!function Fr(o,e,r){for(let s=0==e,l=e==qr(o);s||l;){if(o==r)return!0;let u=Pn(o);if(!(o=o.parentNode))return!1;s=s&&0==u,l=l&&u==qr(o)}}(r.focusNode,r.focusOffset,l.dom))){let ee=l.posBefore;R=new Vt(f==ee?g:s.resolve(ee))}}else{let V=o.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(V<0)return null;x=s.resolve(V)}return R||(R=hs(o,x,g,"pointer"==e||o.state.selection.head<g.pos&&!u?1:-1)),R}function Es(o){return o.editable?o.hasFocus():No(o)&&document.activeElement&&document.activeElement.contains(o.dom)}function ns(o,e=!1){let r=o.state.selection;if(so(o,r),Es(o)){if(!e&&o.input.mouseDown&&o.input.mouseDown.allowDefault&&yn){let s=o.domSelectionRange(),l=o.domObserver.currentSelection;if(s.anchorNode&&l.anchorNode&&an(s.anchorNode,s.anchorOffset,l.anchorNode,l.anchorOffset))return o.input.mouseDown.delayedSelectionSync=!0,void o.domObserver.setCurSelection()}if(o.domObserver.disconnectSelection(),o.cursorWrapper)!function Co(o){let e=o.domSelection(),r=document.createRange(),s=o.cursorWrapper.dom,l="IMG"==s.nodeName;l?r.setEnd(s.parentNode,Pn(s)+1):r.setEnd(s,0),r.collapse(!1),e.removeAllRanges(),e.addRange(r),!l&&!o.state.selection.visible&&ir&&qe<=11&&(s.disabled=!0,s.disabled=!1)}(o);else{let u,f,{anchor:s,head:l}=r;qo&&!(r instanceof fn)&&(r.$from.parent.inlineContent||(u=ro(o,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(f=ro(o,r.to))),o.docView.setSelection(s,l,o.root,e),qo&&(u&&io(u),f&&io(f)),r.visible?o.dom.classList.remove("ProseMirror-hideselection"):(o.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function js(o){let e=o.dom.ownerDocument;e.removeEventListener("selectionchange",o.input.hideSelectionGuard);let r=o.domSelectionRange(),s=r.anchorNode,l=r.anchorOffset;e.addEventListener("selectionchange",o.input.hideSelectionGuard=()=>{(r.anchorNode!=s||r.anchorOffset!=l)&&(e.removeEventListener("selectionchange",o.input.hideSelectionGuard),setTimeout(()=>{(!Es(o)||o.state.selection.visible)&&o.dom.classList.remove("ProseMirror-hideselection")},20))})}(o))}o.domObserver.setCurSelection(),o.domObserver.connectSelection()}}const qo=N||yn&&Un<63;function ro(o,e){let{node:r,offset:s}=o.docView.domFromPos(e,0),l=s<r.childNodes.length?r.childNodes[s]:null,u=s?r.childNodes[s-1]:null;if(N&&l&&"false"==l.contentEditable)return Xr(l);if(!(l&&"false"!=l.contentEditable||u&&"false"!=u.contentEditable)){if(l)return Xr(l);if(u)return Xr(u)}}function Xr(o){return o.contentEditable="true",N&&o.draggable&&(o.draggable=!1,o.wasDraggable=!0),o}function io(o){o.contentEditable="false",o.wasDraggable&&(o.draggable=!0,o.wasDraggable=null)}function so(o,e){if(e instanceof Vt){let r=o.docView.descAt(e.from);r!=o.lastSelectedViewDesc&&(oo(o),r&&r.selectNode(),o.lastSelectedViewDesc=r)}else oo(o)}function oo(o){o.lastSelectedViewDesc&&(o.lastSelectedViewDesc.parent&&o.lastSelectedViewDesc.deselectNode(),o.lastSelectedViewDesc=void 0)}function hs(o,e,r,s){return o.someProp("createSelectionBetween",l=>l(o,e,r))||fn.between(e,r,s)}function Zo(o){return!(o.editable&&!o.hasFocus())&&No(o)}function No(o){let e=o.domSelectionRange();if(!e.anchorNode)return!1;try{return o.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(o.editable||o.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Po(o,e){let{$anchor:r,$head:s}=o.selection,l=e>0?r.max(s):r.min(s),u=l.parent.inlineContent?l.depth?o.doc.resolve(e>0?l.after():l.before()):null:l;return u&&Yt.findFrom(u,e)}function fs(o,e){return o.dispatch(o.state.tr.setSelection(e).scrollIntoView()),!0}function Jo(o,e,r){let s=o.state.selection;if(!(s instanceof fn)){if(s instanceof Vt&&s.node.isInline)return fs(o,new fn(e>0?s.$to:s.$from));{let l=Po(o.state,e);return!!l&&fs(o,l)}}if(!s.empty||r.indexOf("s")>-1)return!1;if(o.endOfTextblock(e>0?"right":"left")){let l=Po(o.state,e);return!!(l&&l instanceof Vt)&&fs(o,l)}if(!(S&&r.indexOf("m")>-1)){let f,l=s.$head,u=l.textOffset?null:e<0?l.nodeBefore:l.nodeAfter;if(!u||u.isText)return!1;let g=e<0?l.pos-u.nodeSize:l.pos;return!!(u.isAtom||(f=o.docView.descAt(g))&&!f.contentDOM)&&(Vt.isSelectable(u)?fs(o,new Vt(e<0?o.state.doc.resolve(l.pos-u.nodeSize):l)):!!Be&&fs(o,new fn(o.state.doc.resolve(e<0?g:g+u.nodeSize))))}}function qn(o){return 3==o.nodeType?o.nodeValue.length:o.childNodes.length}function ps(o){let e=o.pmViewDesc;return e&&0==e.size&&(o.nextSibling||"BR"!=o.nodeName)}function P(o){let e=o.domSelectionRange(),r=e.focusNode,s=e.focusOffset;if(!r)return;let l,u,f=!1;for(Gt&&1==r.nodeType&&s<qn(r)&&ps(r.childNodes[s])&&(f=!0);;)if(s>0){if(1!=r.nodeType)break;{let g=r.childNodes[s-1];if(ps(g))l=r,u=--s;else{if(3!=g.nodeType)break;r=g,s=r.nodeValue.length}}}else{if(m(r))break;{let g=r.previousSibling;for(;g&&ps(g);)l=r.parentNode,u=Pn(g),g=g.previousSibling;if(g)r=g,s=qn(r);else{if(r=r.parentNode,r==o.dom)break;s=0}}}f?D(o,r,s):l&&D(o,l,u)}function p(o){let e=o.domSelectionRange(),r=e.focusNode,s=e.focusOffset;if(!r)return;let u,f,l=qn(r);for(;;)if(s<l){if(1!=r.nodeType)break;if(!ps(r.childNodes[s]))break;u=r,f=++s}else{if(m(r))break;{let g=r.nextSibling;for(;g&&ps(g);)u=g.parentNode,f=Pn(g)+1,g=g.nextSibling;if(g)r=g,s=0,l=qn(r);else{if(r=r.parentNode,r==o.dom)break;s=l=0}}}u&&D(o,u,f)}function m(o){let e=o.pmViewDesc;return e&&e.node&&e.node.isBlock}function D(o,e,r){let s=o.domSelection();if(Zr(s)){let u=document.createRange();u.setEnd(e,r),u.setStart(e,r),s.removeAllRanges(),s.addRange(u)}else s.extend&&s.extend(e,r);o.domObserver.setCurSelection();let{state:l}=o;setTimeout(()=>{o.state==l&&ns(o)},50)}function L(o,e,r){let s=o.state.selection;if(s instanceof fn&&!s.empty||r.indexOf("s")>-1||S&&r.indexOf("m")>-1)return!1;let{$from:l,$to:u}=s;if(!l.parent.inlineContent||o.endOfTextblock(e<0?"up":"down")){let f=Po(o.state,e);if(f&&f instanceof Vt)return fs(o,f)}if(!l.parent.inlineContent){let f=e<0?l:u,g=s instanceof lr?Yt.near(f,e):Yt.findFrom(f,e);return!!g&&fs(o,g)}return!1}function K(o,e){if(!(o.state.selection instanceof fn))return!0;let{$head:r,$anchor:s,empty:l}=o.state.selection;if(!r.sameParent(s))return!0;if(!l)return!1;if(o.endOfTextblock(e>0?"forward":"backward"))return!0;let u=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(u&&!u.isText){let f=o.state.tr;return e<0?f.delete(r.pos-u.nodeSize,r.pos):f.delete(r.pos,r.pos+u.nodeSize),o.dispatch(f),!0}return!1}function ie(o,e,r){o.domObserver.stop(),e.contentEditable=r,o.domObserver.start()}function pt(o,e){o.someProp("transformCopied",fe=>{e=fe(e,o)});let r=[],{content:s,openStart:l,openEnd:u}=e;for(;l>1&&u>1&&1==s.childCount&&1==s.firstChild.childCount;){l--,u--;let fe=s.firstChild;r.push(fe.type.name,fe.attrs!=fe.type.defaultAttrs?fe.attrs:null),s=fe.content}let f=o.someProp("clipboardSerializer")||Hn.fromSchema(o.state.schema),g=xo(),x=g.createElement("div");x.appendChild(f.serializeFragment(s,{document:g}));let V,R=x.firstChild,ee=0;for(;R&&1==R.nodeType&&(V=$r[R.nodeName.toLowerCase()]);){for(let fe=V.length-1;fe>=0;fe--){let Re=g.createElement(V[fe]);for(;x.firstChild;)Re.appendChild(x.firstChild);x.appendChild(Re),ee++}R=x.firstChild}return R&&1==R.nodeType&&R.setAttribute("data-pm-slice",`${l} ${u}${ee?` -${ee}`:""} ${JSON.stringify(r)}`),{dom:x,text:o.someProp("clipboardTextSerializer",fe=>fe(e,o))||e.content.textBetween(0,e.content.size,"\n\n")}}function xt(o,e,r,s,l){let f,g,u=l.parent.type.spec.code;if(!r&&!e)return null;let x=e&&(s||u||!r);if(x){if(o.someProp("transformPastedText",ae=>{e=ae(e,u||s,o)}),u)return e?new Xe(ue.from(o.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):Xe.empty;let ee=o.someProp("clipboardTextParser",ae=>ae(e,l,s,o));if(ee)g=ee;else{let ae=l.marks(),{schema:fe}=o.state,Re=Hn.fromSchema(fe);f=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(ot=>{let Ft=f.appendChild(document.createElement("p"));ot&&Ft.appendChild(Re.serializeNode(fe.text(ot,ae)))})}}else o.someProp("transformPastedHTML",ee=>{r=ee(r,o)}),f=function Ms(o){let e=/^(\s*<meta [^>]*>)*/.exec(o);e&&(o=o.slice(e[0].length));let l,r=xo().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(o);if((l=s&&$r[s[1].toLowerCase()])&&(o=l.map(u=>"<"+u+">").join("")+o+l.map(u=>"</"+u+">").reverse().join("")),r.innerHTML=o,l)for(let u=0;u<l.length;u++)r=r.querySelector(l[u])||r;return r}(r),Be&&function ui(o){let e=o.querySelectorAll(yn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let s=e[r];1==s.childNodes.length&&"\xa0"==s.textContent&&s.parentNode&&s.parentNode.replaceChild(o.ownerDocument.createTextNode(" "),s)}}(f);let R=f&&f.querySelector("[data-pm-slice]"),V=R&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(R.getAttribute("data-pm-slice")||"");if(V&&V[3])for(let ee=+V[3];ee>0;ee--){let ae=f.firstChild;for(;ae&&1!=ae.nodeType;)ae=ae.nextSibling;if(!ae)break;f=ae}if(g||(g=(o.someProp("clipboardParser")||o.someProp("domParser")||Le.fromSchema(o.state.schema)).parseSlice(f,{preserveWhitespace:!(!x&&!V),context:l,ruleFromNode:ae=>"BR"!=ae.nodeName||ae.nextSibling||!ae.parentNode||cn.test(ae.parentNode.nodeName)?null:{ignore:!0}})),V)g=function $s(o,e){if(!o.size)return o;let s,r=o.content.firstChild.type.schema;try{s=JSON.parse(e)}catch{return o}let{content:l,openStart:u,openEnd:f}=o;for(let g=s.length-2;g>=0;g-=2){let x=r.nodes[s[g]];if(!x||x.hasRequiredAttrs())break;l=ue.from(x.create(s[g+1],l)),u++,f++}return new Xe(l,u,f)}(Xt(g,+V[1],+V[2]),V[4]);else if(g=Xe.maxOpen(function ln(o,e){if(o.childCount<2)return o;for(let r=e.depth;r>=0;r--){let u,l=e.node(r).contentMatchAt(e.index(r)),f=[];if(o.forEach(g=>{if(!f)return;let R,x=l.findWrapping(g.type);if(!x)return f=null;if(R=f.length&&u.length&&$t(x,u,g,f[f.length-1],0))f[f.length-1]=R;else{f.length&&(f[f.length-1]=zn(f[f.length-1],u.length));let V=Ht(g,x);f.push(V),l=l.matchType(V.type),u=x}}),f)return ue.from(f)}return o}(g.content,l),!0),g.openStart||g.openEnd){let ee=0,ae=0;for(let fe=g.content.firstChild;ee<g.openStart&&!fe.type.spec.isolating;ee++,fe=fe.firstChild);for(let fe=g.content.lastChild;ae<g.openEnd&&!fe.type.spec.isolating;ae++,fe=fe.lastChild);g=Xt(g,ee,ae)}return o.someProp("transformPasted",ee=>{g=ee(g,o)}),g}const cn=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Ht(o,e,r=0){for(let s=e.length-1;s>=r;s--)o=e[s].create(null,ue.from(o));return o}function $t(o,e,r,s,l){if(l<o.length&&l<e.length&&o[l]==e[l]){let u=$t(o,e,r,s.lastChild,l+1);if(u)return s.copy(s.content.replaceChild(s.childCount-1,u));if(s.contentMatchAt(s.childCount).matchType(l==o.length-1?r.type:o[l+1]))return s.copy(s.content.append(ue.from(Ht(r,o,l+1))))}}function zn(o,e){if(0==e)return o;let r=o.content.replaceChild(o.childCount-1,zn(o.lastChild,e-1)),s=o.contentMatchAt(o.childCount).fillBefore(ue.empty,!0);return o.copy(r.append(s))}function Vn(o,e,r,s,l,u){let f=e<0?o.firstChild:o.lastChild,g=f.content;return l<s-1&&(g=Vn(g,e,r,s,l+1,u)),l>=r&&(g=e<0?f.contentMatchAt(0).fillBefore(g,o.childCount>1||u<=l).append(g):g.append(f.contentMatchAt(f.childCount).fillBefore(ue.empty,!0))),o.replaceChild(e<0?0:o.childCount-1,f.copy(g))}function Xt(o,e,r){return e<o.openStart&&(o=new Xe(Vn(o.content,-1,e,o.openStart,0,o.openEnd),e,o.openEnd)),r<o.openEnd&&(o=new Xe(Vn(o.content,1,r,o.openEnd,0,0),o.openStart,r)),o}const $r={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Wr=null;function xo(){return Wr||(Wr=document.implementation.createHTMLDocument("title"))}const gr={},kn={},vl={touchstart:!0,touchmove:!0};class Ro{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function rs(o,e){o.input.lastSelectionOrigin=e,o.input.lastSelectionTime=Date.now()}function Nt(o){o.someProp("handleDOMEvents",e=>{for(let r in e)o.input.eventHandlers[r]||o.dom.addEventListener(r,o.input.eventHandlers[r]=s=>jt(o,s))})}function jt(o,e){return o.someProp("handleDOMEvents",r=>{let s=r[e.type];return!!s&&(s(o,e)||e.defaultPrevented)})}function Rt(o,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=o.dom;r=r.parentNode)if(!r||11==r.nodeType||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function ur(o){return{left:o.clientX,top:o.clientY}}function Nr(o,e,r,s,l){if(-1==s)return!1;let u=o.state.doc.resolve(s);for(let f=u.depth+1;f>0;f--)if(o.someProp(e,g=>f>u.depth?g(o,r,u.nodeAfter,u.before(f),l,!0):g(o,r,u.node(f),u.before(f),l,!1)))return!0;return!1}function Ni(o,e,r){o.focused||o.focus();let s=o.state.tr.setSelection(e);"pointer"==r&&s.setMeta("pointer",!0),o.dispatch(s)}function b(o,e,r,s){return Nr(o,"handleDoubleClickOn",e,r,s)||o.someProp("handleDoubleClick",l=>l(o,e,s))}function O(o,e,r,s){return Nr(o,"handleTripleClickOn",e,r,s)||o.someProp("handleTripleClick",l=>l(o,e,s))||function U(o,e,r){if(0!=r.button)return!1;let s=o.state.doc;if(-1==e)return!!s.inlineContent&&(Ni(o,fn.create(s,0,s.content.size),"pointer"),!0);let l=s.resolve(e);for(let u=l.depth+1;u>0;u--){let f=u>l.depth?l.nodeAfter:l.node(u),g=l.before(u);if(f.inlineContent)Ni(o,fn.create(s,g+1,g+1+f.content.size),"pointer");else{if(!Vt.isSelectable(f))continue;Ni(o,Vt.create(s,g),"pointer")}return!0}}(o,r,s)}function X(o){return gs(o)}kn.keydown=(o,e)=>{let r=e;if(o.input.shiftKey=16==r.keyCode||r.shiftKey,!mt(o,r)&&(o.input.lastKeyCode=r.keyCode,o.input.lastKeyCodeTime=Date.now(),!j||!yn||13!=r.keyCode))if(229!=r.keyCode&&o.domObserver.forceFlush(),!I||13!=r.keyCode||r.ctrlKey||r.altKey||r.metaKey)o.someProp("handleKeyDown",s=>s(o,r))||function Ye(o,e){let r=e.keyCode,s=function Ne(o){let e="";return o.ctrlKey&&(e+="c"),o.metaKey&&(e+="m"),o.altKey&&(e+="a"),o.shiftKey&&(e+="s"),e}(e);return 8==r||S&&72==r&&"c"==s?K(o,-1)||P(o):46==r||S&&68==r&&"c"==s?K(o,1)||p(o):13==r||27==r||(37==r||S&&66==r&&"c"==s?Jo(o,-1,s)||P(o):39==r||S&&70==r&&"c"==s?Jo(o,1,s)||p(o):38==r||S&&80==r&&"c"==s?L(o,-1,s)||P(o):40==r||S&&78==r&&"c"==s?function he(o){if(!N||o.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=o.domSelectionRange();if(e&&1==e.nodeType&&0==r&&e.firstChild&&"false"==e.firstChild.contentEditable){let s=e.firstChild;ie(o,s,"true"),setTimeout(()=>ie(o,s,"false"),20)}return!1}(o)||L(o,1,s)||p(o):s==(S?"m":"c")&&(66==r||73==r||89==r||90==r))}(o,r)?r.preventDefault():rs(o,"key");else{let s=Date.now();o.input.lastIOSEnter=s,o.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{o.input.lastIOSEnter==s&&(o.someProp("handleKeyDown",l=>l(o,Ot(13,"Enter"))),o.input.lastIOSEnter=0)},200)}},kn.keyup=(o,e)=>{16==e.keyCode&&(o.input.shiftKey=!1)},kn.keypress=(o,e)=>{let r=e;if(mt(o,r)||!r.charCode||r.ctrlKey&&!r.altKey||S&&r.metaKey)return;if(o.someProp("handleKeyPress",l=>l(o,r)))return void r.preventDefault();let s=o.state.selection;if(!(s instanceof fn&&s.$from.sameParent(s.$to))){let l=String.fromCharCode(r.charCode);!/[\r\n]/.test(l)&&!o.someProp("handleTextInput",u=>u(o,s.$from.pos,s.$to.pos,l))&&o.dispatch(o.state.tr.insertText(l).scrollIntoView()),r.preventDefault()}};const ne=S?"metaKey":"ctrlKey";gr.mousedown=(o,e)=>{let r=e;o.input.shiftKey=r.shiftKey;let s=X(o),l=Date.now(),u="singleClick";l-o.input.lastClick.time<500&&function _i(o,e){let r=e.x-o.clientX,s=e.y-o.clientY;return r*r+s*s<100}(r,o.input.lastClick)&&!r[ne]&&("singleClick"==o.input.lastClick.type?u="doubleClick":"doubleClick"==o.input.lastClick.type&&(u="tripleClick")),o.input.lastClick={time:l,x:r.clientX,y:r.clientY,type:u};let f=o.posAtCoords(ur(r));!f||("singleClick"==u?(o.input.mouseDown&&o.input.mouseDown.done(),o.input.mouseDown=new je(o,f,r,!!s)):("doubleClick"==u?b:O)(o,f.pos,f.inside,r)?r.preventDefault():rs(o,"pointer"))};class je{constructor(e,r,s,l){let u,f;if(this.view=e,this.pos=r,this.event=s,this.flushed=l,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!s[ne],this.allowDefault=s.shiftKey,r.inside>-1)u=e.state.doc.nodeAt(r.inside),f=r.inside;else{let V=e.state.doc.resolve(r.pos);u=V.parent,f=V.depth?V.before():0}const g=l?null:s.target,x=g?e.docView.nearestDesc(g,!0):null;this.target=x?x.dom:null;let{selection:R}=e.state;(0==s.button&&u.type.spec.draggable&&!1!==u.type.spec.selectable||R instanceof Vt&&R.from<=f&&R.to>f)&&(this.mightDrag={node:u,pos:f,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Gt||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),rs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ns(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(ur(e))),this.updateAllowDefault(e),this.allowDefault||!r?rs(this.view,"pointer"):function v(o,e,r,s,l){return Nr(o,"handleClickOn",e,r,s)||o.someProp("handleClick",u=>u(o,e,s))||(l?function _(o,e){if(-1==e)return!1;let s,l,r=o.state.selection;r instanceof Vt&&(s=r.node);let u=o.state.doc.resolve(e);for(let f=u.depth+1;f>0;f--){let g=f>u.depth?u.nodeAfter:u.node(f);if(Vt.isSelectable(g)){l=s&&r.$from.depth>0&&f>=r.$from.depth&&u.before(r.$from.depth+1)==r.$from.pos?u.before(r.$from.depth):u.before(f);break}}return null!=l&&(Ni(o,Vt.create(o.state.doc,l),"pointer"),!0)}(o,r):function w(o,e){if(-1==e)return!1;let r=o.state.doc.resolve(e),s=r.nodeAfter;return!!(s&&s.isAtom&&Vt.isSelectable(s))&&(Ni(o,new Vt(r),"pointer"),!0)}(o,r))}(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||N&&this.mightDrag&&!this.mightDrag.node.isAtom||yn&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Ni(this.view,Yt.near(this.view.state.doc.resolve(r.pos)),"pointer"),e.preventDefault()):rs(this.view,"pointer")}move(e){this.updateAllowDefault(e),rs(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function mt(o,e){return!!o.composing||!!(N&&Math.abs(e.timeStamp-o.input.compositionEndedAt)<500)&&(o.input.compositionEndedAt=-2e8,!0)}gr.touchstart=o=>{o.input.lastTouch=Date.now(),X(o),rs(o,"pointer")},gr.touchmove=o=>{o.input.lastTouch=Date.now(),rs(o,"pointer")},gr.contextmenu=o=>X(o);const dn=j?5e3:-1;function St(o,e){clearTimeout(o.input.composingTimeout),e>-1&&(o.input.composingTimeout=setTimeout(()=>gs(o),e))}function jn(o){for(o.composing&&(o.input.composing=!1,o.input.compositionEndedAt=function Gi(){let o=document.createEvent("Event");return o.initEvent("event",!0,!0),o.timeStamp}());o.input.compositionNodes.length>0;)o.input.compositionNodes.pop().markParentsDirty()}function gs(o,e=!1){if(!(j&&o.domObserver.flushingSoon>=0)){if(o.domObserver.forceFlush(),jn(o),e||o.docView&&o.docView.dirty){let r=no(o);return r&&!r.eq(o.state.selection)?o.dispatch(o.state.tr.setSelection(r)):o.updateState(o.state),!0}return!1}}kn.compositionstart=kn.compositionupdate=o=>{if(!o.composing){o.domObserver.flush();let{state:e}=o,r=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(s=>!1===s.type.spec.inclusive)))o.markCursor=o.state.storedMarks||r.marks(),gs(o,!0),o.markCursor=null;else if(gs(o),Gt&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let s=o.domSelectionRange();for(let l=s.focusNode,u=s.focusOffset;l&&1==l.nodeType&&0!=u;){let f=u<0?l.lastChild:l.childNodes[u-1];if(!f)break;if(3==f.nodeType){o.domSelection().collapse(f,f.nodeValue.length);break}l=f,u=-1}}o.input.composing=!0}St(o,dn)},kn.compositionend=(o,e)=>{o.composing&&(o.input.composing=!1,o.input.compositionEndedAt=e.timeStamp,St(o,20))};const ei=ir&&qe<15||I&&Et<604;function ao(o,e,r,s,l){let u=xt(o,e,r,s,o.state.selection.$from);if(o.someProp("handlePaste",x=>x(o,l,u||Xe.empty)))return!0;if(!u)return!1;let f=function ua(o){return 0==o.openStart&&0==o.openEnd&&1==o.content.childCount?o.content.firstChild:null}(u),g=f?o.state.tr.replaceSelectionWith(f,o.input.shiftKey):o.state.tr.replaceSelection(u);return o.dispatch(g.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}gr.copy=kn.cut=(o,e)=>{let r=e,s=o.state.selection,l="cut"==r.type;if(s.empty)return;let u=ei?null:r.clipboardData,f=s.content(),{dom:g,text:x}=pt(o,f);u?(r.preventDefault(),u.clearData(),u.setData("text/html",g.innerHTML),u.setData("text/plain",x)):function ko(o,e){if(!o.dom.parentNode)return;let r=o.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),l=document.createRange();l.selectNodeContents(e),o.dom.blur(),s.removeAllRanges(),s.addRange(l),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),o.focus()},50)}(o,g),l&&o.dispatch(o.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},kn.paste=(o,e)=>{let r=e;if(o.composing&&!j)return;let s=ei?null:r.clipboardData;s&&ao(o,s.getData("text/plain"),s.getData("text/html"),o.input.shiftKey,r)?r.preventDefault():function Ca(o,e){if(!o.dom.parentNode)return;let r=o.input.shiftKey||o.state.selection.$from.parent.type.spec.code,s=o.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus(),setTimeout(()=>{o.focus(),s.parentNode&&s.parentNode.removeChild(s),r?ao(o,s.value,null,o.input.shiftKey,e):ao(o,s.textContent,s.innerHTML,o.input.shiftKey,e)},50)}(o,r)};class ic{constructor(e,r){this.slice=e,this.move=r}}const ja=S?"altKey":"ctrlKey";gr.dragstart=(o,e)=>{let r=e,s=o.input.mouseDown;if(s&&s.done(),!r.dataTransfer)return;let l=o.state.selection,u=l.empty?null:o.posAtCoords(ur(r));if(!(u&&u.pos>=l.from&&u.pos<=(l instanceof Vt?l.to-1:l.to)))if(s&&s.mightDrag)o.dispatch(o.state.tr.setSelection(Vt.create(o.state.doc,s.mightDrag.pos)));else if(r.target&&1==r.target.nodeType){let R=o.docView.nearestDesc(r.target,!0);R&&R.node.type.spec.draggable&&R!=o.docView&&o.dispatch(o.state.tr.setSelection(Vt.create(o.state.doc,R.posBefore)))}let f=o.state.selection.content(),{dom:g,text:x}=pt(o,f);r.dataTransfer.clearData(),r.dataTransfer.setData(ei?"Text":"text/html",g.innerHTML),r.dataTransfer.effectAllowed="copyMove",ei||r.dataTransfer.setData("text/plain",x),o.dragging=new ic(f,!r[ja])},gr.dragend=o=>{let e=o.dragging;window.setTimeout(()=>{o.dragging==e&&(o.dragging=null)},50)},kn.dragover=kn.dragenter=(o,e)=>e.preventDefault(),kn.drop=(o,e)=>{let r=e,s=o.dragging;if(o.dragging=null,!r.dataTransfer)return;let l=o.posAtCoords(ur(r));if(!l)return;let u=o.state.doc.resolve(l.pos),f=s&&s.slice;f?o.someProp("transformPasted",Re=>{f=Re(f,o)}):f=xt(o,r.dataTransfer.getData(ei?"Text":"text/plain"),ei?null:r.dataTransfer.getData("text/html"),!1,u);let g=!(!s||r[ja]);if(o.someProp("handleDrop",Re=>Re(o,r,f||Xe.empty,g)))return void r.preventDefault();if(!f)return;r.preventDefault();let x=f?function qi(o,e,r){let s=o.resolve(e);if(!r.content.size)return e;let l=r.content;for(let u=0;u<r.openStart;u++)l=l.firstChild.content;for(let u=1;u<=(0==r.openStart&&r.size?2:1);u++)for(let f=s.depth;f>=0;f--){let g=f==s.depth?0:s.pos<=(s.start(f+1)+s.end(f+1))/2?-1:1,x=s.index(f)+(g>0?1:0),R=s.node(f),V=!1;if(1==u)V=R.canReplace(x,x,l);else{let ee=R.contentMatchAt(x).findWrapping(l.firstChild.type);V=ee&&R.canReplaceWith(x,x,ee[0])}if(V)return 0==g?s.pos:g<0?s.before(f+1):s.after(f+1)}return null}(o.state.doc,u.pos,f):u.pos;null==x&&(x=u.pos);let R=o.state.tr;g&&R.deleteSelection();let V=R.mapping.map(x),ee=0==f.openStart&&0==f.openEnd&&1==f.content.childCount,ae=R.doc;if(ee?R.replaceRangeWith(V,V,f.content.firstChild):R.replaceRange(V,V,f),R.doc.eq(ae))return;let fe=R.doc.resolve(V);if(ee&&Vt.isSelectable(f.content.firstChild)&&fe.nodeAfter&&fe.nodeAfter.sameMarkup(f.content.firstChild))R.setSelection(new Vt(fe));else{let Re=R.mapping.map(x);R.mapping.maps[R.mapping.maps.length-1].forEach((ot,Ft,vn,Ys)=>Re=Ys),R.setSelection(hs(o,fe,R.doc.resolve(Re)))}o.focus(),o.dispatch(R.setMeta("uiEvent","drop"))},gr.focus=o=>{o.input.lastFocus=Date.now(),o.focused||(o.domObserver.stop(),o.dom.classList.add("ProseMirror-focused"),o.domObserver.start(),o.focused=!0,setTimeout(()=>{o.docView&&o.hasFocus()&&!o.domObserver.currentSelection.eq(o.domSelectionRange())&&ns(o)},20))},gr.blur=(o,e)=>{let r=e;o.focused&&(o.domObserver.stop(),o.dom.classList.remove("ProseMirror-focused"),o.domObserver.start(),r.relatedTarget&&o.dom.contains(r.relatedTarget)&&o.domObserver.currentSelection.clear(),o.focused=!1)},gr.beforeinput=(o,e)=>{if(yn&&j&&"deleteContentBackward"==e.inputType){o.domObserver.flushSoon();let{domChangeCount:s}=o.input;setTimeout(()=>{if(o.input.domChangeCount!=s||(o.dom.blur(),o.focus(),o.someProp("handleKeyDown",u=>u(o,Ot(8,"Backspace")))))return;let{$cursor:l}=o.state.selection;l&&l.pos>0&&o.dispatch(o.state.tr.delete(l.pos-1,l.pos).scrollIntoView())},50)}};for(let o in kn)gr[o]=kn[o];function $a(o,e){if(o==e)return!0;for(let r in o)if(o[r]!==e[r])return!1;for(let r in e)if(!(r in o))return!1;return!0}class sc{constructor(e,r){this.toDOM=e,this.spec=r||da,this.side=this.spec.side||0}map(e,r,s,l){let{pos:u,deleted:f}=e.mapResult(r.from+l,this.side<0?-1:1);return f?null:new Yi(u-s,u-s,this)}valid(){return!0}eq(e){return this==e||e instanceof sc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&$a(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Qo{constructor(e,r){this.attrs=e,this.spec=r||da}map(e,r,s,l){let u=e.map(r.from+l,this.spec.inclusiveStart?-1:1)-s,f=e.map(r.to+l,this.spec.inclusiveEnd?1:-1)-s;return u>=f?null:new Yi(u,f,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Qo&&$a(this.attrs,e.attrs)&&$a(this.spec,e.spec)}static is(e){return e.type instanceof Qo}destroy(){}}class wl{constructor(e,r){this.attrs=e,this.spec=r||da}map(e,r,s,l){let u=e.mapResult(r.from+l,1);if(u.deleted)return null;let f=e.mapResult(r.to+l,-1);return f.deleted||f.pos<=u.pos?null:new Yi(u.pos-s,f.pos-s,this)}valid(e,r){let u,{index:s,offset:l}=e.content.findIndex(r.from);return l==r.from&&!(u=e.child(s)).isText&&l+u.nodeSize==r.to}eq(e){return this==e||e instanceof wl&&$a(this.attrs,e.attrs)&&$a(this.spec,e.spec)}destroy(){}}class Yi{constructor(e,r,s){this.from=e,this.to=r,this.type=s}copy(e,r){return new Yi(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,s){return this.type.map(e,this,r,s)}static widget(e,r,s){return new Yi(e,e,new sc(r,s))}static inline(e,r,s,l){return new Yi(e,r,new Qo(s,l))}static node(e,r,s,l){return new Yi(e,r,new wl(s,l))}get spec(){return this.type.spec}get inline(){return this.type instanceof Qo}}const lo=[],da={};class Cn{constructor(e,r){this.local=e.length?e:lo,this.children=r.length?r:lo}static create(e,r){return r.length?Da(r,e,0,da):Pi}find(e,r,s){let l=[];return this.findInner(e??0,r??1e9,l,0,s),l}findInner(e,r,s,l,u){for(let f=0;f<this.local.length;f++){let g=this.local[f];g.from<=r&&g.to>=e&&(!u||u(g.spec))&&s.push(g.copy(g.from+l,g.to+l))}for(let f=0;f<this.children.length;f+=3)if(this.children[f]<r&&this.children[f+1]>e){let g=this.children[f]+1;this.children[f+2].findInner(e-g,r-g,s,l+g,u)}}map(e,r,s){return this==Pi||0==e.maps.length?this:this.mapInner(e,r,0,0,s||da)}mapInner(e,r,s,l,u){let f;for(let g=0;g<this.local.length;g++){let x=this.local[g].map(e,s,l);x&&x.type.valid(r,x)?(f||(f=[])).push(x):u.onRemove&&u.onRemove(this.local[g].spec)}return this.children.length?function oc(o,e,r,s,l,u,f){let g=o.slice();for(let R=0,V=u;R<r.maps.length;R++){let ee=0;r.maps[R].forEach((ae,fe,Re,ot)=>{let Ft=ot-Re-(fe-ae);for(let vn=0;vn<g.length;vn+=3){let Ys=g[vn+1];if(Ys<0||ae>Ys+V-ee)continue;let As=g[vn]+V-ee;fe>=As?g[vn+1]=ae<=As?-2:-1:Re>=l&&Ft&&(g[vn]+=Ft,g[vn+1]+=Ft)}ee+=Ft}),V=r.maps[R].map(V,-1)}let x=!1;for(let R=0;R<g.length;R+=3)if(g[R+1]<0){if(-2==g[R+1]){x=!0,g[R+1]=-1;continue}let V=r.map(o[R]+u),ee=V-l;if(ee<0||ee>=s.content.size){x=!0;continue}let fe=r.map(o[R+1]+u,-1)-l,{index:Re,offset:ot}=s.content.findIndex(ee),Ft=s.maybeChild(Re);if(Ft&&ot==ee&&ot+Ft.nodeSize==fe){let vn=g[R+2].mapInner(r,Ft,V+1,o[R]+u+1,f);vn!=Pi?(g[R]=ee,g[R+1]=fe,g[R+2]=vn):(g[R+1]=-2,x=!0)}else x=!0}if(x){let R=function Dh(o,e,r,s,l,u,f){function g(x,R){for(let V=0;V<x.local.length;V++){let ee=x.local[V].map(s,l,R);ee?r.push(ee):f.onRemove&&f.onRemove(x.local[V].spec)}for(let V=0;V<x.children.length;V+=3)g(x.children[V+2],x.children[V]+R+1)}for(let x=0;x<o.length;x+=3)-1==o[x+1]&&g(o[x+2],e[x]+u+1);return r}(g,o,e,r,l,u,f),V=Da(R,s,0,f);e=V.local;for(let ee=0;ee<g.length;ee+=3)g[ee+1]<0&&(g.splice(ee,3),ee-=3);for(let ee=0,ae=0;ee<V.children.length;ee+=3){let fe=V.children[ee];for(;ae<g.length&&g[ae]<fe;)ae+=3;g.splice(ae,0,V.children[ee],V.children[ee+1],V.children[ee+2])}}return new Cn(e.sort(co),g)}(this.children,f||[],e,r,s,l,u):f?new Cn(f.sort(co),lo):Pi}add(e,r){return r.length?this==Pi?Cn.create(e,r):this.addInner(e,r,0):this}addInner(e,r,s){let l,u=0;e.forEach((g,x)=>{let V,R=x+s;if(V=hu(r,g,R)){for(l||(l=this.children.slice());u<l.length&&l[u]<x;)u+=3;l[u]==x?l[u+2]=l[u+2].addInner(g,V,R+1):l.splice(u,0,x,x+g.nodeSize,Da(V,g,R+1,da)),u+=3}});let f=xa(u?fu(r):r,-s);for(let g=0;g<f.length;g++)f[g].type.valid(e,f[g])||f.splice(g--,1);return new Cn(f.length?this.local.concat(f).sort(co):this.local,l||this.children)}remove(e){return 0==e.length||this==Pi?this:this.removeInner(e,0)}removeInner(e,r){let s=this.children,l=this.local;for(let u=0;u<s.length;u+=3){let f,g=s[u]+r,x=s[u+1]+r;for(let ee,V=0;V<e.length;V++)(ee=e[V])&&ee.from>g&&ee.to<x&&(e[V]=null,(f||(f=[])).push(ee));if(!f)continue;s==this.children&&(s=this.children.slice());let R=s[u+2].removeInner(f,g+1);R!=Pi?s[u+2]=R:(s.splice(u,3),u-=3)}if(l.length)for(let f,u=0;u<e.length;u++)if(f=e[u])for(let g=0;g<l.length;g++)l[g].eq(f,r)&&(l==this.local&&(l=this.local.slice()),l.splice(g--,1));return s==this.children&&l==this.local?this:l.length||s.length?new Cn(l,s):Pi}forChild(e,r){if(this==Pi)return this;if(r.isLeaf)return Cn.empty;let s,l;for(let g=0;g<this.children.length;g+=3)if(this.children[g]>=e){this.children[g]==e&&(s=this.children[g+2]);break}let u=e+1,f=u+r.content.size;for(let g=0;g<this.local.length;g++){let x=this.local[g];if(x.from<f&&x.to>u&&x.type instanceof Qo){let R=Math.max(u,x.from)-u,V=Math.min(f,x.to)-u;R<V&&(l||(l=[])).push(x.copy(R,V))}}if(l){let g=new Cn(l.sort(co),lo);return s?new Fo([g,s]):g}return s||Pi}eq(e){if(this==e)return!0;if(!(e instanceof Cn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return _l(this.localsInner(e))}localsInner(e){if(this==Pi)return lo;if(e.inlineContent||!this.local.some(Qo.is))return this.local;let r=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof Qo||r.push(this.local[s]);return r}}Cn.empty=new Cn([],[]),Cn.removeOverlap=_l;const Pi=Cn.empty;class Fo{constructor(e){this.members=e}map(e,r){const s=this.members.map(l=>l.map(e,r,da));return Fo.from(s)}forChild(e,r){if(r.isLeaf)return Cn.empty;let s=[];for(let l=0;l<this.members.length;l++){let u=this.members[l].forChild(e,r);u!=Pi&&(u instanceof Fo?s=s.concat(u.members):s.push(u))}return Fo.from(s)}eq(e){if(!(e instanceof Fo)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,s=!0;for(let l=0;l<this.members.length;l++){let u=this.members[l].localsInner(e);if(u.length)if(r){s&&(r=r.slice(),s=!1);for(let f=0;f<u.length;f++)r.push(u[f])}else r=u}return r?_l(s?r:r.sort(co)):lo}static from(e){switch(e.length){case 0:return Pi;case 1:return e[0];default:return new Fo(e.every(r=>r instanceof Cn)?e:e.reduce((r,s)=>r.concat(s instanceof Cn?s:s.members),[]))}}}function xa(o,e){if(!e||!o.length)return o;let r=[];for(let s=0;s<o.length;s++){let l=o[s];r.push(new Yi(l.from+e,l.to+e,l.type))}return r}function hu(o,e,r){if(e.isLeaf)return null;let s=r+e.nodeSize,l=null;for(let f,u=0;u<o.length;u++)(f=o[u])&&f.from>r&&f.to<s&&((l||(l=[])).push(f),o[u]=null);return l}function fu(o){let e=[];for(let r=0;r<o.length;r++)null!=o[r]&&e.push(o[r]);return e}function Da(o,e,r,s){let l=[],u=!1;e.forEach((g,x)=>{let R=hu(o,g,x+r);if(R){u=!0;let V=Da(R,g,r+x+1,s);V!=Pi&&l.push(x,x+g.nodeSize,V)}});let f=xa(u?fu(o):o,-r).sort(co);for(let g=0;g<f.length;g++)f[g].type.valid(e,f[g])||(s.onRemove&&s.onRemove(f[g].spec),f.splice(g--,1));return f.length||l.length?new Cn(f,l):Pi}function co(o,e){return o.from-e.from||o.to-e.to}function _l(o){let e=o;for(let r=0;r<e.length-1;r++){let s=e[r];if(s.from!=s.to)for(let l=r+1;l<e.length;l++){let u=e[l];if(u.from!=s.from){u.from<s.to&&(e==o&&(e=o.slice()),e[r]=s.copy(s.from,u.from),ba(e,l,s.copy(u.from,s.to)));break}u.to!=s.to&&(e==o&&(e=o.slice()),e[l]=u.copy(u.from,s.to),ba(e,l+1,u.copy(s.to,u.to)))}}return e}function ba(o,e,r){for(;e<o.length&&co(r,o[e])>0;)e++;o.splice(e,0,r)}function ac(o){let e=[];return o.someProp("decorations",r=>{let s=r(o.state);s&&s!=Pi&&e.push(s)}),o.cursorWrapper&&e.push(Cn.create(o.state.doc,[o.cursorWrapper.deco])),Fo.from(e)}const pu={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Wa=ir&&qe<=11;class Cl{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class gu{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Cl,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let l=0;l<s.length;l++)this.queue.push(s[l]);ir&&qe<=11&&s.some(l=>"childList"==l.type&&l.removedNodes.length||"characterData"==l.type&&l.oldValue.length>l.target.nodeValue.length)?this.flushSoon():this.flush()}),Wa&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,pu)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Zo(this.view)){if(this.suppressingSelectionUpdates)return ns(this.view);if(ir&&qe<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&an(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let s,r=new Set;for(let u=e.focusNode;u;u=ji(u))r.add(u);for(let u=e.anchorNode;u;u=ji(u))if(r.has(u)){s=u;break}let l=s&&this.view.docView.nearestDesc(s);return l&&l.ignoreMutation({type:"selection",target:3==s.nodeType?s.parentNode:s})?(this.setCurSelection(),!0):void 0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.observer?this.observer.takeRecords():[];this.queue.length&&(r=this.queue.concat(r),this.queue.length=0);let s=e.domSelectionRange(),l=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&Zo(e)&&!this.ignoreSelectionChange(s),u=-1,f=-1,g=!1,x=[];if(e.editable)for(let V=0;V<r.length;V++){let ee=this.registerMutation(r[V],x);ee&&(u=u<0?ee.from:Math.min(ee.from,u),f=f<0?ee.to:Math.max(ee.to,f),ee.typeOver&&(g=!0))}if(Gt&&x.length>1){let V=x.filter(ee=>"BR"==ee.nodeName);if(2==V.length){let ee=V[0],ae=V[1];ee.parentNode&&ee.parentNode.parentNode==ae.parentNode?ae.remove():ee.remove()}}let R=null;u<0&&l&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Zr(s)&&(R=no(e))&&R.eq(Yt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ns(e),this.currentSelection.set(s),e.scrollToSelection()):(u>-1||l)&&(u>-1&&(e.docView.markDirty(u,f),function Ea(o){if(!mu.has(o)&&(mu.set(o,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(o.dom).whiteSpace))){if(o.requiresGeckoHackNode=Gt,yu)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yu=!0}}(e)),this.handleDOMChange(u,f,g,x),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(s)||ns(e),this.currentSelection.set(s))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let s=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(s==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style"))||!s||s.ignoreMutation(e))return null;if("childList"==e.type){for(let V=0;V<e.addedNodes.length;V++)r.push(e.addedNodes[V]);if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(e.target))return{from:s.posBefore,to:s.posAfter};let l=e.previousSibling,u=e.nextSibling;if(ir&&qe<=11&&e.addedNodes.length)for(let V=0;V<e.addedNodes.length;V++){let{previousSibling:ee,nextSibling:ae}=e.addedNodes[V];(!ee||Array.prototype.indexOf.call(e.addedNodes,ee)<0)&&(l=ee),(!ae||Array.prototype.indexOf.call(e.addedNodes,ae)<0)&&(u=ae)}let f=l&&l.parentNode==e.target?Pn(l)+1:0,g=s.localPosFromDOM(e.target,f,-1),x=u&&u.parentNode==e.target?Pn(u):e.target.childNodes.length;return{from:g,to:s.localPosFromDOM(e.target,x,1)}}return"attributes"==e.type?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:{from:s.posAtStart,to:s.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let mu=new WeakMap,yu=!1;function Ig(o){let e=o.pmViewDesc;if(e)return e.parseRule();if("BR"==o.nodeName&&o.parentNode){if(N&&/^(ul|ol)$/i.test(o.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}if(o.parentNode.lastChild==o||N&&/^(tr|table)$/i.test(o.parentNode.nodeName))return{ignore:!0}}else if("IMG"==o.nodeName&&o.getAttribute("mark-placeholder"))return{ignore:!0};return null}function wu(o,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:hs(o,e.resolve(r.anchor),e.resolve(r.head))}function lc(o,e,r){let s=o.depth,l=e?o.end():o.pos;for(;s>0&&(e||o.indexAfter(s)==o.node(s).childCount);)s--,l++,e=!1;if(r){let u=o.node(s).maybeChild(o.indexAfter(s));for(;u&&!u.isLeaf;)u=u.firstChild,l++}return l}class _u{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Ro,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(Ya),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ah(this),uc(this),this.nodeViews=Cu(this),this.docView=Ai(this.state.doc,Th(this),ac(this),this.dom,this),this.domObserver=new gu(this,(s,l,u,f)=>function vu(o,e,r,s,l){if(e<0){let In=o.input.lastSelectionTime>Date.now()-50?o.input.lastSelectionOrigin:null,Ks=no(o,In);if(Ks&&!o.state.selection.eq(Ks)){if(yn&&j&&13===o.input.lastKeyCode&&Date.now()-100<o.input.lastKeyCodeTime&&o.someProp("handleKeyDown",ap=>ap(o,Ot(13,"Enter"))))return;let hl=o.state.tr.setSelection(Ks);"pointer"==In?hl.setMeta("pointer",!0):"key"==In&&hl.scrollIntoView(),o.dispatch(hl)}return}let u=o.state.doc.resolve(e),f=u.sharedDepth(r);e=u.before(f+1),r=o.state.doc.resolve(r).after(f+1);let ee,ae,g=o.state.selection,x=function bh(o,e,r){let R,{node:s,fromOffset:l,toOffset:u,from:f,to:g}=o.docView.parseRange(e,r),x=o.domSelectionRange(),V=x.anchorNode;if(V&&o.dom.contains(1==V.nodeType?V:V.parentNode)&&(R=[{node:V,offset:x.anchorOffset}],Zr(x)||R.push({node:x.focusNode,offset:x.focusOffset})),yn&&8===o.input.lastKeyCode)for(let Ft=u;Ft>l;Ft--){let vn=s.childNodes[Ft-1],Ys=vn.pmViewDesc;if("BR"==vn.nodeName&&!Ys){u=Ft;break}if(!Ys||Ys.size)break}let ee=o.state.doc,ae=o.someProp("domParser")||Le.fromSchema(o.state.schema),fe=ee.resolve(f),Re=null,ot=ae.parse(s,{topNode:fe.parent,topMatch:fe.parent.contentMatchAt(fe.index()),topOpen:!0,from:l,to:u,preserveWhitespace:"pre"!=fe.parent.type.whitespace||"full",findPositions:R,ruleFromNode:Ig,context:fe});if(R&&null!=R[0].pos){let Ft=R[0].pos,vn=R[1]&&R[1].pos;null==vn&&(vn=Ft),Re={anchor:Ft+f,head:vn+f}}return{doc:ot,sel:Re,from:f,to:g}}(o,e,r),R=o.state.doc,V=R.slice(x.from,x.to);8===o.input.lastKeyCode&&Date.now()-100<o.input.lastKeyCodeTime?(ee=o.state.selection.to,ae="end"):(ee=o.state.selection.from,ae="start"),o.input.lastKeyCode=null;let fe=function Mh(o,e,r,s,l){let u=o.findDiffStart(e,r);if(null==u)return null;let{a:f,b:g}=o.findDiffEnd(e,r+o.size,r+e.size);return"end"==l&&(s-=f+Math.max(0,u-Math.min(f,g))-u),f<u&&o.size<e.size?(u-=s<=u&&s>=f?u-s:0,g=u+(g-f),f=u):g<u&&(u-=s<=u&&s>=g?u-s:0,f=u+(f-g),g=u),{start:u,endA:f,endB:g}}(V.content,x.doc.content,x.from,ee,ae);if((I&&o.input.lastIOSEnter>Date.now()-225||j)&&l.some(In=>"DIV"==In.nodeName||"P"==In.nodeName||"LI"==In.nodeName)&&(!fe||fe.endA>=fe.endB)&&o.someProp("handleKeyDown",In=>In(o,Ot(13,"Enter"))))return void(o.input.lastIOSEnter=0);if(!fe){if(!(s&&g instanceof fn&&!g.empty&&g.$head.sameParent(g.$anchor))||o.composing||x.sel&&x.sel.anchor!=x.sel.head){if(x.sel){let In=wu(o,o.state.doc,x.sel);In&&!In.eq(o.state.selection)&&o.dispatch(o.state.tr.setSelection(In))}return}fe={start:g.from,endA:g.to,endB:g.to}}if(yn&&o.cursorWrapper&&x.sel&&x.sel.anchor==o.cursorWrapper.deco.from&&x.sel.head==x.sel.anchor){let In=fe.endB-fe.start;x.sel={anchor:x.sel.anchor+In,head:x.sel.anchor+In}}o.input.domChangeCount++,o.state.selection.from<o.state.selection.to&&fe.start==fe.endB&&o.state.selection instanceof fn&&(fe.start>o.state.selection.from&&fe.start<=o.state.selection.from+2&&o.state.selection.from>=x.from?fe.start=o.state.selection.from:fe.endA<o.state.selection.to&&fe.endA>=o.state.selection.to-2&&o.state.selection.to<=x.to&&(fe.endB+=o.state.selection.to-fe.endA,fe.endA=o.state.selection.to)),ir&&qe<=11&&fe.endB==fe.start+1&&fe.endA==fe.start&&fe.start>x.from&&" \xa0"==x.doc.textBetween(fe.start-x.from-1,fe.start-x.from+1)&&(fe.start--,fe.endA--,fe.endB--);let Ys,Re=x.doc.resolveNoCache(fe.start-x.from),ot=x.doc.resolveNoCache(fe.endB-x.from),Ft=R.resolve(fe.start),vn=Re.sameParent(ot)&&Re.parent.inlineContent&&Ft.end()>=fe.endA;if((I&&o.input.lastIOSEnter>Date.now()-225&&(!vn||l.some(In=>"DIV"==In.nodeName||"P"==In.nodeName))||!vn&&Re.pos<x.doc.content.size&&(Ys=Yt.findFrom(x.doc.resolve(Re.pos+1),1,!0))&&Ys.head==ot.pos)&&o.someProp("handleKeyDown",In=>In(o,Ot(13,"Enter"))))return void(o.input.lastIOSEnter=0);if(o.state.selection.anchor>fe.start&&function Eh(o,e,r,s,l){if(!s.parent.isTextblock||r-e<=l.pos-s.pos||lc(s,!0,!1)<l.pos)return!1;let u=o.resolve(e);if(u.parentOffset<u.parent.content.size||!u.parent.isTextblock)return!1;let f=o.resolve(lc(u,!0,!0));return!(!f.parent.isTextblock||f.pos>r||lc(f,!0,!1)<r)&&s.parent.content.cut(s.parentOffset).eq(f.parent.content)}(R,fe.start,fe.endA,Re,ot)&&o.someProp("handleKeyDown",In=>In(o,Ot(8,"Backspace"))))return void(j&&yn&&o.domObserver.suppressSelectionUpdates());yn&&j&&fe.endB==fe.start&&(o.input.lastAndroidDelete=Date.now()),j&&!vn&&Re.start()!=ot.start()&&0==ot.parentOffset&&Re.depth==ot.depth&&x.sel&&x.sel.anchor==x.sel.head&&x.sel.head==fe.endA&&(fe.endB-=2,ot=x.doc.resolveNoCache(fe.endB-x.from),setTimeout(()=>{o.someProp("handleKeyDown",function(In){return In(o,Ot(13,"Enter"))})},20));let go,Gd,Jc,As=fe.start,Ha=fe.endA;if(vn)if(Re.pos==ot.pos)ir&&qe<=11&&0==Re.parentOffset&&(o.domObserver.suppressSelectionUpdates(),setTimeout(()=>ns(o),20)),go=o.state.tr.delete(As,Ha),Gd=R.resolve(fe.start).marksAcross(R.resolve(fe.endA));else if(fe.endA==fe.endB&&(Jc=function Og(o,e){let f,g,x,r=o.firstChild.marks,s=e.firstChild.marks,l=r,u=s;for(let V=0;V<s.length;V++)l=s[V].removeFromSet(l);for(let V=0;V<r.length;V++)u=r[V].removeFromSet(u);if(1==l.length&&0==u.length)g=l[0],f="add",x=V=>V.mark(g.addToSet(V.marks));else{if(0!=l.length||1!=u.length)return null;g=u[0],f="remove",x=V=>V.mark(g.removeFromSet(V.marks))}let R=[];for(let V=0;V<e.childCount;V++)R.push(x(e.child(V)));if(ue.from(R).eq(o))return{mark:g,type:f}}(Re.parent.content.cut(Re.parentOffset,ot.parentOffset),Ft.parent.content.cut(Ft.parentOffset,fe.endA-Ft.start()))))go=o.state.tr,"add"==Jc.type?go.addMark(As,Ha,Jc.mark):go.removeMark(As,Ha,Jc.mark);else if(Re.parent.child(Re.index()).isText&&Re.index()==ot.index()-(ot.textOffset?0:1)){let In=Re.parent.textBetween(Re.parentOffset,ot.parentOffset);if(o.someProp("handleTextInput",Ks=>Ks(o,As,Ha,In)))return;go=o.state.tr.insertText(In,As,Ha)}if(go||(go=o.state.tr.replace(As,Ha,x.doc.slice(fe.start-x.from,fe.endB-x.from))),x.sel){let In=wu(o,go.doc,x.sel);In&&!(yn&&j&&o.composing&&In.empty&&(fe.start!=fe.endB||o.input.lastAndroidDelete<Date.now()-100)&&(In.head==As||In.head==go.mapping.map(Ha)-1)||ir&&In.empty&&In.head==As)&&go.setSelection(In)}Gd&&go.ensureMarks(Gd),o.dispatch(go.scrollIntoView())}(this,s,l,u,f)),this.domObserver.start(),function Zn(o){for(let e in gr){let r=gr[e];o.dom.addEventListener(e,o.input.eventHandlers[e]=s=>{Rt(o,s)&&!jt(o,s)&&(o.editable||!(s.type in kn))&&r(o,s)},vl[e]?{passive:!0}:void 0)}N&&o.dom.addEventListener("input",()=>null),Nt(o)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Nt(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Ya),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let s in this._props)r[s]=this._props[s];r.state=this.state;for(let s in e)r[s]=e[s];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){let s=this.state,l=!1,u=!1;e.storedMarks&&this.composing&&(jn(this),u=!0),this.state=e;let f=s.plugins!=e.plugins||this._props.plugins!=r.plugins;if(f||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let ae=Cu(this);(function xu(o,e){let r=0,s=0;for(let l in o){if(o[l]!=e[l])return!0;r++}for(let l in e)s++;return r!=s})(ae,this.nodeViews)&&(this.nodeViews=ae,l=!0)}(f||r.handleDOMEvents!=this._props.handleDOMEvents)&&Nt(this),this.editable=Ah(this),uc(this);let g=ac(this),x=Th(this),R=s.plugins==e.plugins||s.doc.eq(e.doc)?e.scrollToSelection>s.scrollToSelection?"to selection":"preserve":"reset",V=l||!this.docView.matchesNode(e.doc,x,g);(V||!e.selection.eq(s.selection))&&(u=!0);let ee="preserve"==R&&u&&null==this.dom.style.overflowAnchor&&function ci(o){let s,l,e=o.dom.getBoundingClientRect(),r=Math.max(0,e.top);for(let u=(e.left+e.right)/2,f=r+1;f<Math.min(innerHeight,e.bottom);f+=5){let g=o.root.elementFromPoint(u,f);if(!g||g==o.dom||!o.dom.contains(g))continue;let x=g.getBoundingClientRect();if(x.top>=r-20){s=g,l=x.top;break}}return{refDOM:s,refTop:l,stack:Bs(o.dom)}}(this);if(u){this.domObserver.stop();let ae=V&&(ir||yn)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&function dc(o,e){let r=Math.min(o.$anchor.sharedDepth(o.head),e.$anchor.sharedDepth(e.head));return o.$anchor.start(r)!=e.$anchor.start(r)}(s.selection,e.selection);if(V){let fe=yn?this.trackWrites=this.domSelectionRange().focusNode:null;(l||!this.docView.update(e.doc,x,g,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Ai(e.doc,x,g,this.dom,this)),fe&&!this.trackWrites&&(ae=!0)}ae||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function ca(o){let e=o.docView.domFromPos(o.state.selection.anchor,0),r=o.domSelectionRange();return an(e.node,e.offset,r.anchorNode,r.anchorOffset)}(this))?ns(this,ae):(so(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),"reset"==R?this.dom.scrollTop=0:"to selection"==R?this.scrollToSelection():ee&&function _s({refDOM:o,refTop:e,stack:r}){let s=o?o.getBoundingClientRect().top:0;Ti(r,0==s?0:s-e)}(ee)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Vt){let r=this.docView.domAfterPos(this.state.selection.from);1==r.nodeType&&En(this,r.getBoundingClientRect(),e)}else En(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let r=0;r<this.pluginViews.length;r++){let s=this.pluginViews[r];s.update&&s.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let s=this.directPlugins[r];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let s=this.state.plugins[r];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}}someProp(e,r){let l,s=this._props&&this._props[e];if(null!=s&&(l=r?r(s):s))return l;for(let f=0;f<this.directPlugins.length;f++){let g=this.directPlugins[f].props[e];if(null!=g&&(l=r?r(g):g))return l}let u=this.state.plugins;if(u)for(let f=0;f<u.length;f++){let g=u[f].props[e];if(null!=g&&(l=r?r(g):g))return l}}hasFocus(){if(ir){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function vo(o){if(o.setActive)return o.setActive();if(Cs)return o.focus(Cs);let e=Bs(o);o.focus(null==Cs?{get preventScroll(){return Cs={preventScroll:!0},!0}}:void 0),Cs||(Cs=!1,Ti(e,0))}(this.dom),ns(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let r=this.dom.parentNode;r;r=r.parentNode)if(9==r.nodeType||11==r.nodeType&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r;return e||document}posAtCoords(e){return Qs(this,e)}coordsAtPos(e,r=1){return Xs(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,s=-1){let l=this.docView.posFromDOM(e,r,s);if(null==l)throw new RangeError("DOM position not inside the editor");return l}endOfTextblock(e,r){return function _n(o,e,r){return ke==e&&ze==r?wt:(ke=e,ze=r,wt="up"==r||"down"==r?function A(o,e,r){let s=e.selection,l="up"==r?s.$from:s.$to;return B(o,e,()=>{let{node:u}=o.docView.domFromPos(l.pos,"up"==r?-1:1);for(;;){let g=o.docView.nearestDesc(u,!0);if(!g)break;if(g.node.isBlock){u=g.contentDOM||g.dom;break}u=g.dom.parentNode}let f=Xs(o,l.pos,1);for(let g=u.firstChild;g;g=g.nextSibling){let x;if(1==g.nodeType)x=g.getClientRects();else{if(3!=g.nodeType)continue;x=kr(g,0,g.nodeValue.length).getClientRects()}for(let R=0;R<x.length;R++){let V=x[R];if(V.bottom>V.top+1&&("up"==r?f.top-V.top>2*(V.bottom-f.top):V.bottom-f.bottom>2*(f.bottom-V.top)))return!1}}return!0})}(o,e,r):function re(o,e,r){let{$head:s}=e.selection;if(!s.parent.isTextblock)return!1;let l=s.parentOffset,u=!l,f=l==s.parent.content.size,g=o.domSelection();return W.test(s.parent.textContent)&&g.modify?B(o,e,()=>{let{focusNode:x,focusOffset:R,anchorNode:V,anchorOffset:ee}=o.domSelectionRange(),ae=g.caretBidiLevel;g.modify("move",r,"character");let fe=s.depth?o.docView.domAfterPos(s.before()):o.dom,{focusNode:Re,focusOffset:ot}=o.domSelectionRange(),Ft=Re&&!fe.contains(1==Re.nodeType?Re:Re.parentNode)||x==Re&&R==ot;try{g.collapse(V,ee),x&&(x!=V||R!=ee)&&g.extend&&g.extend(x,R)}catch{}return null!=ae&&(g.caretBidiLevel=ae),Ft}):"left"==r||"backward"==r?u:f}(o,e,r))}(this,r||this.state,e)}pasteHTML(e,r){return ao(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return ao(this,e,null,!0,r||new ClipboardEvent("paste"))}destroy(){!this.docView||(function Do(o){o.domObserver.stop();for(let e in o.input.eventHandlers)o.dom.removeEventListener(e,o.input.eventHandlers[e]);clearTimeout(o.input.composingTimeout),clearTimeout(o.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ac(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function un(o,e){!jt(o,e)&&gr[e.type]&&(o.editable||!(e.type in kn))&&gr[e.type](o,e)}(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return N&&11===this.root.nodeType&&function Ls(o){let e=o.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom?function Ga(o){let e;function r(x){x.preventDefault(),x.stopImmediatePropagation(),e=x.getTargetRanges()[0]}o.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),o.dom.removeEventListener("beforeinput",r,!0);let s=e.startContainer,l=e.startOffset,u=e.endContainer,f=e.endOffset,g=o.domAtPos(o.state.selection.anchor);return an(g.node,g.offset,u,f)&&([s,l,u,f]=[u,f,s,l]),{anchorNode:s,anchorOffset:l,focusNode:u,focusOffset:f}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Th(o){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(o.editable),e.translate="no",o.someProp("attributes",r=>{if("function"==typeof r&&(r=r(o.state)),r)for(let s in r)"class"==s&&(e.class+=" "+r[s]),"style"==s?e.style=(e.style?e.style+";":"")+r[s]:!e[s]&&"contenteditable"!=s&&"nodeName"!=s&&(e[s]=String(r[s]))}),[Yi.node(0,o.state.doc.content.size,e)]}function uc(o){if(o.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),o.cursorWrapper={dom:e,deco:Yi.widget(o.state.selection.head,e,{raw:!0,marks:o.markCursor})}}else o.cursorWrapper=null}function Ah(o){return!o.someProp("editable",e=>!1===e(o.state))}function Cu(o){let e=Object.create(null);function r(s){for(let l in s)Object.prototype.hasOwnProperty.call(e,l)||(e[l]=s[l])}return o.someProp("nodeViews",r),o.someProp("markViews",r),e}function Ya(o){if(o.spec.state||o.spec.filterTransaction||o.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ti=F(6895);const Ma=["ol",0],Ih=["ul",0],Oh=["li",0];function Rh(o){return function(e,r){let{$from:s,$to:l,node:u}=e.selection;if(u&&u.isBlock||s.depth<2||!s.sameParent(l))return!1;let f=s.node(-1);if(f.type!=o)return!1;if(0==s.parent.content.size&&s.node(-1).childCount==s.indexAfter(-1)){if(3==s.depth||s.node(-3).type!=o||s.index(-2)!=s.node(-2).childCount-1)return!1;if(r){let V=ue.empty,ee=s.index(-1)?1:s.index(-2)?2:3;for(let Ft=s.depth-ee;Ft>=s.depth-3;Ft--)V=ue.from(s.node(Ft).copy(V));let ae=s.indexAfter(-1)<s.node(-2).childCount?1:s.indexAfter(-2)<s.node(-3).childCount?2:3;V=V.append(ue.from(o.createAndFill()));let fe=s.before(s.depth-(ee-1)),Re=e.tr.replace(fe,s.after(-ae),new Xe(V,4-ee,0)),ot=-1;Re.doc.nodesBetween(fe,Re.doc.content.size,(Ft,vn)=>{if(ot>-1)return!1;Ft.isTextblock&&0==Ft.content.size&&(ot=vn+1)}),ot>-1&&Re.setSelection(Yt.near(Re.doc.resolve(ot))),r(Re.scrollIntoView())}return!0}let g=l.pos==s.end()?f.contentMatchAt(0).defaultType:null,x=e.tr.delete(s.pos,l.pos),R=g?[null,{type:g}]:void 0;return!!jr(x.doc,s.pos,2,R)&&(r&&r(x.split(s.pos,2,R).scrollIntoView()),!0)}}function bu(o){return function(e,r){let{$from:s,$to:l}=e.selection,u=s.blockRange(l,f=>f.childCount>0&&f.firstChild.type==o);return!!u&&(!r||(s.node(u.depth-1).type==o?function kh(o,e,r,s){let l=o.tr,u=s.end,f=s.$to.end(s.depth);u<f&&(l.step(new Pt(u-1,f,u,f,new Xe(ue.from(r.create(null,s.parent.copy())),1,0),1,!0)),s=new gt(l.doc.resolve(s.$from.pos),l.doc.resolve(f),s.depth));const g=ar(s);if(null==g)return!1;l.lift(s,g);let x=l.mapping.map(u,-1)-1;return hi(l.doc,x)&&l.join(x),e(l.scrollIntoView()),!0}(e,r,o,u):function Fh(o,e,r){let s=o.tr,l=r.parent;for(let fe=r.end,Re=r.endIndex-1,ot=r.startIndex;Re>ot;Re--)fe-=l.child(Re).nodeSize,s.delete(fe-1,fe+1);let u=s.doc.resolve(r.start),f=u.nodeAfter;if(s.mapping.map(r.end)!=r.start+u.nodeAfter.nodeSize)return!1;let g=0==r.startIndex,x=r.endIndex==l.childCount,R=u.node(-1),V=u.index(-1);if(!R.canReplace(V+(g?0:1),V+1,f.content.append(x?ue.empty:ue.from(l))))return!1;let ee=u.pos,ae=ee+f.nodeSize;return s.step(new Pt(ee-(g?1:0),ae+(x?1:0),ee+1,ae-1,new Xe((g?ue.empty:ue.from(l.copy(ue.empty))).append(x?ue.empty:ue.from(l.copy(ue.empty))),g?0:1,x?0:1),g?0:1)),e(s.scrollIntoView()),!0}(e,r,u)))}}function Eu(o){return function(e,r){let{$from:s,$to:l}=e.selection,u=s.blockRange(l,R=>R.childCount>0&&R.firstChild.type==o);if(!u)return!1;let f=u.startIndex;if(0==f)return!1;let g=u.parent,x=g.child(f-1);if(x.type!=o)return!1;if(r){let R=x.lastChild&&x.lastChild.type==g.type,V=ue.from(R?o.create():null),ee=new Xe(ue.from(o.create(null,ue.from(g.type.create(null,V)))),R?3:1,0),ae=u.start,fe=u.end;r(e.tr.step(new Pt(ae-(R?3:1),fe,ae,fe,ee,1,!0)).scrollIntoView())}return!0}}const Mu={link:{attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:o=>({href:o.getAttribute("href"),title:o.getAttribute("title"),target:o.getAttribute("target")})}],toDOM(o){const{href:e,title:r,target:s}=o.attrs;return["a",{href:e,title:r,target:s},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:o=>"normal"!==o.style.fontWeight&&null},{style:"font-weight",getAttrs:o=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(o)&&null}],toDOM:()=>["strong",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},u:{parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM:()=>["u",0]},s:{parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM:()=>["s",0]},text_color:{attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:o=>({color:o})}],toDOM(o){const{color:e}=o.attrs;return["span",{style:`color:${e};`},0]}},text_background_color:{attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:o=>({backgroundColor:o})}],toDOM(o){const{backgroundColor:e}=o.attrs;return["span",{style:`background-color:${e};`},0]}}},Ug={doc:{content:"block+"},text:{group:"inline"},paragraph:{content:"inline*",group:"block",attrs:{align:{default:null}},parseDOM:[{tag:"p",getAttrs(o){const{textAlign:e}=o.style;return{align:o.getAttribute("align")||e||null}}}],toDOM(o){const{align:e}=o.attrs;return["p",{style:Z({textAlign:"left"!==e?e:null})||null},0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},heading:{attrs:{level:{default:1},align:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(o){const{textAlign:e}=o.style;return{level:1,align:o.getAttribute("align")||e||null}}},{tag:"h2",getAttrs(o){const{textAlign:e}=o.style;return{level:2,align:o.getAttribute("align")||e||null}}},{tag:"h3",getAttrs(o){const{textAlign:e}=o.style;return{level:3,align:o.getAttribute("align")||e||null}}},{tag:"h4",getAttrs(o){const{textAlign:e}=o.style;return{level:4,align:o.getAttribute("align")||e||null}}},{tag:"h5",getAttrs(o){const{textAlign:e}=o.style;return{level:5,align:o.getAttribute("align")||e||null}}},{tag:"h6",getAttrs(o){const{textAlign:e}=o.style;return{level:6,align:o.getAttribute("align")||e||null}}}],toDOM(o){const{level:e,align:r}=o.attrs;return[`h${e}`,{style:Z({textAlign:"left"!==r?r:null})||null},0]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:o=>({src:o.getAttribute("src"),title:o.getAttribute("title"),alt:o.getAttribute("alt"),width:o.getAttribute("width")})}],toDOM(o){const{src:e,alt:r,title:s,width:l}=o.attrs;return["img",{src:e,alt:r,title:s,width:l}]}},list_item:{...{parseDOM:[{tag:"li"}],toDOM:()=>Oh,defining:!0},content:"paragraph block*"},ordered_list:{...{attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:o=>({order:o.hasAttribute("start")?+o.getAttribute("start"):1})}],toDOM:o=>1==o.attrs.order?Ma:["ol",{start:o.attrs.order},0]},content:"list_item+",group:"block"},bullet_list:{...{parseDOM:[{tag:"ul"}],toDOM:()=>Ih},content:"list_item+",group:"block"}},Sa=new class de{constructor(e){this.cached=Object.create(null);let r=this.spec={};for(let l in e)r[l]=e[l];r.nodes=be.from(e.nodes),r.marks=be.from(e.marks||{}),this.nodes=Dr.compile(this.spec.nodes,this),this.marks=Ue.compile(this.spec.marks,this);let s=Object.create(null);for(let l in this.nodes){if(l in this.marks)throw new RangeError(l+" can not be both a node and a mark");let u=this.nodes[l],f=u.spec.content||"",g=u.spec.marks;u.contentMatch=s[f]||(s[f]=Ve.parse(f,this.nodes)),u.inlineContent=u.contentMatch.inlineContent,u.markSet="_"==g?null:g?te(this,g.split(" ")):""!=g&&u.inlineContent?null:[]}for(let l in this.marks){let u=this.marks[l],f=u.spec.excludes;u.excluded=null==f?[u]:""==f?[]:te(this,f.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,s,l){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof Dr))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(r,s,l)}text(e,r){let s=this.nodes.text;return new tt(s,s.defaultAttrs,e,Pe.setFrom(r))}mark(e,r){return"string"==typeof e&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return Je.fromJSON(this,e)}markFromJSON(e){return Pe.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}({marks:Mu,nodes:Ug}),El=(o,e)=>!o.selection.empty&&(e&&e(o.tr.deleteSelection().scrollIntoView()),!0);function Ta(o,e,r=!1){for(let s=o;s;s="start"==e?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(r&&1!=s.childCount)return!1}return!1}function Ml(o){if(!o.parent.type.spec.isolating)for(let e=o.depth-1;e>=0;e--){if(o.index(e)>0)return o.doc.resolve(o.before(e+1));if(o.node(e).type.spec.isolating)break}return null}function fc(o){if(!o.parent.type.spec.isolating)for(let e=o.depth-1;e>=0;e--){let r=o.node(e);if(o.index(e)+1<r.childCount)return o.doc.resolve(o.after(e+1));if(r.type.spec.isolating)break}return null}const Sl=(o,e)=>{let{$head:r,$anchor:s}=o.selection;return!(!r.parent.type.spec.code||!r.sameParent(s)||(e&&e(o.tr.insertText("\n").scrollIntoView()),0))};function Tl(o){for(let e=0;e<o.edgeCount;e++){let{type:r}=o.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const Nu=(o,e)=>{let{$head:r,$anchor:s}=o.selection;if(!r.parent.type.spec.code||!r.sameParent(s))return!1;let l=r.node(-1),u=r.indexAfter(-1),f=Tl(l.contentMatchAt(u));if(!f||!l.canReplaceWith(u,u,f))return!1;if(e){let g=r.after(),x=o.tr.replaceWith(g,g,f.createAndFill());x.setSelection(Yt.near(x.doc.resolve(g),1)),e(x.scrollIntoView())}return!0},Pu=(o,e)=>{let r=o.selection,{$from:s,$to:l}=r;if(r instanceof lr||s.parent.inlineContent||l.parent.inlineContent)return!1;let u=Tl(l.parent.contentMatchAt(l.indexAfter()));if(!u||!u.isTextblock)return!1;if(e){let f=(!s.parentOffset&&l.index()<l.parent.childCount?s:l).pos,g=o.tr.insert(f,u.createAndFill());g.setSelection(fn.create(g.doc,f+1)),e(g.scrollIntoView())}return!0},Ru=(o,e)=>{let{$cursor:r}=o.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let u=r.before();if(jr(o.doc,u))return e&&e(o.tr.split(u).scrollIntoView()),!0}let s=r.blockRange(),l=s&&ar(s);return null!=l&&(e&&e(o.tr.lift(s,l).scrollIntoView()),!0)},pc=function Gh(o){return(e,r)=>{let{$from:s,$to:l}=e.selection;if(e.selection instanceof Vt&&e.selection.node.isBlock)return!(!s.parentOffset||!jr(e.doc,s.pos)||(r&&r(e.tr.split(s.pos).scrollIntoView()),0));if(!s.parent.isBlock)return!1;if(r){let u=l.parentOffset==l.parent.content.size,f=e.tr;(e.selection instanceof fn||e.selection instanceof lr)&&f.deleteSelection();let g=0==s.depth?null:Tl(s.node(-1).contentMatchAt(s.indexAfter(-1))),x=o&&o(l.parent,u),R=x?[x]:u&&g?[{type:g}]:void 0,V=jr(f.doc,f.mapping.map(s.pos),1,R);if(!R&&!V&&jr(f.doc,f.mapping.map(s.pos),1,g?[{type:g}]:void 0)&&(g&&(R=[{type:g}]),V=!0),V&&(f.split(f.mapping.map(s.pos),1,R),!u&&!s.parentOffset&&s.parent.type!=g)){let ee=f.mapping.map(s.before()),ae=f.doc.resolve(ee);g&&s.node(-1).canReplaceWith(ae.index(),ae.index()+1,g)&&f.setNodeMarkup(f.mapping.map(s.before()),g)}r(f.scrollIntoView())}return!0}}();function mc(o,e,r){let u,f,s=e.nodeBefore,l=e.nodeAfter;if(s.type.spec.isolating||l.type.spec.isolating)return!1;if(function gc(o,e,r){let s=e.nodeBefore,l=e.nodeAfter,u=e.index();return!(!(s&&l&&s.type.compatibleContent(l.type))||(!s.content.size&&e.parent.canReplace(u-1,u)?(r&&r(o.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(u,u+1)||!l.isTextblock&&!hi(o.doc,e.pos)||(r&&r(o.tr.clearIncompatible(e.pos,s.type,s.contentMatchAt(s.childCount)).join(e.pos).scrollIntoView()),0)))}(o,e,r))return!0;let g=e.parent.canReplace(e.index(),e.index()+1);if(g&&(u=(f=s.contentMatchAt(s.childCount)).findWrapping(l.type))&&f.matchType(u[0]||l.type).validEnd){if(r){let ee=e.pos+l.nodeSize,ae=ue.empty;for(let ot=u.length-1;ot>=0;ot--)ae=ue.from(u[ot].create(null,ae));ae=ue.from(s.copy(ae));let fe=o.tr.step(new Pt(e.pos-1,ee,e.pos,ee,new Xe(ae,1,0),u.length,!0)),Re=ee+2*u.length;hi(fe.doc,Re)&&fe.join(Re),r(fe.scrollIntoView())}return!0}let x=Yt.findFrom(e,1),R=x&&x.$from.blockRange(x.$to),V=R&&ar(R);if(null!=V&&V>=e.depth)return r&&r(o.tr.lift(R,V).scrollIntoView()),!0;if(g&&Ta(l,"start",!0)&&Ta(s,"end")){let ee=s,ae=[];for(;ae.push(ee),!ee.isTextblock;)ee=ee.lastChild;let fe=l,Re=1;for(;!fe.isTextblock;fe=fe.firstChild)Re++;if(ee.canReplace(ee.childCount,ee.childCount,fe.content)){if(r){let ot=ue.empty;for(let vn=ae.length-1;vn>=0;vn--)ot=ue.from(ae[vn].copy(ot));r(o.tr.step(new Pt(e.pos-ae.length,e.pos+l.nodeSize,e.pos+Re,e.pos+l.nodeSize-Re,new Xe(ot,ae.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function yc(o){return function(e,r){let s=e.selection,l=o<0?s.$from:s.$to,u=l.depth;for(;l.node(u).isInline;){if(!u)return!1;u--}return!!l.node(u).isTextblock&&(r&&r(e.tr.setSelection(fn.create(e.doc,o<0?l.start(u):l.end(u)))),!0)}}const ku=yc(-1),Yh=yc(1);function Al(o,e=null){return function(r,s){let l=!1;for(let u=0;u<r.selection.ranges.length&&!l;u++){let{$from:{pos:f},$to:{pos:g}}=r.selection.ranges[u];r.doc.nodesBetween(f,g,(x,R)=>{if(l)return!1;if(x.isTextblock&&!x.hasMarkup(o,e))if(x.type==o)l=!0;else{let V=r.doc.resolve(R),ee=V.index();l=V.parent.canReplaceWith(ee,ee+1,o)}})}if(!l)return!1;if(s){let u=r.tr;for(let f=0;f<r.selection.ranges.length;f++){let{$from:{pos:g},$to:{pos:x}}=r.selection.ranges[f];u.setBlockType(g,x,o,e)}s(u.scrollIntoView())}return!0}}function Xa(o,e=null){return function(r,s){let{empty:l,$cursor:u,ranges:f}=r.selection;if(l&&!u||!function vc(o,e,r){for(let s=0;s<e.length;s++){let{$from:l,$to:u}=e[s],f=0==l.depth&&o.inlineContent&&o.type.allowsMarkType(r);if(o.nodesBetween(l.pos,u.pos,g=>{if(f)return!1;f=g.inlineContent&&g.type.allowsMarkType(r)}),f)return!0}return!1}(r.doc,f,o))return!1;if(s)if(u)o.isInSet(r.storedMarks||u.marks())?s(r.tr.removeStoredMark(o)):s(r.tr.addStoredMark(o.create(e)));else{let g=!1,x=r.tr;for(let R=0;!g&&R<f.length;R++){let{$from:V,$to:ee}=f[R];g=r.doc.rangeHasMark(V.pos,ee.pos,o)}for(let R=0;R<f.length;R++){let{$from:V,$to:ee}=f[R];if(g)x.removeMark(V.pos,ee.pos,o);else{let ae=V.pos,fe=ee.pos,Re=V.nodeAfter,ot=ee.nodeBefore,Ft=Re&&Re.isText?/^\s*/.exec(Re.text)[0].length:0,vn=ot&&ot.isText?/\s*$/.exec(ot.text)[0].length:0;ae+Ft<fe&&(ae+=Ft,fe-=vn),x.addMark(ae,fe,o.create(e))}}s(x.scrollIntoView())}return!0}}function Aa(...o){return function(e,r,s){for(let l=0;l<o.length;l++)if(o[l](e,r,s))return!0;return!1}}let Il=Aa(El,(o,e,r)=>{let s=function Uh(o,e){let{$cursor:r}=o.selection;return!r||(e?!e.endOfTextblock("backward",o):r.parentOffset>0)?null:r}(o,r);if(!s)return!1;let l=Ml(s);if(!l){let f=s.blockRange(),g=f&&ar(f);return null!=g&&(e&&e(o.tr.lift(f,g).scrollIntoView()),!0)}let u=l.nodeBefore;if(!u.type.spec.isolating&&mc(o,l,e))return!0;if(0==s.parent.content.size&&(Ta(u,"end")||Vt.isSelectable(u))){let f=wr(o.doc,s.before(),s.after(),Xe.empty);if(f&&f.slice.size<f.to-f.from){if(e){let g=o.tr.step(f);g.setSelection(Ta(u,"end")?Yt.findFrom(g.doc.resolve(g.mapping.map(l.pos,-1)),-1):Vt.create(g.doc,l.pos-u.nodeSize)),e(g.scrollIntoView())}return!0}}return!(!u.isAtom||l.depth!=s.depth-1||(e&&e(o.tr.delete(l.pos-u.nodeSize,l.pos).scrollIntoView()),0))},(o,e,r)=>{let{$head:s,empty:l}=o.selection,u=s;if(!l)return!1;if(s.parent.isTextblock){if(r?!r.endOfTextblock("backward",o):s.parentOffset>0)return!1;u=Ml(s)}let f=u&&u.nodeBefore;return!(!f||!Vt.isSelectable(f)||(e&&e(o.tr.setSelection(Vt.create(o.doc,u.pos-f.nodeSize)).scrollIntoView()),0))}),ea=Aa(El,(o,e,r)=>{let s=function Ja(o,e){let{$cursor:r}=o.selection;return!r||(e?!e.endOfTextblock("forward",o):r.parentOffset<r.parent.content.size)?null:r}(o,r);if(!s)return!1;let l=fc(s);if(!l)return!1;let u=l.nodeAfter;if(mc(o,l,e))return!0;if(0==s.parent.content.size&&(Ta(u,"start")||Vt.isSelectable(u))){let f=wr(o.doc,s.before(),s.after(),Xe.empty);if(f&&f.slice.size<f.to-f.from){if(e){let g=o.tr.step(f);g.setSelection(Ta(u,"start")?Yt.findFrom(g.doc.resolve(g.mapping.map(l.pos)),1):Vt.create(g.doc,g.mapping.map(l.pos))),e(g.scrollIntoView())}return!0}}return!(!u.isAtom||l.depth!=s.depth-1||(e&&e(o.tr.delete(l.pos,l.pos+u.nodeSize).scrollIntoView()),0))},(o,e,r)=>{let{$head:s,empty:l}=o.selection,u=s;if(!l)return!1;if(s.parent.isTextblock){if(r?!r.endOfTextblock("forward",o):s.parentOffset<s.parent.content.size)return!1;u=fc(s)}let f=u&&u.nodeAfter;return!(!f||!Vt.isSelectable(f)||(e&&e(o.tr.setSelection(Vt.create(o.doc,u.pos)).scrollIntoView()),0))});const Bo={Enter:Aa(Sl,Pu,Ru,pc),"Mod-Enter":Nu,Backspace:Il,"Mod-Backspace":Il,"Shift-Backspace":Il,Delete:ea,"Mod-Delete":ea,"Mod-a":(o,e)=>(e&&e(o.tr.setSelection(new lr(o.doc))),!0)},Ol={"Ctrl-h":Bo.Backspace,"Alt-Backspace":Bo["Mod-Backspace"],"Ctrl-d":Bo.Delete,"Ctrl-Alt-Backspace":Bo["Mod-Delete"],"Alt-Delete":Bo["Mod-Delete"],"Alt-d":Bo["Mod-Delete"],"Ctrl-a":ku,"Ctrl-e":Yh};for(let o in Bo)Ol[o]=Bo[o];const qh=(typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&"darwin"==os.platform())?Ol:Bo;class uo{constructor(e,r){this.match=e,this.match=e,this.handler="string"==typeof r?function Nl(o){return function(e,r,s,l){let u=o;if(r[1]){let f=r[0].lastIndexOf(r[1]);u+=r[0].slice(f+r[1].length);let g=(s+=f)-l;g>0&&(u=r[0].slice(f-g,f)+u,s=l)}return e.tr.insertText(u,s,l)}}(r):r}}function Pl(o,e,r,s,l,u){if(o.composing)return!1;let f=o.state,g=f.doc.resolve(e);if(g.parent.type.spec.code)return!1;let x=g.parent.textBetween(Math.max(0,g.parentOffset-500),g.parentOffset,null,"\ufffc")+s;for(let R=0;R<l.length;R++){let V=l[R].match.exec(x),ee=V&&l[R].handler(f,V,e-(V[0].length-s.length),r);if(ee)return o.dispatch(ee.setMeta(u,{transform:ee,from:e,to:r,text:s})),!0}return!1}const Zh=new uo(/--$/,"\u2014"),Vu=new uo(/\.\.\.$/,"\u2026"),ef=[new uo(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new uo(/"$/,"\u201d"),new uo(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new uo(/'$/,"\u2019")];function el(o,e,r=null,s){return new uo(o,(l,u,f,g)=>{let x=r instanceof Function?r(u):r,R=l.tr.delete(f,g),ee=R.doc.resolve(f).blockRange(),ae=ee&&rr(ee,e,x);if(!ae)return null;R.wrap(ee,ae);let fe=R.doc.resolve(f-1).nodeBefore;return fe&&fe.type==e&&hi(R.doc,f-1)&&(!s||s(u,fe))&&R.join(f-1),R})}function Hu(o,e,r=null){return new uo(o,(s,l,u,f)=>{let g=s.doc.resolve(u),x=r instanceof Function?r(l):r;return g.node(-1).canReplaceWith(g.index(-1),g.indexAfter(-1),e)?s.tr.delete(u,f).setBlockType(u,u,e,x):null})}const Rl=(o,e)=>{const{from:r,$from:s,to:l,empty:u}=o.selection;return u?Boolean(e.isInSet(o.storedMarks||s.marks())):o.doc.rangeHasMark(r,l,e)},_c=(o,e,r={})=>{const{selection:s}=o,{$from:l,to:u}=s,f=((o,e)=>{for(let r=e.depth;r>0;r-=1)if(e.node(r).type===o)return e.node(r).type;return null})(e,l);return Object.entries(r).length&&f?u<=l.end()&&l.parent.hasMarkup(e,r):Boolean(f)},Uu=o=>{const e=[],{selection:{from:r,to:s}}=o;return o.doc.nodesBetween(r,s,l=>{e.push(l)}),e},Oa=(o,e,r)=>{for(const s of e){const{$from:l,$to:u}=s;let f=0===l.depth&&o.type.allowsMarkType(r);if(o.nodesBetween(l.pos,u.pos,g=>!f&&(f=g.inlineContent&&g.type.allowsMarkType(r),!0)),f)return!0}return!1},zu=(o,e,r)=>new uo(o,(s,l,u,f)=>{const{tr:g}=s,x=u;let R=f;if(l[2]){const V=u+l[0].indexOf(l[2]),ee=V+l[2].length;ee<f&&g.delete(ee,f),V>u&&g.delete(u,V),R=u+l[2].length}return g.addMark(x,R,e.create(r))}),ju=(o,e={})=>(r,s)=>{const{tr:l,selection:u}=r,{empty:f,ranges:g,$from:x,$to:R}=u;if(f&&u instanceof fn){const{$cursor:V}=u;if(!V||!Oa(r.doc,g,o)||(l.addStoredMark(o.create(e)),!l.storedMarksSet))return!1;s?.(l)}else{if(l.addMark(x.pos,R.pos,o.create(e)),!l.docChanged)return!1;s?.(l.scrollIntoView())}return!0};for(var $u=F(1481),ta={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},kl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Wu=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),rf=(typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent),typeof navigator<"u"&&/Mac/.test(navigator.platform)),Cc=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),sf=rf||Wu&&+Wu[1]<57,Ri=0;Ri<10;Ri++)ta[48+Ri]=ta[96+Ri]=String(Ri);for(Ri=1;Ri<=24;Ri++)ta[Ri+111]="F"+Ri;for(Ri=65;Ri<=90;Ri++)ta[Ri]=String.fromCharCode(Ri+32),kl[Ri]=String.fromCharCode(Ri);for(var nl in ta)kl.hasOwnProperty(nl)||(kl[nl]=ta[nl]);const Kg=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function xc(o){let s,l,u,f,e=o.split(/-(?!$)/),r=e[e.length-1];"Space"==r&&(r=" ");for(let g=0;g<e.length-1;g++){let x=e[g];if(/^(cmd|meta|m)$/i.test(x))f=!0;else if(/^a(lt)?$/i.test(x))s=!0;else if(/^(c|ctrl|control)$/i.test(x))l=!0;else if(/^s(hift)?$/i.test(x))u=!0;else{if(!/^mod$/i.test(x))throw new Error("Unrecognized modifier name: "+x);Kg?f=!0:l=!0}}return s&&(r="Alt-"+r),l&&(r="Ctrl-"+r),f&&(r="Meta-"+r),u&&(r="Shift-"+r),r}function Gu(o,e,r){return e.altKey&&(o="Alt-"+o),e.ctrlKey&&(o="Ctrl-"+o),e.metaKey&&(o="Meta-"+o),!1!==r&&e.shiftKey&&(o="Shift-"+o),o}function Dc(o){return new wn({props:{handleKeyDown:Zg(o)}})}function Zg(o){let e=function qg(o){let e=Object.create(null);for(let r in o)e[xc(r)]=o[r];return e}(o);return function(r,s){let f,l=function Yg(o){var r=!(sf&&(o.ctrlKey||o.altKey||o.metaKey)||Cc&&o.shiftKey&&o.key&&1==o.key.length||"Unidentified"==o.key)&&o.key||(o.shiftKey?kl:ta)[o.keyCode]||o.key||"Unidentified";return"Esc"==r&&(r="Escape"),"Del"==r&&(r="Delete"),"Left"==r&&(r="ArrowLeft"),"Up"==r&&(r="ArrowUp"),"Right"==r&&(r="ArrowRight"),"Down"==r&&(r="ArrowDown"),r}(s),u=1==l.length&&" "!=l,g=e[Gu(l,s,!u)];if(g&&g(r.state,r.dispatch,r))return!0;if(u&&(s.shiftKey||s.altKey||s.metaKey||l.charCodeAt(0)>127)&&(f=ta[s.keyCode])&&f!=l){let x=e[Gu(f,s,!0)];if(x&&x(r.state,r.dispatch,r))return!0}else if(u&&s.shiftKey){let x=e[Gu(l,s,!0)];if(x&&x(r.state,r.dispatch,r))return!0}return!1}}var ki=function(){};ki.prototype.append=function(e){return e.length?(e=ki.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},ki.prototype.prepend=function(e){return e.length?ki.from(e).append(this):this},ki.prototype.appendInner=function(e){return new Mc(this,e)},ki.prototype.slice=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=this.length),e>=r?ki.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))},ki.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},ki.prototype.forEach=function(e,r,s){void 0===r&&(r=0),void 0===s&&(s=this.length),r<=s?this.forEachInner(e,r,s,0):this.forEachInvertedInner(e,r,s,0)},ki.prototype.map=function(e,r,s){void 0===r&&(r=0),void 0===s&&(s=this.length);var l=[];return this.forEach(function(u,f){return l.push(e(u,f))},r,s),l},ki.from=function(e){return e instanceof ki?e:e&&e.length?new Ec(e):ki.empty};var Ec=function(o){function e(s){o.call(this),this.values=s}o&&(e.__proto__=o),(e.prototype=Object.create(o&&o.prototype)).constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(l,u){return 0==l&&u==this.length?this:new e(this.values.slice(l,u))},e.prototype.getInner=function(l){return this.values[l]},e.prototype.forEachInner=function(l,u,f,g){for(var x=u;x<f;x++)if(!1===l(this.values[x],g+x))return!1},e.prototype.forEachInvertedInner=function(l,u,f,g){for(var x=u-1;x>=f;x--)if(!1===l(this.values[x],g+x))return!1},e.prototype.leafAppend=function(l){if(this.length+l.length<=200)return new e(this.values.concat(l.flatten()))},e.prototype.leafPrepend=function(l){if(this.length+l.length<=200)return new e(l.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(ki);ki.empty=new Ec([]);var Mc=function(o){function e(r,s){o.call(this),this.left=r,this.right=s,this.length=r.length+s.length,this.depth=Math.max(r.depth,s.depth)+1}return o&&(e.__proto__=o),(e.prototype=Object.create(o&&o.prototype)).constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,l,u,f){var g=this.left.length;if(l<g&&!1===this.left.forEachInner(s,l,Math.min(u,g),f)||u>g&&!1===this.right.forEachInner(s,Math.max(l-g,0),Math.min(this.length,u)-g,f+g))return!1},e.prototype.forEachInvertedInner=function(s,l,u,f){var g=this.left.length;if(l>g&&!1===this.right.forEachInvertedInner(s,l-g,Math.max(u,g)-g,f+g)||u<g&&!1===this.left.forEachInvertedInner(s,Math.min(l,g),u,f))return!1},e.prototype.sliceInner=function(s,l){if(0==s&&l==this.length)return this;var u=this.left.length;return l<=u?this.left.slice(s,l):s>=u?this.right.slice(s-u,l-u):this.left.slice(s,u).append(this.right.slice(0,l-u))},e.prototype.leafAppend=function(s){var l=this.right.leafAppend(s);if(l)return new e(this.left,l)},e.prototype.leafPrepend=function(s){var l=this.left.leafPrepend(s);if(l)return new e(l,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e}(ki);const Sc=ki;class Ss{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(0==this.eventCount)return null;let l,u,s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}r&&(l=this.remapping(s,this.items.length),u=l.maps.length);let g,x,f=e.tr,R=[],V=[];return this.items.forEach((ee,ae)=>{if(!ee.step)return l||(l=this.remapping(s,ae+1),u=l.maps.length),u--,void V.push(ee);if(l){V.push(new Ws(ee.map));let Re,fe=ee.step.map(l.slice(u));fe&&f.maybeStep(fe).doc&&(Re=f.mapping.maps[f.mapping.maps.length-1],R.push(new Ws(Re,void 0,void 0,R.length+V.length))),u--,Re&&l.appendMap(Re,u)}else f.maybeStep(ee.step);return ee.selection?(g=l?ee.selection.map(l.slice(u)):ee.selection,x=new Ss(this.items.slice(0,s).append(V.reverse().concat(R)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:x,transform:f,selection:g}}addTransform(e,r,s,l){let u=[],f=this.eventCount,g=this.items,x=!l&&g.length?g.get(g.length-1):null;for(let V=0;V<e.steps.length;V++){let fe,ee=e.steps[V].invert(e.docs[V]),ae=new Ws(e.mapping.maps[V],ee,r);(fe=x&&x.merge(ae))&&(ae=fe,V?u.pop():g=g.slice(0,g.length-1)),u.push(ae),r&&(f++,r=void 0),l||(x=ae)}let R=f-s.depth;return R>lf&&(g=function af(o,e){let r;return o.forEach((s,l)=>{if(s.selection&&0==e--)return r=l,!1}),o.slice(r)}(g,R),f-=R),new Ss(g.append(u),f)}remapping(e,r){let s=new z;return this.items.forEach((l,u)=>{s.appendMap(l.map,null!=l.mirrorOffset&&u-l.mirrorOffset>=e?s.maps.length-l.mirrorOffset:void 0)},e,r),s}addMaps(e){return 0==this.eventCount?this:new Ss(this.items.append(e.map(r=>new Ws(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let s=[],l=Math.max(0,this.items.length-r),u=e.mapping,f=e.steps.length,g=this.eventCount;this.items.forEach(ae=>{ae.selection&&g--},l);let x=r;this.items.forEach(ae=>{let fe=u.getMirror(--x);if(null==fe)return;f=Math.min(f,fe);let Re=u.maps[fe];if(ae.step){let ot=e.steps[fe].invert(e.docs[fe]),Ft=ae.selection&&ae.selection.map(u.slice(x+1,fe));Ft&&g++,s.push(new Ws(Re,ot,Ft))}else s.push(new Ws(Re))},l);let R=[];for(let ae=r;ae<f;ae++)R.push(new Ws(u.maps[ae]));let V=this.items.slice(0,l).append(R).append(s),ee=new Ss(V,g);return ee.emptyItemCount()>500&&(ee=ee.compress(this.items.length-s.length)),ee}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),s=r.maps.length,l=[],u=0;return this.items.forEach((f,g)=>{if(g>=e)l.push(f),f.selection&&u++;else if(f.step){let x=f.step.map(r.slice(s)),R=x&&x.getMap();if(s--,R&&r.appendMap(R,s),x){let V=f.selection&&f.selection.map(r.slice(s));V&&u++;let ae,ee=new Ws(R.invert(),x,V),fe=l.length-1;(ae=l.length&&l[fe].merge(ee))?l[fe]=ae:l.push(ee)}}else f.map&&s--},this.items.length,0),new Ss(Sc.from(l.reverse()),u)}}Ss.empty=new Ss(Sc.empty,0);class Ws{constructor(e,r,s,l){this.map=e,this.step=r,this.selection=s,this.mirrorOffset=l}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Ws(r.getMap().invert(),r,this.selection)}}}class Gs{constructor(e,r,s,l){this.done=e,this.undone=r,this.prevRanges=s,this.prevTime=l}}const lf=20;function Tc(o){let e=[];return o.forEach((r,s,l,u)=>e.push(l,u)),e}function Ac(o,e){if(!o)return null;let r=[];for(let s=0;s<o.length;s+=2){let l=e.map(o[s],1),u=e.map(o[s+1],-1);l<=u&&r.push(l,u)}return r}function qu(o,e,r,s){let l=Pa(e),u=bo.get(e).spec.config,f=(s?o.undone:o.done).popEvent(e,l);if(!f)return;let g=f.selection.resolve(f.transform.doc),x=(s?o.done:o.undone).addTransform(f.transform,e.selection.getBookmark(),u,l),R=new Gs(s?x:f.remaining,s?f.remaining:x,null,0);r(f.transform.setSelection(g).setMeta(bo,{redo:s,historyState:R}).scrollIntoView())}let Ic=!1,Zu=null;function Pa(o){let e=o.plugins;if(Zu!=e){Ic=!1,Zu=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){Ic=!0;break}}return Ic}const bo=new xr("history"),Ju=new xr("closeHistory");const Xu=(o,e)=>{let r=bo.getState(o);return!(!r||0==r.done.eventCount||(e&&qu(r,o,e,!1),0))},Oc=(o,e)=>{let r=bo.getState(o);return!(!r||0==r.undone.eventCount||(e&&qu(r,o,e,!0),0))},td=["imgEl"];function Nc(o,e){if(1&o){const r=d.EpF();d.TgZ(0,"span",4)(1,"span",5),d.NdJ("mousedown",function(l){d.CHM(r);const u=d.oxw();return d.KtG(u.startResizing(l,"left"))}),d.qZA(),d.TgZ(2,"span",6),d.NdJ("mousedown",function(l){d.CHM(r);const u=d.oxw();return d.KtG(u.startResizing(l,"right"))}),d.qZA(),d.TgZ(3,"span",7),d.NdJ("mousedown",function(l){d.CHM(r);const u=d.oxw();return d.KtG(u.startResizing(l,"left"))}),d.qZA(),d.TgZ(4,"span",8),d.NdJ("mousedown",function(l){d.CHM(r);const u=d.oxw();return d.KtG(u.startResizing(l,"right"))}),d.qZA()()}}const Ki=function(o){return{"NgxEditor__Resizer--Active":o}},rl=["ngxEditor"],nd=["*"];function df(o,e){if(1&o&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&o){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.href.errors?null:r.href.errors.pattern)&&"Please enter valid url."," ")}}function hf(o,e){if(1&o&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&o){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.text.errors?null:r.text.errors.required)&&"This is required"," ")}}function rd(o,e){if(1&o){const r=d.EpF();d.TgZ(0,"div",2)(1,"form",3),d.NdJ("ngSubmit",function(l){d.CHM(r);const u=d.oxw();return d.KtG(u.insertLink(l))}),d.TgZ(2,"div",4)(3,"div",5)(4,"label",6),d._uU(5),d.qZA(),d._UZ(6,"input",7),d.YNc(7,df,2,1,"div",8),d.qZA()(),d.TgZ(8,"div",4)(9,"div",5)(10,"label",6),d._uU(11),d.qZA(),d._UZ(12,"input",9),d.YNc(13,hf,2,1,"div",8),d.qZA()(),d.TgZ(14,"div",4)(15,"div",5)(16,"label"),d._UZ(17,"input",10),d._uU(18),d.qZA()()(),d.TgZ(19,"button",11),d._uU(20),d.qZA()()()}if(2&o){const r=d.oxw();d.xp6(1),d.Q6J("formGroup",r.form),d.xp6(4),d.Oqu(r.getLabel("url")),d.xp6(2),d.Q6J("ngIf",r.href.touched&&r.href.invalid),d.xp6(4),d.Oqu(r.getLabel("text")),d.xp6(2),d.Q6J("ngIf",r.text.touched&&r.text.invalid),d.xp6(5),d.hij(" ",r.getLabel("openInNewTab")," "),d.xp6(1),d.Q6J("disabled",!r.form.valid),d.xp6(1),d.Oqu(r.getLabel("insert"))}}const ff=function(o,e){return{"NgxEditor__Dropdown--Active":o,"NgxEditor--Disabled":e}};function id(o,e){if(1&o){const r=d.EpF();d.TgZ(0,"div",4),d.NdJ("mousedown",function(l){const f=d.CHM(r).$implicit,g=d.oxw(2);return d.KtG(g.onClick(l,f))}),d._uU(1),d.qZA()}if(2&o){const r=e.$implicit,s=d.oxw(2);d.Q6J("ngClass",d.WLB(2,ff,r===s.activeItem,s.disabledItems.includes(r))),d.xp6(1),d.hij(" ",s.getName(r)," ")}}function pf(o,e){if(1&o&&(d.TgZ(0,"div",2),d.YNc(1,id,2,5,"div",3),d.qZA()),2&o){const r=d.oxw();d.xp6(1),d.Q6J("ngForOf",r.items)("ngForTrackBy",r.trackByIndex)}}function sd(o,e){if(1&o&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&o){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.src.errors?null:r.src.errors.pattern)&&"Please enter valid url."," ")}}function gf(o,e){if(1&o){const r=d.EpF();d.TgZ(0,"div",2)(1,"form",3),d.NdJ("ngSubmit",function(l){d.CHM(r);const u=d.oxw();return d.KtG(u.insertLink(l))}),d.TgZ(2,"div",4)(3,"div",5)(4,"label",6),d._uU(5),d.qZA(),d._UZ(6,"input",7),d.YNc(7,sd,2,1,"div",8),d.qZA()(),d.TgZ(8,"div",4)(9,"div",5)(10,"label",6),d._uU(11),d.qZA(),d._UZ(12,"input",9),d.qZA()(),d.TgZ(13,"div",4)(14,"div",5)(15,"label",6),d._uU(16),d.qZA(),d._UZ(17,"input",10),d.qZA()(),d.TgZ(18,"button",11),d._uU(19),d.qZA()()()}if(2&o){const r=d.oxw();d.xp6(1),d.Q6J("formGroup",r.form),d.xp6(4),d.Oqu(r.getLabel("url")),d.xp6(2),d.Q6J("ngIf",r.src.touched&&r.src.invalid),d.xp6(4),d.Oqu(r.getLabel("altText")),d.xp6(5),d.Oqu(r.getLabel("title")),d.xp6(2),d.Q6J("disabled",!r.form.valid||!r.form.dirty),d.xp6(1),d.Oqu(r.getLabel("insert"))}}const mf=function(o,e){return{backgroundColor:o,color:e}},od=function(o){return{"NgxEditor__Color--Active":o}};function ad(o,e){if(1&o){const r=d.EpF();d.TgZ(0,"button",7),d.NdJ("mousedown",function(l){const f=d.CHM(r).$implicit,g=d.oxw(3);return d.KtG(g.onColorSelect(l,f))}),d.qZA()}if(2&o){const r=e.$implicit,s=d.oxw(3);d.Q6J("ngStyle",d.WLB(3,mf,r,s.getContrastYIQ(r)))("title",r)("ngClass",d.VKq(6,od,s.activeColors.includes(r)))}}function yf(o,e){if(1&o&&(d.TgZ(0,"div",5),d.YNc(1,ad,1,8,"button",6),d.qZA()),2&o){const r=e.$implicit,s=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",r)("ngForTrackBy",s.trackByIndex)}}function Ra(o,e){if(1&o){const r=d.EpF();d.TgZ(0,"div",2),d.YNc(1,yf,2,2,"div",3),d.TgZ(2,"button",4),d.NdJ("mousedown",function(l){d.CHM(r);const u=d.oxw();return d.KtG(u.remove(l))}),d._uU(3),d.qZA()()}if(2&o){const r=d.oxw();d.xp6(1),d.Q6J("ngForOf",r.presets)("ngForTrackBy",r.trackByIndex),d.xp6(1),d.Q6J("disabled",!r.isActive),d.xp6(1),d.hij(" ",r.getLabel("remove")," ")}}function Vo(o,e){if(1&o&&d._UZ(0,"ngx-toggle-command",7),2&o){const r=d.oxw().$implicit,s=d.oxw(2);d.Tol(s.iconContainerClass),d.Q6J("toolbarItem",r)}}function vf(o,e){if(1&o&&d._UZ(0,"ngx-insert-command",7),2&o){const r=d.oxw().$implicit,s=d.oxw(2);d.Tol(s.iconContainerClass),d.Q6J("toolbarItem",r)}}function wf(o,e){if(1&o&&d._UZ(0,"ngx-link"),2&o){const r=d.oxw(3);d.Tol(r.iconContainerClass)}}function Qg(o,e){if(1&o&&d._UZ(0,"ngx-image"),2&o){const r=d.oxw(3);d.Tol(r.iconContainerClass)}}function Xg(o,e){if(1&o&&d._UZ(0,"ngx-dropdown",9),2&o){const r=e.$implicit,s=d.oxw(4);d.Tol(s.dropdownContainerClass),d.Q6J("group",r.key)("items",r.value)}}function ld(o,e){if(1&o&&(d.ynx(0),d.YNc(1,Xg,1,4,"ngx-dropdown",8),d.ALo(2,"keyvalue"),d.BQk()),2&o){const r=d.oxw().$implicit,s=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",d.lcZ(2,2,s.getDropdownItems(r)))("ngForTrackBy",s.trackByIndex)}}function em(o,e){if(1&o&&d._UZ(0,"ngx-color-picker",10),2&o){const r=d.oxw(3);d.Tol(r.iconContainerClass),d.Q6J("presets",r.presets)}}function Eo(o,e){if(1&o&&d._UZ(0,"ngx-color-picker",11),2&o){const r=d.oxw(3);d.Tol(r.iconContainerClass),d.Q6J("presets",r.presets)}}function Pc(o,e){if(1&o&&d._UZ(0,"div"),2&o){const r=d.oxw(3);d.Tol(r.seperatorClass)}}function Rc(o,e){if(1&o&&(d.ynx(0),d.YNc(1,Vo,1,3,"ngx-toggle-command",3),d.YNc(2,vf,1,3,"ngx-insert-command",3),d.YNc(3,wf,1,2,"ngx-link",4),d.YNc(4,Qg,1,2,"ngx-image",4),d.YNc(5,ld,3,4,"ng-container",2),d.YNc(6,em,1,3,"ngx-color-picker",5),d.YNc(7,Eo,1,3,"ngx-color-picker",6),d.YNc(8,Pc,1,2,"div",4),d.BQk()),2&o){const r=e.$implicit,s=e.last,l=d.oxw().last,u=d.oxw();d.xp6(1),d.Q6J("ngIf",u.toggleCommands.includes(r)),d.xp6(1),d.Q6J("ngIf",u.insertCommands.includes(r)),d.xp6(1),d.Q6J("ngIf","link"===r),d.xp6(1),d.Q6J("ngIf","image"===r),d.xp6(1),d.Q6J("ngIf",u.isDropDown(r)),d.xp6(1),d.Q6J("ngIf","text_color"===r),d.xp6(1),d.Q6J("ngIf","background_color"===r),d.xp6(1),d.Q6J("ngIf",s&&!l)}}function _f(o,e){if(1&o&&(d.ynx(0),d.YNc(1,Rc,9,8,"ng-container",1),d.BQk()),2&o){const r=e.$implicit,s=d.oxw();d.xp6(1),d.Q6J("ngForOf",r)("ngForTrackBy",s.trackByIndex)}}function cd(o,e){if(1&o&&(d.ynx(0),d.GkF(1,12),d.BQk()),2&o){const r=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",r.customMenuRef)}}const Cf=function(o,e){return{"NgxEditor--Disabled":o,"NgxEditor__MenuBar--Reverse":e}},tm=(o=!0)=>new wn({key:new xr("editable"),state:{init:()=>o,apply:(e,r)=>e.getMeta("UPDATE_EDITABLE")??r},props:{editable(e){return this.getState(e)},attributes(e){return this.getState(e)?null:{class:"NgxEditor__Content--Disabled"}}}}),Fc=o=>new wn({key:new xr("placeholder"),state:{init:()=>o??"",apply:(e,r)=>e.getMeta("UPDATE_PLACEHOLDER")??r},props:{decorations(e){const{doc:r}=e,{textContent:s,childCount:l}=r,u=this.getState(e);if(!u||l>1)return Cn.empty;const f=[];return r.descendants((x,R)=>{if(x.type.isBlock&&0===x.childCount&&0===s.length){const ae=Yi.node(R,R+x.nodeSize,{class:"NgxEditor__Placeholder","data-placeholder":u,"data-align":x.attrs.align??null});f.push(ae)}return!1}),Cn.create(r,f)}}});let Mf=(()=>{class o{constructor(){this.alt="",this.title="",this.outerWidth="",this.selected=!1,this.imageResize=new d.vpe}startResizing(r,s){r.preventDefault(),this.resizeImage(r,s)}resizeImage(r,s){const l=r.pageX,u=this.imgEl.nativeElement.clientWidth,f="left"===s,{width:g}=window.getComputedStyle(this.view.dom),x=parseInt(g,10),R=ee=>{const fe=ee.pageX-l,Re=f?u-fe:u+fe;Re>x||Re<20||(this.outerWidth=`${Re}px`)},V=ee=>{ee.preventDefault(),document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",V),this.imageResize.emit()};document.addEventListener("mousemove",R),document.addEventListener("mouseup",V)}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-image-view"]],viewQuery:function(r,s){if(1&r&&d.Gf(td,7),2&r){let l;d.iGM(l=d.CRH())&&(s.imgEl=l.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],["imgEl",""],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(r,s){1&r&&(d.TgZ(0,"span",0),d.YNc(1,Nc,5,0,"span",1),d._UZ(2,"img",2,3),d.qZA()),2&r&&(d.Udp("width",s.outerWidth),d.Q6J("ngClass",d.VKq(7,Ki,s.selected)),d.xp6(1),d.Q6J("ngIf",s.selected),d.xp6(1),d.Q6J("src",s.src,d.LSH)("alt",s.alt)("title",s.title))},dependencies:[ti.mk,ti.O5],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]}),o})();class Sf{constructor(e,r,s,l){this.updating=!1,this.handleResize=()=>{if(this.updating)return;const{state:u,dispatch:f}=this.view,{tr:g}=u,x=g.setNodeMarkup(this.getPos(),void 0,{...this.node.attrs,width:this.imageComponentRef.instance.outerWidth}),R=x.doc.resolve(this.getPos()),V=new Vt(R);x.setSelection(V),f(x)},this.applicationRef=l.get(d.z2F),this.imageComponentRef=(0,d.LMc)(Mf,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(e.attrs),this.imageComponentRef.instance.view=r,this.dom=this.imageComponentRef.location.nativeElement,this.view=r,this.node=e,this.getPos=s,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(e,r){return JSON.stringify(e)===JSON.stringify(r)}setNodeAttributes(e){this.imageComponentRef.instance.src=e.src,this.imageComponentRef.instance.alt=e.alt,this.imageComponentRef.instance.title=e.title,this.imageComponentRef.instance.outerWidth=e.width}update(e){return e.type===this.node.type&&(this.node=e,this.computeChanges(this.node.attrs,e.attrs)&&(this.updating=!0,this.setNodeAttributes(e.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}}const Af=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,hd=o=>{const e=[];return o.forEach(r=>{if(r.isText){const s=r.text;let l=0;const u=Af.exec(s);if(u){const f=u.index,g=f+u[0].length,{link:x}=r.type.schema.marks;f>0&&e.push(r.cut(l,f));const R=s.slice(f,g);e.push(r.cut(f,g).mark(x.create({href:R}).addToSet(r.marks))),l=g}l<s.length&&e.push(r.cut(l))}else e.push(r.copy(hd(r.content)))}),ue.fromArray(e)},fd={type:"doc",content:[{type:"paragraph"}]},pa=(o,e)=>{if(!o)return e.nodeFromJSON(fd);if("string"!=typeof o)return e.nodeFromJSON(o);const r=((o,e)=>{const r=e??Sa,s=document.createElement("div");return s.innerHTML=o,Le.fromSchema(r).parse(s).toJSON()})(o,e);return e.nodeFromJSON(r)};let Of=(()=>{class o{constructor(r,s,l){this.renderer=r,this.injector=s,this.elementRef=l,this.placeholder="Type Here...",this.focusOut=new d.vpe,this.focusIn=new d.vpe,this.unsubscribe=new se.x,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){!this.outputFormat&&"string"==typeof r&&(this.outputFormat="html"),this.editor.setContent(r??"")}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.setMeta("UPDATE_EDITABLE",!r),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",r)}handleChange(r){if("html"!==this.outputFormat)this.onChange(r);else{const s=((o,e)=>{const r=this.editor.schema??Sa,s=r.nodeFromJSON(o),l=Hn.fromSchema(r).serializeFragment(s.content),u=document.createElement("div");return u.appendChild(l),u.innerHTML})(r);this.onChange(s)}}setMeta(r,s){const{dispatch:l,state:{tr:u}}=this.editor.view;l(u.setMeta(r,s))}setPlaceholder(r){this.setMeta("UPDATE_PLACEHOLDER",r)}registerPlugins(){this.editor.registerPlugin(tm()),this.editor.registerPlugin(Fc(this.placeholder)),this.editor.registerPlugin(((o={})=>new wn({key:new xr("attributes"),props:{attributes:o}}))({class:"NgxEditor__Content"})),this.editor.registerPlugin((o=>new wn({key:new xr("focus"),props:{handleDOMEvents:{focus:()=>(o(),!1)}}}))(()=>{this.focusIn.emit()})),this.editor.registerPlugin((o=>new wn({key:new xr("blur"),props:{handleDOMEvents:{blur:()=>(o(),!1)}}}))(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin((o=>new wn({key:new xr("image-resize"),props:{nodeViews:{image:(e,r,s)=>new Sf(e,r,s,o)}}}))(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(new wn({key:new xr("linkify"),props:{transformPasted:o=>new Xe(hd(o.content),o.openStart,o.openEnd)}}))}ngOnInit(){if(!this.editor)throw new ge("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe((0,le.R)(this.unsubscribe)).subscribe(r=>{this.handleChange(r)})}ngOnChanges(r){r.placeholder&&!r.placeholder.isFirstChange()&&this.setPlaceholder(r.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(d.Qsj),d.Y36(d.zs3),d.Y36(d.SBq))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-editor"]],viewQuery:function(r,s){if(1&r&&d.Gf(rl,7),2&r){let l;d.iGM(l=d.CRH())&&(s.ngxEditor=l.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[d._Bn([{provide:T.JU,useExisting:(0,d.Gpc)(()=>o),multi:!0}]),d.TTD],ngContentSelectors:nd,decls:3,vars:0,consts:[[1,"NgxEditor"],["ngxEditor",""]],template:function(r,s){1&r&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA())},styles:['.NgxEditor{background:white;color:#000;background-clip:padding-box;border-radius:4px;border:1px solid rgba(0,0,0,.2);position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder:before{color:#6c757d;opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0,none}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:3px solid #ddd;margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid rgba(0,0,0,.4);border-radius:4px}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:3px;cursor:default;background-color:#fff}.NgxEditor__MenuItem{border-radius:2px;display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:30px;width:30px;transition:.3s ease-in-out}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:#e8f0fe;color:#1a73e8}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;width:100%;top:32px}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:#1a73e8;background-color:#e8f0fe}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:32px}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:32px}.NgxEditor__Popup{position:absolute;top:32px;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}\n'],encapsulation:2}),o})(),na=(()=>{class o{constructor(){this.customMenuRefChange=new se.x}setCustomMenuRef(r){this.customMenuRefChange.next(r)}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275prov=d.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class ga{constructor(e){this.name=e}apply(){return(e,r)=>{const{schema:s}=e,l=s.marks[this.name];return!!l&&ju(l)(e,r)}}toggle(){return(e,r)=>{const{schema:s}=e,l=s.marks[this.name];return!!l&&Xa(l)(e,r)}}isActive(e){const{schema:r}=e,s=r.marks[this.name];return!!s&&Rl(e,s)}canExecute(e){return this.toggle()(e)}}class sl{constructor(e=!1){this.isBulletList=!1,this.isBulletList=e}getType(e){return this.isBulletList?e.nodes.bullet_list:e.nodes.ordered_list}toggle(){return(e,r)=>{const{schema:s}=e,l=this.getType(s);return!!l&&(this.isActive(e)?bu(s.nodes.list_item)(e,r):function Du(o,e=null){return function(r,s){let{$from:l,$to:u}=r.selection,f=l.blockRange(u),g=!1,x=f;if(!f)return!1;if(f.depth>=2&&l.node(f.depth-1).type.compatibleContent(o)&&0==f.startIndex){if(0==l.index(f.depth-1))return!1;let V=r.doc.resolve(f.start-2);x=new gt(V,V,f.depth),f.endIndex<f.parent.childCount&&(f=new gt(l,r.doc.resolve(u.end(f.depth)),f.depth)),g=!0}let R=rr(x,o,e,f);return!!R&&(s&&s(function ha(o,e,r,s,l){let u=ue.empty;for(let V=r.length-1;V>=0;V--)u=ue.from(r[V].type.create(r[V].attrs,u));o.step(new Pt(e.start-(s?2:0),e.end,e.start,e.end,new Xe(u,0,0),r.length,!0));let f=0;for(let V=0;V<r.length;V++)r[V].type==l&&(f=V+1);let g=r.length-f,x=e.start+r.length-(s?2:0),R=e.parent;for(let V=e.startIndex,ee=e.endIndex,ae=!0;V<ee;V++,ae=!1)!ae&&jr(o.doc,x,g)&&(o.split(x,g),x+=2*g),x+=R.child(V).nodeSize;return o}(r.tr,f,R,g,o).scrollIntoView()),!0)}}(l)(e,r))}}isActive(e){const{schema:r}=e,s=this.getType(r);return!!s&&_c(e,s)}canExecute(e){return this.toggle()(e)}}class ra{constructor(e){this.level=e}apply(){return(e,r)=>{const{schema:s}=e,l=s.nodes.heading;return!!l&&Al(l)(e,r)}}toggle(){return(e,r)=>{const{schema:s,selection:l,doc:u}=e,f=s.nodes.heading;if(!f)return!1;const g=l.$from.before(1),R=u.nodeAt(g)?.attrs??{};return this.isActive(e)?Al(s.nodes.paragraph,R)(e,r):Al(f,{...R,level:this.level})(e,r)}}isActive(e){const{schema:r}=e,s=Uu(e),l=r.nodes.heading;if(!l)return!1;const u=[l,r.nodes.text,r.nodes.blockquote],g=s.filter(x=>u.includes(x.type)).find(x=>x.attrs.level===this.level);return Boolean(g)}canExecute(e){return this.toggle()(e)}}class ol{constructor(e){this.align=e}toggle(){return(e,r)=>{const{doc:s,selection:l,tr:u,schema:f}=e,{from:g,to:x}=l;let R=!1;return s.nodesBetween(g,x,(V,ee)=>{const ae=V.type;return[f.nodes.paragraph,f.nodes.heading].includes(ae)&&(R=!0,u.setNodeMarkup(ee,ae,{...V.attrs,align:this.align})),!0}),!!R&&(u.docChanged&&r?.(u),!0)}}isActive(e){const s=Uu(e).find(l=>l.attrs.align===this.align);return Boolean(s)}canExecute(e){return this.toggle()(e)}}const nm={strict:!0};class Fa{update(e){return(r,s)=>{const{schema:l,selection:u}=r,f=l.marks.link;return!(!f||u.empty)&&Xa(f,e)(r,s)}}insert(e,r){return(s,l)=>{const{schema:u,tr:f}=s;if(!u.marks.link)return!1;const R=u.text(e,[u.marks.link.create({href:r.href,title:r.title??e,target:r.target??"_blank"})]);return f.replaceSelectionWith(R,!1).scrollIntoView(),!!f.docChanged&&(l?.(f),!0)}}isActive(e,r=nm){if(r.strict)return!0;const{schema:s}=e,l=s.marks.link;return!!l&&Rl(e,l)}remove(e,r){return((o,e)=>{const{doc:r,selection:s,tr:l}=o,{$head:{pos:u},from:f,to:g}=s;if(f===g){const x=r.resolve(u),R=u-x.textOffset,V=R+x.parent.child(x.index()).nodeSize;l.removeMark(R,V)}else l.removeMark(f,g);return!!l.docChanged&&(e?.(l),!0)})(e,r)}canExecute(e){const r={href:""};return this.insert("Exec",r)(e)||this.update(r)(e)}}class md{insert(e,r){return(s,l)=>{const{schema:u,tr:f,selection:g}=s,x=u.nodes.image;if(!x)return!1;const R={width:null,src:e,...r};!R.width&&g instanceof Vt&&g.node.type===x&&(R.width=g.node.attrs.width),f.replaceSelectionWith(x.createAndFill(R));const V=f.doc.resolve(f.selection.anchor-f.selection.$anchor.nodeBefore.nodeSize);return f.setSelection(new Vt(V)).scrollIntoView(),!!f.docChanged&&(l?.(f),!0)}}isActive(e){const{selection:r}=e;return r instanceof Vt&&"image"===r.node.type.name}}class ya{constructor(e,r="color"){this.name=e,this.attrName=r}apply(e){return(r,s)=>{const{schema:l,selection:u,doc:f}=r,g=l.marks[this.name];if(!g)return!1;const{from:x,to:R,empty:V}=u;if(!V&&x+1===R){const ee=f.nodeAt(x);if(ee?.isAtom&&!ee.isText&&ee.isLeaf)return!1}return ju(g,e)(r,s)}}isActive(e){const{schema:r}=e,s=r.marks[this.name];return!!s&&Rl(e,s)}getActiveColors(e){if(!this.isActive(e))return[];const{schema:r}=e;return(o=>{let e=[];const{selection:r,storedMarks:s}=o,{from:l,to:u,empty:f,$from:g}=r;return f?e=s||g.marks():o.doc.nodesBetween(l,u,x=>{e=[...e,...x.marks]}),e})(e).filter(u=>u.type===r.marks[this.name]).map(u=>u.attrs[this.attrName]).filter(Boolean)}remove(){return(e,r)=>{const{schema:s}=e,l=s.marks[this.name];return!!l&&(o=l,(e,r)=>{const{tr:s,selection:l,storedMarks:u,doc:f}=e,{empty:g,ranges:x}=l;if(g&&l instanceof fn){const{$cursor:R}=l;if(!R||!Oa(e.doc,x,o))return!1;if(o.isInSet(u||R.marks()))return s.removeStoredMark(o),r?.(s),!0}else{for(const R of x){const{$from:V,$to:ee}=R;f.rangeHasMark(V.pos,ee.pos,o)&&s.removeMark(V.pos,ee.pos,o)}if(!s.docChanged)return!1;r?.(s.scrollIntoView())}return!1})(e,r);var o}}canExecute(e){return this.apply("text_color"===this.name?{color:""}:{backgroundColor:""})(e)}}const yd=["link"],Vc=new ga("strong"),wd=new ga("em"),Fl=new ga("code"),Ll=new ga("u"),_d=new ga("s"),Hc=new class gd{toggle(){return(e,r)=>{const{schema:s}=e,l=s.nodes.blockquote;return!!l&&(this.isActive(e)?((o,e)=>{let{$from:r,$to:s}=o.selection,l=r.blockRange(s),u=l&&ar(l);return null!=u&&(e&&e(o.tr.lift(l,u).scrollIntoView()),!0)})(e,r):function Fu(o,e=null){return function(r,s){let{$from:l,$to:u}=r.selection,f=l.blockRange(u),g=f&&rr(f,o,e);return!!g&&(s&&s(r.tr.wrap(f,g).scrollIntoView()),!0)}}(l)(e,r))}}isActive(e){const{schema:r}=e,s=r.nodes.blockquote;return!!s&&_c(e,s)}canExecute(e){return this.toggle()(e)}},Cd=new class ma{insert(){return(e,r)=>{const{schema:s,tr:l}=e,u=s.nodes.horizontal_rule;return!!u&&(r(l.replaceSelectionWith(u.create()).scrollIntoView()),!0)}}canExecute(e){return((o,e)=>{const{$from:r}=o.selection;for(let s=r.depth;s>=0;s-=1){const l=r.index(s);if(r.node(s).canReplaceWith(l,l,e))return!0}return!1})(e,e.schema.nodes.horizontal_rule)}},Uc=new class vd{insert(){return(e,r)=>{const{tr:s}=e,{ranges:l,empty:u}=s.selection;return u||(Object.entries(e.schema.marks).forEach(([f,g])=>{yd.includes(f)||l.forEach(x=>{s.removeMark(x.$from.pos,x.$to.pos,g)})}),r(s)),!0}}canExecute(){return!0}},al=new sl(!0),Nf=new sl(!1),xd=new ra(1),Pf=new ra(2),Rf=new ra(3),Dd=new ra(4),zc=new ra(5),bd=new ra(6),rm=new ol("left"),Ed=new ol("center"),kf=new ol("right"),Md=new ol("justify"),Ff=new Fa,Lf=new md,ho=new ya("text_color","color"),Bf=new ya("text_background_color","backgroundColor"),ll={bold:Vc,italic:wd,code:Fl,underline:Ll,strike:_d,blockquote:Hc,bullet_list:al,ordered_list:Nf,h1:xd,h2:Pf,h3:Rf,h4:Dd,h5:zc,h6:bd,align_left:rm,align_center:Ed,align_right:kf,align_justify:Md},Sd={horizontal_rule:Cd,format_clear:Uc},cl=Ff,Td=Lf,Vf=ho,Ad=Bf,jc={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"};class Hf{constructor(e={}){this.locals=jc,this.get=r=>this.locals[r]??"",this.locals={...jc,...e}}}const qf={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n',italic:'\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',underline:'\n<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>\n',strike:'\n<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n',bullet_list:'\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',blockquote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n',link:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>\n',unlink:'\n<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>\n',image:'\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>\n',align_left:'\n<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n',align_center:'\n<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n',align_right:'\n<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n',align_justify:'\n<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>\n',text_color:'\n<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>\n',color_fill:'\n<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>\n',horizontal_rule:'\n  <g>\n    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>\n    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>\n  </g>\n',format_clear:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>\n',path:"<path></path>"};class Ld{static get(e,r="currentColor"){const s=qf[e];return s&&(s.includes("<path")||s.includes("<g"))?`\n        <svg\n          xmlns="http://www.w3.org/2000/svg"\n          viewBox="0 0 24 24"\n          fill=${r}\n          height=20\n          width=20\n        >\n          ${s}\n        </svg>\n      `:s}}let Bl=(()=>{class o{constructor(){this.locals={},this.icons={}}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275prov=d.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),La=(()=>{class o{constructor(r){this.config=r}get locals(){return new Hf(this.config.locals)}getIcon(r){return this.config.icons[r]?this.config.icons[r]:Ld.get(r)}}return o.\u0275fac=function(r){return new(r||o)(d.LFG(Bl,8))},o.\u0275prov=d.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Bd=o=>({locals:o.locals??{},icons:o.icons??{}});let fo=(()=>{class o{constructor(r){this.sanitizer=r}transform(r){return this.sanitizer.bypassSecurityTrustHtml(r)}}return o.\u0275fac=function(r){return new(r||o)(d.Y36($u.H7,16))},o.\u0275pipe=d.Yjl({name:"sanitizeHtml",type:o,pure:!0}),o})(),Zf=(()=>{class o{constructor(r,s){this.ngxeService=r,this.menuService=s,this.isActive=!1,this.disabled=!1,this.update=l=>{const{state:u}=l,f=ll[this.name];this.isActive=f.isActive(u),this.disabled=!f.canExecute(u)}}get name(){return this.toolbarItem}toggle(r){if(r.preventDefault(),0!==r.button)return;const{state:s,dispatch:l}=this.editorView;ll[this.name].toggle()(s,l)}getTitle(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(La),d.Y36(na))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:2,vars:8,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(r,s){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(u){return s.toggle(u)}),d.ALo(1,"sanitizeHtml"),d.qZA()),2&r&&(d.ekj("NgxEditor__MenuItem--Active",s.isActive)("NgxEditor--Disabled",s.disabled),d.Q6J("innerHTML",d.lcZ(1,6,s.html),d.oJD)("title",s.getTitle(s.name)))},dependencies:[fo]}),o})(),Vd=(()=>{class o{constructor(r,s){this.ngxeService=r,this.menuService=s,this.disabled=!1,this.update=l=>{const{state:u}=l;this.disabled=!Sd[this.name].canExecute(u)}}get name(){return this.toolbarItem}insert(r){if(r.preventDefault(),0!==r.button)return;const{state:s,dispatch:l}=this.editorView;Sd[this.name].insert()(s,l)}getTitle(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.html=Ld.get(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(La),d.Y36(na))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:2,vars:6,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(r,s){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(u){return s.insert(u)}),d.ALo(1,"sanitizeHtml"),d.qZA()),2&r&&(d.ekj("NgxEditor--Disabled",s.disabled),d.Q6J("innerHTML",d.lcZ(1,4,s.html),d.oJD)("title",s.getTitle(s.name)))},dependencies:[fo]}),o})(),Vl=(()=>{class o{constructor(r,s,l){this.el=r,this.ngxeService=s,this.menuService=l,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.setText=()=>{const{state:{selection:u,doc:f}}=this.editorView,{empty:g,from:x,to:R}=u,V=g?"":f.textBetween(x,R);V&&(this.text.patchValue(V),this.text.disable())},this.update=u=>{const{state:f}=u;this.isActive=cl.isActive(f,{strict:!1}),this.canExecute=cl.canExecute(f)}}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hideForm()}getLabel(r){return this.ngxeService.locals.get(r)}hideForm(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}onMouseDown(r){if(0!==r.button)return;const{state:s,dispatch:l}=this.editorView;this.isActive?cl.remove(s,l):(this.showPopup=!this.showPopup,this.showPopup&&this.setText())}insertLink(r){r.preventDefault();const{text:s,href:l,openInNewTab:u}=this.form.getRawValue(),{dispatch:f,state:g}=this.editorView,{selection:x}=g,R={title:l,href:l,target:u?"_blank":"_self"};x.empty?(cl.insert(s,R)(g,f),this.editorView.focus()):cl.update(R)(g,f),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new T.cw({href:new T.NI("",[T.kI.required,T.kI.pattern(this.menuService.editor.linkValidationPattern)]),text:new T.NI("",[T.kI.required]),openInNewTab:new T.NI(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(d.SBq),d.Y36(La),d.Y36(na))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-link"]],hostBindings:function(r,s){1&r&&d.NdJ("mousedown",function(u){return s.onDocumentClick(u)},!1,d.evT)},decls:3,vars:9,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","href","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off"],["type","checkbox","formControlName","openInNewTab"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(r,s){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(u){return s.onMouseDown(u)}),d.ALo(1,"sanitizeHtml"),d.qZA(),d.YNc(2,rd,21,8,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",s.isActive||s.showPopup)("NgxEditor--Disabled",!s.canExecute),d.Q6J("innerHTML",d.lcZ(1,7,s.icon),d.oJD)("title",s.title),d.xp6(2),d.Q6J("ngIf",s.showPopup))},dependencies:[ti.O5,T._Y,T.Fj,T.Wl,T.JJ,T.JL,T.sg,T.u,fo]}),o})(),Jf=(()=>{class o{constructor(r,s,l){this.ngxeService=r,this.menuService=s,this.el=l,this.isDropdownOpen=!1,this.disabledItems=[],this.update=u=>{const{state:f}=u;this.disabledItems=[];const g=[];this.items.forEach(x=>{const R=ll[x];R.isActive(f)&&g.push(x),R.canExecute(f)||this.disabledItems.push(x)}),1===g.length?[this.activeItem]=g:this.activeItem=null}}get isSelected(){return Boolean(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(r){!this.el.nativeElement.contains(r)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(r){return this.ngxeService.locals.get(r)}toggleDropdown(r){r.preventDefault(),this.isDropdownOpen=!this.isDropdownOpen}trackByIndex(r){return r}onClick(r,s){if(r.preventDefault(),0!==r.button)return;const l=ll[s],{state:u,dispatch:f}=this.editorView;l.toggle()(u,f),this.isDropdownOpen=!1}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(La),d.Y36(na),d.Y36(d.SBq))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-dropdown"]],hostBindings:function(r,s){1&r&&d.NdJ("mousedown",function(u){return s.onDocumentClick(u.target)},!1,d.evT)},inputs:{group:"group",items:"items"},decls:3,vars:6,consts:[[1,"NgxEditor__Dropdown--Text",3,"mousedown"],["class","NgxEditor__Dropdown--DropdownMenu",4,"ngIf"],[1,"NgxEditor__Dropdown--DropdownMenu"],["class","NgxEditor__Dropdown--Item",3,"ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Dropdown--Item",3,"ngClass","mousedown"]],template:function(r,s){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(u){return s.toggleDropdown(u)}),d._uU(1),d.qZA(),d.YNc(2,pf,2,2,"div",1)),2&r&&(d.ekj("NgxEditor__Dropdown--Selected",s.isSelected)("NgxEditor--Disabled",s.isDropdownDisabled),d.xp6(1),d.hij(" ",s.getName(s.activeItem||s.group),"\n"),d.xp6(1),d.Q6J("ngIf",s.isDropdownOpen))},dependencies:[ti.mk,ti.sg,ti.O5]}),o})(),Hd=(()=>{class o{constructor(r,s,l){this.el=r,this.ngxeService=s,this.menuService=l,this.showPopup=!1,this.isActive=!1,this.form=new T.cw({src:new T.NI("",[T.kI.required,T.kI.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)")]),alt:new T.NI(""),title:new T.NI("")}),this.update=u=>{const{state:f}=u;this.isActive=Td.isActive(f)}}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hideForm()}getLabel(r){return this.ngxeService.locals.get(r)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}onMouseDown(r){0===r.button&&(this.showPopup=!this.showPopup,this.showPopup&&this.fillForm())}fillForm(){const{state:r}=this.editorView,{selection:s}=r;if(s instanceof Vt&&this.isActive){const{src:l,alt:u="",title:f=""}=s.node.attrs;this.form.setValue({src:l,alt:u,title:f})}}insertLink(r){r.preventDefault();const{src:s,alt:l,title:u}=this.form.getRawValue(),{dispatch:f,state:g}=this.editorView;Td.insert(s,{alt:l,title:u})(g,f),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(d.SBq),d.Y36(La),d.Y36(na))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-image"]],hostBindings:function(r,s){1&r&&d.NdJ("mousedown",function(u){return s.onDocumentClick(u)},!1,d.evT)},decls:3,vars:7,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","src","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off"],["type","text","formControlName","title","autocomplete","off"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(r,s){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(u){return s.onMouseDown(u)}),d.ALo(1,"sanitizeHtml"),d.qZA(),d.YNc(2,gf,20,7,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",s.isActive||s.showPopup),d.Q6J("innerHTML",d.lcZ(1,5,s.icon),d.oJD)("title",s.getLabel("insertImage")),d.xp6(2),d.Q6J("ngIf",s.showPopup))},dependencies:[ti.O5,T._Y,T.Fj,T.JJ,T.JL,T.sg,T.u,fo]}),o})(),Qf=(()=>{class o{constructor(r,s,l){this.el=r,this.menuService=s,this.ngxeService=l,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=u=>{const{state:f}=u;this.canExecute=this.command.canExecute(f),this.isActive=this.command.isActive(f),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(f))}}get title(){return this.getLabel("text_color"===this.type?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon("text_color"===this.type?"text_color":"color_fill")}get command(){return"text_color"===this.type?Vf:Ad}getContrastYIQ(r){const s=r.replace("#","");return(299*parseInt(s.substring(0,2),16)+587*parseInt(s.substring(2,4),16)+114*parseInt(s.substring(4,6),16))/1e3>=128?"black":"white"}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(r){r.preventDefault(),0===r.button&&(this.showPopup=!this.showPopup)}remove(r){r.preventDefault();const{state:s,dispatch:l}=this.editorView;this.command.remove()(s,l),this.hidePopup()}trackByIndex(r){return r}onColorSelect(r,s){if(r.preventDefault(),0!==r.button)return;const{state:l,dispatch:u}=this.editorView;"text_color"===this.type?this.command.apply({color:s})(l,u):this.command.apply({backgroundColor:s})(l,u),this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}getLabel(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(d.SBq),d.Y36(na),d.Y36(La))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-color-picker"]],hostBindings:function(r,s){1&r&&d.NdJ("mousedown",function(u){return s.onDocumentClick(u)},!1,d.evT)},inputs:{presets:"presets",type:"type"},decls:3,vars:9,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"disabled","mousedown"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown"]],template:function(r,s){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(u){return s.togglePopup(u)}),d.ALo(1,"sanitizeHtml"),d.qZA(),d.YNc(2,Ra,4,4,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",s.isActive||s.showPopup)("NgxEditor--Disabled",!s.canExecute),d.Q6J("innerHTML",d.lcZ(1,7,s.icon),d.oJD)("title",s.title),d.xp6(2),d.Q6J("ngIf",s.showPopup))},dependencies:[ti.mk,ti.sg,ti.O5,ti.PC,fo],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']}),o})();const Xf=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]],ep=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"];let Ud=(()=>{class o{constructor(r){this.menuService=r,this.toolbar=Xf,this.colorPresets=ep,this.disabled=!1,this.customMenuRef=null,this.dropdownPlacement="bottom",this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify"],this.insertCommands=["horizontal_rule","format_clear"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--Icon"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}get presets(){const s=[];return this.colorPresets.forEach((l,u)=>{const f=Math.floor(u/8);s[f]||s.push([]),s[f].push(l)}),s}trackByIndex(r){return r}isDropDown(r){return!!r?.heading}getDropdownItems(r){return r}ngOnInit(){if(!this.editor)throw new ge("Required editor instance to initialize menu component");this.menuService.editor=this.editor}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(na))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[d._Bn([na])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(r,s){1&r&&(d.TgZ(0,"div",0),d.YNc(1,_f,2,2,"ng-container",1),d.YNc(2,cd,2,1,"ng-container",2),d.qZA()),2&r&&(d.Q6J("ngClass",d.WLB(4,Cf,s.disabled,"top"===s.dropdownPlacement)),d.xp6(1),d.Q6J("ngForOf",s.toolbar)("ngForTrackBy",s.trackByIndex),d.xp6(1),d.Q6J("ngIf",s.customMenuRef))},dependencies:[ti.mk,ti.sg,ti.O5,ti.tP,Zf,Vd,Vl,Jf,Hd,Qf,ti.Nd]}),o})(),zd=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=d.oAB({type:o}),o.\u0275inj=d.cJS({providers:[fo],imports:[ti.ez,T.UX]}),o})();const Ba=new d.OlP("NgxEditorConfig"),np={locals:jc,icons:qf};let Gc=(()=>{class o{static forRoot(r=np){return{ngModule:o,providers:[{provide:Ba,useValue:r},{provide:Bl,useFactory:Bd,deps:[Ba]}]}}static forChild(r=np){return{ngModule:o,providers:[{provide:Ba,useValue:r},{provide:Bl,useFactory:Bd,deps:[Ba]},La]}}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=d.oAB({type:o}),o.\u0275inj=d.cJS({imports:[ti.ez,zd]}),o})();const Ts=(o,e=!1)=>(r,s)=>{const l=new ga(o);return e?l.toggle()(r,s):l.apply()(r,s)};class Hl{constructor(e){if(this.applyTrx=r=>{this.state=this.state.apply(r??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=r=>{this.applyTrx(r)},!e)throw new ge("Required view to initialize commands.");this.view=e,this.state=e.state,this.tr=this.view.state.tr}exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;const e=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);const r=this.tr.setMeta("FORCE_EMIT",e);return this.view.dispatch(r),!0}focus(e="end"){const r="start"===e?Yt.atStart(this.state.doc):Yt.atEnd(this.state.doc);return this.tr.setSelection(r),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(e){return this.tr.insertText(e),this.applyTrx(),this}insertNewLine(){return Aa(Sl,Pu,Ru,pc)(this.state,this.dispatch),this}applyMark(e){return Ts(e,!1)(this.state,this.dispatch),this}toggleMark(e){return Ts(e,!0)(this.state,this.dispatch),this}bold(){return Ts("strong")(this.state,this.dispatch),this}toggleBold(){return Ts("strong",!0)(this.state,this.dispatch),this}italics(){return Ts("em")(this.state,this.dispatch),this}toggleItalics(){return Ts("em",!0)(this.state,this.dispatch),this}underline(){return Ts("u")(this.state,this.dispatch),this}toggleUnderline(){return Ts("u",!0)(this.state,this.dispatch),this}strike(){return Ts("s")(this.state,this.dispatch),this}toggleStrike(){return Ts("s",!0)(this.state,this.dispatch),this}code(){return Ts("code")(this.state,this.dispatch),this}toggleCode(){return Ts("code",!0)(this.state,this.dispatch),this}toggleOrderedList(){return new sl(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new sl(!0).toggle()(this.state,this.dispatch),this}toggleHeading(e){return new ra(e).toggle()(this.state,this.dispatch),this}insertLink(e,r){return(new Fa).insert(e,r)(this.state,this.dispatch),this}updateLink(e){return(new Fa).update(e)(this.state,this.dispatch),this}insertImage(e,r={}){return(new md).insert(e,r)(this.state,this.dispatch),this}textColor(e){return new ya("text_color").apply({color:e})(this.state,this.dispatch),this}backgroundColor(e){return new ya("text_background_color").apply({backgroundColor:e})(this.state,this.dispatch),this}removeTextColor(){return new ya("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new ya("text_background_color").remove()(this.state,this.dispatch),this}align(e){return new ol(e).toggle()(this.state,this.dispatch),this}insertHTML(e){const{selection:r,schema:s,tr:l}=this.state,{from:u,to:f}=r,g=document.createElement("div");g.innerHTML=e.trim();const x=Le.fromSchema(s).parseSlice(g),R=l.replaceRange(u,f,x);return this.applyTrx(R),this}}const po=typeof navigator<"u"&&/Mac/.test(navigator.platform),um=o=>{const e=ef.concat(Vu,Zh);return e.push((o=>zu(/(?:^|\s)(?:(?:\*\*|__)(?:(?:[^*_]+))(?:\*\*|__))$/,o))(o.marks.strong)),e.push((o=>zu(/(?:^|\s)(?:(?:\*|_)(?:(?:[^*_]+))(?:\*|_))$/,o))(o.marks.em)),e.push((o=>el(/^\s*>\s$/,o))(o.nodes.blockquote)),e.push((o=>el(/^(?:\d+)\.\s$/,o,e=>({order:Number(e[1])}),(e,r)=>r.childCount+r.attrs.order===Number(e[1])))(o.nodes.ordered_list)),e.push((o=>el(/^\s*(?:[-+*])\s$/,o))(o.nodes.bullet_list)),e.push((o=>Hu(/^```$/,o))(o.nodes.code_block)),e.push(((o,e)=>Hu(new RegExp("^(#{1,6})\\s$"),o,r=>({level:r[1].length})))(o.nodes.heading)),function Bu({rules:o}){let e=new wn({state:{init:()=>null,apply(r,s){return r.getMeta(this)||(r.selectionSet||r.docChanged?null:s)}},props:{handleTextInput:(r,s,l,u)=>Pl(r,s,l,u,o,e),handleDOMEvents:{compositionend:r=>{setTimeout(()=>{let{$cursor:s}=r.state.selection;s&&Pl(r,s.pos,s.pos,"",o,e)})}}},isInputRules:!0});return e}({rules:e})},dm=(o,e)=>{const r=[];return e.keyboardShortcuts&&r.push(...((o,e)=>{const r={};r["Mod-z"]=Xu,po?r["Shift-Mod-z"]=Oc:r["Mod-y"]=Oc;const s=[Dc({"Mod-b":Xa(o.marks.strong),"Mod-i":Xa(o.marks.em),"Mod-u":Xa(o.marks.u),"Mod-`":Xa(o.marks.code)}),Dc({Enter:Rh(o.nodes.list_item),"Shift-Enter":Aa(Nu,(l,u)=>{const{tr:f}=l;return u(f.replaceSelectionWith(o.nodes.hard_break.create()).scrollIntoView()),!0}),"Mod-[":bu(o.nodes.list_item),"Mod-]":Eu(o.nodes.list_item),Tab:Eu(o.nodes.list_item)}),Dc(qh)];return e.history&&s.push(Dc(r)),s})(o,{history:e.history})),e.history&&r.push(function Qu(o={}){return new wn({key:bo,state:{init:()=>new Gs(Ss.empty,Ss.empty,null,0),apply:(e,r,s)=>function cf(o,e,r,s){let u,l=r.getMeta(bo);if(l)return l.historyState;r.getMeta(Ju)&&(o=new Gs(o.done,o.undone,null,0));let f=r.getMeta("appendedTransaction");if(0==r.steps.length)return o;if(f&&f.getMeta(bo))return f.getMeta(bo).redo?new Gs(o.done.addTransform(r,void 0,s,Pa(e)),o.undone,Tc(r.mapping.maps[r.steps.length-1]),o.prevTime):new Gs(o.done,o.undone.addTransform(r,void 0,s,Pa(e)),null,o.prevTime);if(!1===r.getMeta("addToHistory")||f&&!1===f.getMeta("addToHistory"))return(u=r.getMeta("rebased"))?new Gs(o.done.rebased(r,u),o.undone.rebased(r,u),Ac(o.prevRanges,r.mapping),o.prevTime):new Gs(o.done.addMaps(r.mapping.maps),o.undone.addMaps(r.mapping.maps),Ac(o.prevRanges,r.mapping),o.prevTime);{let g=0==o.prevTime||!f&&(o.prevTime<(r.time||0)-s.newGroupDelay||!function uf(o,e){if(!e)return!1;if(!o.docChanged)return!0;let r=!1;return o.mapping.maps[0].forEach((s,l)=>{for(let u=0;u<e.length;u+=2)s<=e[u+1]&&l>=e[u]&&(r=!0)}),r}(r,o.prevRanges)),x=f?Ac(o.prevRanges,r.mapping):Tc(r.mapping.maps[r.steps.length-1]);return new Gs(o.done.addTransform(r,g?e.selection.getBookmark():void 0,s,Pa(e)),Ss.empty,x,r.time)}}(r,s,e,o)},config:o={depth:o.depth||100,newGroupDelay:o.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(e,r){let s=r.inputType,l="historyUndo"==s?Xu:"historyRedo"==s?Oc:null;return!!l&&(r.preventDefault(),l(e.state,e.dispatch))}}}})}()),e.inputRules&&r.push(um(o)),r},ul={linkOnPaste:!0,resizeImage:!0},dl={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:Sa,plugins:[],nodeViews:{},attributes:{},features:ul,handleScrollToSelection:null,linkValidationPattern:"(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)|(mailto:.*[@].*)"};class Zc{constructor(e=dl){this.valueChangesSubject=new se.x,this.updateSubject=new se.x,this.options={...dl,...e},this.createEditor()}get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||Sa}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new Hl(this.view)}get features(){return{...ul,...this.options.features}}handleTransactions(e){const r=this.view.state.apply(e);if(this.view.updateState(r),this.updateSubject.next(this.view),!e.docChanged&&!e.getMeta("FORCE_EMIT"))return;const s=r.doc.toJSON();this.valueChangesSubject.next(s)}createEditor(){const{options:e,schema:r}=this,{content:s=null,nodeViews:l}=e,{history:u=!0,keyboardShortcuts:f=!0,inputRules:g=!0}=e,x=pa(s,r),R=e.plugins??[],V=e.attributes??{},ee=dm(r,{history:u,keyboardShortcuts:f,inputRules:g});this.view=new _u(null,{state:Cr.create({doc:x,schema:r,plugins:[...ee,...R]}),nodeViews:l,dispatchTransaction:this.handleTransactions.bind(this),attributes:V,handleScrollToSelection:e.handleScrollToSelection})}setContent(e){if(typeof(o=e)>"u"||null===o)return;var o;const{state:r}=this.view,{tr:s,doc:l}=r,u=pa(e,this.schema);s.replaceWith(0,r.doc.content.size,u),!l.eq(s.doc)&&(!s.docChanged||this.view.dispatch(s))}registerPlugin(e){const{state:r}=this.view,s=[...r.plugins,e],l=r.reconfigure({plugins:s});this.view.updateState(l)}destroy(){this.view.destroy()}}},7185:(yt,Ie,F)=>{F.d(Ie,{Rh:()=>Lt,_W:()=>Me});var d=F(4650),T=F(7340),se=F(7579),le=F(6895),ye=F(1481);const pe=["toast-component",""];function ce(Je,tt){if(1&Je){const xe=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){d.CHM(xe);const $e=d.oxw();return d.KtG($e.remove())}),d.TgZ(1,"span",6),d._uU(2,"\xd7"),d.qZA()()}}function Z(Je,tt){if(1&Je&&(d.ynx(0),d._uU(1),d.BQk()),2&Je){const xe=d.oxw(2);d.xp6(1),d.hij("[",xe.duplicatesCount+1,"]")}}function ge(Je,tt){if(1&Je&&(d.TgZ(0,"div"),d._uU(1),d.YNc(2,Z,2,1,"ng-container",4),d.qZA()),2&Je){const xe=d.oxw();d.Tol(xe.options.titleClass),d.uIk("aria-label",xe.title),d.xp6(1),d.hij(" ",xe.title," "),d.xp6(1),d.Q6J("ngIf",xe.duplicatesCount)}}function we(Je,tt){if(1&Je&&d._UZ(0,"div",7),2&Je){const xe=d.oxw();d.Tol(xe.options.messageClass),d.Q6J("innerHTML",xe.message,d.oJD)}}function be(Je,tt){if(1&Je&&(d.TgZ(0,"div",8),d._uU(1),d.qZA()),2&Je){const xe=d.oxw();d.Tol(xe.options.messageClass),d.uIk("aria-label",xe.message),d.xp6(1),d.hij(" ",xe.message," ")}}function Te(Je,tt){if(1&Je&&(d.TgZ(0,"div"),d._UZ(1,"div",9),d.qZA()),2&Je){const xe=d.oxw();d.xp6(1),d.Udp("width",xe.width+"%")}}class We{constructor(tt,xe){this.component=tt,this.injector=xe}attach(tt,xe){return this._attachedHost=tt,tt.attach(this,xe)}detach(){const tt=this._attachedHost;if(tt)return this._attachedHost=void 0,tt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(tt){this._attachedHost=tt}}class Qe{constructor(tt){this._overlayRef=tt,this.duplicatesCount=0,this._afterClosed=new se.x,this._activate=new se.x,this._manualClose=new se.x,this._resetTimeout=new se.x,this._countDuplicate=new se.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(tt,xe){tt&&this._resetTimeout.next(),xe&&this._countDuplicate.next(++this.duplicatesCount)}}class _t{constructor(tt,xe,Ve,$e,zt,Qn){this.toastId=tt,this.config=xe,this.message=Ve,this.title=$e,this.toastType=zt,this.toastRef=Qn,this._onTap=new se.x,this._onAction=new se.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(tt){this._onAction.next(tt)}onAction(){return this._onAction.asObservable()}}const ut=new d.OlP("ToastConfig");class ct extends class ve{attach(tt,xe){return this._attachedPortal=tt,this.attachComponentPortal(tt,xe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(tt){this._disposeFn=tt}}{constructor(tt,xe,Ve){super(),this._hostDomElement=tt,this._componentFactoryResolver=xe,this._appRef=Ve}attachComponentPortal(tt,xe){const Ve=this._componentFactoryResolver.resolveComponentFactory(tt.component);let $e;return $e=Ve.create(tt.injector),this._appRef.attachView($e.hostView),this.setDisposeFn(()=>{this._appRef.detachView($e.hostView),$e.destroy()}),xe?this._hostDomElement.insertBefore(this._getComponentRootNode($e),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode($e)),$e}_getComponentRootNode(tt){return tt.hostView.rootNodes[0]}}class _e{constructor(tt){this._portalHost=tt}attach(tt,xe=!0){return this._portalHost.attach(tt,xe)}detach(){return this._portalHost.detach()}}let Se=(()=>{class Je{constructor(xe){this._document=xe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const xe=this._document.createElement("div");xe.classList.add("overlay-container"),xe.setAttribute("aria-live","polite"),this._document.body.appendChild(xe),this._containerElement=xe}}return Je.\u0275fac=function(xe){return new(xe||Je)(d.LFG(le.K0))},Je.\u0275prov=d.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})(),He=(()=>{class Je{constructor(xe,Ve,$e,zt){this._overlayContainer=xe,this._componentFactoryResolver=Ve,this._appRef=$e,this._document=zt,this._paneElements=new Map}create(xe,Ve){return this._createOverlayRef(this.getPaneElement(xe,Ve))}getPaneElement(xe="",Ve){return this._paneElements.get(Ve)||this._paneElements.set(Ve,{}),this._paneElements.get(Ve)[xe]||(this._paneElements.get(Ve)[xe]=this._createPaneElement(xe,Ve)),this._paneElements.get(Ve)[xe]}_createPaneElement(xe,Ve){const $e=this._document.createElement("div");return $e.id="toast-container",$e.classList.add(xe),$e.classList.add("toast-container"),Ve?Ve.getContainerElement().appendChild($e):this._overlayContainer.getContainerElement().appendChild($e),$e}_createPortalHost(xe){return new ct(xe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(xe){return new _e(this._createPortalHost(xe))}}return Je.\u0275fac=function(xe){return new(xe||Je)(d.LFG(Se),d.LFG(d._Vd),d.LFG(d.z2F),d.LFG(le.K0))},Je.\u0275prov=d.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})(),Me=(()=>{class Je{constructor(xe,Ve,$e,zt,Qn){this.overlay=Ve,this._injector=$e,this.sanitizer=zt,this.ngZone=Qn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...xe.default,...xe.config},xe.config.iconClasses&&(this.toastrConfig.iconClasses={...xe.default.iconClasses,...xe.config.iconClasses})}show(xe,Ve,$e={},zt=""){return this._preBuildNotification(zt,xe,Ve,this.applyConfig($e))}success(xe,Ve,$e={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",xe,Ve,this.applyConfig($e))}error(xe,Ve,$e={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",xe,Ve,this.applyConfig($e))}info(xe,Ve,$e={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",xe,Ve,this.applyConfig($e))}warning(xe,Ve,$e={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",xe,Ve,this.applyConfig($e))}clear(xe){for(const Ve of this.toasts)if(void 0!==xe){if(Ve.toastId===xe)return void Ve.toastRef.manualClose()}else Ve.toastRef.manualClose()}remove(xe){const Ve=this._findToast(xe);if(!Ve||(Ve.activeToast.toastRef.close(),this.toasts.splice(Ve.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const $e=this.toasts[this.currentlyActive].toastRef;$e.isInactive()||(this.currentlyActive=this.currentlyActive+1,$e.activate())}return!0}findDuplicate(xe="",Ve="",$e,zt){const{includeTitleDuplicates:Qn}=this.toastrConfig;for(const On of this.toasts){const dr=Qn&&On.title===xe;if((!Qn||dr)&&On.message===Ve)return On.toastRef.onDuplicate($e,zt),On}return null}applyConfig(xe={}){return{...this.toastrConfig,...xe}}_findToast(xe){for(let Ve=0;Ve<this.toasts.length;Ve++)if(this.toasts[Ve].toastId===xe)return{index:Ve,activeToast:this.toasts[Ve]};return null}_preBuildNotification(xe,Ve,$e,zt){return zt.onActivateTick?this.ngZone.run(()=>this._buildNotification(xe,Ve,$e,zt)):this._buildNotification(xe,Ve,$e,zt)}_buildNotification(xe,Ve,$e,zt){if(!zt.toastComponent)throw new Error("toastComponent required");const Qn=this.findDuplicate($e,Ve,this.toastrConfig.resetTimeoutOnDuplicate&&zt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&$e||Ve)&&this.toastrConfig.preventDuplicates&&null!==Qn)return Qn;this.previousToastMessage=Ve;let On=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(On=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const dr=this.overlay.create(zt.positionClass,this.overlayContainer);this.index=this.index+1;let Pr=Ve;Ve&&zt.enableHtml&&(Pr=this.sanitizer.sanitize(d.q3G.HTML,Ve));const tn=new Qe(dr),An=new _t(this.index,zt,Pr,$e,xe,tn),Vr=d.zs3.create({providers:[{provide:_t,useValue:An}],parent:this._injector}),Gr=new We(zt.toastComponent,Vr),dt=dr.attach(Gr,zt.newestOnTop);tn.componentInstance=dt.instance;const Mn={toastId:this.index,title:$e||"",message:Ve||"",toastRef:tn,onShown:tn.afterActivate(),onHidden:tn.afterClosed(),onTap:An.onTap(),onAction:An.onAction(),portal:dt};return On||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Mn.toastRef.activate()})),this.toasts.push(Mn),Mn}}return Je.\u0275fac=function(xe){return new(xe||Je)(d.LFG(ut),d.LFG(He),d.LFG(d.zs3),d.LFG(ye.H7),d.LFG(d.R0b))},Je.\u0275prov=d.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})();const at={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class Je{constructor(xe,Ve,$e){this.toastrService=xe,this.toastPackage=Ve,this.ngZone=$e,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ve.message,this.title=Ve.title,this.options=Ve.config,this.originalTimeout=Ve.config.timeOut,this.toastClasses=`${Ve.toastType} ${Ve.config.toastClass}`,this.sub=Ve.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ve.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ve.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ve.toastRef.countDuplicate().subscribe(zt=>{this.duplicatesCount=zt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const xe=(new Date).getTime();this.width=(this.hideTime-xe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(xe,Ve){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(xe),Ve)):this.timeout=setTimeout(()=>xe(),Ve)}outsideInterval(xe,Ve){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(xe),Ve)):this.intervalId=setInterval(()=>xe(),Ve)}runInsideAngular(xe){this.ngZone?this.ngZone.run(()=>xe()):xe()}}return Je.\u0275fac=function(xe){return new(xe||Je)(d.Y36(Me),d.Y36(_t),d.Y36(d.R0b))},Je.\u0275cmp=d.Xpm({type:Je,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(xe,Ve){1&xe&&d.NdJ("click",function(){return Ve.tapToast()})("mouseenter",function(){return Ve.stickAround()})("mouseleave",function(){return Ve.delayedHideToast()}),2&xe&&(d.d8E("@flyInOut",Ve.state),d.Tol(Ve.toastClasses),d.Udp("display",Ve.displayStyle))},attrs:pe,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(xe,Ve){1&xe&&(d.YNc(0,ce,3,0,"button",0),d.YNc(1,ge,3,5,"div",1),d.YNc(2,we,1,3,"div",2),d.YNc(3,be,2,4,"div",3),d.YNc(4,Te,2,2,"div",4)),2&xe&&(d.Q6J("ngIf",Ve.options.closeButton),d.xp6(1),d.Q6J("ngIf",Ve.title),d.xp6(1),d.Q6J("ngIf",Ve.message&&Ve.options.enableHtml),d.xp6(1),d.Q6J("ngIf",Ve.message&&!Ve.options.enableHtml),d.xp6(1),d.Q6J("ngIf",Ve.options.progressBar))},dependencies:[le.O5],encapsulation:2,data:{animation:[(0,T.X$)("flyInOut",[(0,T.SB)("inactive",(0,T.oB)({opacity:0})),(0,T.SB)("active",(0,T.oB)({opacity:1})),(0,T.SB)("removed",(0,T.oB)({opacity:0})),(0,T.eR)("inactive => active",(0,T.jt)("{{ easeTime }}ms {{ easing }}")),(0,T.eR)("active => removed",(0,T.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Je})()};let Lt=(()=>{class Je{static forRoot(xe={}){return{ngModule:Je,providers:[{provide:ut,useValue:{default:at,config:xe}}]}}}return Je.\u0275fac=function(xe){return new(xe||Je)},Je.\u0275mod=d.oAB({type:Je}),Je.\u0275inj=d.cJS({imports:[le.ez]}),Je})()}},yt=>{yt(yt.s=4871)}]);