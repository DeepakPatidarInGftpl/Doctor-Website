"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[2809],{2809:(k,u,d)=>{d.r(u),d.d(u,{BrandlistModule:()=>w});var c=d(6895),g=d(1728),a=d(433),_=d(2454),p=d.n(_),t=d(1571),f=d(927),v=d(2326),Z=d(7185),h=d(5415);function b(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",41)(1,"a",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openaddForm())}),t._UZ(2,"img",43),t._uU(3,"Add Brand "),t.qZA()()}}function T(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"label",44)(3,"input",35),t.NdJ("ngModelChange",function(o){const l=t.CHM(e).$implicit;return t.KtG(l.isSelected=o)}),t.qZA(),t._UZ(4,"span",36),t.qZA()(),t.TgZ(5,"td")(6,"a",45),t._UZ(7,"img",46),t.qZA()(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td")(13,"a",47),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.editForm(r.id))}),t._UZ(14,"img",48),t.qZA(),t.TgZ(15,"a",49),t.NdJ("click",function(){const o=t.CHM(e),r=o.index,l=o.$implicit,Y=t.oxw();return t.KtG(Y.confirmText(r,l.id))}),t._UZ(16,"img",50),t.qZA()()()}if(2&i){const e=s.$implicit,n=t.oxw();t.xp6(3),t.Q6J("ngModel",e.isSelected),t.xp6(4),t.Q6J("src",n.imgUrl+e.image,t.LSH),t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Oqu(e.code)}}function C(i,s){1&i&&(t.TgZ(0,"div",3)(1,"h4"),t._uU(2," Add Brands "),t.qZA(),t.TgZ(3,"h6"),t._uU(4,"Create new Brands "),t.qZA()())}function A(i,s){1&i&&(t.TgZ(0,"div",3)(1,"h4"),t._uU(2," Update Brands "),t.qZA()())}function x(i,s){1&i&&(t.TgZ(0,"span",63),t._uU(1,"Enter Title "),t.qZA())}function B(i,s){1&i&&(t.TgZ(0,"span",63),t._uU(1,"Enter code "),t.qZA())}function U(i,s){1&i&&(t.TgZ(0,"span",63),t._uU(1,"Select image "),t.qZA())}const m=function(i){return{"is-invalid":i}};function q(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",6)(1,"form",51),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.submit())}),t.TgZ(2,"div",0)(3,"div",52)(4,"div",26)(5,"label"),t._uU(6,"Title*"),t.qZA(),t._UZ(7,"input",53),t.YNc(8,x,2,0,"span",54),t.qZA()(),t.TgZ(9,"div",52)(10,"div",26)(11,"label"),t._uU(12,"Code*"),t.qZA(),t._UZ(13,"input",55),t.YNc(14,B,2,0,"span",54),t.qZA()(),t.TgZ(15,"div",56)(16,"div",26)(17,"label"),t._uU(18,"\tProduct Image"),t.qZA(),t.TgZ(19,"div",57)(20,"input",58),t.NdJ("change",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.onSelect(o))}),t.qZA(),t.TgZ(21,"div",59),t._UZ(22,"img",60),t.TgZ(23,"h4"),t._uU(24,"Drag and drop a file to upload"),t.qZA()(),t.YNc(25,U,2,0,"span",54),t.qZA()()(),t.TgZ(26,"div",56)(27,"button",61),t._uU(28,"Submit"),t.qZA(),t.TgZ(29,"a",62),t._uU(30,"Cancel"),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.brandForm),t.xp6(6),t.Q6J("ngClass",t.VKq(6,m,e.f.title.touched&&e.f.title.invalid)),t.xp6(1),t.Q6J("ngIf",e.title&&e.title.invalid&&e.title.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(8,m,e.f.code.touched&&e.f.code.invalid)),t.xp6(1),t.Q6J("ngIf",e.code&&e.code.invalid&&e.code.touched),t.xp6(11),t.Q6J("ngIf",e.image&&e.image.invalid&&e.image.touched)}}function F(i,s){1&i&&(t.TgZ(0,"span",63),t._uU(1,"Enter Title "),t.qZA())}function J(i,s){1&i&&(t.TgZ(0,"span",63),t._uU(1,"Enter code "),t.qZA())}function S(i,s){1&i&&(t.TgZ(0,"span",63),t._uU(1,"Select image "),t.qZA())}function I(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",6)(1,"form",51),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.update())}),t.TgZ(2,"div",0)(3,"div",52)(4,"div",26)(5,"label"),t._uU(6,"Title*"),t.qZA(),t._UZ(7,"input",53),t.YNc(8,F,2,0,"span",54),t.qZA()(),t.TgZ(9,"div",52)(10,"div",26)(11,"label"),t._uU(12,"Code*"),t.qZA(),t._UZ(13,"input",55),t.YNc(14,J,2,0,"span",54),t.qZA()(),t.TgZ(15,"div",56)(16,"div",26)(17,"label"),t._uU(18,"\tProduct Image"),t.qZA(),t.TgZ(19,"div",57)(20,"input",58),t.NdJ("change",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.onSelect(o))}),t.qZA(),t.TgZ(21,"div",59),t._UZ(22,"img",60),t.TgZ(23,"h4"),t._uU(24,"Drag and drop a file to upload"),t.qZA()(),t.YNc(25,S,2,0,"span",54),t.qZA()()(),t.TgZ(26,"div",56)(27,"button",61),t._uU(28,"Submit"),t.qZA(),t.TgZ(29,"a",62),t._uU(30,"Cancel"),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.brandForm),t.xp6(6),t.Q6J("ngClass",t.VKq(6,m,e.f.title.touched&&e.f.title.invalid)),t.xp6(1),t.Q6J("ngIf",e.title&&e.title.invalid&&e.title.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(8,m,e.f.code.touched&&e.f.code.invalid)),t.xp6(1),t.Q6J("ngIf",e.code&&e.code.invalid&&e.code.touched),t.xp6(11),t.Q6J("ngIf",e.image&&e.image.invalid&&e.image.touched)}}const N=[{path:"",component:(()=>{class i{constructor(e,n,o,r,l){this.coreService=e,this.QueryService=n,this.fb=o,this.toastr=r,this.router=l,this.dtOptions={},this.initChecked=!1,this.tableData=[],this.imgUrl="https://pv.greatfuturetechno.com",this.addForm=!0,this.QueryService.filterToggle()}get f(){return this.brandForm.controls}confirmText(e,n){p().fire({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",buttonsStyling:!0,customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"}}).then(o=>{o.isConfirmed&&(this.coreService.deletebrand(n).subscribe(r=>{this.delRes=r}),p().fire({icon:"success",title:"Deleted!",text:"Your file has been deleted."}),this.tableData.splice(e,1))})}ngOnInit(){this.brandForm=new a.cw({title:new a.NI("",[a.kI.required]),code:new a.NI("",a.kI.required),image:new a.NI("",a.kI.required)}),this.dtOptions={dom:"Btlpif",pagingType:"numbers",language:{search:" ",searchPlaceholder:"Search...",info:"_START_ - _END_ of _TOTAL_ items"},initComplete:(e,n)=>{$(".dt-buttons").appendTo(".wordset"),$(".dataTables_filter").appendTo(".search-input")}},this.coreService.getbrand(),this.coreService.brandBehavior.subscribe(()=>{localStorage.getItem("brandsList")&&(this.tableData=Object.values(JSON.parse(localStorage.getItem("brandsList"))))})}selectAll(e){this.tableData.forEach(e?n=>{n.isSelected=!1}:n=>{n.isSelected=!0})}deleteId(e){this.coreService.deletebrand(e).subscribe(n=>{this.delRes=n})}onSelect(e){const n=e.target.files[0];console.log(n),this.brandForm.patchValue({image:n}),this.brandForm.get("image")?.updateValueAndValidity()}submit(){console.log(this.brandForm.value),console.log(this.id);var e=new FormData;e.append("title",this.brandForm.get("title")?.value),e.append("image",this.brandForm.get("image")?.value),e.append("code",this.brandForm.get("code")?.value),this.brandForm.valid?this.coreService.addbrand(e).subscribe(n=>{console.log(n),this.addRes=n,"Data Created"==this.addRes.msg&&(this.toastr.success(this.addRes.msg),this.brandForm.reset(),this.ngOnInit())},n=>{console.log(n.error.gst)}):(this.brandForm.markAllAsTouched(),console.log("forms invalid"))}update(){var e=new FormData;e.append("title",this.brandForm.get("title")?.value),e.append("image",this.brandForm.get("image")?.value),e.append("code",this.brandForm.get("code")?.value),this.brandForm.valid?this.coreService.updatebrand(e,this.id).subscribe(n=>{console.log(n),this.addRes=n,"Brands updated successfully"==this.addRes.msg&&(this.toastr.success(this.addRes.msg),this.brandForm.reset(),this.addForm=!0,this.ngOnInit())},n=>{console.log(n.error.gst)}):(this.brandForm.markAllAsTouched(),console.log("forms invalid"))}get title(){return this.brandForm.get("title")}get image(){return this.brandForm.get("image")}get code(){return this.brandForm.get("code")}editForm(e){this.id=e,this.coreService.getbrandById(e).subscribe(n=>{console.log(n),n.map(o=>{e==o.id&&(console.log(o),this.addForm=!1,this.brandForm.patchValue({title:o.title,code:o.code}))})})}openaddForm(){this.addForm=!0,this.brandForm.reset()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.p),t.Y36(v._),t.Y36(a.qu),t.Y36(Z._W),t.Y36(g.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-brandlist"]],decls:70,vars:8,consts:[[1,"row"],[1,"col-lg-7","col-sm-7","col-12"],[1,"page-header"],[1,"page-title"],["class","page-btn",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"table-top"],[1,"search-set"],[1,"search-path"],["id","filter_search",1,"btn","btn-filter"],["src","assets/img/icons/filter.svg","alt","img"],["src","assets/img/icons/closes.svg","alt","img"],[1,"search-input"],[1,"btn","btn-searchset"],["src","assets/img/icons/search-white.svg","alt","img"],[1,"wordset"],["data-bs-toggle","tooltip","data-bs-placement","top","title","pdf"],["src","assets/img/icons/pdf.svg","alt","img"],["data-bs-toggle","tooltip","data-bs-placement","top","title","excel"],["src","assets/img/icons/excel.svg","alt","img"],["data-bs-toggle","tooltip","data-bs-placement","top","title","print"],["src","assets/img/icons/printer.svg","alt","img"],["id","filter_inputs",1,"card"],[1,"card-body","pb-0"],[1,"col-lg-3","col-sm-6","col-12"],[1,"form-group"],["type","text","placeholder","Enter Brand Name"],["type","text","placeholder","Enter Brand Description"],[1,"col-lg-1","col-sm-6","col-12","ms-auto"],[1,"btn","btn-filters","ms-auto"],["src","assets/img/icons/search-whites.svg","alt","img"],[1,"table-responsive"],["datatable","",1,"table","datanew",3,"dtOptions"],[1,"checkboxs",3,"click"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkmarks"],[4,"ngFor","ngForOf"],[1,"col-lg-5","col-sm-5","col-12"],["class","page-title",4,"ngIf"],["class","card-body",4,"ngIf"],[1,"page-btn"],[1,"btn","btn-added",3,"click"],["src","assets/img/icons/plus.svg","alt","img",1,"me-1"],[1,"checkboxs"],[1,"product-img"],["alt","product",3,"src"],[1,"me-3",3,"click"],["src","assets/img/icons/edit.svg","alt","img"],["href","javascript:void(0);",1,"me-3","confirm-text",3,"click"],["src","assets/img/icons/delete.svg","alt","img"],[3,"formGroup","ngSubmit"],[1,"col-lg-10","col-sm-10","col-12"],["type","text","formControlName","title","id","title",3,"ngClass"],["class","text-danger",4,"ngIf"],["type","text","formControlName","code","id","code",3,"ngClass"],[1,"col-lg-12"],[1,"image-upload"],["type","file","formControlName","image",3,"change"],[1,"image-uploads"],["src","assets/img/icons/upload.svg","alt","img"],[1,"btn","btn-submit","me-2"],["routerLink","/product/units",1,"btn","btn-cancel"],[1,"text-danger"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),t._uU(5,"Brand List"),t.qZA(),t.TgZ(6,"h6"),t._uU(7,"Manage your Brand"),t.qZA()(),t.YNc(8,b,4,0,"div",4),t.qZA(),t.TgZ(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"a",10),t._UZ(15,"img",11),t.TgZ(16,"span"),t._UZ(17,"img",12),t.qZA()()(),t.TgZ(18,"div",13)(19,"a",14),t._UZ(20,"img",15),t.qZA()()(),t.TgZ(21,"div",16)(22,"ul")(23,"li")(24,"a",17),t._UZ(25,"img",18),t.qZA()(),t.TgZ(26,"li")(27,"a",19),t._UZ(28,"img",20),t.qZA()(),t.TgZ(29,"li")(30,"a",21),t._UZ(31,"img",22),t.qZA()()()()(),t.TgZ(32,"div",23)(33,"div",24)(34,"div",0)(35,"div",25)(36,"div",26),t._UZ(37,"input",27),t.qZA()(),t.TgZ(38,"div",25)(39,"div",26),t._UZ(40,"input",28),t.qZA()(),t.TgZ(41,"div",29)(42,"div",26)(43,"a",30),t._UZ(44,"img",31),t.qZA()()()()()(),t.TgZ(45,"div",32)(46,"table",33)(47,"thead")(48,"tr")(49,"th")(50,"label",34),t.NdJ("click",function(){return n.selectAll(n.initChecked)}),t.TgZ(51,"input",35),t.NdJ("ngModelChange",function(r){return n.initChecked=r}),t.qZA(),t._UZ(52,"span",36),t.qZA()(),t.TgZ(53,"th"),t._uU(54,"Image"),t.qZA(),t.TgZ(55,"th"),t._uU(56,"Title"),t.qZA(),t.TgZ(57,"th"),t._uU(58,"Code"),t.qZA(),t.TgZ(59,"th"),t._uU(60,"Action"),t.qZA()()(),t.TgZ(61,"tbody"),t.YNc(62,T,17,4,"tr",37),t.qZA()()()()()(),t.TgZ(63,"div",38)(64,"div",2),t.YNc(65,C,5,0,"div",39),t.YNc(66,A,3,0,"div",39),t.qZA(),t.TgZ(67,"div",5),t.YNc(68,q,31,10,"div",40),t.YNc(69,I,31,10,"div",40),t.qZA()()()),2&e&&(t.xp6(8),t.Q6J("ngIf",!n.addForm),t.xp6(38),t.Q6J("dtOptions",n.dtOptions),t.xp6(5),t.Q6J("ngModel",n.initChecked),t.xp6(11),t.Q6J("ngForOf",n.tableData),t.xp6(3),t.Q6J("ngIf",n.addForm),t.xp6(1),t.Q6J("ngIf",!n.addForm),t.xp6(2),t.Q6J("ngIf",n.addForm),t.xp6(1),t.Q6J("ngIf",!n.addForm))},dependencies:[c.mk,c.sg,c.O5,g.yS,h.G,a._Y,a.Fj,a.Wl,a.JJ,a.JL,a.On,a.sg,a.u]}),i})()}];let y=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.Bz.forChild(N),g.Bz]}),i})();var M=d(6134),Q=d(906);let w=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[c.ez,y,h.T,a.u5,a.UX,M.ii.forRoot(),Q.ZU]}),i})()}}]);