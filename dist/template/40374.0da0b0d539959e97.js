"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[40374],{40374:(C,p,a)=>{a.r(p),a.d(p,{CouponDetailsModule:()=>r});var i=a(36895),c=a(4392),t=a(94650),f=a(53989),h=a(97392);function v(e,s){if(1&e&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"table",11)(4,"tbody")(5,"tr")(6,"td",12),t._uU(7,"Title"),t.qZA(),t.TgZ(8,"td",13),t._uU(9),t.qZA()(),t.TgZ(10,"tr")(11,"td",12),t._uU(12,"Coupon Code"),t.qZA(),t.TgZ(13,"td",13),t._uU(14),t.qZA()(),t.TgZ(15,"tr")(16,"td",12),t._uU(17,"Discount"),t.qZA(),t.TgZ(18,"td",13),t._uU(19),t.qZA()(),t.TgZ(20,"tr")(21,"td",12),t._uU(22,"Upto"),t.qZA(),t.TgZ(23,"td",13),t._uU(24),t.qZA()(),t.TgZ(25,"tr")(26,"td",12),t._uU(27,"Expiry Date"),t.qZA(),t.TgZ(28,"td",13),t._uU(29),t.qZA()()()()()()()),2&e){const o=t.oxw();t.xp6(9),t.Oqu(null==o.tableData?null:o.tableData.title),t.xp6(5),t.Oqu(null==o.tableData?null:o.tableData.coupon_code),t.xp6(5),t.Oqu(null==o.tableData?null:o.tableData.discount),t.xp6(5),t.Oqu(null==o.tableData?null:o.tableData.up_to),t.xp6(5),t.Oqu(null==o.tableData?null:o.tableData.expiry_date)}}const n=[{path:"",component:(()=>{class e{constructor(o,u,D){this.location=o,this.router=u,this.offerService=D}ngOnInit(){this.getAllCoupons()}getAllCoupons(){this.offerService.getAllCoupons().subscribe(o=>{console.log(o),this.tableData=o[0]})}navigate(){this.router.navigate(["//offer/coupon-list"])}goBack(){this.location.back()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.Ye),t.Y36(c.F0),t.Y36(f.K))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-coupon-details"]],decls:12,vars:1,consts:[[1,"row","bg"],[1,"card"],[1,"card-body"],[1,"page-header"],[1,"page-title"],[1,"subhead-color",3,"click"],[2,"vertical-align","middle"],["class","company-details-card card mt-3",4,"ngIf"],[1,"company-details-card","card","mt-3"],[1,"sub-card","row"],[1,"table-responsive"],[1,"table"],[1,"th"],[1,"td"]],template:function(o,u){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6",5),t.NdJ("click",function(){return u.goBack()}),t.TgZ(6,"mat-icon",6),t._uU(7,"keyboard_backspace"),t.qZA(),t._uU(8,"Back to CouponList"),t.qZA(),t.TgZ(9,"h4"),t._uU(10,"Full details of a Coupon"),t.qZA()()(),t.YNc(11,v,30,5,"div",7),t.qZA()()()),2&o&&(t.xp6(11),t.Q6J("ngIf",u.tableData))},dependencies:[i.O5,h.Hw],styles:[".th[_ngcontent-%COMP%]{background:#EEF0F8;font-family:Poppins;font-style:normal;font-weight:500;font-size:18px;line-height:140%;color:#3b3b3b;border-right:2px solid white;border-bottom:2px solid white}.td[_ngcontent-%COMP%]{background-color:#f2f4f3;font-family:Poppins;font-style:normal;font-weight:400;font-size:16px;line-height:140%;color:#3b3b3b;border-right:2px solid white;border-bottom:2px solid white}"]}),e})(),canActivate:[a(30597).l],data:{allowedRoles:["add_discount"]}}];let g=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.Bz.forChild(n),c.Bz]}),e})();var d=a(8468);let r=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[i.ez,g,d.I,h.Ps]}),e})()},30597:(C,p,a)=>{a.d(p,{l:()=>v});var i=a(94650),c=a(4392),t=a(97185),f=a(42917),h=a(80927);let v=(()=>{class l{constructor(n,g,d,r,e){this.router=n,this.Arout=g,this.toastr=d,this.profileService=r,this.coreService=e}canActivate(n,g){const d=JSON.parse(localStorage.getItem("auth"));if(this.profileService.userDetails$.subscribe(r=>{this.userDetails=r,this.permissions=this.userDetails?.permission}),d){const r=n.data.allowedRoles,e=d.some(s=>r.includes(s.codename));if(this.coreService.getProfile().subscribe(s=>{this.userDetails=s,this.profileService.setUserDetails(this.userDetails),this.profileService.ProfileData$.next(s);const o=s?.permission,u=this.profileService.getUserDetails();(!u||u.length!==o.length)&&(this.profileService.setUserPermission(o),window.location.reload())}),e)return!0}return this.toastr.error("User have Not Permission to Access This page"),this.router.navigate(["/dashboard"]),!1}}return l.\u0275fac=function(n){return new(n||l)(i.LFG(c.F0),i.LFG(c.gz),i.LFG(t._W),i.LFG(f.J),i.LFG(h.p))},l.\u0275prov=i.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);