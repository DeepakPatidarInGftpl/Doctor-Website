"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[84039],{25062:(S,C,l)=>{l.d(C,{y:()=>t});var u=l(92340),h=l(94650),p=l(80529);let t=(()=>{class g{constructor(e){this.http=e,this.apiUrl=`${u.N.api}`}UpdateDefaultAddress(e){return this.http.post(this.apiUrl+"/pv-api/make_default_address/",e)}getSupplier(){return this.http.get(this.apiUrl+"/pv-api/supplier/")}getSupplierById(e){return this.http.get(`${this.apiUrl+"/pv-api/supplier/?id="}${e}`)}SupplierIsActive(e,r){return this.http.patch(`${this.apiUrl+"/pv-api/supplier/?id="}${e}`,r)}addSupplier(e){return this.http.post(this.apiUrl+"/pv-api/supplier/",e)}updateSupplier(e,r){return this.http.put(`${this.apiUrl+"/pv-api/supplier/?id="}${r}`,e)}deleteSupplier(e){return this.http.delete(`${this.apiUrl+"/pv-api/supplier/?id="}${e}`)}getVendor(){return this.http.get(this.apiUrl+"/pv-api/vendor/")}getVendorById(e){return this.http.get(`${this.apiUrl+"/pv-api/vendor/?id="}${e}`)}VendorIsActive(e,r){return this.http.patch(`${this.apiUrl+"/pv-api/vendor/?id="}${e}`,r)}addVendor(e){return this.http.post(this.apiUrl+"/pv-api/vendor/",e)}updateVendor(e,r){return this.http.put(`${this.apiUrl+"/pv-api/vendor/?id="}${r}`,e)}deleteVendor(e){return this.http.delete(`${this.apiUrl+"/pv-api/vendor/?id="}${e}`)}getPaymentTerms(){return this.http.get(this.apiUrl+"/pv-api/payment_terms/")}getPaymentTermsById(e){return this.http.get(`${this.apiUrl+"/pv-api/payment_terms/?id="}${e}`)}PaymentTermsIsActive(e,r){return this.http.patch(`${this.apiUrl+"/pv-api/payment_terms/?id="}${e}`,r)}addPaymentTerms(e){return this.http.post(this.apiUrl+"/pv-api/payment_terms/",e)}updatePaymentTerms(e,r){return this.http.put(`${this.apiUrl+"/pv-api/payment_terms/?id="}${r}`,e)}deletePaymentTerms(e){return this.http.delete(`${this.apiUrl+"/pv-api/payment_terms/?id="}${e}`)}getTypeOfGst(){return this.http.get(this.apiUrl+"/pv-api/types_of_gst/")}getTransport(){return this.http.get(this.apiUrl+"/pv-api/transport/")}getTransportById(e){return this.http.get(`${this.apiUrl+"/pv-api/transport/?id="}${e}`)}TransportIsActive(e,r){return this.http.patch(`${this.apiUrl+"/pv-api/transport/?id="}${e}`,r)}addTransport(e){return this.http.post(this.apiUrl+"/pv-api/transport/",e)}updateTransport(e,r){return this.http.put(`${this.apiUrl+"/pv-api/transport/?id="}${r}`,e)}deleteTransport(e){return this.http.delete(`${this.apiUrl+"/pv-api/transport/?id="}${e}`)}getEmployee(){return this.http.get(this.apiUrl+"/pv-api/employee/")}getEmployeeById(e){return this.http.get(`${this.apiUrl+"/pv-api/employee/?id="}${e}`)}EmployeeIsActive(e,r){return this.http.patch(`${this.apiUrl+"/pv-api/employee/?id="}${e}`,r)}addEmployee(e){return this.http.post(this.apiUrl+"/pv-api/employee/",e)}updateEmployee(e,r){return this.http.put(`${this.apiUrl+"/pv-api/employee/?id="}${r}`,e)}deleteEmployee(e){return this.http.delete(`${this.apiUrl+"/pv-api/employee/?id="}${e}`)}getPermission(){return this.http.get(this.apiUrl+"/pv-api/permissions/")}getCustomer(){return this.http.get(this.apiUrl+"/pv-api/customer/")}getCustomerById(e){return this.http.get(`${this.apiUrl+"/pv-api/customer/?id="}${e}`)}CustomerIsActive(e,r){return this.http.patch(`${this.apiUrl+"/pv-api/customer/?id="}${e}`,r)}addCustomer(e){return this.http.post(this.apiUrl+"/pv-api/customer/",e)}updateCustomer(e,r){return this.http.put(`${this.apiUrl+"/pv-api/customer/?id="}${r}`,e)}deleteCustomer(e){return this.http.delete(`${this.apiUrl+"/pv-api/customer/?id="}${e}`)}getUser(){return this.http.get(this.apiUrl+"/pv-api/user/")}getUserById(e){return this.http.get(`${this.apiUrl+"/pv-api/user/?id="}${e}`)}UserIsActive(e,r){return this.http.patch(`${this.apiUrl+"/pv-api/user/?id="}${e}`,r)}addUser(e){return this.http.post(this.apiUrl+"/pv-api/user/",e)}updateUser(e,r){return this.http.put(`${this.apiUrl+"/pv-api/user/?id="}${r}`,e)}deleteUser(e){return this.http.delete(`${this.apiUrl+"/pv-api/user/?id="}${e}`)}getPermissionGroup(){return this.http.get(this.apiUrl+"/pv-api/group/")}getPermissionGroupById(e){return this.http.get(`${this.apiUrl+"/pv-api/group/?id="}${e}`)}addPermissionGroup(e){return this.http.post(this.apiUrl+"/pv-api/group/",e)}updatePermissionGroup(e,r){return this.http.put(`${this.apiUrl+"/pv-api/group/?group_id="}${r}`,e)}deletePermissionGroup(e){return this.http.delete(`${this.apiUrl+"/pv-api/group/?group_id="}${e}`)}getDealer(){return this.http.get(this.apiUrl+"/pv-api/dealer/")}getDealerById(e){return this.http.get(`${this.apiUrl+"/pv-api/dealer/?id="}${e}`)}DealerIsActive(e,r){return this.http.patch(`${this.apiUrl+"/pv-api/dealer/?id="}${e}`,r)}addDealer(e){return this.http.post(this.apiUrl+"/pv-api/dealer/",e)}updateDealer(e,r){return this.http.put(`${this.apiUrl+"/pv-api/dealer/?id="}${r}`,e)}deleteDealer(e){return this.http.delete(`${this.apiUrl+"/pv-api/dealer/?id="}${e}`)}getBranch(){return this.http.get(this.apiUrl+"/pv-api/branch/")}productVariant(){return this.http.get(this.apiUrl+"/pv-api/product_variant/")}searchProduct(e){return this.http.get(this.apiUrl+"/pv-api/variant-search/?search="+e)}getTerms(){return this.http.get(this.apiUrl+"/pv-api/terms/")}getTermsById(e){return this.http.get(`${this.apiUrl+"/pv-api/terms/?id="}${e}`)}TermsIsActive(e,r){return this.http.patch(`${this.apiUrl+"/pv-api/terms/?id="}${e}`,r)}addTerms(e){return this.http.post(this.apiUrl+"/pv-api/terms/",e)}updateTerms(e,r){return this.http.put(`${this.apiUrl+"/pv-api/terms/?id="}${r}`,e)}deleteTerms(e){return this.http.delete(`${this.apiUrl+"/pv-api/terms/?id="}${e}`)}getVoucherType(){return this.http.get(this.apiUrl+"/pv-api/voucher-type/")}getDepartment(){return this.http.get(this.apiUrl+"/pv-api/department/")}getDepartmentById(e){return this.http.get(`${this.apiUrl+"/pv-api/department/?id="}${e}`)}DepartmentIsActive(e,r){return this.http.patch(`${this.apiUrl+"/pv-api/department/?id="}${e}`,r)}addDepartment(e){return this.http.post(this.apiUrl+"/pv-api/department/",e)}updateDepartment(e,r){return this.http.put(`${this.apiUrl+"/pv-api/department/?id="}${r}`,e)}deleteDepartment(e){return this.http.delete(`${this.apiUrl+"/pv-api/department/?id="}${e}`)}getCreditLimitByUserId(e){return this.http.get(`${this.apiUrl+"/pv-api/get_credit_limit/?user_by_credit_id="}${e}`)}}return g.\u0275fac=function(e){return new(e||g)(h.LFG(p.eN))},g.\u0275prov=h.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},84039:(S,C,l)=>{l.r(C),l.d(C,{AddPermissionGroupModule:()=>D});var u=l(36895),h=l(4392),p=l(24006),t=l(94650),g=l(25062),P=l(97185);function e(a,d){if(1&a){const i=t.EpF();t.TgZ(0,"div")(1,"div",29)(2,"input",33),t.NdJ("change",function(o){t.CHM(i);const c=t.oxw(3);return t.KtG(c.onCheckChange(o))}),t.qZA(),t.TgZ(3,"label",31),t._uU(4),t.qZA()()()}if(2&a){const i=d.$implicit;t.xp6(2),t.Q6J("id","permission_"+(null==i?null:i.id))("checked",i.selected)("value",i.id),t.xp6(1),t.Q6J("for","permission_"+(null==i?null:i.id)),t.xp6(1),t.Oqu(null==i?null:i.name)}}function r(a,d){if(1&a){const i=t.EpF();t.TgZ(0,"div",27)(1,"h4",28),t._uU(2),t.qZA(),t.TgZ(3,"div",29)(4,"input",30),t.NdJ("change",function(o){const m=t.CHM(i).$implicit,A=t.oxw().index,b=t.oxw();return t.KtG(b.selectAllPermissions(m.permissions,A,m.model_name,o))}),t.qZA(),t.TgZ(5,"label",31),t._uU(6,"Select all"),t.qZA()(),t.YNc(7,e,5,5,"div",32),t.qZA()}if(2&a){const i=d.$implicit,s=t.oxw().index;t.xp6(2),t.Oqu(null==i?null:i.model_name),t.xp6(2),t.Q6J("id","selectAll_"+s+"_"+i.model_name),t.xp6(1),t.Q6J("for","selectAll_"+s+"_"+i.model_name),t.xp6(2),t.Q6J("ngForOf",null==i?null:i.permissions)}}function n(a,d){if(1&a&&(t.TgZ(0,"div",19)(1,"div",20)(2,"div",21)(3,"h2",22)(4,"button",23),t._uU(5),t.ALo(6,"titlecase"),t.qZA()(),t.TgZ(7,"div",24)(8,"div",25),t.YNc(9,r,8,4,"div",26),t.qZA()()()()()),2&a){const i=d.$implicit,s=d.index;t.xp6(4),t.uIk("data-bs-target","#collapse"+s)("aria-expanded",!1)("aria-controls","collapse"+s)("id","heading"+s),t.xp6(1),t.Oqu(t.lcZ(6,8,i.content_type.app_label)),t.xp6(2),t.Q6J("id","collapse"+s),t.uIk("aria-labelledby","heading"+s),t.xp6(2),t.Q6J("ngForOf",null==i?null:i.model)}}function x(a,d){1&a&&(t.TgZ(0,"button",34),t._uU(1,"Submit"),t.qZA())}function U(a,d){1&a&&(t.TgZ(0,"button",35),t._UZ(1,"span",36),t._uU(2,"\xa0 Submit"),t.qZA())}let f=(()=>{class a{constructor(i,s,o,c){this.contactService=i,this.fb=s,this.toastr=o,this.router=c,this.data1=[{id:1,content_type:{id:1,app_label:"Master",model:"logentry"},model:[{id:1,model_name:"Company",permissions:[{name:"Can Select All",codename:"select all"},{name:"Can add log entry",codename:"add_logentry"},{name:"Can change log entry",codename:"change_logentry"},{name:"Can delete log entry",codename:"delete_logentry"},{name:"Can view log entry",codename:"view_logentry"}]},{id:2,model_name:"Account",permissions:[{name:"Can Select All",codename:"select all"},{name:"Can add log entry",codename:"add_logentry"},{name:"Can change log entry",codename:"change_logentry"},{name:"Can delete log entry",codename:"delete_logentry"},{name:"Can view log entry",codename:"view_logentry"}]},{id:3,model_name:"Employee",permissions:[{name:"Can Select All",codename:"select all"},{name:"Can add log entry",codename:"add_logentry"},{name:"Can change log entry",codename:"change_logentry"},{name:"Can delete log entry",codename:"delete_logentry"},{name:"Can view log entry",codename:"view_logentry"}]},{id:4,model_name:"Warehouse",permissions:[{name:"Can Select All",codename:"select all"},{name:"Can add log entry",codename:"add_logentry"},{name:"Can change log entry",codename:"change_logentry"},{name:"Can delete log entry",codename:"delete_logentry"},{name:"Can view log entry",codename:"view_logentry"}]}]},{id:2,content_type:{id:1,app_label:"Contact",model:"logentry"},model:[{id:1,model_name:"Vendor",permissions:[{name:"Can Select All",codename:"select all"},{name:"Can add log entry",codename:"add_logentry"},{name:"Can change log entry",codename:"change_logentry"},{name:"Can delete log entry",codename:"delete_logentry"},{name:"Can view log entry",codename:"view_logentry"}]},{id:2,model_name:"Supplier",permissions:[{name:"Can Select All",codename:"select all"},{name:"Can add log entry",codename:"add_logentry"},{name:"Can change log entry",codename:"change_logentry"},{name:"Can delete log entry",codename:"delete_logentry"},{name:"Can view log entry",codename:"view_logentry"}]}]},{id:1,content_type:{id:1,app_label:"Product"},model:[{id:1,model_name:"color",permissions:[{name:"Can Select All",codename:"select all"},{name:"Can add log entry",codename:"add_logentry"},{name:"Can change log entry",codename:"change_logentry"},{name:"Can delete log entry",codename:"delete_logentry"},{name:"Can view log entry",codename:"view_logentry"}]},{id:2,model_name:"size",permissions:[{name:"Can Select All",codename:"select all"},{name:"Can add log entry",codename:"add_logentry"},{name:"Can change log entry",codename:"change_logentry"},{name:"Can delete log entry",codename:"delete_logentry"},{name:"Can view log entry",codename:"view_logentry"}]}]}],this.selectedSubcat=0,this.loaders=!1}get f(){return this.permissionForm.controls}ngOnInit(){this.permissionForm=this.fb.group({group_name:new p.NI("",[p.kI.required]),permissions:new p.Oe([],[p.kI.required])}),this.getPermissionGroup()}selectAllPermissions(i,s,o,c){const m=c.target.checked,A=this.permissionForm.get("permissions");for(let b of i)if(b.selected=m,m)this.isPermissionSelected(b.id)||(A.push(new p.NI(b.id)),this.selectedSubcat++);else if(this.isPermissionSelected(b.id)){const O=A.controls.findIndex(G=>G.value===b.id);-1!==O&&(A.removeAt(O),this.selectedSubcat--)}}isPermissionSelected(i){return this.permissionForm.get("permissions").controls.some(o=>o.value===i)}getPermissionGroup(){this.contactService.getPermission().subscribe(i=>{this.groupList=i?.data})}getPermissions(){this.contactService.getPermission().subscribe(i=>{const s=i.map(o=>({id:o.id,content_type:o.content_type,model:[{id:o.content_type.id,model:o.content_type.model,permissions:[{name:o.name,codename:o.codename}]}]}));this.permmisionList=s})}getPermission(){this.contactService.getPermission().subscribe(i=>{const s=[];i.forEach(o=>{const c=s.find(m=>m.content_type.model===o.content_type.model);c?c.model[0].permissions.push({name:o.name,codename:o.codename}):s.push({id:o.content_type.id,content_type:o.content_type,model:[{id:o.content_type.id,model:o.content_type.model,permissions:[{name:o.name,codename:o.codename}]}]})}),this.permmisionList=s})}onCheckChange(i){const s=this.permissionForm.get("permissions");if(i.target.checked)s.push(new p.NI(parseInt(i.target.value))),this.selectedSubcat++;else{let o=0;s.controls.forEach(c=>{if(c.value==i.target.value)return s.removeAt(o),void this.selectedSubcat--;o++})}}submit(){if(console.log(this.permissionForm.value),this.permissionForm.valid){this.loaders=!0,console.log("valid");var i=new FormData;i.append("group_name",this.permissionForm.get("group_name")?.value);const s=this.permissionForm.get("permissions")?.value.filter(o=>null!==o);i.append("permissions",JSON.stringify(s)),this.contactService.addPermissionGroup(i).subscribe(o=>{console.log(o),this.loaders=!1,this.addRes=o,"True"==this.addRes.IsSuccess&&(this.toastr.success(this.addRes.msg),this.loaders=!1,this.router.navigate(["//settings/permissionGroup"]))},o=>{this.loaders=!1,0==o.error.IsSuccess&&this.toastr.error(o.error.Error)})}else this.permissionForm.markAllAsTouched(),this.toastr.error("Please Fill All The Required Fields")}get group_name(){return this.permissionForm.get("group_name")}get permissions(){return this.permissionForm.get("permissions")}detailsPage(i){this.router.navigate([`//contacts/detailsPermissionGroup/${i}`])}}return a.\u0275fac=function(i){return new(i||a)(t.Y36(g.y),t.Y36(p.qu),t.Y36(P._W),t.Y36(h.F0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-add-permission-group"]],decls:28,vars:5,consts:[[1,"page-header"],[1,"page-title"],[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],["type","text","placeholder","User Role Name*","formControlName","group_name",1,"form-control","w-30",3,"ngModel","keyup.enter","ngModelChange"],["groupValue",""],["id","pills-tab","role","tablist",1,"nav","nav-pills","mb-4","mt-3"],["role","presentation",1,"nav-item"],["id","pills-home-tab","data-bs-toggle","pill","data-bs-target","#pills-home","type","button","role","tab","aria-controls","pills-home","aria-selected","true",1,"nav-link","active"],["id","pills-profile-tab","data-bs-toggle","pill","data-bs-target","#pills-profile","type","button","role","tab","aria-controls","pills-profile","aria-selected","false",1,"nav-link"],["id","pills-tabContent",1,"tab-content"],["id","pills-home","role","tabpanel","aria-labelledby","pills-home-tab",1,"tab-pane","fade","show","active"],["class","heading",4,"ngFor","ngForOf"],["id","pills-profile","role","tabpanel","aria-labelledby","pills-profile-tab",1,"tab-pane","fade"],[1,"col-lg-12"],["class","btn btn-submit me-2",4,"ngIf"],["class","btn btn-submit me-2","type","submit","disabled","",4,"ngIf"],["routerLink","//settings/permissionGroup",1,"btn","btn-cancel"],[1,"heading"],["id","accordionExample",1,"accordion"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse",1,"accordion-button","collapsed"],["data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"id"],[1,"row","w-100","m-0"],["class","col-sm-3 mb-3",4,"ngFor","ngForOf"],[1,"col-sm-3","mb-3"],[1,"f-18","mb-2"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","change"],[1,"form-check-label",3,"for"],[4,"ngFor","ngForOf"],["type","checkbox","formArrayName","permissions",1,"form-check-input",3,"id","checked","value","change"],[1,"btn","btn-submit","me-2"],["type","submit","disabled","",1,"btn","btn-submit","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"h4"),t._uU(3,"User Role"),t.qZA(),t.TgZ(4,"h6"),t._uU(5,"Manage your User Roles"),t.qZA()()(),t.TgZ(6,"div",2)(7,"div",3)(8,"form",4),t.NdJ("ngSubmit",function(){return s.submit()}),t.TgZ(9,"input",5,6),t.NdJ("keyup.enter",function(){t.CHM(o);const m=t.MAs(10);return t.KtG(s.detailsPage(m.value))})("ngModelChange",function(m){return s.modelName=m}),t.qZA(),t.TgZ(11,"ul",7)(12,"li",8)(13,"button",9),t._uU(14,"User Role Details"),t.qZA()(),t.TgZ(15,"li",8)(16,"button",10),t._uU(17,"Report Details"),t.qZA()()(),t.TgZ(18,"div",11)(19,"div",12)(20,"div"),t.YNc(21,n,10,10,"div",13),t.qZA()(),t._UZ(22,"div",14),t.TgZ(23,"div",15),t.YNc(24,x,2,0,"button",16),t.YNc(25,U,3,0,"button",17),t.TgZ(26,"a",18),t._uU(27,"Cancel"),t.qZA()()()()()()}2&i&&(t.xp6(8),t.Q6J("formGroup",s.permissionForm),t.xp6(1),t.Q6J("ngModel",s.modelName),t.xp6(12),t.Q6J("ngForOf",s.groupList),t.xp6(3),t.Q6J("ngIf",!s.loaders),t.xp6(1),t.Q6J("ngIf",s.loaders))},dependencies:[u.sg,u.O5,h.yS,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,p.CE,u.rS],styles:[".w-30[_ngcontent-%COMP%]{width:20%}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:transparent;color:#f63;font-weight:500;border-bottom:2px solid #ff6633;border-radius:0;font-size:16px}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:16px;color:#f63}.orangeb-btn[_ngcontent-%COMP%]{padding:5px 10px;border:2px solid #ff6633;background:transparent;color:#f63;border-radius:5px;font-weight:500}.orangeb-btn[_ngcontent-%COMP%]:hover{background-color:#f63;color:#fff;transition:.3s}.accordion-item[_ngcontent-%COMP%]{border:1px solid #EEEEEE}.accordion-button[_ngcontent-%COMP%]{font-size:17px;font-weight:500;padding:15px 20px}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){background-color:#f9d9cc;color:#f63}.accordion-button.collapsed[_ngcontent-%COMP%]:after{width:30px;background-repeat:no-repeat;height:30px;background-size:auto}.accordion-button[_ngcontent-%COMP%]:not(.collapsed):after{transform:rotate(-180deg);width:30px;background-repeat:no-repeat;height:30px;background-size:auto}.accordion-body[_ngcontent-%COMP%]{color:#201e1f;font-size:20px}.accordion[_ngcontent-%COMP%]{margin-bottom:30px}.text-p[_ngcontent-%COMP%]{color:#483d53;font-size:15px;font-weight:400}.form-control[_ngcontent-%COMP%]:focus{border-color:#faddd1;outline:0;box-shadow:0 0 0 .25rem #ff8e5f63}.btn-close[_ngcontent-%COMP%]:focus{border-color:#faddd1;outline:0;box-shadow:0 0 0 .25rem #ff8e5f63}.form-check-input[_ngcontent-%COMP%]:focus{border-color:#faddd1;box-shadow:0 0 0 .25rem #ff8e5f63}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#f63;border-color:#f63}.accordion-button[_ngcontent-%COMP%]:focus{border-color:#faddd1;box-shadow:0 0 0 .25rem #ff8e5f63}.accordion-collapse[_ngcontent-%COMP%]{padding:15px}.f-18[_ngcontent-%COMP%]{font-size:18px;font-weight:500}@media (max-width: 765px){.purple-text[_ngcontent-%COMP%]{font-size:15px}.accordion-button[_ngcontent-%COMP%]{padding:10px 15px}.text-p[_ngcontent-%COMP%]{font-size:11px}.heading[_ngcontent-%COMP%]{width:100%}.accordion-button[_ngcontent-%COMP%], .accordion-body[_ngcontent-%COMP%]{font-size:12px}.accordion-button[_ngcontent-%COMP%]:not(.collapsed):after{width:20px;height:20px}.accordion-button.collapsed[_ngcontent-%COMP%]:after{width:20px;height:20px}}"]}),a})();var $=l(30597);const v=JSON.parse(localStorage.getItem("auth"));let _;v&&v.map(d=>{"auth"===d.content_type.app_label&&"group"===d.content_type.model&&"add_group"==d.codename&&(_=d.codename)});const y=[{path:"",component:f,canActivate:[$.l],data:{allowedRoles:["add_group"]}}];let M=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[h.Bz.forChild(y),h.Bz]}),a})();var T=l(3056);let D=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[u.ez,M,T.ZQ.forRoot(),p.u5,p.UX]}),a})()},30597:(S,C,l)=>{l.d(C,{l:()=>P});var u=l(94650),h=l(4392),p=l(97185),t=l(42917),g=l(80927);let P=(()=>{class e{constructor(n,x,U,f,$){this.router=n,this.Arout=x,this.toastr=U,this.profileService=f,this.coreService=$}canActivate(n,x){const U=JSON.parse(localStorage.getItem("auth"));if(this.profileService.userDetails$.subscribe(f=>{this.userDetails=f,this.permissions=this.userDetails?.permission}),U){const f=n.data.allowedRoles,$=U.some(_=>f.includes(_.codename));let v=this.coreService.profileData$.value;if(v&&v.username){this.userDetails=v,this.profileService.setUserDetails(this.userDetails),this.profileService.ProfileData$.next(v);const _=v?.permission,y=this.profileService.getUserDetails();(!y||y.length!==_.length)&&(this.profileService.setUserPermission(_),window.location.reload())}else this.coreService.getProfile().subscribe(_=>{this.userDetails=_,this.profileService.setUserDetails(this.userDetails),this.profileService.ProfileData$.next(_);const y=_?.permission,M=this.profileService.getUserDetails();(!M||M.length!==y.length)&&(this.profileService.setUserPermission(y),window.location.reload())});if($)return!0}return this.toastr.error("User have Not Permission to Access This page"),this.router.navigate(["/dashboard"]),!1}}return e.\u0275fac=function(n){return new(n||e)(u.LFG(h.F0),u.LFG(h.gz),u.LFG(p._W),u.LFG(t.J),u.LFG(g.p))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);