"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[3792],{33792:(C,Z,n)=>{n.r(Z),n.d(Z,{WarehouselistModule:()=>w});var g=n(96814),o=n(56223),y=n(5164),c=n(98665),a=n(89727),r=n(74408),u=n(13519),p=n.n(u),e=n(19212),h=n(44293),f=n(31025),_=n(58763);const m=(i,A,s)=>({"bg-lightgreen":i,"bg-lightred":A,"bg-lightyellow":s});function b(i,A){if(1&i){const s=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"label",58)(3,"input",28),e.NdJ("ngModelChange",function(t){const T=e.CHM(s).$implicit;return e.KtG(T.is_active=t)}),e.qZA(),e._UZ(4,"span",29),e.qZA()(),e.TgZ(5,"td",59)(6,"a",60),e._uU(7),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td")(13,"span",61),e._uU(14),e.qZA()(),e.TgZ(15,"td")(16,"a",62),e.NdJ("click",function(){const d=e.CHM(s).$implicit,T=e.oxw();return e.KtG(T.editWareHouse(d))}),e._UZ(17,"img",63),e.qZA(),e.TgZ(18,"a",64),e.NdJ("click",function(){const t=e.CHM(s),d=t.index,T=t.$implicit,D=e.oxw();return e.KtG(D.confirmText(d,T.id))}),e._UZ(19,"img",65),e.qZA()()()}if(2&i){const s=A.$implicit;e.xp6(3),e.Q6J("ngModel",s.is_active),e.xp6(4),e.Oqu(s.title),e.xp6(2),e.Oqu(s.accounts_type),e.xp6(2),e.Oqu(s.address),e.xp6(2),e.Q6J("ngClass",e.kEZ(6,m,!0===s.is_active,!1===s.is_active,"Partial"===s.is_active)),e.xp6(1),e.Oqu(s.is_active)}}function v(i,A){1&i&&(e.TgZ(0,"span",66),e._uU(1,"Enter Title name "),e.qZA())}function U(i,A){1&i&&(e.TgZ(0,"span",66),e._uU(1,"Select Type of Account"),e.qZA())}function q(i,A){1&i&&(e.TgZ(0,"span",66),e._uU(1,"Enter your address"),e.qZA())}function M(i,A){1&i&&(e.TgZ(0,"a",67),e._uU(1,"Cancel"),e.qZA())}const W=i=>({"is-invalid":i}),x=[{path:"",component:(()=>{class i{constructor(s,l,t,d){this.fb=s,this.coreService=l,this.queryService=t,this.toastr=d,this.dtOptions={},this.initChecked=!1,this.editMode=!1,this.queryService.filterToggle()}confirmText(s,l){p().fire({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",buttonsStyling:!0,customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"}}).then(t=>{t.isConfirmed&&(this.coreService.deleteWarehouse(l).subscribe(d=>{this.delRes=d}),p().fire({icon:"success",title:"Deleted!",text:"Your file has been deleted."}),this.tableData.splice(s,1))})}get f(){return this.warehouseForm.controls}ngOnInit(){this.queryService.getWarehouse(),this.queryService.warehouse.subscribe(d=>{localStorage.getItem("warehouseList")&&(this.tableData=Object.values(JSON.parse(localStorage.getItem("warehouseList"))))});let s="",l="",t="";this.coreService.editThings.subscribe(d=>{this.editRoute=d,this.editRoute&&(s=d.title,l=d.accounts_type,t=d.address),this.warehouseForm=this.fb.group({title:new o.NI(s,[o.kI.required]),accounts_type:new o.NI(l,[o.kI.required]),address:new o.NI(t,[o.kI.required])})}),this.dtOptions={dom:"Btlpif",pagingType:"numbers",language:{search:" ",searchPlaceholder:"Search...",info:"_START_ - _END_ of _TOTAL_ items"},initComplete:(d,T)=>{$(".dt-buttons").appendTo(".wordset"),$(".dataTables_filter").appendTo(".search-input")}}}selectAll(s){this.tableData.forEach(s?l=>{l.isSelected=!1}:l=>{l.isSelected=!0})}deleteId(s){this.coreService.deleteWarehouse(s).subscribe(l=>{this.delRes=l})}submit(){this.warehouseForm.valid?this.editMode?this.coreService.updateWarehouse(this.warehouseForm.value,this.editRoute.id).subscribe(s=>{"Warehouse updated successfully"==s.msg&&(this.toastr.success(s.msg),this.ngOnInit(),this.warehouseForm.reset(),this.editMode=!1)}):this.coreService.addWarehouse(this.warehouseForm.value).subscribe(s=>{this.addRes=s,"Data Created"==this.addRes.msg&&(this.toastr.success(this.addRes.msg),this.ngOnInit(),this.warehouseForm.reset())},s=>{}):this.warehouseForm.markAllAsTouched()}editWareHouse(s){this.coreService.editThisData(s),this.editMode=!0}ngOnDestroy(){this.coreService.editThisData(null)}get accounts_type(){return this.warehouseForm.get("accounts_type")}get title(){return this.warehouseForm.get("title")}get address(){return this.warehouseForm.get("address")}static#e=this.\u0275fac=function(l){return new(l||i)(e.Y36(o.qu),e.Y36(h.p),e.Y36(f._),e.Y36(_._W))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-warehouse-list"]],decls:120,vars:20,consts:[[1,"row"],[1,"col-7"],[1,"page-header"],[1,"page-title"],[1,"page-btn"],["routerLink","//warehouse/addwarehouse",1,"btn","btn-added"],["src","assets/img/icons/plus.svg","alt","img",1,"me-1"],[1,"card"],[1,"card-body"],[1,"table-top"],[1,"search-set"],[1,"search-path"],["id","filter_search",1,"btn","btn-filter"],["src","assets/img/icons/filter.svg","alt","img"],["src","assets/img/icons/closes.svg","alt","img"],[1,"search-input"],[1,"btn","btn-searchset"],["src","assets/img/icons/search-white.svg","alt","img"],[1,"wordset"],["data-bs-toggle","tooltip","data-bs-placement","top","title","pdf"],["src","assets/img/icons/pdf.svg","alt","img"],["data-bs-toggle","tooltip","data-bs-placement","top","title","excel"],["src","assets/img/icons/excel.svg","alt","img"],["data-bs-toggle","tooltip","data-bs-placement","top","title","print"],["src","assets/img/icons/printer.svg","alt","img"],[1,"table-responsive"],["datatable","",1,"table","datanew",3,"dtOptions"],[1,"checkboxs",3,"click"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkmarks"],[4,"ngFor","ngForOf"],[1,"col-5"],[3,"formGroup","ngSubmit"],[1,"col-lg-6","col-sm-6","col-12"],[1,"form-group"],["type","text","formControlName","title","id","title",3,"ngClass"],["class","text-danger",4,"ngIf"],["formControlName","accounts_type","required","","id","accounts_type",3,"ngClass"],["value","","selected","","disabled",""],["value","Cash"],["value","Bank"],["value","Employee"],["value","Customer"],["value","Sale"],["value","Purchase"],["value","Stock"],["value","Dealer"],["value","Supplier"],["value","Tax"],["value","Expense"],["value","Capital"],["value","Current Asset"],["value","Current Liabilities"],["value","Fixed Assets"],[1,"col-lg-12"],["formControlName","address","id","address",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-submit","me-2"],["routerLink","//warehouse/warehouselist","class","btn btn-cancel",4,"ngIf"],[1,"checkboxs"],[1,"productimgname"],["href","javascript:void(0);",2,"line-height","3"],[1,"badges",3,"ngClass"],[1,"me-3",3,"click"],["src","assets/img/icons/edit.svg","alt","img"],["href","javascript:void(0);",1,"me-3","confirm-text",3,"click"],["src","assets/img/icons/delete.svg","alt","img"],[1,"text-danger"],["routerLink","//warehouse/warehouselist",1,"btn","btn-cancel"]],template:function(l,t){1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),e._uU(5,"Warehouse list"),e.qZA(),e.TgZ(6,"h6"),e._uU(7,"View/Search Warehouse"),e.qZA()(),e.TgZ(8,"div",4)(9,"a",5),e._UZ(10,"img",6),e._uU(11,"Add Warehouse "),e.qZA()()(),e.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"a",12),e._UZ(18,"img",13),e.TgZ(19,"span"),e._UZ(20,"img",14),e.qZA()()(),e.TgZ(21,"div",15)(22,"a",16),e._UZ(23,"img",17),e.qZA()()(),e.TgZ(24,"div",18)(25,"ul")(26,"li")(27,"a",19),e._UZ(28,"img",20),e.qZA()(),e.TgZ(29,"li")(30,"a",21),e._UZ(31,"img",22),e.qZA()(),e.TgZ(32,"li")(33,"a",23),e._UZ(34,"img",24),e.qZA()()()()(),e.TgZ(35,"div",25)(36,"table",26)(37,"thead")(38,"tr")(39,"th")(40,"label",27),e.NdJ("click",function(){return t.selectAll(t.initChecked)}),e.TgZ(41,"input",28),e.NdJ("ngModelChange",function(T){return t.initChecked=T}),e.qZA(),e._UZ(42,"span",29),e.qZA()(),e.TgZ(43,"th"),e._uU(44,"Title"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Accounts Type"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Address"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Is Active"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Action"),e.qZA()()(),e.TgZ(53,"tbody"),e.YNc(54,b,20,10,"tr",30),e.qZA()()()()()(),e.TgZ(55,"div",31)(56,"div",2)(57,"div",3)(58,"h4"),e._uU(59),e.qZA(),e.TgZ(60,"h6"),e._uU(61),e.qZA()()(),e.TgZ(62,"div",7)(63,"div",8)(64,"form",32),e.NdJ("ngSubmit",function(){return t.submit()}),e.TgZ(65,"div",0)(66,"div",33)(67,"div",34)(68,"label"),e._uU(69,"Title*"),e.qZA(),e._UZ(70,"input",35),e.YNc(71,v,2,0,"span",36),e.qZA()(),e.TgZ(72,"div",33)(73,"div",34)(74,"label"),e._uU(75," Type of Account*"),e.qZA(),e.TgZ(76,"select",37)(77,"option",38),e._uU(78,"Accounts type"),e.qZA(),e.TgZ(79,"option",39),e._uU(80,"Cash"),e.qZA(),e.TgZ(81,"option",40),e._uU(82,"Bank"),e.qZA(),e.TgZ(83,"option",41),e._uU(84,"Employee"),e.qZA(),e.TgZ(85,"option",42),e._uU(86,"Customer"),e.qZA(),e.TgZ(87,"option",43),e._uU(88,"Sale"),e.qZA(),e.TgZ(89,"option",44),e._uU(90,"Purchase"),e.qZA(),e.TgZ(91,"option",45),e._uU(92,"Stock"),e.qZA(),e.TgZ(93,"option",46),e._uU(94,"Dealer"),e.qZA(),e.TgZ(95,"option",47),e._uU(96,"Supplier"),e.qZA(),e.TgZ(97,"option",48),e._uU(98,"Tax"),e.qZA(),e.TgZ(99,"option",49),e._uU(100,"Expense"),e.qZA(),e.TgZ(101,"option",50),e._uU(102,"Capital"),e.qZA(),e.TgZ(103,"option",51),e._uU(104,"Current Asset"),e.qZA(),e.TgZ(105,"option",52),e._uU(106,"Current Liabilities"),e.qZA(),e.TgZ(107,"option",53),e._uU(108,"Fixed Assets"),e.qZA()(),e.YNc(109,U,2,0,"span",36),e.qZA()(),e.TgZ(110,"div",54)(111,"div",34)(112,"label"),e._uU(113,"Address*"),e.qZA(),e._UZ(114,"textarea",55),e.YNc(115,q,2,0,"span",36),e.qZA()(),e.TgZ(116,"div",54)(117,"button",56),e._uU(118),e.qZA(),e.YNc(119,M,2,0,"a",57),e.qZA()()()()()()()),2&l&&(e.xp6(36),e.Q6J("dtOptions",t.dtOptions),e.xp6(5),e.Q6J("ngModel",t.initChecked),e.xp6(13),e.Q6J("ngForOf",t.tableData),e.xp6(5),e.hij(" ",t.editMode?"Edit Warehouse":"Add Warehouse",""),e.xp6(2),e.Oqu(t.editMode?"Edit Warehouse List":"Create new Warehouse"),e.xp6(3),e.Q6J("formGroup",t.warehouseForm),e.xp6(6),e.Q6J("ngClass",e.VKq(14,W,t.f.title.touched&&t.f.title.invalid)),e.xp6(1),e.Q6J("ngIf",t.title&&t.title.invalid&&t.title.touched),e.xp6(5),e.Q6J("ngClass",e.VKq(16,W,t.f.accounts_type.touched&&t.f.accounts_type.invalid)),e.xp6(33),e.Q6J("ngIf",t.accounts_type&&t.accounts_type.invalid&&t.accounts_type.touched),e.xp6(5),e.Q6J("ngClass",e.VKq(18,W,t.f.address.touched&&t.f.address.invalid)),e.xp6(1),e.Q6J("ngIf",t.address&&t.address.invalid&&t.address.touched),e.xp6(3),e.Oqu(t.editMode?"Save Changes":"Submit"),e.xp6(1),e.Q6J("ngIf",!t.editMode))},dependencies:[g.mk,g.sg,g.O5,r.rH,o._Y,o.YN,o.Kr,o.Fj,o.Wl,o.EJ,o.JJ,o.JL,o.Q7,o.On,o.sg,o.u,c.G],styles:["select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}"]})}return i})()}];let O=(()=>{class i{static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275mod=e.oAB({type:i});static#s=this.\u0275inj=e.cJS({imports:[r.Bz.forChild(x),r.Bz]})}return i})(),w=(()=>{class i{static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275mod=e.oAB({type:i});static#s=this.\u0275inj=e.cJS({imports:[g.ez,O,o.u5,o.UX,a.ZU,y.ii,c.T]})}return i})()},98665:(C,Z,n)=>{n.d(Z,{G:()=>g.G,T:()=>o.T});var g=n(37342),o=n(37263)},37342:(C,Z,n)=>{n.d(Z,{G:()=>y});var g=n(19212),y=function(){function c(a,r,u){this.el=a,this.vcr=r,this.renderer=u,this.dtOptions={}}return c.prototype.ngOnInit=function(){var a=this;this.dtTrigger?this.dtTrigger.subscribe(function(r){a.displayTable(r)}):this.displayTable(null)},c.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},c.prototype.displayTable=function(a){var r=this;a&&(this.dtOptions=a),this.dtInstance=new Promise(function(u,p){Promise.resolve(r.dtOptions).then(function(e){0===Object.keys(e).length&&0===$("tbody tr",r.el.nativeElement).length?p("Both the table and dtOptions cannot be empty"):setTimeout(function(){var f={rowCallback:function(_,m,b){if(e.columns){var v=e.columns;r.applyNgPipeTransform(_,v),r.applyNgRefTemplate(_,v,m)}e.rowCallback&&e.rowCallback(_,m,b)}};f=Object.assign({},e,f),r.dt=$(r.el.nativeElement).DataTable(f),u(r.dt)})})})},c.prototype.applyNgPipeTransform=function(a,r){r.filter(function(p){return p.ngPipeInstance&&!p.ngTemplateRef}).forEach(function(p){var e=p.ngPipeInstance,h=p.ngPipeArgs||[],f=r.findIndex(function(v){return v.data===p.data}),_=a.childNodes.item(f),m=$(_).text(),b=e.transform.apply(e,function(c,a,r){if(r||2===arguments.length)for(var e,u=0,p=a.length;u<p;u++)(e||!(u in a))&&(e||(e=Array.prototype.slice.call(a,0,u)),e[u]=a[u]);return c.concat(e||Array.prototype.slice.call(a))}([m],h,!1));$(_).text(b)})},c.prototype.applyNgRefTemplate=function(a,r,u){var p=this;r.filter(function(h){return h.ngTemplateRef&&!h.ngPipeInstance}).forEach(function(h){var f=h.ngTemplateRef,_=f.ref,m=f.context,b=r.findIndex(function(M){return M.data===h.data}),v=a.childNodes.item(b);$(v).html("");var U=Object.assign({},m,m?.userData,{adtData:u}),q=p.vcr.createEmbeddedView(_,U);p.renderer.appendChild(v,q.rootNodes[0])})},c.\u0275fac=function(r){return new(r||c)(g.Y36(g.SBq),g.Y36(g.s_b),g.Y36(g.Qsj))},c.\u0275dir=g.lG2({type:c,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),c}()},37263:(C,Z,n)=>{n.d(Z,{T:()=>c});var g=n(96814),y=(n(37342),n(19212)),c=function(){function a(){}return a.forRoot=function(){return{ngModule:a}},a.\u0275fac=function(u){return new(u||a)},a.\u0275mod=y.oAB({type:a}),a.\u0275inj=y.cJS({imports:[g.ez]}),a}()}}]);