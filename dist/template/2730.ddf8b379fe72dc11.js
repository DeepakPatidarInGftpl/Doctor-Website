"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[2730],{2730:(G,_,c)=>{c.r(_),c.d(_,{EditbrandModule:()=>Q});var l=c(36895),g=c(88996),a=c(24006),t=c(94650),A=c(80927),Z=c(97185),p=c(42917);function T(i,s){1&i&&(t.TgZ(0,"span",30),t._uU(1,"Enter Title "),t.qZA())}function b(i,s){1&i&&(t.TgZ(0,"span",30),t._uU(1,"Enter code "),t.qZA())}function C(i,s){1&i&&(t.TgZ(0,"span",30),t._uU(1,"Enter discount (ex-1-100) "),t.qZA())}const d=function(i){return{"is-invalid":i}};function h(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"a",31)(1,"input",32,33),t.NdJ("change",function(r){t.CHM(o);const n=t.oxw();return t.KtG(n.onCheckCategory(r))}),t.qZA(),t.TgZ(3,"label",34),t.NdJ("click",function(r){t.CHM(o);const n=t.oxw();return t.KtG(n.onLabelClick(r))}),t._uU(4),t.qZA()()}if(2&i){const o=s.$implicit,e=s.index,r=t.oxw();t.xp6(1),t.Q6J("value",o.id)("checked",r.selectCat.includes(o.id)||r.selectedCategoryIds.includes(o.id))("ngClass",t.VKq(6,d,r.f.category.touched&&r.f.category.invalid))("id","checkboxCat-"+e),t.xp6(2),t.Q6J("for","checkboxCat-"+e),t.xp6(1),t.Oqu(o.title)}}function f(i,s){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Oqu(o.selectedCat+" Category Selected")}}function y(i,s){1&i&&(t.TgZ(0,"span",30),t._uU(1,"Select Category "),t.qZA())}function S(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"a",31)(1,"input",35),t.NdJ("change",function(r){t.CHM(o);const n=t.oxw();return t.KtG(n.onCheckSize(r))}),t.qZA(),t.TgZ(2,"label",34),t.NdJ("click",function(r){t.CHM(o);const n=t.oxw();return t.KtG(n.onLabelClick(r))}),t._uU(3),t.qZA()()}if(2&i){const o=s.$implicit,e=s.index,r=t.oxw();t.xp6(1),t.Q6J("value",o.id)("ngClass",t.VKq(6,d,r.f.subcategory_group.touched&&r.f.subcategory_group.invalid))("id","checkbox-"+e)("checked",r.subcatGroup.includes(o.id)||r.selectedSubCategoryGroupIds.includes(o.id)),t.xp6(1),t.Q6J("for","checkbox-"+e),t.xp6(1),t.Oqu(o.title)}}function v(i,s){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Oqu(o.selectedSubCatGrp+" Subcategory group Selected")}}function M(i,s){1&i&&(t.TgZ(0,"span",30),t._uU(1,"Select subcategory group "),t.qZA())}function E(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"a",31)(1,"input",36),t.NdJ("change",function(r){t.CHM(o);const n=t.oxw();return t.KtG(n.onCheckChange(r))}),t.qZA(),t.TgZ(2,"label",34),t.NdJ("click",function(r){t.CHM(o);const n=t.oxw();return t.KtG(n.onLabelClick(r))}),t._uU(3),t.qZA()()}if(2&i){const o=s.$implicit,e=s.index,r=t.oxw();t.xp6(1),t.Q6J("value",o.id)("checked",r.selectSubcat.includes(o.id)||r.selectedSubCategoryIds.includes(null==o?null:o.id))("ngClass",t.VKq(6,d,r.f.subcategory.touched&&r.f.subcategory.invalid))("id","checkboxSub-"+e),t.xp6(1),t.Q6J("for","checkboxSub-"+e),t.xp6(1),t.Oqu(o.title)}}function I(i,s){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Oqu(o.selectedSubcat+" Subcategory Selected")}}function w(i,s){1&i&&(t.TgZ(0,"span",30),t._uU(1,"Select subcategory "),t.qZA())}function F(i,s){1&i&&(t.TgZ(0,"span",30),t._uU(1,"Select image"),t.qZA())}function J(i,s){if(1&i&&t._UZ(0,"img",37),2&i){const o=t.oxw();t.Q6J("src",o.url,t.LSH)}}function L(i,s){if(1&i&&t._UZ(0,"img",37),2&i){const o=t.oxw();t.Q6J("src",o.imgUrl+(null==o.updateData?null:o.updateData.image),t.LSH)}}function N(i,s){1&i&&(t.TgZ(0,"button",38),t._uU(1,"Submit"),t.qZA())}function O(i,s){1&i&&(t.TgZ(0,"button",39),t._UZ(1,"span",40),t._uU(2,"Submit"),t.qZA())}const x=function(){return{standalone:!0}},k=[{path:"",component:(()=>{class i{constructor(o,e,r,n,m,u){this.coreService=o,this.fb=e,this.Arout=r,this.toastr=n,this.router=m,this.cs=u,this.show=!1,this.imgUrl="https://pv.greatfuturetechno.com",this.dropdownList=[],this.selectedItems=[],this.dropdownSettings={},this.subcatGroup=[],this.selectSubcat=[],this.selectCat=[],this.categoryList=[],this.filteredCategoryList=[],this.searchCategory="",this.selectedCat=0,this.selectedCategoryIds=[],this.subcatGroupList=[],this.filteredSubCategoryGroupList=[],this.searchSubCategoryGroup="",this.selectedSubCategoryGroupIds=[],this.subcatbySubcatGroup=[],this.filteredSubCategoryList=[],this.searchSubCategory="",this.selectedSubcat=0,this.selectedSubCategoryIds=[],this.selectedSubCatGrp=0,this.loaders=!1}get f(){return this.brandForm.controls}ngOnInit(){this.id=this.Arout.snapshot.paramMap.get("id"),this.brandForm=new a.cw({title:new a.NI("",[a.kI.required]),code:new a.NI(""),image:new a.NI(""),discount:new a.NI("",[a.kI.pattern(/^(100|[0-9]{1,2})$/)]),category:new a.Oe([]),subcategory_group:new a.Oe([],[a.kI.required]),subcategory:new a.Oe([],[a.kI.required])}),this.dropdownSettings={singleSelection:!1,idField:"id",textField:"product_title",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0},this.coreService.getbrandById(this.id).subscribe(o=>{console.log(o),this.url="",this.id==o.id&&(console.log(o),this.updateData=o,this.subcatId=o.subcategory_group[0].id,console.log(this.subcatId),this.subcatGroup=o?.subcategory_group.map(e=>e.id),this.selectSubcat=o?.subcategory.map(e=>e.id),this.selectCat=o?.category.map(e=>e?.id),this.brandForm.patchValue({title:o.title,code:o.code,discount:o.discount}),o?.category.length>0&&(console.log("categry"),this.getSubcatGroupByCategory(this.selectCat)),this.getSubcategoryBySubcatGroup(this.subcatGroup),this.getCategory())})}onItemSelect(o){console.log(o),this.brandForm.get("variant").push(new a.NI(o.id))}onItemDeselect(o){console.log("Item deselected:",o);let e=this.brandForm.get("variant");console.log(e);const r=e.controls.findIndex(n=>n.value===o.id);console.log(r),-1!==r&&e.removeAt(r)}onSelectAll(o){console.log(o);let e=this.brandForm.get("variant");o.forEach(r=>{e.push(new a.NI(r.id))})}onDeselectAll(o){console.log("All items deselected:",o),this.brandForm.get("variant").clear()}getCategory(){this.coreService.getCategory().subscribe(o=>{this.categoryList=o,this.filteredCategoryList=[...this.categoryList],this.categoryList.map(e=>{console.log(this.selectCat.length),this.selectedCat=this.selectCat.length,console.log(this.selectCat.includes(e?.id),"category"),this.selectCat.includes(e.id)&&this.brandForm.get("category").push(new a.NI(e.id))})})}filterCategory(){this.filteredCategoryList=""===this.searchCategory.trim()?[...this.categoryList]:this.categoryList.filter(o=>o.title.toLowerCase().includes(this.searchCategory.toLowerCase()))}onCheckCategory(o){const e=this.brandForm.get("category");if(o.target.checked)e.push(new a.NI(parseInt(o.target.value))),this.check=e,this.selectedCat++,this.selectedCategoryIds=e.value,this.getSubcatGroupByCategory(e.value);else{let r=0;e.controls.forEach(n=>{if(n.value==o.target.value)return e.removeAt(r),this.selectedCat--,void this.getSubcatGroupByCategory(e.value);r++})}}getSubcatGroupByCategory(o){console.log(o);const e=JSON.stringify(o);this.coreService.getSubcategoryGroupByCategoryid(e).subscribe(r=>{console.log(r),this.subcatGroupList=r,this.filteredSubCategoryGroupList=[...this.subcatGroupList],this.subcatGroupList.map(n=>{this.selectedSubCatGrp=this.subcatGroup.length,console.log(this.selectedSubCatGrp),this.subcatGroup.includes(n.id)&&(console.log(n.id),this.brandForm.get("subcategory_group").push(new a.NI(n.id)))})})}filterSubCategoryGroup(){this.filteredSubCategoryGroupList=""===this.searchSubCategoryGroup.trim()?[...this.subcatGroupList]:this.subcatGroupList.filter(o=>o.title.toLowerCase().includes(this.searchSubCategoryGroup.toLowerCase()))}onSelect(o){const e=o.target.files[0];if(console.log(e),e){const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{this.url=r.result}}this.brandForm.patchValue({image:e}),this.brandForm.get("image")?.updateValueAndValidity()}getSubcatGroup(){this.coreService.getSubcategoryGroup().subscribe(o=>{this.subcatGroupList=o,this.subcatGroupList.map(e=>{console.log(this.subcatGroup),console.log(this.subcatGroup.includes(e.id),"subcategory_group"),this.subcatGroup.includes(e.id)&&(console.log(e.id),this.brandForm.get("subcategory_group").push(new a.NI(e.id)))})})}onCheckSize(o){const e=this.brandForm.get("subcategory_group");if(o.target.checked)e.push(new a.NI(parseInt(o.target.value))),this.check=e,this.selectedSubCatGrp++,this.getSubcategoryBySubcatGroup(e.value),this.selectedSubCategoryGroupIds=e.value,console.log(this.selectedSubCategoryGroupIds);else{let r=0;e.controls.forEach(n=>{if(n.value==o.target.value)return e.removeAt(r),this.selectedSubCatGrp--,void this.getSubcategoryBySubcatGroup(e.value);r++})}}getSubcategoryBySubcatGroup(o){const e=JSON.stringify(o);this.coreService.getSubcategoryBySubcatGroupid(e).subscribe(r=>{console.log(r),this.subcatbySubcatGroup=this.filterDuplicates(r),this.filteredSubCategoryList=[...this.subcatbySubcatGroup],this.subcatbySubcatGroup.map(n=>{console.log(this.selectSubcat),this.selectedSubcat=this.selectSubcat.length,console.log(this.selectSubcat.includes(n.id),"subcategory"),this.selectSubcat.includes(n.id)&&this.brandForm.get("subcategory").push(new a.NI(n.id))})})}filterDuplicates(o){const e={},r=[];for(const n of o)e[n.id]||(e[n.id]=!0,r.push(n));return r}filterSubCategory(){this.filteredSubCategoryList=""===this.searchSubCategory.trim()?[...this.subcatbySubcatGroup]:this.subcatbySubcatGroup.filter(o=>o.title.toLowerCase().includes(this.searchSubCategory.toLowerCase()))}onCheckChange(o){const e=this.brandForm.get("subcategory");if(o.target.checked)e.push(new a.NI(parseInt(o.target.value))),this.check=e,this.selectedSubcat++,this.selectedSubCategoryIds=e.value;else{let r=0;e.controls.forEach(n=>{if(n.value==o.target.value)return e.removeAt(r),void this.selectedSubcat--;r++})}}update(){console.log(this.brandForm.value);var o=new FormData;const e=Array.from(new Set(this.brandForm.get("category")?.value)),r=Array.from(new Set(this.brandForm.get("subcategory_group")?.value)),n=Array.from(new Set(this.brandForm.get("subcategory")?.value));if(o.append("title",this.brandForm.get("title")?.value),o.append("code",this.brandForm.get("code")?.value),o.append("discount",this.brandForm.get("discount")?.value),o.append("category",JSON.stringify(e)),o.append("subcategory_group",JSON.stringify(r)),o.append("subcategory",JSON.stringify(n)),this.brandForm.valid){this.loaders=!0;const m=this.brandForm.get("image")?.value;m&&m instanceof File?(o.append("image",m),this.coreService.updatebrand(o,this.id).subscribe(u=>{console.log(u),this.addRes=u,"Brands updated successfully"==this.addRes.msg?(this.loaders=!1,this.toastr.success(this.addRes.msg),this.router.navigate(["//product/brandlist"]),this.updateData="",this.url="",this.brandForm.reset(),this.selectedSubcat=0,this.selectedSubCatGrp=0):this.loaders=!1},u=>{console.log(u.error.gst)})):this.coreService.updatebrand(o,this.id).subscribe(u=>{console.log(u),this.addRes=u,"Brands updated successfully"==this.addRes.msg&&(this.loaders=!1,this.updateData="",this.url="",this.toastr.success(this.addRes.msg),this.router.navigate(["//product/brandlist"]),this.brandForm.reset(),this.selectedSubcat=0,this.selectedSubCatGrp=0)},u=>{console.log(u.error.gst)})}else this.brandForm.markAllAsTouched(),console.log("forms invalid")}get title(){return this.brandForm.get("title")}get image(){return this.brandForm.get("image")}get code(){return this.brandForm.get("code")}get subcategory_group(){return this.brandForm.get("subcategory_group")}get subcategory(){return this.brandForm.get("subcategory")}get discount(){return this.brandForm.get("discount")}get category(){return this.brandForm.get("category")}onLabelClick(o){o.stopPropagation()}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(A.p),t.Y36(a.qu),t.Y36(g.gz),t.Y36(Z._W),t.Y36(g.F0),t.Y36(p.J))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-editbrand"]],decls:92,vars:36,consts:[[1,"page-header"],[1,"page-title"],[1,"card"],[1,"card-body"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"col-lg-6","col-sm-6","col-12"],[1,"form-group"],["type","text","formControlName","title","id","title",3,"ngClass"],["class","text-danger",4,"ngIf"],["type","text","formControlName","code","id","code",3,"ngClass"],["type","text","formControlName","discount","id","discount",3,"ngClass"],[1,"dropdown"],["type","button","type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","button"],[1,"dropdown-menu",2,"width","100%","max-height","300px","overflow-y","auto"],["type","text","placeholder","search category",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["class","dropdown-item",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","placeholder","search subcategory group",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","placeholder","search subcategory",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-lg-6"],[1,"image-upload"],["type","file","formControlName","image",3,"change"],[1,"image-uploads"],["src","assets/img/icons/upload.svg","alt","img"],["alt","","class","p_img",3,"src",4,"ngIf"],[1,"col-lg-12"],["class","btn btn-submit me-2",4,"ngIf"],["class","btn btn-submit me-2","type","submit","disabled","",4,"ngIf"],["routerLink","//product/brandlist",1,"btn","btn-cancel"],[1,"text-danger"],[1,"dropdown-item"],["type","checkbox","formArrayName","category",2,"margin-right","5px",3,"value","checked","ngClass","id","change"],["categoryValue",""],[2,"margin-bottom","0",3,"for","click"],["type","checkbox","formArrayName","subcategory_group",2,"margin-right","5px",3,"value","ngClass","id","checked","change"],["type","checkbox","formArrayName","subcategory",2,"margin-right","5px",3,"value","checked","ngClass","id","change"],["alt","",1,"p_img",3,"src"],[1,"btn","btn-submit","me-2"],["type","submit","disabled","",1,"btn","btn-submit","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4"),t._uU(3,"Brand Edit"),t.qZA(),t.TgZ(4,"h6"),t._uU(5,"Update your Brand"),t.qZA()()(),t.TgZ(6,"div",2)(7,"div",3)(8,"div",4)(9,"form",5),t.NdJ("ngSubmit",function(){return e.update()}),t.TgZ(10,"div",4)(11,"div",6)(12,"div",7)(13,"label"),t._uU(14,"Title*"),t.qZA(),t._UZ(15,"input",8),t.YNc(16,T,2,0,"span",9),t.qZA()(),t.TgZ(17,"div",6)(18,"div",7)(19,"label"),t._uU(20,"Code"),t.qZA(),t._UZ(21,"input",10),t.YNc(22,b,2,0,"span",9),t.qZA()(),t.TgZ(23,"div",6)(24,"div",7)(25,"label"),t._uU(26,"Discount"),t.qZA(),t._UZ(27,"input",11),t.YNc(28,C,2,0,"span",9),t.qZA()(),t.TgZ(29,"div",6)(30,"div",7)(31,"label"),t._uU(32,"Category"),t.qZA(),t.TgZ(33,"div",12)(34,"button",13),t._uU(35,"Select Category"),t.qZA(),t.TgZ(36,"ul",14)(37,"li")(38,"input",15),t.NdJ("ngModelChange",function(n){return e.searchCategory=n})("ngModelChange",function(){return e.filterCategory()}),t.qZA()(),t.TgZ(39,"li"),t.YNc(40,h,5,8,"a",16),t.qZA()()(),t.YNc(41,f,2,1,"p",17),t.YNc(42,y,2,0,"span",9),t.qZA()(),t.TgZ(43,"div",6)(44,"div",7)(45,"label"),t._uU(46,"Subcategory group"),t.qZA(),t.TgZ(47,"div",12)(48,"button",13),t._uU(49,"Select Subcategory group"),t.qZA(),t.TgZ(50,"ul",14)(51,"li")(52,"input",18),t.NdJ("ngModelChange",function(n){return e.searchSubCategoryGroup=n})("ngModelChange",function(){return e.filterSubCategoryGroup()}),t.qZA()(),t.TgZ(53,"li"),t.YNc(54,S,4,8,"a",16),t.qZA()()(),t.YNc(55,v,2,1,"p",17),t.YNc(56,M,2,0,"span",9),t.qZA()(),t.TgZ(57,"div",6)(58,"div",7)(59,"label"),t._uU(60,"SubCategory*"),t.qZA(),t.TgZ(61,"div",12)(62,"button",13),t._uU(63,"Select Subcategory"),t.qZA(),t.TgZ(64,"ul",14)(65,"li")(66,"input",19),t.NdJ("ngModelChange",function(n){return e.searchSubCategory=n})("ngModelChange",function(){return e.filterSubCategory()}),t.qZA()(),t.TgZ(67,"li"),t.YNc(68,E,4,8,"a",16),t.qZA()()(),t.YNc(69,I,2,1,"p",17),t.YNc(70,w,2,0,"span",9),t.qZA()(),t.TgZ(71,"div",6)(72,"div",7)(73,"label"),t._uU(74," Brand Image*"),t.qZA(),t.TgZ(75,"div",4)(76,"div",20)(77,"div",21)(78,"input",22),t.NdJ("change",function(n){return e.onSelect(n)}),t.qZA(),t.TgZ(79,"div",23),t._UZ(80,"img",24),t.TgZ(81,"h4"),t._uU(82,"Drag and drop a file to upload"),t.qZA()(),t.YNc(83,F,2,0,"span",9),t.qZA()(),t.TgZ(84,"div",20),t.YNc(85,J,1,1,"img",25),t.YNc(86,L,1,1,"img",25),t.qZA()()()(),t.TgZ(87,"div",26),t.YNc(88,N,2,0,"button",27),t.YNc(89,O,3,0,"button",28),t.TgZ(90,"a",29),t._uU(91,"Cancel"),t.qZA()()()()()()()),2&o&&(t.xp6(9),t.Q6J("formGroup",e.brandForm),t.xp6(6),t.Q6J("ngClass",t.VKq(27,d,e.f.title.touched&&e.f.title.invalid)),t.xp6(1),t.Q6J("ngIf",e.title&&e.title.invalid&&e.title.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(29,d,e.f.code.touched&&e.f.code.invalid)),t.xp6(1),t.Q6J("ngIf",e.code&&e.code.invalid&&e.code.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(31,d,e.f.discount.touched&&e.f.discount.invalid)),t.xp6(1),t.Q6J("ngIf",e.discount&&e.discount.invalid&&e.discount.touched),t.xp6(10),t.Q6J("ngModel",e.searchCategory)("ngModelOptions",t.DdM(33,x)),t.xp6(2),t.Q6J("ngForOf",e.filteredCategoryList),t.xp6(1),t.Q6J("ngIf",e.selectedCat>0),t.xp6(1),t.Q6J("ngIf",e.category&&e.category.invalid&&e.category.touched),t.xp6(10),t.Q6J("ngModel",e.searchSubCategoryGroup)("ngModelOptions",t.DdM(34,x)),t.xp6(2),t.Q6J("ngForOf",e.filteredSubCategoryGroupList),t.xp6(1),t.Q6J("ngIf",e.selectedSubCatGrp>0),t.xp6(1),t.Q6J("ngIf",e.subcategory_group&&e.subcategory_group.invalid&&e.subcategory_group.touched),t.xp6(10),t.Q6J("ngModel",e.searchSubCategory)("ngModelOptions",t.DdM(35,x)),t.xp6(2),t.Q6J("ngForOf",e.filteredSubCategoryList),t.xp6(1),t.Q6J("ngIf",e.selectedSubcat>0),t.xp6(1),t.Q6J("ngIf",e.subcategory&&e.subcategory.invalid&&e.subcategory.touched),t.xp6(13),t.Q6J("ngIf",e.image&&e.image.invalid&&e.image.touched),t.xp6(2),t.Q6J("ngIf",e.url),t.xp6(1),t.Q6J("ngIf",!e.url),t.xp6(2),t.Q6J("ngIf",!e.loaders),t.xp6(1),t.Q6J("ngIf",e.loaders))},dependencies:[l.mk,l.sg,l.O5,g.yS,a._Y,a.Fj,a.JJ,a.JL,a.On,a.sg,a.u,a.CE],styles:['.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){border-top:none!important}.labelSize[_ngcontent-%COMP%]{display:flex;align-items:center}.entries[_ngcontent-%COMP%]{font-size:12px;color:#5e5873;font-weight:600}.labelSize[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:1px solid #ced4da;width:80px;height:30px;padding:0;border-radius:3px}.thone[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:unset;margin-left:5px}@media (max-width: 765px){.thone[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:inherit;margin-top:0}}.fa-sort[_ngcontent-%COMP%]:before{content:"\\f0dc";right:.5em;color:#babfc7;font-size:12px;opacity:1}.ng-dirty.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=button][_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}.button[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;display:flex;padding:10px 15px;border-radius:5px;justify-content:space-between;align-items:center;background:white}.p_img[_ngcontent-%COMP%]{margin-right:3rem!important;height:100px}']}),i})(),canActivate:[c(30597).l],data:{allowedRoles:["change_brands"]}}];let D=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.Bz.forChild(k),g.Bz]}),i})();var P=c(8468);let Q=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[l.ez,D,P.I]}),i})()},30597:(G,_,c)=>{c.d(_,{l:()=>Z});var l=c(94650),g=c(88996),a=c(97185),t=c(42917),A=c(80927);let Z=(()=>{class p{constructor(b,C,d,h,f){this.router=b,this.Arout=C,this.toastr=d,this.profileService=h,this.coreService=f}canActivate(b,C){const d=JSON.parse(localStorage.getItem("auth"));if(this.profileService.userDetails$.subscribe(h=>{this.userDetails=h,this.permissions=this.userDetails?.permission}),d){const h=b.data.allowedRoles;console.log(h,"allowedRoles");const f=d.some(y=>h.includes(y.codename));if(this.coreService.getProfile().subscribe(y=>{this.userDetails=y,this.profileService.setUserDetails(this.userDetails);const S=y?.permission,v=this.profileService.getUserDetails();(!v||v.length!==S.length)&&(this.profileService.setUserPermission(S),window.location.reload())}),console.log(f),f)return!0}return console.log(this.permissions,"permisiion guard"),this.toastr.error("User have Not Permission to Access This page"),this.router.navigate(["/dashboard"]),!1}}return p.\u0275fac=function(b){return new(b||p)(l.LFG(g.F0),l.LFG(g.gz),l.LFG(a._W),l.LFG(t.J),l.LFG(A.p))},p.\u0275prov=l.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()}}]);