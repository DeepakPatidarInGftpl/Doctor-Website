"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[179],{3:(_t,Le,z)=>{z.d(Le,{u:()=>Ae});var d=z(529),T=z(2843),ue=z(2340),ve=z(1571),_e=z(4948);let Ae=(()=>{class we{constructor(De,me){this.http=De,this.httpService=me,this.apiurl=`${ue.N.api}`}login(De){return this.httpService.post(this.apiurl+"/pv-api/login/",De,this.httpService.headers)}logout(){return this.httpService.post(this.apiurl+"/pv-api/logout/",null,new d.WM({Authorization:`token ${localStorage.getItem("token")}`}))}getToken(){return localStorage.getItem("token")}get isLoggedIn(){let De=localStorage.getItem("token");return console.log(De),null!==De}doLogout(){localStorage.removeItem("token")}Errorhandling(De){return De.error instanceof ErrorEvent?console.error(De.error.message):console.error(`Backend returned code ${De.status}`),(0,T._)("Please try again later.")}}return we.\u0275fac=function(De){return new(De||we)(ve.LFG(d.eN),ve.LFG(_e.Y))},we.\u0275prov=ve.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})()},4948:(_t,Le,z)=>{z.d(Le,{Y:()=>ue});var d=z(529),T=z(1571);let ue=(()=>{class ve{constructor(Ae){this.httpClient=Ae,this.headers=new d.WM({}),this.headerswithimage=new d.WM({"Content-Type":"application/json"})}get(Ae,we){return this.httpClient.get(Ae,{headers:we})}post(Ae,we,Be){return this.httpClient.post(Ae,we,{headers:Be})}put(Ae,we,Be){return this.httpClient.put(Ae,we,{headers:Be})}patch(Ae,we,Be){return this.httpClient.patch(Ae,we,{headers:Be})}delete(Ae,we){return this.httpClient.delete(Ae,{headers:we})}}return ve.\u0275fac=function(Ae){return new(Ae||ve)(T.LFG(d.eN))},ve.\u0275prov=T.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})()},3227:(_t,Le,z)=>{z.d(Le,{g:()=>ue});var d=z(1135),T=z(1571);let ue=(()=>{class ve{constructor(){this.changeTheme=new d.X(localStorage.getItem("theme")||"light"),this.changeLayout=new d.X(localStorage.getItem("changeLayout")||"1")}setLayout(Ae){this.changeLayout.next(Ae),localStorage.setItem("changeLayout",Ae)}}return ve.\u0275fac=function(Ae){return new(Ae||ve)},ve.\u0275prov=T.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})()},2340:(_t,Le,z)=>{z.d(Le,{N:()=>d});const d={production:!0,api:"https://pv.greatfuturetechno.com"}},8315:(_t,Le,z)=>{var d=z(1481),T=z(1571),ue=z(3188),ve=z(1728);const _e=[{path:"",redirectTo:"/auth/signin",pathMatch:"full"},{path:"",loadChildren:()=>z.e(7845).then(z.bind(z,7845)).then(R=>R.CoreComponentModule)},{path:"auth",loadChildren:()=>z.e(4374).then(z.bind(z,4374)).then(R=>R.AuthModule)},{path:"errorpages",loadChildren:()=>z.e(5900).then(z.bind(z,5900)).then(R=>R.ErrorpagesModule)},{path:"**",redirectTo:"errorpages/error404",pathMatch:"full"}];let Ae=(()=>{class R{}return R.\u0275fac=function(v){return new(v||R)},R.\u0275mod=T.oAB({type:R}),R.\u0275inj=T.cJS({imports:[ve.Bz.forRoot(_e),ve.Bz]}),R})();var we=z(3227),Be=z(6895);const De=function(R){return{"move-settings":R}},me=function(R){return{"show-settings":R}};let Se=(()=>{class R{constructor(v,M){this.Settings=v,this.router=M,this.showPreview=!1,this.showNavigation=!1,this.darkTheme=!1,this.changeLayout="1",this.Settings.changeTheme.subscribe(H=>{this.darkTheme="Dark"==H}),this.Settings.changeLayout.subscribe(H=>{this.changeLayout=H})}ngOnInit(){}changeTheme(v){this.Settings.changeTheme.next(v),localStorage.setItem("theme",v)}setRtlFormat(){window.location.href="https://dreamspos.dreamguystech.com/angular/template-rtl"+this.router.url}setLtrFormat(){window.location.href="https://dreamspos.dreamguystech.com/angular/template"+this.router.url}}return R.\u0275fac=function(v){return new(v||R)(T.Y36(we.g),T.Y36(ve.F0))},R.\u0275cmp=T.Xpm({type:R,selectors:[["app-layout"]],decls:142,vars:27,consts:[[1,"sidebar-overlay"],[1,"customizer-links",3,"ngClass"],[1,"sticky-sidebar"],[1,"sidebar-icons"],["data-bs-toggle","tooltip","data-bs-placement","left","data-bs-original-title","Tooltip on left",1,"add-setting",3,"click"],["src","assets/img/icons/sidebar-icon-01.svg","alt","",1,"feather-five"],["data-bs-toggle","tooltip","data-bs-placement","left","data-bs-original-title","Tooltip on left",1,"navigation-add",3,"click"],["src","assets/img/icons/sidebar-icon-02.svg","alt","",1,"feather-five"],["href","https://themeforest.net/item/dreamspos-pos-inventory-management-admin-dashboard-template/38834413","target","_blank","data-bs-toggle","tooltip","data-bs-placement","left","data-bs-original-title","Tooltip on left"],["src","assets/img/icons/sidebar-icon-03.svg","alt","",1,"feather-five"],[1,"sidebar-settings","preview-toggle",3,"ngClass"],[1,"sidebar-content","sticky-sidebar-one"],[1,"sidebar-header"],["href","#",1,"sidebar-close",3,"click"],["src","assets/img/icons/close-icon.svg","alt",""],[1,"sidebar-body"],[1,"theme-title"],[1,"switch-wrapper"],["id","dark-mode-toggle"],[1,"light-mode",3,"click"],["src","assets/img/icons/sun-icon.svg","alt","",1,"me-2"],[1,"dark-mode",3,"click"],[1,"far","fa-moon","me-2"],[1,"row"],[1,"col-xl-6","ere"],[1,"layout-wrap"],[1,"d-flex","align-items-center"],[1,"status-toggle","d-flex","align-items-center","me-2"],["for","1",1,"checktoggle","active"],[1,"layout-link"],[1,"status-text"],[1,"layout-img"],["src","assets/img/layout-ltr.png","alt","layout",1,"img-fliud"],["for","1",1,"checktoggle"],[1,"layout-link",3,"click"],["src","assets/img/layout-rtl.png","alt","layout",1,"img-fliud"],["for","4",1,"checktoggle"],["src","assets/img/layout-04.png","alt","layout",1,"img-fliud"],["for","3",1,"checktoggle"],["src","assets/img/layout-01.png","alt","layout",1,"img-fliud"],[1,"sidebar-settings","nav-toggle",3,"ngClass"],["src","assets/img/layout-03.png","alt","layout",1,"img-fliud"],["for","2",1,"checktoggle"]],template:function(v,M){1&v&&(T._UZ(0,"div",0),T.TgZ(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),T.NdJ("click",function(){return M.showPreview=!M.showPreview,M.showNavigation=!1}),T._UZ(5,"img",5),T.qZA()(),T.TgZ(6,"li",3)(7,"a",6),T.NdJ("click",function(){return M.showNavigation=!M.showNavigation,M.showPreview=!1}),T._UZ(8,"img",7),T.qZA()(),T.TgZ(9,"li",3)(10,"a",8),T._UZ(11,"img",9),T.qZA()()()(),T.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"h5"),T._uU(16,"Preview Settings"),T.qZA(),T.TgZ(17,"a",13),T.NdJ("click",function(){return M.showPreview=!1}),T._UZ(18,"img",14),T.qZA()(),T.TgZ(19,"div",15)(20,"h6",16),T._uU(21,"Choose Mode"),T.qZA(),T.TgZ(22,"div",17)(23,"div",18)(24,"span",19),T.NdJ("click",function(){return M.changeTheme("Light")}),T._UZ(25,"img",20),T._uU(26," Light"),T.qZA(),T.TgZ(27,"span",21),T.NdJ("click",function(){return M.changeTheme("Dark")}),T._UZ(28,"i",22),T._uU(29," Dark"),T.qZA()()(),T.TgZ(30,"div",23)(31,"div",24)(32,"div",25)(33,"div",26)(34,"div",27)(35,"label",28)(36,"a",29),T._uU(37,"checkbox"),T.qZA()()(),T.TgZ(38,"span",30),T._uU(39,"LTR"),T.qZA()(),T.TgZ(40,"div",31),T._UZ(41,"img",32),T.qZA()()(),T.TgZ(42,"div",24)(43,"div",25)(44,"div",26)(45,"div",27)(46,"label",33)(47,"a",34),T.NdJ("click",function(){return M.setRtlFormat()}),T._uU(48,"checkbox"),T.qZA()()(),T.TgZ(49,"span",30),T._uU(50,"RTL"),T.qZA()(),T.TgZ(51,"div",31),T._UZ(52,"img",35),T.qZA()()()(),T.TgZ(53,"div",23)(54,"div",24)(55,"div",25)(56,"div",26)(57,"div",27)(58,"label",36)(59,"a",34),T.NdJ("click",function(){return M.Settings.setLayout("4")}),T._uU(60,"checkbox"),T.qZA()()(),T.TgZ(61,"span",30),T._uU(62,"Boxed"),T.qZA()(),T.TgZ(63,"div",31),T._UZ(64,"img",37),T.qZA()()(),T.TgZ(65,"div",24)(66,"div",25)(67,"div",26)(68,"div",27)(69,"label",38)(70,"a",34),T.NdJ("click",function(){return M.Settings.setLayout("5")}),T._uU(71,"checkbox"),T.qZA()()(),T.TgZ(72,"span",30),T._uU(73,"Collapsed"),T.qZA()(),T.TgZ(74,"div",31),T._UZ(75,"img",39),T.qZA()()()()()()(),T.TgZ(76,"div",40)(77,"div",11)(78,"div",12)(79,"h5"),T._uU(80,"Navigation Settings"),T.qZA(),T.TgZ(81,"a",13),T.NdJ("click",function(){return M.showNavigation=!1}),T._UZ(82,"img",14),T.qZA()(),T.TgZ(83,"div",15)(84,"h6",16),T._uU(85,"Navigation Type"),T.qZA(),T.TgZ(86,"div",23)(87,"div",24)(88,"div",25)(89,"div",26)(90,"div",27)(91,"label",33)(92,"a",34),T.NdJ("click",function(){return M.Settings.setLayout("1")}),T._uU(93,"checkbox"),T.qZA()()(),T.TgZ(94,"span",30),T._uU(95,"Vertical"),T.qZA()(),T.TgZ(96,"div",31),T._UZ(97,"img",41),T.qZA()()(),T.TgZ(98,"div",24)(99,"div",25)(100,"div",26)(101,"div",27)(102,"label",42)(103,"a",34),T.NdJ("click",function(){return M.Settings.setLayout("2")}),T._uU(104,"checkbox"),T.qZA()()(),T.TgZ(105,"span",30),T._uU(106,"Horizontal"),T.qZA()(),T.TgZ(107,"div",31),T._UZ(108,"img",39),T.qZA()()(),T.TgZ(109,"div",24)(110,"div",25)(111,"div",26)(112,"div",27)(113,"label",38)(114,"a",34),T.NdJ("click",function(){return M.Settings.setLayout("5")}),T._uU(115,"checkbox"),T.qZA()()(),T.TgZ(116,"span",30),T._uU(117,"Collapsed"),T.qZA()(),T.TgZ(118,"div",31),T._UZ(119,"img",39),T.qZA()()(),T.TgZ(120,"div",24)(121,"div",25)(122,"div",26)(123,"div",27)(124,"label",38)(125,"a",34),T.NdJ("click",function(){return M.Settings.setLayout("4")}),T._uU(126,"checkbox"),T.qZA()()(),T.TgZ(127,"span",30),T._uU(128,"Modern"),T.qZA()(),T.TgZ(129,"div",31),T._UZ(130,"img",37),T.qZA()()(),T.TgZ(131,"div",24)(132,"div",25)(133,"div",26)(134,"div",27)(135,"label",38)(136,"a",34),T.NdJ("click",function(){return M.Settings.setLayout("3")}),T._uU(137,"checkbox"),T.qZA()()(),T.TgZ(138,"span",30),T._uU(139,"Boxed"),T.qZA()(),T.TgZ(140,"div",31),T._UZ(141,"img",41),T.qZA()()()()()()()),2&v&&(T.xp6(1),T.Q6J("ngClass",T.VKq(21,De,M.showNavigation||M.showPreview)),T.xp6(11),T.Q6J("ngClass",T.VKq(23,me,M.showPreview)),T.xp6(12),T.ekj("active",0==M.darkTheme),T.xp6(3),T.ekj("active",1==M.darkTheme),T.xp6(31),T.ekj("active","4"==M.changeLayout),T.xp6(11),T.ekj("active","5"==M.changeLayout),T.xp6(7),T.Q6J("ngClass",T.VKq(25,me,M.showNavigation)),T.xp6(15),T.ekj("active","1"==M.changeLayout),T.xp6(11),T.ekj("active","2"==M.changeLayout),T.xp6(11),T.ekj("active","5"==M.changeLayout),T.xp6(11),T.ekj("active","4"==M.changeLayout),T.xp6(11),T.ekj("active","3"==M.changeLayout))},dependencies:[Be.mk]}),R})();function ge(R,m){1&R&&T._UZ(0,"app-layout")}const at=function(R){return{dark:R}};let fe=(()=>{class R{constructor(v){this.settings=v,this.title="template",this.darkTheme=!1,this.settings.changeTheme.subscribe(M=>{this.darkTheme="Dark"==M}),console.log(!!localStorage.getItem("token"))}login(){return!!localStorage.getItem("token")}}return R.\u0275fac=function(v){return new(v||R)(T.Y36(we.g))},R.\u0275cmp=T.Xpm({type:R,selectors:[["app-root"]],decls:3,vars:4,consts:[[1,"main-wrapper",3,"ngClass"],[4,"ngIf"]],template:function(v,M){1&v&&(T.TgZ(0,"div",0),T._UZ(1,"router-outlet"),T.YNc(2,ge,1,0,"app-layout",1),T.qZA()),2&v&&(T.Q6J("ngClass",T.VKq(2,at,M.darkTheme)),T.xp6(2),T.Q6J("ngIf",!M.login()))},dependencies:[Be.mk,Be.O5,ve.lC,Se]}),R})();var Te=z(7340);function ct(R){return new T.vHH(3e3,!1)}function Mn(){return typeof window<"u"&&typeof window.document<"u"}function ir(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Yt(R){switch(R.length){case 0:return new Te.ZN;case 1:return R[0];default:return new Te.ZE(R)}}function Rn(R,m,v,M,H=new Map,q=new Map){const oe=[],ae=[];let Me=-1,ze=null;if(M.forEach(gt=>{const Et=gt.get("offset"),yn=Et==Me,tn=yn&&ze||new Map;gt.forEach(($t,Qt)=>{let bn=Qt,Nn=$t;if("offset"!==Qt)switch(bn=m.normalizePropertyName(bn,oe),Nn){case Te.k1:Nn=H.get(Qt);break;case Te.l3:Nn=q.get(Qt);break;default:Nn=m.normalizeStyleValue(Qt,bn,Nn,oe)}tn.set(bn,Nn)}),yn||ae.push(tn),ze=tn,Me=Et}),oe.length)throw function pe(R){return new T.vHH(3502,!1)}();return ae}function Mt(R,m,v,M){switch(m){case"start":R.onStart(()=>M(v&&Gr(v,"start",R)));break;case"done":R.onDone(()=>M(v&&Gr(v,"done",R)));break;case"destroy":R.onDestroy(()=>M(v&&Gr(v,"destroy",R)))}}function Gr(R,m,v){const q=ur(R.element,R.triggerName,R.fromState,R.toState,m||R.phaseName,v.totalTime??R.totalTime,!!v.disabled),oe=R._data;return null!=oe&&(q._data=oe),q}function ur(R,m,v,M,H="",q=0,oe){return{element:R,triggerName:m,fromState:v,toState:M,phaseName:H,totalTime:q,disabled:!!oe}}function Re(R,m,v){let M=R.get(m);return M||R.set(m,M=v),M}function re(R){const m=R.indexOf(":");return[R.substring(1,m),R.slice(m+1)]}let te=(R,m)=>!1,Oe=(R,m,v)=>[],Ke=null;function Tt(R){const m=R.parentNode||R.host;return m===Ke?null:m}(ir()||typeof Element<"u")&&(Mn()?(Ke=(()=>document.documentElement)(),te=(R,m)=>{for(;m;){if(m===R)return!0;m=Tt(m)}return!1}):te=(R,m)=>R.contains(m),Oe=(R,m,v)=>{if(v)return Array.from(R.querySelectorAll(m));const M=R.querySelector(m);return M?[M]:[]});let ut=null,xt=!1;const _n=te,hn=Oe;let Nr=(()=>{class R{validateStyleProperty(v){return function sn(R){ut||(ut=function ft(){return typeof document<"u"?document.body:null}()||{},xt=!!ut.style&&"WebkitAppearance"in ut.style);let m=!0;return ut.style&&!function Xt(R){return"ebkit"==R.substring(1,6)}(R)&&(m=R in ut.style,!m&&xt&&(m="Webkit"+R.charAt(0).toUpperCase()+R.slice(1)in ut.style)),m}(v)}matchesElement(v,M){return!1}containsElement(v,M){return _n(v,M)}getParentElement(v){return Tt(v)}query(v,M,H){return hn(v,M,H)}computeStyle(v,M,H){return H||""}animate(v,M,H,q,oe,ae=[],Me){return new Te.ZN(H,q)}}return R.\u0275fac=function(v){return new(v||R)},R.\u0275prov=T.Yz7({token:R,factory:R.\u0275fac}),R})(),gn=(()=>{class R{}return R.NOOP=new Nr,R})();const kr="ng-enter",or="ng-leave",tr="ng-trigger",Wr=".ng-trigger",ai="ng-animating",yi=".ng-animating";function hr(R){if("number"==typeof R)return R;const m=R.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:Pr(parseFloat(m[1]),m[2])}function Pr(R,m){return"s"===m?1e3*R:R}function L(R,m,v){return R.hasOwnProperty("duration")?R:function K(R,m,v){let H,q=0,oe="";if("string"==typeof R){const ae=R.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ae)return m.push(ct()),{duration:0,delay:0,easing:""};H=Pr(parseFloat(ae[1]),ae[2]);const Me=ae[3];null!=Me&&(q=Pr(parseFloat(Me),ae[4]));const ze=ae[5];ze&&(oe=ze)}else H=R;if(!v){let ae=!1,Me=m.length;H<0&&(m.push(function it(){return new T.vHH(3100,!1)}()),ae=!0),q<0&&(m.push(function st(){return new T.vHH(3101,!1)}()),ae=!0),ae&&m.splice(Me,0,ct())}return{duration:H,delay:q,easing:oe}}(R,m,v)}function F(R,m={}){return Object.keys(R).forEach(v=>{m[v]=R[v]}),m}function j(R){const m=new Map;return Object.keys(R).forEach(v=>{m.set(v,R[v])}),m}function Z(R,m=new Map,v){if(v)for(let[M,H]of v)m.set(M,H);for(let[M,H]of R)m.set(M,H);return m}function ye(R,m,v){return v?m+":"+v+";":""}function ke(R){let m="";for(let v=0;v<R.style.length;v++){const M=R.style.item(v);m+=ye(0,M,R.style.getPropertyValue(M))}for(const v in R.style)R.style.hasOwnProperty(v)&&!v.startsWith("_")&&(m+=ye(0,Gn(v),R.style[v]));R.setAttribute("style",m)}function Xe(R,m,v){R.style&&(m.forEach((M,H)=>{const q=Zt(H);v&&!v.has(H)&&v.set(H,R.style[q]),R.style[q]=M}),ir()&&ke(R))}function yt(R,m){R.style&&(m.forEach((v,M)=>{const H=Zt(M);R.style[H]=""}),ir()&&ke(R))}function kt(R){return Array.isArray(R)?1==R.length?R[0]:(0,Te.vP)(R):R}const Pt=new RegExp("{{\\s*(.+?)\\s*}}","g");function St(R){let m=[];if("string"==typeof R){let v;for(;v=Pt.exec(R);)m.push(v[1]);Pt.lastIndex=0}return m}function an(R,m,v){const M=R.toString(),H=M.replace(Pt,(q,oe)=>{let ae=m[oe];return null==ae&&(v.push(function de(R){return new T.vHH(3003,!1)}()),ae=""),ae.toString()});return H==M?R:H}function Dt(R){const m=[];let v=R.next();for(;!v.done;)m.push(v.value),v=R.next();return m}const nn=/-+([a-z0-9])/g;function Zt(R){return R.replace(nn,(...m)=>m[1].toUpperCase())}function Gn(R){return R.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Kn(R,m,v){switch(m.type){case 7:return R.visitTrigger(m,v);case 0:return R.visitState(m,v);case 1:return R.visitTransition(m,v);case 2:return R.visitSequence(m,v);case 3:return R.visitGroup(m,v);case 4:return R.visitAnimate(m,v);case 5:return R.visitKeyframes(m,v);case 6:return R.visitStyle(m,v);case 8:return R.visitReference(m,v);case 9:return R.visitAnimateChild(m,v);case 10:return R.visitAnimateRef(m,v);case 11:return R.visitQuery(m,v);case 12:return R.visitStagger(m,v);default:throw function le(R){return new T.vHH(3004,!1)}()}}function li(R,m){return window.getComputedStyle(R)[m]}function Rr(R,m){const v=[];return"string"==typeof R?R.split(/\s*,\s*/).forEach(M=>function ar(R,m,v){if(":"==R[0]){const Me=function Kr(R,m){switch(R){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,M)=>parseFloat(M)>parseFloat(v);case":decrement":return(v,M)=>parseFloat(M)<parseFloat(v);default:return m.push(function Rt(R){return new T.vHH(3016,!1)}()),"* => *"}}(R,v);if("function"==typeof Me)return void m.push(Me);R=Me}const M=R.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return v.push(function En(R){return new T.vHH(3015,!1)}()),m;const H=M[1],q=M[2],oe=M[3];m.push(mr(H,oe));"<"==q[0]&&!("*"==H&&"*"==oe)&&m.push(mr(oe,H))}(M,v,m)):v.push(R),v}const xn=new Set(["true","1"]),Fr=new Set(["false","0"]);function mr(R,m){const v=xn.has(R)||Fr.has(R),M=xn.has(m)||Fr.has(m);return(H,q)=>{let oe="*"==R||R==H,ae="*"==m||m==q;return!oe&&v&&"boolean"==typeof H&&(oe=H?xn.has(R):Fr.has(R)),!ae&&M&&"boolean"==typeof q&&(ae=q?xn.has(m):Fr.has(m)),oe&&ae}}const Ui=new RegExp("s*:selfs*,?","g");function es(R,m,v,M){return new yr(R).build(m,v,M)}class yr{constructor(m){this._driver=m}build(m,v,M){const H=new ws(v);return this._resetContextStyleTimingState(H),Kn(this,kt(m),H)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,v){let M=v.queryCount=0,H=v.depCount=0;const q=[],oe=[];return"@"==m.name.charAt(0)&&v.errors.push(function It(){return new T.vHH(3006,!1)}()),m.definitions.forEach(ae=>{if(this._resetContextStyleTimingState(v),0==ae.type){const Me=ae,ze=Me.name;ze.toString().split(/\s*,\s*/).forEach(gt=>{Me.name=gt,q.push(this.visitState(Me,v))}),Me.name=ze}else if(1==ae.type){const Me=this.visitTransition(ae,v);M+=Me.queryCount,H+=Me.depCount,oe.push(Me)}else v.errors.push(function ot(){return new T.vHH(3007,!1)}())}),{type:7,name:m.name,states:q,transitions:oe,queryCount:M,depCount:H,options:null}}visitState(m,v){const M=this.visitStyle(m.styles,v),H=m.options&&m.options.params||null;if(M.containsDynamicStyles){const q=new Set,oe=H||{};M.styles.forEach(ae=>{ae instanceof Map&&ae.forEach(Me=>{St(Me).forEach(ze=>{oe.hasOwnProperty(ze)||q.add(ze)})})}),q.size&&(Dt(q.values()),v.errors.push(function We(R,m){return new T.vHH(3008,!1)}()))}return{type:0,name:m.name,style:M,options:H?{params:H}:null}}visitTransition(m,v){v.queryCount=0,v.depCount=0;const M=Kn(this,kt(m.animation),v);return{type:1,matchers:Rr(m.expr,v.errors),animation:M,queryCount:v.queryCount,depCount:v.depCount,options:bi(m.options)}}visitSequence(m,v){return{type:2,steps:m.steps.map(M=>Kn(this,M,v)),options:bi(m.options)}}visitGroup(m,v){const M=v.currentTime;let H=0;const q=m.steps.map(oe=>{v.currentTime=M;const ae=Kn(this,oe,v);return H=Math.max(H,v.currentTime),ae});return v.currentTime=H,{type:3,steps:q,options:bi(m.options)}}visitAnimate(m,v){const M=function to(R,m){if(R.hasOwnProperty("duration"))return R;if("number"==typeof R)return ts(L(R,m).duration,0,"");const v=R;if(v.split(/\s+/).some(q=>"{"==q.charAt(0)&&"{"==q.charAt(1))){const q=ts(0,0,"");return q.dynamic=!0,q.strValue=v,q}const H=L(v,m);return ts(H.duration,H.delay,H.easing)}(m.timings,v.errors);v.currentAnimateTimings=M;let H,q=m.styles?m.styles:(0,Te.oB)({});if(5==q.type)H=this.visitKeyframes(q,v);else{let oe=m.styles,ae=!1;if(!oe){ae=!0;const ze={};M.easing&&(ze.easing=M.easing),oe=(0,Te.oB)(ze)}v.currentTime+=M.duration+M.delay;const Me=this.visitStyle(oe,v);Me.isEmptyStep=ae,H=Me}return v.currentAnimateTimings=null,{type:4,timings:M,style:H,options:null}}visitStyle(m,v){const M=this._makeStyleAst(m,v);return this._validateStyleAst(M,v),M}_makeStyleAst(m,v){const M=[],H=Array.isArray(m.styles)?m.styles:[m.styles];for(let ae of H)"string"==typeof ae?ae===Te.l3?M.push(ae):v.errors.push(new T.vHH(3002,!1)):M.push(j(ae));let q=!1,oe=null;return M.forEach(ae=>{if(ae instanceof Map&&(ae.has("easing")&&(oe=ae.get("easing"),ae.delete("easing")),!q))for(let Me of ae.values())if(Me.toString().indexOf("{{")>=0){q=!0;break}}),{type:6,styles:M,easing:oe,offset:m.offset,containsDynamicStyles:q,options:null}}_validateStyleAst(m,v){const M=v.currentAnimateTimings;let H=v.currentTime,q=v.currentTime;M&&q>0&&(q-=M.duration+M.delay),m.styles.forEach(oe=>{"string"!=typeof oe&&oe.forEach((ae,Me)=>{const ze=v.collectedStyles.get(v.currentQuerySelector),gt=ze.get(Me);let Et=!0;gt&&(q!=H&&q>=gt.startTime&&H<=gt.endTime&&(v.errors.push(function Ce(R,m,v,M,H){return new T.vHH(3010,!1)}()),Et=!1),q=gt.startTime),Et&&ze.set(Me,{startTime:q,endTime:H}),v.options&&function Sn(R,m,v){const M=m.params||{},H=St(R);H.length&&H.forEach(q=>{M.hasOwnProperty(q)||v.push(function qe(R){return new T.vHH(3001,!1)}())})}(ae,v.options,v.errors)})})}visitKeyframes(m,v){const M={type:5,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push(function Ve(){return new T.vHH(3011,!1)}()),M;let q=0;const oe=[];let ae=!1,Me=!1,ze=0;const gt=m.steps.map(Nn=>{const qn=this._makeStyleAst(Nn,v);let Zn=null!=qn.offset?qn.offset:function eo(R){if("string"==typeof R)return null;let m=null;if(Array.isArray(R))R.forEach(v=>{if(v instanceof Map&&v.has("offset")){const M=v;m=parseFloat(M.get("offset")),M.delete("offset")}});else if(R instanceof Map&&R.has("offset")){const v=R;m=parseFloat(v.get("offset")),v.delete("offset")}return m}(qn.styles),pr=0;return null!=Zn&&(q++,pr=qn.offset=Zn),Me=Me||pr<0||pr>1,ae=ae||pr<ze,ze=pr,oe.push(pr),qn});Me&&v.errors.push(function be(){return new T.vHH(3012,!1)}()),ae&&v.errors.push(function Je(){return new T.vHH(3200,!1)}());const Et=m.steps.length;let yn=0;q>0&&q<Et?v.errors.push(function Qe(){return new T.vHH(3202,!1)}()):0==q&&(yn=1/(Et-1));const tn=Et-1,$t=v.currentTime,Qt=v.currentAnimateTimings,bn=Qt.duration;return gt.forEach((Nn,qn)=>{const Zn=yn>0?qn==tn?1:yn*qn:oe[qn],pr=Zn*bn;v.currentTime=$t+Qt.delay+pr,Qt.duration=pr,this._validateStyleAst(Nn,v),Nn.offset=Zn,M.styles.push(Nn)}),M}visitReference(m,v){return{type:8,animation:Kn(this,kt(m.animation),v),options:bi(m.options)}}visitAnimateChild(m,v){return v.depCount++,{type:9,options:bi(m.options)}}visitAnimateRef(m,v){return{type:10,animation:this.visitReference(m.animation,v),options:bi(m.options)}}visitQuery(m,v){const M=v.currentQuerySelector,H=m.options||{};v.queryCount++,v.currentQuery=m;const[q,oe]=function Xs(R){const m=!!R.split(/\s*,\s*/).find(v=>":self"==v);return m&&(R=R.replace(Ui,"")),R=R.replace(/@\*/g,Wr).replace(/@\w+/g,v=>Wr+"-"+v.slice(1)).replace(/:animating/g,yi),[R,m]}(m.selector);v.currentQuerySelector=M.length?M+" "+q:q,Re(v.collectedStyles,v.currentQuerySelector,new Map);const ae=Kn(this,kt(m.animation),v);return v.currentQuery=null,v.currentQuerySelector=M,{type:11,selector:q,limit:H.limit||0,optional:!!H.optional,includeSelf:oe,animation:ae,originalSelector:m.selector,options:bi(m.options)}}visitStagger(m,v){v.currentQuery||v.errors.push(function Vt(){return new T.vHH(3013,!1)}());const M="full"===m.timings?{duration:0,delay:0,easing:"full"}:L(m.timings,v.errors,!0);return{type:12,animation:Kn(this,kt(m.animation),v),timings:M,options:null}}}class ws{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bi(R){return R?(R=F(R)).params&&(R.params=function ei(R){return R?F(R):null}(R.params)):R={},R}function ts(R,m,v){return{duration:R,delay:m,easing:v}}function Ns(R,m,v,M,H,q,oe=null,ae=!1){return{type:1,element:R,keyframes:m,preStyleProps:v,postStyleProps:M,duration:H,delay:q,totalTime:H+q,easing:oe,subTimeline:ae}}class zi{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,v){let M=this._map.get(m);M||this._map.set(m,M=[]),M.push(...v)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const Dr=new RegExp(":enter","g"),xs=new RegExp(":leave","g");function cn(R,m,v,M,H,q=new Map,oe=new Map,ae,Me,ze=[]){return(new no).buildKeyframes(R,m,v,M,H,q,oe,ae,Me,ze)}class no{buildKeyframes(m,v,M,H,q,oe,ae,Me,ze,gt=[]){ze=ze||new zi;const Et=new Cs(m,v,ze,H,q,gt,[]);Et.options=Me;const yn=Me.delay?hr(Me.delay):0;Et.currentTimeline.delayNextStep(yn),Et.currentTimeline.setStyles([oe],null,Et.errors,Me),Kn(this,M,Et);const tn=Et.timelines.filter($t=>$t.containsAnimation());if(tn.length&&ae.size){let $t;for(let Qt=tn.length-1;Qt>=0;Qt--){const bn=tn[Qt];if(bn.element===v){$t=bn;break}}$t&&!$t.allowOnlyTimelineStyles()&&$t.setStyles([ae],null,Et.errors,Me)}return tn.length?tn.map($t=>$t.buildKeyframes()):[Ns(v,[],[],[],0,yn,"",!1)]}visitTrigger(m,v){}visitState(m,v){}visitTransition(m,v){}visitAnimateChild(m,v){const M=v.subInstructions.get(v.element);if(M){const H=v.createSubContext(m.options),q=v.currentTimeline.currentTime,oe=this._visitSubInstructions(M,H,H.options);q!=oe&&v.transformIntoNewTimeline(oe)}v.previousNode=m}visitAnimateRef(m,v){const M=v.createSubContext(m.options);M.transformIntoNewTimeline(),this._applyAnimateRefDelay(m.animation,v,M),this.visitReference(m.animation,M),v.transformIntoNewTimeline(M.currentTimeline.currentTime),v.previousNode=m}_applyAnimateRefDelay(m,v,M){const H=m.options?.delay;if(!H)return;let q;q="string"==typeof H?hr(an(H,m.options?.params??{},v.errors)):H,M.delayNextStep(q)}_visitSubInstructions(m,v,M){let q=v.currentTimeline.currentTime;const oe=null!=M.duration?hr(M.duration):null,ae=null!=M.delay?hr(M.delay):null;return 0!==oe&&m.forEach(Me=>{const ze=v.appendInstructionToTimeline(Me,oe,ae);q=Math.max(q,ze.duration+ze.delay)}),q}visitReference(m,v){v.updateOptions(m.options,!0),Kn(this,m.animation,v),v.previousNode=m}visitSequence(m,v){const M=v.subContextCount;let H=v;const q=m.options;if(q&&(q.params||q.delay)&&(H=v.createSubContext(q),H.transformIntoNewTimeline(),null!=q.delay)){6==H.previousNode.type&&(H.currentTimeline.snapshotCurrentStyles(),H.previousNode=Br);const oe=hr(q.delay);H.delayNextStep(oe)}m.steps.length&&(m.steps.forEach(oe=>Kn(this,oe,H)),H.currentTimeline.applyStylesToKeyframe(),H.subContextCount>M&&H.transformIntoNewTimeline()),v.previousNode=m}visitGroup(m,v){const M=[];let H=v.currentTimeline.currentTime;const q=m.options&&m.options.delay?hr(m.options.delay):0;m.steps.forEach(oe=>{const ae=v.createSubContext(m.options);q&&ae.delayNextStep(q),Kn(this,oe,ae),H=Math.max(H,ae.currentTimeline.currentTime),M.push(ae.currentTimeline)}),M.forEach(oe=>v.currentTimeline.mergeTimelineCollectedStyles(oe)),v.transformIntoNewTimeline(H),v.previousNode=m}_visitTiming(m,v){if(m.dynamic){const M=m.strValue;return L(v.params?an(M,v.params,v.errors):M,v.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,v){const M=v.currentAnimateTimings=this._visitTiming(m.timings,v),H=v.currentTimeline;M.delay&&(v.incrementTime(M.delay),H.snapshotCurrentStyles());const q=m.style;5==q.type?this.visitKeyframes(q,v):(v.incrementTime(M.duration),this.visitStyle(q,v),H.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=m}visitStyle(m,v){const M=v.currentTimeline,H=v.currentAnimateTimings;!H&&M.hasCurrentStyleProperties()&&M.forwardFrame();const q=H&&H.easing||m.easing;m.isEmptyStep?M.applyEmptyStep(q):M.setStyles(m.styles,q,v.errors,v.options),v.previousNode=m}visitKeyframes(m,v){const M=v.currentAnimateTimings,H=v.currentTimeline.duration,q=M.duration,ae=v.createSubContext().currentTimeline;ae.easing=M.easing,m.styles.forEach(Me=>{ae.forwardTime((Me.offset||0)*q),ae.setStyles(Me.styles,Me.easing,v.errors,v.options),ae.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(ae),v.transformIntoNewTimeline(H+q),v.previousNode=m}visitQuery(m,v){const M=v.currentTimeline.currentTime,H=m.options||{},q=H.delay?hr(H.delay):0;q&&(6===v.previousNode.type||0==M&&v.currentTimeline.hasCurrentStyleProperties())&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=Br);let oe=M;const ae=v.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!H.optional,v.errors);v.currentQueryTotal=ae.length;let Me=null;ae.forEach((ze,gt)=>{v.currentQueryIndex=gt;const Et=v.createSubContext(m.options,ze);q&&Et.delayNextStep(q),ze===v.element&&(Me=Et.currentTimeline),Kn(this,m.animation,Et),Et.currentTimeline.applyStylesToKeyframe(),oe=Math.max(oe,Et.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(oe),Me&&(v.currentTimeline.mergeTimelineCollectedStyles(Me),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=m}visitStagger(m,v){const M=v.parentContext,H=v.currentTimeline,q=m.timings,oe=Math.abs(q.duration),ae=oe*(v.currentQueryTotal-1);let Me=oe*v.currentQueryIndex;switch(q.duration<0?"reverse":q.easing){case"reverse":Me=ae-Me;break;case"full":Me=M.currentStaggerTime}const gt=v.currentTimeline;Me&&gt.delayNextStep(Me);const Et=gt.currentTime;Kn(this,m.animation,v),v.previousNode=m,M.currentStaggerTime=H.currentTime-Et+(H.startTime-M.currentTimeline.startTime)}}const Br={};class Cs{constructor(m,v,M,H,q,oe,ae,Me){this._driver=m,this.element=v,this.subInstructions=M,this._enterClassName=H,this._leaveClassName=q,this.errors=oe,this.timelines=ae,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Br,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Me||new un(this._driver,v,0),ae.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,v){if(!m)return;const M=m;let H=this.options;null!=M.duration&&(H.duration=hr(M.duration)),null!=M.delay&&(H.delay=hr(M.delay));const q=M.params;if(q){let oe=H.params;oe||(oe=this.options.params={}),Object.keys(q).forEach(ae=>{(!v||!oe.hasOwnProperty(ae))&&(oe[ae]=an(q[ae],oe,this.errors))})}}_copyOptions(){const m={};if(this.options){const v=this.options.params;if(v){const M=m.params={};Object.keys(v).forEach(H=>{M[H]=v[H]})}}return m}createSubContext(m=null,v,M){const H=v||this.element,q=new Cs(this._driver,H,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(H,M||0));return q.previousNode=this.previousNode,q.currentAnimateTimings=this.currentAnimateTimings,q.options=this._copyOptions(),q.updateOptions(m),q.currentQueryIndex=this.currentQueryIndex,q.currentQueryTotal=this.currentQueryTotal,q.parentContext=this,this.subContextCount++,q}transformIntoNewTimeline(m){return this.previousNode=Br,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,v,M){const H={duration:v??m.duration,delay:this.currentTimeline.currentTime+(M??0)+m.delay,easing:""},q=new ci(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,H,m.stretchStartingKeyframe);return this.timelines.push(q),H}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,v,M,H,q,oe){let ae=[];if(H&&ae.push(this.element),m.length>0){m=(m=m.replace(Dr,"."+this._enterClassName)).replace(xs,"."+this._leaveClassName);let ze=this._driver.query(this.element,m,1!=M);0!==M&&(ze=M<0?ze.slice(ze.length+M,ze.length):ze.slice(0,M)),ae.push(...ze)}return!q&&0==ae.length&&oe.push(function jt(R){return new T.vHH(3014,!1)}()),ae}}class un{constructor(m,v,M,H){this._driver=m,this.element=v,this.startTime=M,this._elementTimelineStylesLookup=H,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const v=1===this._keyframes.size&&this._pendingStyles.size;this.duration||v?(this.forwardTime(this.currentTime+m),v&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,v){return this.applyStylesToKeyframe(),new un(this._driver,m,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,v){this._localTimelineStyles.set(m,v),this._globalTimelineStyles.set(m,v),this._styleSummary.set(m,{time:this.currentTime,value:v})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[v,M]of this._globalTimelineStyles)this._backFill.set(v,M||Te.l3),this._currentKeyframe.set(v,Te.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,v,M,H){v&&this._previousKeyframe.set("easing",v);const q=H&&H.params||{},oe=function bs(R,m){const v=new Map;let M;return R.forEach(H=>{if("*"===H){M=M||m.keys();for(let q of M)v.set(q,Te.l3)}else Z(H,v)}),v}(m,this._globalTimelineStyles);for(let[ae,Me]of oe){const ze=an(Me,q,M);this._pendingStyles.set(ae,ze),this._localTimelineStyles.has(ae)||this._backFill.set(ae,this._globalTimelineStyles.get(ae)??Te.l3),this._updateStyle(ae,ze)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,v)=>{this._currentKeyframe.set(v,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,v)=>{this._currentKeyframe.has(v)||this._currentKeyframe.set(v,m)}))}snapshotCurrentStyles(){for(let[m,v]of this._localTimelineStyles)this._pendingStyles.set(m,v),this._updateStyle(m,v)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let v in this._currentKeyframe)m.push(v);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((v,M)=>{const H=this._styleSummary.get(M);(!H||v.time>H.time)&&this._updateStyle(M,v.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,v=new Set,M=1===this._keyframes.size&&0===this.duration;let H=[];this._keyframes.forEach((ae,Me)=>{const ze=Z(ae,new Map,this._backFill);ze.forEach((gt,Et)=>{gt===Te.k1?m.add(Et):gt===Te.l3&&v.add(Et)}),M||ze.set("offset",Me/this.duration),H.push(ze)});const q=m.size?Dt(m.values()):[],oe=v.size?Dt(v.values()):[];if(M){const ae=H[0],Me=new Map(ae);ae.set("offset",0),Me.set("offset",1),H=[ae,Me]}return Ns(this.element,H,q,oe,this.duration,this.startTime,this.easing,!1)}}class ci extends un{constructor(m,v,M,H,q,oe,ae=!1){super(m,v,oe.delay),this.keyframes=M,this.preStyleProps=H,this.postStyleProps=q,this._stretchStartingKeyframe=ae,this.timings={duration:oe.duration,delay:oe.delay,easing:oe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:v,duration:M,easing:H}=this.timings;if(this._stretchStartingKeyframe&&v){const q=[],oe=M+v,ae=v/oe,Me=Z(m[0]);Me.set("offset",0),q.push(Me);const ze=Z(m[0]);ze.set("offset",Ft(ae)),q.push(ze);const gt=m.length-1;for(let Et=1;Et<=gt;Et++){let yn=Z(m[Et]);const tn=yn.get("offset");yn.set("offset",Ft((v+tn*M)/oe)),q.push(yn)}M=oe,v=0,H="",m=q}return Ns(this.element,m,this.preStyleProps,this.postStyleProps,M,v,H,!0)}}function Ft(R,m=3){const v=Math.pow(10,m-1);return Math.round(R*v)/v}class Vr{}const $i=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gi extends Vr{normalizePropertyName(m,v){return Zt(m)}normalizeStyleValue(m,v,M,H){let q="";const oe=M.toString().trim();if($i.has(v)&&0!==M&&"0"!==M)if("number"==typeof M)q="px";else{const ae=M.match(/^[+-]?[\d\.]+([a-z]*)$/);ae&&0==ae[1].length&&H.push(function tt(R,m){return new T.vHH(3005,!1)}())}return oe+q}}function Pi(R,m,v,M,H,q,oe,ae,Me,ze,gt,Et,yn){return{type:0,element:R,triggerName:m,isRemovalTransition:H,fromState:v,fromStyles:q,toState:M,toStyles:oe,timelines:ae,queriedElements:Me,preStyleProps:ze,postStyleProps:gt,totalTime:Et,errors:yn}}const rs={};class Wi{constructor(m,v,M){this._triggerName=m,this.ast=v,this._stateStyles=M}match(m,v,M,H){return function wi(R,m,v,M,H){return R.some(q=>q(m,v,M,H))}(this.ast.matchers,m,v,M,H)}buildStyles(m,v,M){let H=this._stateStyles.get("*");return void 0!==m&&(H=this._stateStyles.get(m?.toString())||H),H?H.buildStyles(v,M):new Map}build(m,v,M,H,q,oe,ae,Me,ze,gt){const Et=[],yn=this.ast.options&&this.ast.options.params||rs,$t=this.buildStyles(M,ae&&ae.params||rs,Et),Qt=Me&&Me.params||rs,bn=this.buildStyles(H,Qt,Et),Nn=new Set,qn=new Map,Zn=new Map,pr="void"===H,zr={params:is(Qt,yn),delay:this.ast.options?.delay},Ai=gt?[]:cn(m,v,this.ast.animation,q,oe,$t,bn,zr,ze,Et);let Ar=0;if(Ai.forEach(Yi=>{Ar=Math.max(Yi.duration+Yi.delay,Ar)}),Et.length)return Pi(v,this._triggerName,M,H,pr,$t,bn,[],[],qn,Zn,Ar,Et);Ai.forEach(Yi=>{const Ii=Yi.element,Oo=Re(qn,Ii,new Set);Yi.preStyleProps.forEach(hs=>Oo.add(hs));const Qr=Re(Zn,Ii,new Set);Yi.postStyleProps.forEach(hs=>Qr.add(hs)),Ii!==v&&Nn.add(Ii)});const ds=Dt(Nn.values());return Pi(v,this._triggerName,M,H,pr,$t,bn,Ai,ds,qn,Zn,Ar)}}function is(R,m){const v=F(m);for(const M in R)R.hasOwnProperty(M)&&null!=R[M]&&(v[M]=R[M]);return v}class Ps{constructor(m,v,M){this.styles=m,this.defaultParams=v,this.normalizer=M}buildStyles(m,v){const M=new Map,H=F(this.defaultParams);return Object.keys(m).forEach(q=>{const oe=m[q];null!==oe&&(H[q]=oe)}),this.styles.styles.forEach(q=>{"string"!=typeof q&&q.forEach((oe,ae)=>{oe&&(oe=an(oe,H,v));const Me=this.normalizer.normalizePropertyName(ae,v);oe=this.normalizer.normalizeStyleValue(ae,Me,oe,v),M.set(Me,oe)})}),M}}class Ri{constructor(m,v,M){this.name=m,this.ast=v,this._normalizer=M,this.transitionFactories=[],this.states=new Map,v.states.forEach(H=>{this.states.set(H.name,new Ps(H.style,H.options&&H.options.params||{},M))}),ui(this.states,"true","1"),ui(this.states,"false","0"),v.transitions.forEach(H=>{this.transitionFactories.push(new Wi(m,H,this.states))}),this.fallbackTransition=function ti(R,m,v){return new Wi(R,{type:1,animation:{type:2,steps:[],options:null},matchers:[(oe,ae)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,v,M,H){return this.transitionFactories.find(oe=>oe.match(m,v,M,H))||null}matchStyles(m,v,M){return this.fallbackTransition.buildStyles(m,v,M)}}function ui(R,m,v){R.has(m)?R.has(v)||R.set(v,R.get(m)):R.has(v)&&R.set(m,R.get(v))}const Rs=new zi;class di{constructor(m,v,M){this.bodyNode=m,this._driver=v,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,v){const M=[],q=es(this._driver,v,M,[]);if(M.length)throw function Pe(R){return new T.vHH(3503,!1)}();this._animations.set(m,q)}_buildPlayer(m,v,M){const H=m.element,q=Rn(0,this._normalizer,0,m.keyframes,v,M);return this._driver.animate(H,q,m.duration,m.delay,m.easing,[],!0)}create(m,v,M={}){const H=[],q=this._animations.get(m);let oe;const ae=new Map;if(q?(oe=cn(this._driver,v,q,kr,or,new Map,new Map,M,Rs,H),oe.forEach(gt=>{const Et=Re(ae,gt.element,new Map);gt.postStyleProps.forEach(yn=>Et.set(yn,null))})):(H.push(function dt(){return new T.vHH(3300,!1)}()),oe=[]),H.length)throw function qt(R){return new T.vHH(3504,!1)}();ae.forEach((gt,Et)=>{gt.forEach((yn,tn)=>{gt.set(tn,this._driver.computeStyle(Et,tn,Te.l3))})});const ze=Yt(oe.map(gt=>{const Et=ae.get(gt.element);return this._buildPlayer(gt,new Map,Et)}));return this._playersById.set(m,ze),ze.onDestroy(()=>this.destroy(m)),this.players.push(ze),ze}destroy(m){const v=this._getPlayer(m);v.destroy(),this._playersById.delete(m);const M=this.players.indexOf(v);M>=0&&this.players.splice(M,1)}_getPlayer(m){const v=this._playersById.get(m);if(!v)throw function mt(R){return new T.vHH(3301,!1)}();return v}listen(m,v,M,H){const q=ur(v,"","","");return Mt(this._getPlayer(m),M,q,H),()=>{}}command(m,v,M,H){if("register"==M)return void this.register(m,H[0]);if("create"==M)return void this.create(m,v,H[0]||{});const q=this._getPlayer(m);switch(M){case"play":q.play();break;case"pause":q.pause();break;case"reset":q.reset();break;case"restart":q.restart();break;case"finish":q.finish();break;case"init":q.init();break;case"setPosition":q.setPosition(parseFloat(H[0]));break;case"destroy":this.destroy(m)}}}const ln="ng-animate-queued",Gs="ng-animate-disabled",Di=[],vr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hr="__ng_removed";class ii{constructor(m,v=""){this.namespaceId=v;const M=m&&m.hasOwnProperty("value");if(this.value=function Ei(R){return R??null}(M?m.value:m),M){const q=F(m);delete q.value,this.options=q}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(m){const v=m.params;if(v){const M=this.options.params;Object.keys(v).forEach(H=>{null==M[H]&&(M[H]=v[H])})}}}const Bn="void",hi=new ii(Bn);class Mr{constructor(m,v,M){this.id=m,this.hostElement=v,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,Tn(v,this._hostClassName)}listen(m,v,M,H){if(!this._triggers.has(v))throw function $n(R,m){return new T.vHH(3302,!1)}();if(null==M||0==M.length)throw function Un(R){return new T.vHH(3303,!1)}();if(!function Ur(R){return"start"==R||"done"==R}(M))throw function zn(R,m){return new T.vHH(3400,!1)}();const q=Re(this._elementListeners,m,[]),oe={name:v,phase:M,callback:H};q.push(oe);const ae=Re(this._engine.statesByElement,m,new Map);return ae.has(v)||(Tn(m,tr),Tn(m,tr+"-"+v),ae.set(v,hi)),()=>{this._engine.afterFlush(()=>{const Me=q.indexOf(oe);Me>=0&&q.splice(Me,1),this._triggers.has(v)||ae.delete(v)})}}register(m,v){return!this._triggers.has(m)&&(this._triggers.set(m,v),!0)}_getTrigger(m){const v=this._triggers.get(m);if(!v)throw function rr(R){return new T.vHH(3401,!1)}();return v}trigger(m,v,M,H=!0){const q=this._getTrigger(v),oe=new Ot(this.id,v,m);let ae=this._engine.statesByElement.get(m);ae||(Tn(m,tr),Tn(m,tr+"-"+v),this._engine.statesByElement.set(m,ae=new Map));let Me=ae.get(v);const ze=new ii(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&Me&&ze.absorbOptions(Me.options),ae.set(v,ze),Me||(Me=hi),ze.value!==Bn&&Me.value===ze.value){if(!function Dn(R,m){const v=Object.keys(R),M=Object.keys(m);if(v.length!=M.length)return!1;for(let H=0;H<v.length;H++){const q=v[H];if(!m.hasOwnProperty(q)||R[q]!==m[q])return!1}return!0}(Me.params,ze.params)){const Qt=[],bn=q.matchStyles(Me.value,Me.params,Qt),Nn=q.matchStyles(ze.value,ze.params,Qt);Qt.length?this._engine.reportError(Qt):this._engine.afterFlush(()=>{yt(m,bn),Xe(m,Nn)})}return}const yn=Re(this._engine.playersByElement,m,[]);yn.forEach(Qt=>{Qt.namespaceId==this.id&&Qt.triggerName==v&&Qt.queued&&Qt.destroy()});let tn=q.matchTransition(Me.value,ze.value,m,ze.params),$t=!1;if(!tn){if(!H)return;tn=q.fallbackTransition,$t=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:v,transition:tn,fromState:Me,toState:ze,player:oe,isFallbackTransition:$t}),$t||(Tn(m,ln),oe.onStart(()=>{je(m,ln)})),oe.onDone(()=>{let Qt=this.players.indexOf(oe);Qt>=0&&this.players.splice(Qt,1);const bn=this._engine.playersByElement.get(m);if(bn){let Nn=bn.indexOf(oe);Nn>=0&&bn.splice(Nn,1)}}),this.players.push(oe),yn.push(oe),oe}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(v=>v.delete(m)),this._elementListeners.forEach((v,M)=>{this._elementListeners.set(M,v.filter(H=>H.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const v=this._engine.playersByElement.get(m);v&&(v.forEach(M=>M.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,v){const M=this._engine.driver.query(m,Wr,!0);M.forEach(H=>{if(H[Hr])return;const q=this._engine.fetchNamespacesByElement(H);q.size?q.forEach(oe=>oe.triggerLeaveAnimation(H,v,!1,!0)):this.clearElementCache(H)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(H=>this.clearElementCache(H)))}triggerLeaveAnimation(m,v,M,H){const q=this._engine.statesByElement.get(m),oe=new Map;if(q){const ae=[];if(q.forEach((Me,ze)=>{if(oe.set(ze,Me.value),this._triggers.has(ze)){const gt=this.trigger(m,ze,Bn,H);gt&&ae.push(gt)}}),ae.length)return this._engine.markElementAsRemoved(this.id,m,!0,v,oe),M&&Yt(ae).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const v=this._elementListeners.get(m),M=this._engine.statesByElement.get(m);if(v&&M){const H=new Set;v.forEach(q=>{const oe=q.name;if(H.has(oe))return;H.add(oe);const Me=this._triggers.get(oe).fallbackTransition,ze=M.get(oe)||hi,gt=new ii(Bn),Et=new Ot(this.id,oe,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:oe,transition:Me,fromState:ze,toState:gt,player:Et,isFallbackTransition:!0})})}}removeNode(m,v){const M=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,v),this.triggerLeaveAnimation(m,v,!0))return;let H=!1;if(M.totalAnimations){const q=M.players.length?M.playersByQueriedElement.get(m):[];if(q&&q.length)H=!0;else{let oe=m;for(;oe=oe.parentNode;)if(M.statesByElement.get(oe)){H=!0;break}}}if(this.prepareLeaveAnimationListeners(m),H)M.markElementAsRemoved(this.id,m,!1,v);else{const q=m[Hr];(!q||q===vr)&&(M.afterFlush(()=>this.clearElementCache(m)),M.destroyInnerAnimations(m),M._onRemovalComplete(m,v))}}insertNode(m,v){Tn(m,this._hostClassName)}drainQueuedTransitions(m){const v=[];return this._queue.forEach(M=>{const H=M.player;if(H.destroyed)return;const q=M.element,oe=this._elementListeners.get(q);oe&&oe.forEach(ae=>{if(ae.name==M.triggerName){const Me=ur(q,M.triggerName,M.fromState.value,M.toState.value);Me._data=m,Mt(M.player,ae.phase,Me,ae.callback)}}),H.markedForDestroy?this._engine.afterFlush(()=>{H.destroy()}):v.push(M)}),this._queue=[],v.sort((M,H)=>{const q=M.transition.ast.depCount,oe=H.transition.ast.depCount;return 0==q||0==oe?q-oe:this._engine.driver.containsElement(M.element,H.element)?1:-1})}destroy(m){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}elementContainsData(m){let v=!1;return this._elementListeners.has(m)&&(v=!0),v=!!this._queue.find(M=>M.element===m)||v,v}}class Ds{constructor(m,v,M){this.bodyNode=m,this.driver=v,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(H,q)=>{}}_onRemovalComplete(m,v){this.onRemovalComplete(m,v)}get queuedPlayers(){const m=[];return this._namespaceList.forEach(v=>{v.players.forEach(M=>{M.queued&&m.push(M)})}),m}createNamespace(m,v){const M=new Mr(m,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(M,v):(this.newHostElements.set(v,M),this.collectEnterElement(v)),this._namespaceLookup[m]=M}_balanceNamespaceList(m,v){const M=this._namespaceList,H=this.namespacesByHostElement;if(M.length-1>=0){let oe=!1,ae=this.driver.getParentElement(v);for(;ae;){const Me=H.get(ae);if(Me){const ze=M.indexOf(Me);M.splice(ze+1,0,m),oe=!0;break}ae=this.driver.getParentElement(ae)}oe||M.unshift(m)}else M.push(m);return H.set(v,m),m}register(m,v){let M=this._namespaceLookup[m];return M||(M=this.createNamespace(m,v)),M}registerTrigger(m,v,M){let H=this._namespaceLookup[m];H&&H.register(v,M)&&this.totalAnimations++}destroy(m,v){if(!m)return;const M=this._fetchNamespace(m);this.afterFlush(()=>{this.namespacesByHostElement.delete(M.hostElement),delete this._namespaceLookup[m];const H=this._namespaceList.indexOf(M);H>=0&&this._namespaceList.splice(H,1)}),this.afterFlushAnimationsDone(()=>M.destroy(v))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const v=new Set,M=this.statesByElement.get(m);if(M)for(let H of M.values())if(H.namespaceId){const q=this._fetchNamespace(H.namespaceId);q&&v.add(q)}return v}trigger(m,v,M,H){if(as(v)){const q=this._fetchNamespace(m);if(q)return q.trigger(v,M,H),!0}return!1}insertNode(m,v,M,H){if(!as(v))return;const q=v[Hr];if(q&&q.setForRemoval){q.setForRemoval=!1,q.setForMove=!0;const oe=this.collectedLeaveElements.indexOf(v);oe>=0&&this.collectedLeaveElements.splice(oe,1)}if(m){const oe=this._fetchNamespace(m);oe&&oe.insertNode(v,M)}H&&this.collectEnterElement(v)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,v){v?this.disabledNodes.has(m)||(this.disabledNodes.add(m),Tn(m,Gs)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),je(m,Gs))}removeNode(m,v,M,H){if(as(v)){const q=m?this._fetchNamespace(m):null;if(q?q.removeNode(v,H):this.markElementAsRemoved(m,v,!1,H),M){const oe=this.namespacesByHostElement.get(v);oe&&oe.id!==m&&oe.removeNode(v,H)}}else this._onRemovalComplete(v,H)}markElementAsRemoved(m,v,M,H,q){this.collectedLeaveElements.push(v),v[Hr]={namespaceId:m,setForRemoval:H,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:q}}listen(m,v,M,H,q){return as(v)?this._fetchNamespace(m).listen(v,M,H,q):()=>{}}_buildInstruction(m,v,M,H,q){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,M,H,m.fromState.options,m.toState.options,v,q)}destroyInnerAnimations(m){let v=this.driver.query(m,Wr,!0);v.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(m,yi,!0),v.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(m){const v=this.playersByElement.get(m);v&&v.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(m){const v=this.playersByQueriedElement.get(m);v&&v.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return Yt(this.players).onDone(()=>m());m()})}processLeaveNode(m){const v=m[Hr];if(v&&v.setForRemoval){if(m[Hr]=vr,v.namespaceId){this.destroyInnerAnimations(m);const M=this._fetchNamespace(v.namespaceId);M&&M.clearElementCache(m)}this._onRemovalComplete(m,v.setForRemoval)}m.classList?.contains(Gs)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(m=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,H)=>this._balanceNamespaceList(M,H)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)Tn(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{v=this._flushAnimations(M,m)}finally{for(let H=0;H<M.length;H++)M[H]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],v.length?Yt(v).onDone(()=>{M.forEach(H=>H())}):M.forEach(H=>H())}}reportError(m){throw function Xn(R){return new T.vHH(3402,!1)}()}_flushAnimations(m,v){const M=new zi,H=[],q=new Map,oe=[],ae=new Map,Me=new Map,ze=new Map,gt=new Set;this.disabledNodes.forEach(Ct=>{gt.add(Ct);const Bt=this.driver.query(Ct,".ng-animate-queued",!0);for(let zt=0;zt<Bt.length;zt++)gt.add(Bt[zt])});const Et=this.bodyNode,yn=Array.from(this.statesByElement.keys()),tn=Fs(yn,this.collectedEnterElements),$t=new Map;let Qt=0;tn.forEach((Ct,Bt)=>{const zt=kr+Qt++;$t.set(Bt,zt),Ct.forEach(fn=>Tn(fn,zt))});const bn=[],Nn=new Set,qn=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const Bt=this.collectedLeaveElements[Ct],zt=Bt[Hr];zt&&zt.setForRemoval&&(bn.push(Bt),Nn.add(Bt),zt.hasAnimation?this.driver.query(Bt,".ng-star-inserted",!0).forEach(fn=>Nn.add(fn)):qn.add(Bt))}const Zn=new Map,pr=Fs(yn,Array.from(Nn));pr.forEach((Ct,Bt)=>{const zt=or+Qt++;Zn.set(Bt,zt),Ct.forEach(fn=>Tn(fn,zt))}),m.push(()=>{tn.forEach((Ct,Bt)=>{const zt=$t.get(Bt);Ct.forEach(fn=>je(fn,zt))}),pr.forEach((Ct,Bt)=>{const zt=Zn.get(Bt);Ct.forEach(fn=>je(fn,zt))}),bn.forEach(Ct=>{this.processLeaveNode(Ct)})});const zr=[],Ai=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(v).forEach(zt=>{const fn=zt.player,xr=zt.element;if(zr.push(fn),this.collectedEnterElements.length){const Or=xr[Hr];if(Or&&Or.setForMove){if(Or.previousTriggersValues&&Or.previousTriggersValues.has(zt.triggerName)){const Ss=Or.previousTriggersValues.get(zt.triggerName),Oi=this.statesByElement.get(zt.element);if(Oi&&Oi.has(zt.triggerName)){const Ts=Oi.get(zt.triggerName);Ts.value=Ss,Oi.set(zt.triggerName,Ts)}}return void fn.destroy()}}const xi=!Et||!this.driver.containsElement(Et,xr),Ir=Zn.get(xr),Ln=$t.get(xr),jn=this._buildInstruction(zt,M,Ln,Ir,xi);if(jn.errors&&jn.errors.length)return void Ai.push(jn);if(xi)return fn.onStart(()=>yt(xr,jn.fromStyles)),fn.onDestroy(()=>Xe(xr,jn.toStyles)),void H.push(fn);if(zt.isFallbackTransition)return fn.onStart(()=>yt(xr,jn.fromStyles)),fn.onDestroy(()=>Xe(xr,jn.toStyles)),void H.push(fn);const qs=[];jn.timelines.forEach(Or=>{Or.stretchStartingKeyframe=!0,this.disabledNodes.has(Or.element)||qs.push(Or)}),jn.timelines=qs,M.append(xr,jn.timelines),oe.push({instruction:jn,player:fn,element:xr}),jn.queriedElements.forEach(Or=>Re(ae,Or,[]).push(fn)),jn.preStyleProps.forEach((Or,Ss)=>{if(Or.size){let Oi=Me.get(Ss);Oi||Me.set(Ss,Oi=new Set),Or.forEach((Ts,sa)=>Oi.add(sa))}}),jn.postStyleProps.forEach((Or,Ss)=>{let Oi=ze.get(Ss);Oi||ze.set(Ss,Oi=new Set),Or.forEach((Ts,sa)=>Oi.add(sa))})});if(Ai.length){const Ct=[];Ai.forEach(Bt=>{Ct.push(function Cr(R,m){return new T.vHH(3505,!1)}())}),zr.forEach(Bt=>Bt.destroy()),this.reportError(Ct)}const Ar=new Map,ds=new Map;oe.forEach(Ct=>{const Bt=Ct.element;M.has(Bt)&&(ds.set(Bt,Bt),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,Ar))}),H.forEach(Ct=>{const Bt=Ct.element;this._getPreviousPlayers(Bt,!1,Ct.namespaceId,Ct.triggerName,null).forEach(fn=>{Re(Ar,Bt,[]).push(fn),fn.destroy()})});const Yi=bn.filter(Ct=>Es(Ct,Me,ze)),Ii=new Map;nr(Ii,this.driver,qn,ze,Te.l3).forEach(Ct=>{Es(Ct,Me,ze)&&Yi.push(Ct)});const Qr=new Map;tn.forEach((Ct,Bt)=>{nr(Qr,this.driver,new Set(Ct),Me,Te.k1)}),Yi.forEach(Ct=>{const Bt=Ii.get(Ct),zt=Qr.get(Ct);Ii.set(Ct,new Map([...Array.from(Bt?.entries()??[]),...Array.from(zt?.entries()??[])]))});const hs=[],Vs=[],uo={};oe.forEach(Ct=>{const{element:Bt,player:zt,instruction:fn}=Ct;if(M.has(Bt)){if(gt.has(Bt))return zt.onDestroy(()=>Xe(Bt,fn.toStyles)),zt.disabled=!0,zt.overrideTotalTime(fn.totalTime),void H.push(zt);let xr=uo;if(ds.size>1){let Ir=Bt;const Ln=[];for(;Ir=Ir.parentNode;){const jn=ds.get(Ir);if(jn){xr=jn;break}Ln.push(Ir)}Ln.forEach(jn=>ds.set(jn,xr))}const xi=this._buildAnimation(zt.namespaceId,fn,Ar,q,Qr,Ii);if(zt.setRealPlayer(xi),xr===uo)hs.push(zt);else{const Ir=this.playersByElement.get(xr);Ir&&Ir.length&&(zt.parentPlayer=Yt(Ir)),H.push(zt)}}else yt(Bt,fn.fromStyles),zt.onDestroy(()=>Xe(Bt,fn.toStyles)),Vs.push(zt),gt.has(Bt)&&H.push(zt)}),Vs.forEach(Ct=>{const Bt=q.get(Ct.element);if(Bt&&Bt.length){const zt=Yt(Bt);Ct.setRealPlayer(zt)}}),H.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<bn.length;Ct++){const Bt=bn[Ct],zt=Bt[Hr];if(je(Bt,or),zt&&zt.hasAnimation)continue;let fn=[];if(ae.size){let xi=ae.get(Bt);xi&&xi.length&&fn.push(...xi);let Ir=this.driver.query(Bt,yi,!0);for(let Ln=0;Ln<Ir.length;Ln++){let jn=ae.get(Ir[Ln]);jn&&jn.length&&fn.push(...jn)}}const xr=fn.filter(xi=>!xi.destroyed);xr.length?Lt(this,Bt,xr):this.processLeaveNode(Bt)}return bn.length=0,hs.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const Bt=this.players.indexOf(Ct);this.players.splice(Bt,1)}),Ct.play()}),hs}elementContainsData(m,v){let M=!1;const H=v[Hr];return H&&H.setForRemoval&&(M=!0),this.playersByElement.has(v)&&(M=!0),this.playersByQueriedElement.has(v)&&(M=!0),this.statesByElement.has(v)&&(M=!0),this._fetchNamespace(m).elementContainsData(v)||M}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,v,M,H,q){let oe=[];if(v){const ae=this.playersByQueriedElement.get(m);ae&&(oe=ae)}else{const ae=this.playersByElement.get(m);if(ae){const Me=!q||q==Bn;ae.forEach(ze=>{ze.queued||!Me&&ze.triggerName!=H||oe.push(ze)})}}return(M||H)&&(oe=oe.filter(ae=>!(M&&M!=ae.namespaceId||H&&H!=ae.triggerName))),oe}_beforeAnimationBuild(m,v,M){const q=v.element,oe=v.isRemovalTransition?void 0:m,ae=v.isRemovalTransition?void 0:v.triggerName;for(const Me of v.timelines){const ze=Me.element,gt=ze!==q,Et=Re(M,ze,[]);this._getPreviousPlayers(ze,gt,oe,ae,v.toState).forEach(tn=>{const $t=tn.getRealPlayer();$t.beforeDestroy&&$t.beforeDestroy(),tn.destroy(),Et.push(tn)})}yt(q,v.fromStyles)}_buildAnimation(m,v,M,H,q,oe){const ae=v.triggerName,Me=v.element,ze=[],gt=new Set,Et=new Set,yn=v.timelines.map($t=>{const Qt=$t.element;gt.add(Qt);const bn=Qt[Hr];if(bn&&bn.removedBeforeQueried)return new Te.ZN($t.duration,$t.delay);const Nn=Qt!==Me,qn=function ls(R){const m=[];return wr(R,m),m}((M.get(Qt)||Di).map(Ar=>Ar.getRealPlayer())).filter(Ar=>!!Ar.element&&Ar.element===Qt),Zn=q.get(Qt),pr=oe.get(Qt),zr=Rn(0,this._normalizer,0,$t.keyframes,Zn,pr),Ai=this._buildPlayer($t,zr,qn);if($t.subTimeline&&H&&Et.add(Qt),Nn){const Ar=new Ot(m,ae,Qt);Ar.setRealPlayer(Ai),ze.push(Ar)}return Ai});ze.forEach($t=>{Re(this.playersByQueriedElement,$t.element,[]).push($t),$t.onDone(()=>function ss(R,m,v){let M=R.get(m);if(M){if(M.length){const H=M.indexOf(v);M.splice(H,1)}0==M.length&&R.delete(m)}return M}(this.playersByQueriedElement,$t.element,$t))}),gt.forEach($t=>Tn($t,ai));const tn=Yt(yn);return tn.onDestroy(()=>{gt.forEach($t=>je($t,ai)),Xe(Me,v.toStyles)}),Et.forEach($t=>{Re(H,$t,[]).push(tn)}),tn}_buildPlayer(m,v,M){return v.length>0?this.driver.animate(m.element,v,m.duration,m.delay,m.easing,M):new Te.ZN(m.duration,m.delay)}}class Ot{constructor(m,v,M){this.namespaceId=m,this.triggerName=v,this.element=M,this._player=new Te.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((v,M)=>{v.forEach(H=>Mt(m,M,void 0,H))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const v=this._player;v.triggerCallback&&m.onStart(()=>v.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,v){Re(this._queuedCallbacks,m,[]).push(v)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const v=this._player;v.triggerCallback&&v.triggerCallback(m)}}function as(R){return R&&1===R.nodeType}function Zr(R,m){const v=R.style.display;return R.style.display=m??"none",v}function nr(R,m,v,M,H){const q=[];v.forEach(Me=>q.push(Zr(Me)));const oe=[];M.forEach((Me,ze)=>{const gt=new Map;Me.forEach(Et=>{const yn=m.computeStyle(ze,Et,H);gt.set(Et,yn),(!yn||0==yn.length)&&(ze[Hr]=fr,oe.push(ze))}),R.set(ze,gt)});let ae=0;return v.forEach(Me=>Zr(Me,q[ae++])),oe}function Fs(R,m){const v=new Map;if(R.forEach(ae=>v.set(ae,[])),0==m.length)return v;const H=new Set(m),q=new Map;function oe(ae){if(!ae)return 1;let Me=q.get(ae);if(Me)return Me;const ze=ae.parentNode;return Me=v.has(ze)?ze:H.has(ze)?1:oe(ze),q.set(ae,Me),Me}return m.forEach(ae=>{const Me=oe(ae);1!==Me&&v.get(Me).push(ae)}),v}function Tn(R,m){R.classList?.add(m)}function je(R,m){R.classList?.remove(m)}function Lt(R,m,v){Yt(v).onDone(()=>R.processLeaveNode(m))}function wr(R,m){for(let v=0;v<R.length;v++){const M=R[v];M instanceof Te.ZE?wr(M.players,m):m.push(M)}}function Es(R,m,v){const M=v.get(R);if(!M)return!1;let H=m.get(R);return H?M.forEach(q=>H.add(q)):m.set(R,M),v.delete(R),!0}class Mi{constructor(m,v,M){this.bodyNode=m,this._driver=v,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(H,q)=>{},this._transitionEngine=new Ds(m,v,M),this._timelineEngine=new di(m,v,M),this._transitionEngine.onRemovalComplete=(H,q)=>this.onRemovalComplete(H,q)}registerTrigger(m,v,M,H,q){const oe=m+"-"+H;let ae=this._triggerCache[oe];if(!ae){const Me=[],gt=es(this._driver,q,Me,[]);if(Me.length)throw function Ye(R,m){return new T.vHH(3404,!1)}();ae=function lr(R,m,v){return new Ri(R,m,v)}(H,gt,this._normalizer),this._triggerCache[oe]=ae}this._transitionEngine.registerTrigger(v,H,ae)}register(m,v){this._transitionEngine.register(m,v)}destroy(m,v){this._transitionEngine.destroy(m,v)}onInsert(m,v,M,H){this._transitionEngine.insertNode(m,v,M,H)}onRemove(m,v,M,H){this._transitionEngine.removeNode(m,v,H||!1,M)}disableAnimations(m,v){this._transitionEngine.markElementAsDisabled(m,v)}process(m,v,M,H){if("@"==M.charAt(0)){const[q,oe]=re(M);this._timelineEngine.command(q,v,oe,H)}else this._transitionEngine.trigger(m,v,M,H)}listen(m,v,M,H,q){if("@"==M.charAt(0)){const[oe,ae]=re(M);return this._timelineEngine.listen(oe,v,ae,q)}return this._transitionEngine.listen(m,v,M,H,q)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let N=(()=>{class R{constructor(v,M,H){this._element=v,this._startStyles=M,this._endStyles=H,this._state=0;let q=R.initialStylesByElement.get(v);q||R.initialStylesByElement.set(v,q=new Map),this._initialStyles=q}start(){this._state<1&&(this._startStyles&&Xe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xe(this._element,this._initialStyles),this._endStyles&&(Xe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(R.initialStylesByElement.delete(this._element),this._startStyles&&(yt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yt(this._element,this._endStyles),this._endStyles=null),Xe(this._element,this._initialStyles),this._state=3)}}return R.initialStylesByElement=new WeakMap,R})();function I(R){let m=null;return R.forEach((v,M)=>{(function S(R){return"display"===R||"position"===R})(M)&&(m=m||new Map,m.set(M,v))}),m}class Y{constructor(m,v,M,H){this.element=m,this.keyframes=v,this.options=M,this._specialStyles=H,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const v=[];return m.forEach(M=>{v.push(Object.fromEntries(M))}),v}_triggerWebAnimation(m,v,M){return m.animate(this._convertKeyframesToObject(v),M)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,H)=>{"offset"!==H&&m.set(H,this._finished?M:li(this.element,H))}),this.currentSnapshot=m}triggerCallback(m){const v="start"===m?this._onStartFns:this._onDoneFns;v.forEach(M=>M()),v.length=0}}class Ie{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,v){return!1}containsElement(m,v){return _n(m,v)}getParentElement(m){return Tt(m)}query(m,v,M){return hn(m,v,M)}computeStyle(m,v,M){return window.getComputedStyle(m)[v]}animate(m,v,M,H,q,oe=[]){const Me={duration:M,delay:H,fill:0==H?"both":"forwards"};q&&(Me.easing=q);const ze=new Map,gt=oe.filter(tn=>tn instanceof Y);(function Wn(R,m){return 0===R||0===m})(M,H)&&gt.forEach(tn=>{tn.currentSnapshot.forEach(($t,Qt)=>ze.set(Qt,$t))});let Et=function U(R){return R.length?R[0]instanceof Map?R:R.map(m=>j(m)):[]}(v).map(tn=>Z(tn));Et=function Yn(R,m,v){if(v.size&&m.length){let M=m[0],H=[];if(v.forEach((q,oe)=>{M.has(oe)||H.push(oe),M.set(oe,q)}),H.length)for(let q=1;q<m.length;q++){let oe=m[q];H.forEach(ae=>oe.set(ae,li(R,ae)))}}return m}(m,Et,ze);const yn=function _i(R,m){let v=null,M=null;return Array.isArray(m)&&m.length?(v=I(m[0]),m.length>1&&(M=I(m[m.length-1]))):m instanceof Map&&(v=I(m)),v||M?new N(R,v,M):null}(m,Et);return new Y(m,Et,Me,yn)}}let wt=(()=>{class R extends Te._j{constructor(v,M){super(),this._nextAnimationId=0,this._renderer=v.createRenderer(M.body,{id:"0",encapsulation:T.ifc.None,styles:[],data:{animation:[]}})}build(v){const M=this._nextAnimationId.toString();this._nextAnimationId++;const H=Array.isArray(v)?(0,Te.vP)(v):v;return Si(this._renderer,null,M,"register",[H]),new on(M,this._renderer)}}return R.\u0275fac=function(v){return new(v||R)(T.LFG(T.FYo),T.LFG(Be.K0))},R.\u0275prov=T.Yz7({token:R,factory:R.\u0275fac}),R})();class on extends Te.LC{constructor(m,v){super(),this._id=m,this._renderer=v}create(m,v){return new Fn(this._id,m,v||{},this._renderer)}}class Fn{constructor(m,v,M,H){this.id=m,this.element=v,this._renderer=H,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(m,v){return this._renderer.listen(this.element,`@@${this.id}:${m}`,v)}_command(m,...v){return Si(this._renderer,this.element,this.id,m,v)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Si(R,m,v,M,H){return R.setProperty(m,`@@${v}:${M}`,H)}const Jr="@.disabled";let Ms=(()=>{class R{constructor(v,M,H){this.delegate=v,this.engine=M,this._zone=H,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),M.onRemovalComplete=(q,oe)=>{const ae=oe?.parentNode(q);ae&&oe.removeChild(ae,q)}}createRenderer(v,M){const q=this.delegate.createRenderer(v,M);if(!(v&&M&&M.data&&M.data.animation)){let gt=this._rendererCache.get(q);return gt||(gt=new Ls("",q,this.engine),this._rendererCache.set(q,gt)),gt}const oe=M.id,ae=M.id+"-"+this._currentId;this._currentId++,this.engine.register(ae,v);const Me=gt=>{Array.isArray(gt)?gt.forEach(Me):this.engine.registerTrigger(oe,ae,v,gt.name,gt)};return M.data.animation.forEach(Me),new Io(this,ae,q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(v,M,H){v>=0&&v<this._microtaskId?this._zone.run(()=>M(H)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(q=>{const[oe,ae]=q;oe(ae)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,H]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return R.\u0275fac=function(v){return new(v||R)(T.LFG(T.FYo),T.LFG(Mi),T.LFG(T.R0b))},R.\u0275prov=T.Yz7({token:R,factory:R.\u0275fac}),R})();class Ls{constructor(m,v,M){this.namespaceId=m,this.delegate=v,this.engine=M,this.destroyNode=this.delegate.destroyNode?H=>v.destroyNode(H):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(m,v){return this.delegate.createElement(m,v)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,v){this.delegate.appendChild(m,v),this.engine.onInsert(this.namespaceId,v,m,!1)}insertBefore(m,v,M,H=!0){this.delegate.insertBefore(m,v,M),this.engine.onInsert(this.namespaceId,v,m,H)}removeChild(m,v,M){this.engine.onRemove(this.namespaceId,v,this.delegate,M)}selectRootElement(m,v){return this.delegate.selectRootElement(m,v)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,v,M,H){this.delegate.setAttribute(m,v,M,H)}removeAttribute(m,v,M){this.delegate.removeAttribute(m,v,M)}addClass(m,v){this.delegate.addClass(m,v)}removeClass(m,v){this.delegate.removeClass(m,v)}setStyle(m,v,M,H){this.delegate.setStyle(m,v,M,H)}removeStyle(m,v,M){this.delegate.removeStyle(m,v,M)}setProperty(m,v,M){"@"==v.charAt(0)&&v==Jr?this.disableAnimations(m,!!M):this.delegate.setProperty(m,v,M)}setValue(m,v){this.delegate.setValue(m,v)}listen(m,v,M){return this.delegate.listen(m,v,M)}disableAnimations(m,v){this.engine.disableAnimations(m,v)}}class Io extends Ls{constructor(m,v,M,H){super(v,M,H),this.factory=m,this.namespaceId=v}setProperty(m,v,M){"@"==v.charAt(0)?"."==v.charAt(1)&&v==Jr?this.disableAnimations(m,M=void 0===M||!!M):this.engine.process(this.namespaceId,m,v.slice(1),M):this.delegate.setProperty(m,v,M)}listen(m,v,M){if("@"==v.charAt(0)){const H=function co(R){switch(R){case"body":return document.body;case"document":return document;case"window":return window;default:return R}}(m);let q=v.slice(1),oe="";return"@"!=q.charAt(0)&&([q,oe]=function Ws(R){const m=R.indexOf(".");return[R.substring(0,m),R.slice(m+1)]}(q)),this.engine.listen(this.namespaceId,H,q,oe,ae=>{this.factory.scheduleListenerCallback(ae._data||-1,M,ae)})}return this.delegate.listen(m,v,M)}}const Bs=[{provide:Te._j,useClass:wt},{provide:Vr,useFactory:function Fi(){return new Gi}},{provide:Mi,useClass:(()=>{class R extends Mi{constructor(v,M,H,q){super(v.body,M,H)}ngOnDestroy(){this.flush()}}return R.\u0275fac=function(v){return new(v||R)(T.LFG(Be.K0),T.LFG(gn),T.LFG(Vr),T.LFG(T.z2F))},R.\u0275prov=T.Yz7({token:R,factory:R.\u0275fac}),R})()},{provide:T.FYo,useFactory:function Ks(R,m,v){return new Ms(R,m,v)},deps:[d.se,Mi,T.R0b]}],cs=[{provide:gn,useFactory:()=>new Ie},{provide:T.QbO,useValue:"BrowserAnimations"},...Bs],D=[{provide:gn,useClass:Nr},{provide:T.QbO,useValue:"NoopAnimations"},...Bs];let B=(()=>{class R{static withConfig(v){return{ngModule:R,providers:v.disableAnimations?D:cs}}}return R.\u0275fac=function(v){return new(v||R)},R.\u0275mod=T.oAB({type:R}),R.\u0275inj=T.cJS({providers:cs,imports:[d.b2]}),R})();var Fe=z(2642),Ge=z(6323),vt=z(529),Kt=z(3);let Ut=(()=>{class R{constructor(v){this.authService=v,console.log(this.authService.getToken())}intercept(v,M){return v=this.authService.getToken()?v.clone({setHeaders:{Authorization:`token ${this.authService.getToken()}`}}):v.clone({setHeaders:{Authorization:`Bearer ${this.authService.getToken()}`}}),M.handle(v)}}return R.\u0275fac=function(v){return new(v||R)(T.LFG(Kt.u))},R.\u0275prov=T.Yz7({token:R,factory:R.\u0275fac}),R})();var Ht=z(7185),Jt=z(433);let us=(()=>{class R{}return R.\u0275fac=function(v){return new(v||R)},R.\u0275mod=T.oAB({type:R}),R.\u0275inj=T.cJS({imports:[Jt.u5]}),R})();var cr=z(5869);const Tr={Layers:Fe.S9g};let fi=(()=>{class R{}return R.\u0275fac=function(v){return new(v||R)},R.\u0275mod=T.oAB({type:R,bootstrap:[fe]}),R.\u0275inj=T.cJS({providers:[{provide:vt.TP,useClass:Ut,multi:!0}],imports:[d.b2,Ae,vt.JF,ue.Xd,B,Ge.p.pick(Tr),Ht.Rh.forRoot(),us,Jt.u5,Jt.UX,cr.FP,Ge.p]}),R})();z(2340).N.production&&(0,T.G48)(),d.q6().bootstrapModule(fi).catch(R=>console.error(R))},3188:(_t,Le,z)=>{z.d(Le,{op:()=>Hn,Vv:()=>yi,Xd:()=>Pr});var d=z(7579),T=z(4968),ue=z(6451),ve=z(3601),_e=z(2722),Ae=z(4671),we=z(4482),Be=z(5403);function me(L,K){return L===K}var Se=z(9718),ge=z(1571),at=z(6895);function fe(L){return getComputedStyle(L)}function Te(L,K){for(var F in K){var j=K[F];"number"==typeof j&&(j+="px"),L.style[F]=j}return L}function Ue(L){var K=document.createElement("div");return K.className=L,K}var ct=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function it(L,K){if(!ct)throw new Error("No element matching method supported");return ct.call(L,K)}function st(L){L.remove?L.remove():L.parentNode&&L.parentNode.removeChild(L)}function qe(L,K){return Array.prototype.filter.call(L.children,function(F){return it(F,K)})}var de_element_thumb=function(L){return"ps__thumb-"+L},de_element_rail=function(L){return"ps__rail-"+L},de_element_consuming="ps__child--consume",de_state_focus="ps--focus",de_state_clicking="ps--clicking",de_state_active=function(L){return"ps--active-"+L},de_state_scrolling=function(L){return"ps--scrolling-"+L},le={x:null,y:null};function tt(L,K){var F=L.element.classList,j=de_state_scrolling(K);F.contains(j)?clearTimeout(le[K]):F.add(j)}function It(L,K){le[K]=setTimeout(function(){return L.isAlive&&L.element.classList.remove(de_state_scrolling(K))},L.settings.scrollingThreshold)}var We=function(K){this.element=K,this.handlers={}},et={isEmpty:{configurable:!0}};We.prototype.bind=function(K,F){typeof this.handlers[K]>"u"&&(this.handlers[K]=[]),this.handlers[K].push(F),this.element.addEventListener(K,F,!1)},We.prototype.unbind=function(K,F){var j=this;this.handlers[K]=this.handlers[K].filter(function(U){return!(!F||U===F)||(j.element.removeEventListener(K,U,!1),!1)})},We.prototype.unbindAll=function(){for(var K in this.handlers)this.unbind(K)},et.isEmpty.get=function(){var L=this;return Object.keys(this.handlers).every(function(K){return 0===L.handlers[K].length})},Object.defineProperties(We.prototype,et);var xe=function(){this.eventElements=[]};function Ce(L){if("function"==typeof window.CustomEvent)return new CustomEvent(L);var K=document.createEvent("CustomEvent");return K.initCustomEvent(L,!1,!1,void 0),K}function Ve(L,K,F,j,U){var ee;if(void 0===j&&(j=!0),void 0===U&&(U=!1),"top"===K)ee=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==K)throw new Error("A proper axis should be provided");ee=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function be(L,K,F,j,U){var ee=F[0],Z=F[1],ye=F[2],ke=F[3],Xe=F[4],yt=F[5];void 0===j&&(j=!0),void 0===U&&(U=!1);var kt=L.element;L.reach[ke]=null,kt[ye]<1&&(L.reach[ke]="start"),kt[ye]>L[ee]-L[Z]-1&&(L.reach[ke]="end"),K&&(kt.dispatchEvent(Ce("ps-scroll-"+ke)),K<0?kt.dispatchEvent(Ce("ps-scroll-"+Xe)):K>0&&kt.dispatchEvent(Ce("ps-scroll-"+yt)),j&&function ot(L,K){tt(L,K),It(L,K)}(L,ke)),L.reach[ke]&&(K||U)&&kt.dispatchEvent(Ce("ps-"+ke+"-reach-"+L.reach[ke]))}(L,F,ee,j,U)}function Je(L){return parseInt(L,10)||0}xe.prototype.eventElement=function(K){var F=this.eventElements.filter(function(j){return j.element===K})[0];return F||(F=new We(K),this.eventElements.push(F)),F},xe.prototype.bind=function(K,F,j){this.eventElement(K).bind(F,j)},xe.prototype.unbind=function(K,F,j){var U=this.eventElement(K);U.unbind(F,j),U.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(U),1)},xe.prototype.unbindAll=function(){this.eventElements.forEach(function(K){return K.unbindAll()}),this.eventElements=[]},xe.prototype.once=function(K,F,j){var U=this.eventElement(K),ee=function(Z){U.unbind(F,ee),j(Z)};U.bind(F,ee)};var jt={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function En(L){var K=L.element,F=Math.floor(K.scrollTop),j=K.getBoundingClientRect();L.containerWidth=Math.ceil(j.width),L.containerHeight=Math.ceil(j.height),L.contentWidth=K.scrollWidth,L.contentHeight=K.scrollHeight,K.contains(L.scrollbarXRail)||(qe(K,de_element_rail("x")).forEach(function(U){return st(U)}),K.appendChild(L.scrollbarXRail)),K.contains(L.scrollbarYRail)||(qe(K,de_element_rail("y")).forEach(function(U){return st(U)}),K.appendChild(L.scrollbarYRail)),!L.settings.suppressScrollX&&L.containerWidth+L.settings.scrollXMarginOffset<L.contentWidth?(L.scrollbarXActive=!0,L.railXWidth=L.containerWidth-L.railXMarginWidth,L.railXRatio=L.containerWidth/L.railXWidth,L.scrollbarXWidth=Rt(L,Je(L.railXWidth*L.containerWidth/L.contentWidth)),L.scrollbarXLeft=Je((L.negativeScrollAdjustment+K.scrollLeft)*(L.railXWidth-L.scrollbarXWidth)/(L.contentWidth-L.containerWidth))):L.scrollbarXActive=!1,!L.settings.suppressScrollY&&L.containerHeight+L.settings.scrollYMarginOffset<L.contentHeight?(L.scrollbarYActive=!0,L.railYHeight=L.containerHeight-L.railYMarginHeight,L.railYRatio=L.containerHeight/L.railYHeight,L.scrollbarYHeight=Rt(L,Je(L.railYHeight*L.containerHeight/L.contentHeight)),L.scrollbarYTop=Je(F*(L.railYHeight-L.scrollbarYHeight)/(L.contentHeight-L.containerHeight))):L.scrollbarYActive=!1,L.scrollbarXLeft>=L.railXWidth-L.scrollbarXWidth&&(L.scrollbarXLeft=L.railXWidth-L.scrollbarXWidth),L.scrollbarYTop>=L.railYHeight-L.scrollbarYHeight&&(L.scrollbarYTop=L.railYHeight-L.scrollbarYHeight),function Pn(L,K){var F={width:K.railXWidth},j=Math.floor(L.scrollTop);F.left=K.isRtl?K.negativeScrollAdjustment+L.scrollLeft+K.containerWidth-K.contentWidth:L.scrollLeft,K.isScrollbarXUsingBottom?F.bottom=K.scrollbarXBottom-j:F.top=K.scrollbarXTop+j,Te(K.scrollbarXRail,F);var U={top:j,height:K.railYHeight};K.isScrollbarYUsingRight?U.right=K.isRtl?K.contentWidth-(K.negativeScrollAdjustment+L.scrollLeft)-K.scrollbarYRight-K.scrollbarYOuterWidth-9:K.scrollbarYRight-L.scrollLeft:U.left=K.isRtl?K.negativeScrollAdjustment+L.scrollLeft+2*K.containerWidth-K.contentWidth-K.scrollbarYLeft-K.scrollbarYOuterWidth:K.scrollbarYLeft+L.scrollLeft,Te(K.scrollbarYRail,U),Te(K.scrollbarX,{left:K.scrollbarXLeft,width:K.scrollbarXWidth-K.railBorderXWidth}),Te(K.scrollbarY,{top:K.scrollbarYTop,height:K.scrollbarYHeight-K.railBorderYWidth})}(K,L),L.scrollbarXActive?K.classList.add(de_state_active("x")):(K.classList.remove(de_state_active("x")),L.scrollbarXWidth=0,L.scrollbarXLeft=0,K.scrollLeft=!0===L.isRtl?L.contentWidth:0),L.scrollbarYActive?K.classList.add(de_state_active("y")):(K.classList.remove(de_state_active("y")),L.scrollbarYHeight=0,L.scrollbarYTop=0,K.scrollTop=0)}function Rt(L,K){return L.settings.minScrollbarLength&&(K=Math.max(K,L.settings.minScrollbarLength)),L.settings.maxScrollbarLength&&(K=Math.min(K,L.settings.maxScrollbarLength)),K}function pe(L,K){var F=K[0],j=K[1],U=K[2],ee=K[3],Z=K[4],ye=K[5],ke=K[6],Xe=K[7],yt=K[8],kt=L.element,Sn=null,Pt=null,St=null;function an(Zt){Zt.touches&&Zt.touches[0]&&(Zt[U]=Zt.touches[0].pageY),kt[ke]=Sn+St*(Zt[U]-Pt),tt(L,Xe),En(L),Zt.stopPropagation(),Zt.preventDefault()}function Dt(){It(L,Xe),L[yt].classList.remove(de_state_clicking),L.event.unbind(L.ownerDocument,"mousemove",an)}function nn(Zt,Gn){Sn=kt[ke],Gn&&Zt.touches&&(Zt[U]=Zt.touches[0].pageY),Pt=Zt[U],St=(L[j]-L[F])/(L[ee]-L[ye]),Gn?L.event.bind(L.ownerDocument,"touchmove",an):(L.event.bind(L.ownerDocument,"mousemove",an),L.event.once(L.ownerDocument,"mouseup",Dt),Zt.preventDefault()),L[yt].classList.add(de_state_clicking),Zt.stopPropagation()}L.event.bind(L[Z],"mousedown",function(Zt){nn(Zt)}),L.event.bind(L[Z],"touchstart",function(Zt){nn(Zt,!0)})}var $n={"click-rail":function Ze(L){L.event.bind(L.scrollbarY,"mousedown",function(F){return F.stopPropagation()}),L.event.bind(L.scrollbarYRail,"mousedown",function(F){var j=F.pageY-window.pageYOffset-L.scrollbarYRail.getBoundingClientRect().top;L.element.scrollTop+=(j>L.scrollbarYTop?1:-1)*L.containerHeight,En(L),F.stopPropagation()}),L.event.bind(L.scrollbarX,"mousedown",function(F){return F.stopPropagation()}),L.event.bind(L.scrollbarXRail,"mousedown",function(F){var j=F.pageX-window.pageXOffset-L.scrollbarXRail.getBoundingClientRect().left;L.element.scrollLeft+=(j>L.scrollbarXLeft?1:-1)*L.containerWidth,En(L),F.stopPropagation()})},"drag-thumb":function Ye(L){pe(L,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),pe(L,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function Pe(L){var K=L.element;L.event.bind(L.ownerDocument,"keydown",function(ee){if(!(ee.isDefaultPrevented&&ee.isDefaultPrevented()||ee.defaultPrevented)&&(it(K,":hover")||it(L.scrollbarX,":focus")||it(L.scrollbarY,":focus"))){var Z=document.activeElement?document.activeElement:L.ownerDocument.activeElement;if(Z){if("IFRAME"===Z.tagName)Z=Z.contentDocument.activeElement;else for(;Z.shadowRoot;)Z=Z.shadowRoot.activeElement;if(function Qe(L){return it(L,"input,[contenteditable]")||it(L,"select,[contenteditable]")||it(L,"textarea,[contenteditable]")||it(L,"button,[contenteditable]")}(Z))return}var ye=0,ke=0;switch(ee.which){case 37:ye=ee.metaKey?-L.contentWidth:ee.altKey?-L.containerWidth:-30;break;case 38:ke=ee.metaKey?L.contentHeight:ee.altKey?L.containerHeight:30;break;case 39:ye=ee.metaKey?L.contentWidth:ee.altKey?L.containerWidth:30;break;case 40:ke=ee.metaKey?-L.contentHeight:ee.altKey?-L.containerHeight:-30;break;case 32:ke=ee.shiftKey?L.containerHeight:-L.containerHeight;break;case 33:ke=L.containerHeight;break;case 34:ke=-L.containerHeight;break;case 36:ke=L.contentHeight;break;case 35:ke=-L.contentHeight;break;default:return}L.settings.suppressScrollX&&0!==ye||L.settings.suppressScrollY&&0!==ke||(K.scrollTop-=ke,K.scrollLeft+=ye,En(L),function U(ee,Z){var ye=Math.floor(K.scrollTop);if(0===ee){if(!L.scrollbarYActive)return!1;if(0===ye&&Z>0||ye>=L.contentHeight-L.containerHeight&&Z<0)return!L.settings.wheelPropagation}var ke=K.scrollLeft;if(0===Z){if(!L.scrollbarXActive)return!1;if(0===ke&&ee<0||ke>=L.contentWidth-L.containerWidth&&ee>0)return!L.settings.wheelPropagation}return!0}(ye,ke)&&ee.preventDefault())}})},wheel:function dt(L){var K=L.element;function ee(Z){var ye=function j(Z){var ye=Z.deltaX,ke=-1*Z.deltaY;return(typeof ye>"u"||typeof ke>"u")&&(ye=-1*Z.wheelDeltaX/6,ke=Z.wheelDeltaY/6),Z.deltaMode&&1===Z.deltaMode&&(ye*=10,ke*=10),ye!=ye&&ke!=ke&&(ye=0,ke=Z.wheelDelta),Z.shiftKey?[-ke,-ye]:[ye,ke]}(Z),ke=ye[0],Xe=ye[1];if(!function U(Z,ye,ke){if(!jt.isWebKit&&K.querySelector("select:focus"))return!0;if(!K.contains(Z))return!1;for(var Xe=Z;Xe&&Xe!==K;){if(Xe.classList.contains(de_element_consuming))return!0;var yt=fe(Xe);if(ke&&yt.overflowY.match(/(scroll|auto)/)){var kt=Xe.scrollHeight-Xe.clientHeight;if(kt>0&&(Xe.scrollTop>0&&ke<0||Xe.scrollTop<kt&&ke>0))return!0}if(ye&&yt.overflowX.match(/(scroll|auto)/)){var Sn=Xe.scrollWidth-Xe.clientWidth;if(Sn>0&&(Xe.scrollLeft>0&&ye<0||Xe.scrollLeft<Sn&&ye>0))return!0}Xe=Xe.parentNode}return!1}(Z.target,ke,Xe)){var yt=!1;L.settings.useBothWheelAxes?L.scrollbarYActive&&!L.scrollbarXActive?(Xe?K.scrollTop-=Xe*L.settings.wheelSpeed:K.scrollTop+=ke*L.settings.wheelSpeed,yt=!0):L.scrollbarXActive&&!L.scrollbarYActive&&(ke?K.scrollLeft+=ke*L.settings.wheelSpeed:K.scrollLeft-=Xe*L.settings.wheelSpeed,yt=!0):(K.scrollTop-=Xe*L.settings.wheelSpeed,K.scrollLeft+=ke*L.settings.wheelSpeed),En(L),yt=yt||function F(Z,ye){var ke=Math.floor(K.scrollTop),Xe=0===K.scrollTop,yt=ke+K.offsetHeight===K.scrollHeight,kt=0===K.scrollLeft,Sn=K.scrollLeft+K.offsetWidth===K.scrollWidth;return!(Math.abs(ye)>Math.abs(Z)?Xe||yt:kt||Sn)||!L.settings.wheelPropagation}(ke,Xe),yt&&!Z.ctrlKey&&(Z.stopPropagation(),Z.preventDefault())}}typeof window.onwheel<"u"?L.event.bind(K,"wheel",ee):typeof window.onmousewheel<"u"&&L.event.bind(K,"mousewheel",ee)},touch:function qt(L){if(jt.supportsTouch||jt.supportsIePointer){var K=L.element,U={},ee=0,Z={},ye=null;jt.supportsTouch?(L.event.bind(K,"touchstart",yt),L.event.bind(K,"touchmove",Sn),L.event.bind(K,"touchend",Pt)):jt.supportsIePointer&&(window.PointerEvent?(L.event.bind(K,"pointerdown",yt),L.event.bind(K,"pointermove",Sn),L.event.bind(K,"pointerup",Pt)):window.MSPointerEvent&&(L.event.bind(K,"MSPointerDown",yt),L.event.bind(K,"MSPointerMove",Sn),L.event.bind(K,"MSPointerUp",Pt)))}function j(St,an){K.scrollTop-=an,K.scrollLeft-=St,En(L)}function ke(St){return St.targetTouches?St.targetTouches[0]:St}function Xe(St){return!(St.pointerType&&"pen"===St.pointerType&&0===St.buttons||!(St.targetTouches&&1===St.targetTouches.length||St.pointerType&&"mouse"!==St.pointerType&&St.pointerType!==St.MSPOINTER_TYPE_MOUSE))}function yt(St){if(Xe(St)){var an=ke(St);U.pageX=an.pageX,U.pageY=an.pageY,ee=(new Date).getTime(),null!==ye&&clearInterval(ye)}}function Sn(St){if(Xe(St)){var an=ke(St),Dt={pageX:an.pageX,pageY:an.pageY},nn=Dt.pageX-U.pageX,Zt=Dt.pageY-U.pageY;if(function kt(St,an,Dt){if(!K.contains(St))return!1;for(var nn=St;nn&&nn!==K;){if(nn.classList.contains(de_element_consuming))return!0;var Zt=fe(nn);if(Dt&&Zt.overflowY.match(/(scroll|auto)/)){var Gn=nn.scrollHeight-nn.clientHeight;if(Gn>0&&(nn.scrollTop>0&&Dt<0||nn.scrollTop<Gn&&Dt>0))return!0}if(an&&Zt.overflowX.match(/(scroll|auto)/)){var Wn=nn.scrollWidth-nn.clientWidth;if(Wn>0&&(nn.scrollLeft>0&&an<0||nn.scrollLeft<Wn&&an>0))return!0}nn=nn.parentNode}return!1}(St.target,nn,Zt))return;j(nn,Zt),U=Dt;var Gn=(new Date).getTime(),Wn=Gn-ee;Wn>0&&(Z.x=nn/Wn,Z.y=Zt/Wn,ee=Gn),function F(St,an){var Dt=Math.floor(K.scrollTop),nn=K.scrollLeft,Zt=Math.abs(St),Gn=Math.abs(an);if(Gn>Zt){if(an<0&&Dt===L.contentHeight-L.containerHeight||an>0&&0===Dt)return 0===window.scrollY&&an>0&&jt.isChrome}else if(Zt>Gn&&(St<0&&nn===L.contentWidth-L.containerWidth||St>0&&0===nn))return!0;return!0}(nn,Zt)&&St.preventDefault()}}function Pt(){L.settings.swipeEasing&&(clearInterval(ye),ye=setInterval(function(){L.isInitialized?clearInterval(ye):Z.x||Z.y?Math.abs(Z.x)<.01&&Math.abs(Z.y)<.01?clearInterval(ye):(j(30*Z.x,30*Z.y),Z.x*=.8,Z.y*=.8):clearInterval(ye)},10))}}},Un=function(K,F){var j=this;if(void 0===F&&(F={}),"string"==typeof K&&(K=document.querySelector(K)),!K||!K.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var U in this.element=K,K.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},F)this.settings[U]=F[U];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var yt,Xe,ee=function(){return K.classList.add(de_state_focus)},Z=function(){return K.classList.remove(de_state_focus)};this.isRtl="rtl"===fe(K).direction,!0===this.isRtl&&K.classList.add("ps__rtl"),this.isNegativeScroll=(Xe=K.scrollLeft,K.scrollLeft=-1,yt=K.scrollLeft<0,K.scrollLeft=Xe,yt),this.negativeScrollAdjustment=this.isNegativeScroll?K.scrollWidth-K.clientWidth:0,this.event=new xe,this.ownerDocument=K.ownerDocument||document,this.scrollbarXRail=Ue(de_element_rail("x")),K.appendChild(this.scrollbarXRail),this.scrollbarX=Ue(de_element_thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",ee),this.event.bind(this.scrollbarX,"blur",Z),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var ye=fe(this.scrollbarXRail);this.scrollbarXBottom=parseInt(ye.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Je(ye.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Je(ye.borderLeftWidth)+Je(ye.borderRightWidth),Te(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Je(ye.marginLeft)+Je(ye.marginRight),Te(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Ue(de_element_rail("y")),K.appendChild(this.scrollbarYRail),this.scrollbarY=Ue(de_element_thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",ee),this.event.bind(this.scrollbarY,"blur",Z),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var ke=fe(this.scrollbarYRail);this.scrollbarYRight=parseInt(ke.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Je(ke.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function Vt(L){var K=fe(L);return Je(K.width)+Je(K.paddingLeft)+Je(K.paddingRight)+Je(K.borderLeftWidth)+Je(K.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=Je(ke.borderTopWidth)+Je(ke.borderBottomWidth),Te(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Je(ke.marginTop)+Je(ke.marginBottom),Te(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:K.scrollLeft<=0?"start":K.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:K.scrollTop<=0?"start":K.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(Xe){return $n[Xe](j)}),this.lastScrollTop=Math.floor(K.scrollTop),this.lastScrollLeft=K.scrollLeft,this.event.bind(this.element,"scroll",function(Xe){return j.onScroll(Xe)}),En(this)};Un.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,Te(this.scrollbarXRail,{display:"block"}),Te(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Je(fe(this.scrollbarXRail).marginLeft)+Je(fe(this.scrollbarXRail).marginRight),this.railYMarginHeight=Je(fe(this.scrollbarYRail).marginTop)+Je(fe(this.scrollbarYRail).marginBottom),Te(this.scrollbarXRail,{display:"none"}),Te(this.scrollbarYRail,{display:"none"}),En(this),Ve(this,"top",0,!1,!0),Ve(this,"left",0,!1,!0),Te(this.scrollbarXRail,{display:""}),Te(this.scrollbarYRail,{display:""}))},Un.prototype.onScroll=function(K){!this.isAlive||(En(this),Ve(this,"top",this.element.scrollTop-this.lastScrollTop),Ve(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},Un.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),st(this.scrollbarX),st(this.scrollbarY),st(this.scrollbarXRail),st(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},Un.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(K){return!K.match(/^ps([-_].+|)$/)}).join(" ")};const zn=Un;var rr=function(){if(typeof Map<"u")return Map;function L(K,F){var j=-1;return K.some(function(U,ee){return U[0]===F&&(j=ee,!0)}),j}return function(){function K(){this.__entries__=[]}return Object.defineProperty(K.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),K.prototype.get=function(F){var j=L(this.__entries__,F),U=this.__entries__[j];return U&&U[1]},K.prototype.set=function(F,j){var U=L(this.__entries__,F);~U?this.__entries__[U][1]=j:this.__entries__.push([F,j])},K.prototype.delete=function(F){var j=this.__entries__,U=L(j,F);~U&&j.splice(U,1)},K.prototype.has=function(F){return!!~L(this.__entries__,F)},K.prototype.clear=function(){this.__entries__.splice(0)},K.prototype.forEach=function(F,j){void 0===j&&(j=null);for(var U=0,ee=this.__entries__;U<ee.length;U++){var Z=ee[U];F.call(j,Z[1],Z[0])}},K}()}(),Xn=typeof window<"u"&&typeof document<"u"&&window.document===document,On=typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),Cr="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(On):function(L){return setTimeout(function(){return L(Date.now())},1e3/60)},Yt=["top","right","bottom","left","width","height","size","weight"],Rn=typeof MutationObserver<"u",Mt=function(){function L(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function Mn(L,K){var F=!1,j=!1,U=0;function ee(){F&&(F=!1,L()),j&&ye()}function Z(){Cr(ee)}function ye(){var ke=Date.now();if(F){if(ke-U<2)return;j=!0}else F=!0,j=!1,setTimeout(Z,K);U=ke}return ye}(this.refresh.bind(this),20)}return L.prototype.addObserver=function(K){~this.observers_.indexOf(K)||this.observers_.push(K),this.connected_||this.connect_()},L.prototype.removeObserver=function(K){var F=this.observers_,j=F.indexOf(K);~j&&F.splice(j,1),!F.length&&this.connected_&&this.disconnect_()},L.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},L.prototype.updateObservers_=function(){var K=this.observers_.filter(function(F){return F.gatherActive(),F.hasActive()});return K.forEach(function(F){return F.broadcastActive()}),K.length>0},L.prototype.connect_=function(){!Xn||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Rn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},L.prototype.disconnect_=function(){!Xn||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},L.prototype.onTransitionEnd_=function(K){var F=K.propertyName,j=void 0===F?"":F;Yt.some(function(ee){return!!~j.indexOf(ee)})&&this.refresh()},L.getInstance=function(){return this.instance_||(this.instance_=new L),this.instance_},L.instance_=null,L}(),Gr=function(L,K){for(var F=0,j=Object.keys(K);F<j.length;F++){var U=j[F];Object.defineProperty(L,U,{value:K[U],enumerable:!1,writable:!1,configurable:!0})}return L},ur=function(L){return L&&L.ownerDocument&&L.ownerDocument.defaultView||On},Re=sn(0,0,0,0);function re(L){return parseFloat(L)||0}function te(L){for(var K=[],F=1;F<arguments.length;F++)K[F-1]=arguments[F];return K.reduce(function(j,U){return j+re(L["border-"+U+"-width"])},0)}var Wt=typeof SVGGraphicsElement<"u"?function(L){return L instanceof ur(L).SVGGraphicsElement}:function(L){return L instanceof ur(L).SVGElement&&"function"==typeof L.getBBox};function ut(L){return Xn?Wt(L)?function Ke(L){var K=L.getBBox();return sn(0,0,K.width,K.height)}(L):function Tt(L){var K=L.clientWidth,F=L.clientHeight;if(!K&&!F)return Re;var j=ur(L).getComputedStyle(L),U=function Oe(L){for(var F={},j=0,U=["top","right","bottom","left"];j<U.length;j++){var ee=U[j];F[ee]=re(L["padding-"+ee])}return F}(j),ee=U.left+U.right,Z=U.top+U.bottom,ye=re(j.width),ke=re(j.height);if("border-box"===j.boxSizing&&(Math.round(ye+ee)!==K&&(ye-=te(j,"left","right")+ee),Math.round(ke+Z)!==F&&(ke-=te(j,"top","bottom")+Z)),!function Xt(L){return L===ur(L).document.documentElement}(L)){var Xe=Math.round(ye+ee)-K,yt=Math.round(ke+Z)-F;1!==Math.abs(Xe)&&(ye-=Xe),1!==Math.abs(yt)&&(ke-=yt)}return sn(U.left,U.top,ye,ke)}(L):Re}function sn(L,K,F,j){return{x:L,y:K,width:F,height:j}}var er=function(){function L(K){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=sn(0,0,0,0),this.target=K}return L.prototype.isActive=function(){var K=ut(this.target);return this.contentRect_=K,K.width!==this.broadcastWidth||K.height!==this.broadcastHeight},L.prototype.broadcastRect=function(){var K=this.contentRect_;return this.broadcastWidth=K.width,this.broadcastHeight=K.height,K},L}(),ft=function L(K,F){var j=function xt(L){var K=L.x,F=L.y,j=L.width,U=L.height,ee=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,Z=Object.create(ee.prototype);return Gr(Z,{x:K,y:F,width:j,height:U,top:F,right:K+j,bottom:U+F,left:K}),Z}(F);Gr(this,{target:K,contentRect:j})},_n=function(){function L(K,F,j){if(this.activeObservations_=[],this.observations_=new rr,"function"!=typeof K)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=K,this.controller_=F,this.callbackCtx_=j}return L.prototype.observe=function(K){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u")&&Element instanceof Object){if(!(K instanceof ur(K).Element))throw new TypeError('parameter 1 is not of type "Element".');var F=this.observations_;F.has(K)||(F.set(K,new er(K)),this.controller_.addObserver(this),this.controller_.refresh())}},L.prototype.unobserve=function(K){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u")&&Element instanceof Object){if(!(K instanceof ur(K).Element))throw new TypeError('parameter 1 is not of type "Element".');var F=this.observations_;!F.has(K)||(F.delete(K),F.size||this.controller_.removeObserver(this))}},L.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},L.prototype.gatherActive=function(){var K=this;this.clearActive(),this.observations_.forEach(function(F){F.isActive()&&K.activeObservations_.push(F)})},L.prototype.broadcastActive=function(){if(this.hasActive()){var K=this.callbackCtx_,F=this.activeObservations_.map(function(j){return new ft(j.target,j.broadcastRect())});this.callback_.call(K,F,K),this.clearActive()}},L.prototype.clearActive=function(){this.activeObservations_.splice(0)},L.prototype.hasActive=function(){return this.activeObservations_.length>0},L}(),hn=typeof WeakMap<"u"?new WeakMap:new rr,dr=function L(K){if(!(this instanceof L))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var F=Mt.getInstance(),j=new _n(K,F,this);hn.set(this,j)};["observe","unobserve","disconnect"].forEach(function(L){dr.prototype[L]=function(){var K;return(K=hn.get(this))[L].apply(K,arguments)}});const gn=typeof On.ResizeObserver<"u"?On.ResizeObserver:dr;function sr(L,K){if(1&L&&(ge.TgZ(0,"div",3),ge._UZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),ge.qZA()),2&L){const F=ge.oxw();ge.ekj("ps-at-top",F.states.top)("ps-at-left",F.states.left)("ps-at-right",F.states.right)("ps-at-bottom",F.states.bottom),ge.xp6(1),ge.ekj("ps-indicator-show",F.indicatorY&&F.interaction),ge.xp6(1),ge.ekj("ps-indicator-show",F.indicatorX&&F.interaction),ge.xp6(1),ge.ekj("ps-indicator-show",F.indicatorX&&F.interaction),ge.xp6(1),ge.ekj("ps-indicator-show",F.indicatorY&&F.interaction)}}const Vn=["*"],Hn=new ge.OlP("PERFECT_SCROLLBAR_CONFIG");class kr{constructor(K,F,j,U){this.x=K,this.y=F,this.w=j,this.h=U}}class or{constructor(K,F){this.x=K,this.y=F}}const tr=["psScrollY","psScrollX","psScrollUp","psScrollDown","psScrollLeft","psScrollRight","psYReachEnd","psYReachStart","psXReachEnd","psXReachStart"];class Wr{constructor(K={}){this.assign(K)}assign(K={}){for(const F in K)this[F]=K[F]}}let ai=(()=>{class L{constructor(F,j,U,ee,Z){this.zone=F,this.differs=j,this.elementRef=U,this.platformId=ee,this.defaults=Z,this.instance=null,this.ro=null,this.timeout=null,this.animation=null,this.configDiff=null,this.ngDestroy=new d.x,this.disabled=!1,this.psScrollY=new ge.vpe,this.psScrollX=new ge.vpe,this.psScrollUp=new ge.vpe,this.psScrollDown=new ge.vpe,this.psScrollLeft=new ge.vpe,this.psScrollRight=new ge.vpe,this.psYReachEnd=new ge.vpe,this.psYReachStart=new ge.vpe,this.psXReachEnd=new ge.vpe,this.psXReachStart=new ge.vpe}ngOnInit(){if(!this.disabled&&(0,at.NF)(this.platformId)){const F=new Wr(this.defaults);F.assign(this.config),this.zone.runOutsideAngular(()=>{this.instance=new zn(this.elementRef.nativeElement,F)}),this.configDiff||(this.configDiff=this.differs.find(this.config||{}).create(),this.configDiff.diff(this.config||{})),this.zone.runOutsideAngular(()=>{this.ro=new gn(()=>{this.update()}),this.elementRef.nativeElement.children[0]&&this.ro.observe(this.elementRef.nativeElement.children[0]),this.ro.observe(this.elementRef.nativeElement)}),this.zone.runOutsideAngular(()=>{tr.forEach(j=>{const U=j.replace(/([A-Z])/g,ee=>`-${ee.toLowerCase()}`);(0,T.R)(this.elementRef.nativeElement,U).pipe((0,ve.e)(20),(0,_e.R)(this.ngDestroy)).subscribe(ee=>{this[j].emit(ee)})})})}}ngOnDestroy(){(0,at.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.complete(),this.ro&&this.ro.disconnect(),this.timeout&&typeof window<"u"&&window.clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.instance&&this.instance.destroy()}),this.instance=null)}ngDoCheck(){!this.disabled&&this.configDiff&&(0,at.NF)(this.platformId)&&this.configDiff.diff(this.config||{})&&(this.ngOnDestroy(),this.ngOnInit())}ngOnChanges(F){F.disabled&&!F.disabled.isFirstChange()&&(0,at.NF)(this.platformId)&&F.disabled.currentValue!==F.disabled.previousValue&&(!0===F.disabled.currentValue?this.ngOnDestroy():!1===F.disabled.currentValue&&this.ngOnInit())}ps(){return this.instance}update(){typeof window<"u"&&(this.timeout&&window.clearTimeout(this.timeout),this.timeout=window.setTimeout(()=>{if(!this.disabled&&this.configDiff)try{this.zone.runOutsideAngular(()=>{this.instance&&this.instance.update()})}catch{}},0))}geometry(F="scroll"){return new kr(this.elementRef.nativeElement[F+"Left"],this.elementRef.nativeElement[F+"Top"],this.elementRef.nativeElement[F+"Width"],this.elementRef.nativeElement[F+"Height"])}position(F=!1){return!F&&this.instance?new or(this.instance.reach.x||0,this.instance.reach.y||0):new or(this.elementRef.nativeElement.scrollLeft,this.elementRef.nativeElement.scrollTop)}scrollable(F="any"){const j=this.elementRef.nativeElement;return"any"===F?j.classList.contains("ps--active-x")||j.classList.contains("ps--active-y"):"both"===F?j.classList.contains("ps--active-x")&&j.classList.contains("ps--active-y"):j.classList.contains("ps--active-"+F)}scrollTo(F,j,U){this.disabled||(null==j&&null==U?this.animateScrolling("scrollTop",F,U):(null!=F&&this.animateScrolling("scrollLeft",F,U),null!=j&&this.animateScrolling("scrollTop",j,U)))}scrollToX(F,j){this.animateScrolling("scrollLeft",F,j)}scrollToY(F,j){this.animateScrolling("scrollTop",F,j)}scrollToTop(F,j){this.animateScrolling("scrollTop",F||0,j)}scrollToLeft(F,j){this.animateScrolling("scrollLeft",F||0,j)}scrollToRight(F,j){this.animateScrolling("scrollLeft",this.elementRef.nativeElement.scrollWidth-this.elementRef.nativeElement.clientWidth-(F||0),j)}scrollToBottom(F,j){this.animateScrolling("scrollTop",this.elementRef.nativeElement.scrollHeight-this.elementRef.nativeElement.clientHeight-(F||0),j)}scrollToElement(F,j,U){if("string"==typeof F&&(F=this.elementRef.nativeElement.querySelector(F)),F){const ee=F.getBoundingClientRect(),Z=this.elementRef.nativeElement.getBoundingClientRect();this.elementRef.nativeElement.classList.contains("ps--active-x")&&this.animateScrolling("scrollLeft",ee.left-Z.left+this.elementRef.nativeElement.scrollLeft+(j||0),U),this.elementRef.nativeElement.classList.contains("ps--active-y")&&this.animateScrolling("scrollTop",ee.top-Z.top+this.elementRef.nativeElement.scrollTop+(j||0),U)}}animateScrolling(F,j,U){if(this.animation&&(window.cancelAnimationFrame(this.animation),this.animation=null),!U||typeof window>"u")this.elementRef.nativeElement[F]=j;else if(j!==this.elementRef.nativeElement[F]){let ee=0,Z=0,ye=performance.now(),ke=this.elementRef.nativeElement[F];const Xe=(ke-j)/2,yt=kt=>{Z+=Math.PI/(U/(kt-ye)),ee=Math.round(j+Xe+Xe*Math.cos(Z)),this.elementRef.nativeElement[F]===ke&&(Z>=Math.PI?this.animateScrolling(F,j,0):(this.elementRef.nativeElement[F]=ee,ke=this.elementRef.nativeElement[F],ye=kt,this.animation=window.requestAnimationFrame(yt)))};window.requestAnimationFrame(yt)}}}return L.\u0275fac=function(F){return new(F||L)(ge.Y36(ge.R0b),ge.Y36(ge.aQg),ge.Y36(ge.SBq),ge.Y36(ge.Lbi),ge.Y36(Hn,8))},L.\u0275dir=ge.lG2({type:L,selectors:[["","perfectScrollbar",""]],inputs:{disabled:"disabled",config:["perfectScrollbar","config"]},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],features:[ge.TTD]}),L})(),yi=(()=>{class L{constructor(F,j,U){this.zone=F,this.cdRef=j,this.platformId=U,this.states={},this.indicatorX=!1,this.indicatorY=!1,this.interaction=!1,this.scrollPositionX=0,this.scrollPositionY=0,this.scrollDirectionX=0,this.scrollDirectionY=0,this.usePropagationX=!1,this.usePropagationY=!1,this.allowPropagationX=!1,this.allowPropagationY=!1,this.stateTimeout=null,this.ngDestroy=new d.x,this.stateUpdate=new d.x,this.disabled=!1,this.usePSClass=!0,this.autoPropagation=!1,this.scrollIndicators=!1,this.psScrollY=new ge.vpe,this.psScrollX=new ge.vpe,this.psScrollUp=new ge.vpe,this.psScrollDown=new ge.vpe,this.psScrollLeft=new ge.vpe,this.psScrollRight=new ge.vpe,this.psYReachEnd=new ge.vpe,this.psYReachStart=new ge.vpe,this.psXReachEnd=new ge.vpe,this.psXReachStart=new ge.vpe}ngOnInit(){(0,at.NF)(this.platformId)&&(this.stateUpdate.pipe((0,_e.R)(this.ngDestroy),function De(L,K=Ae.y){return L=L??me,(0,we.e)((F,j)=>{let U,ee=!0;F.subscribe((0,Be.x)(j,Z=>{const ye=K(Z);(ee||!L(U,ye))&&(ee=!1,U=ye,j.next(Z))}))})}((F,j)=>F===j&&!this.stateTimeout)).subscribe(F=>{this.stateTimeout&&typeof window<"u"&&(window.clearTimeout(this.stateTimeout),this.stateTimeout=null),"x"===F||"y"===F?(this.interaction=!1,"x"===F?(this.indicatorX=!1,this.states.left=!1,this.states.right=!1,this.autoPropagation&&this.usePropagationX&&(this.allowPropagationX=!1)):"y"===F&&(this.indicatorY=!1,this.states.top=!1,this.states.bottom=!1,this.autoPropagation&&this.usePropagationY&&(this.allowPropagationY=!1))):("left"===F||"right"===F?(this.states.left=!1,this.states.right=!1,this.states[F]=!0,this.autoPropagation&&this.usePropagationX&&(this.indicatorX=!0)):("top"===F||"bottom"===F)&&(this.states.top=!1,this.states.bottom=!1,this.states[F]=!0,this.autoPropagation&&this.usePropagationY&&(this.indicatorY=!0)),this.autoPropagation&&typeof window<"u"&&(this.stateTimeout=window.setTimeout(()=>{this.indicatorX=!1,this.indicatorY=!1,this.stateTimeout=null,this.interaction&&(this.states.left||this.states.right)&&(this.allowPropagationX=!0),this.interaction&&(this.states.top||this.states.bottom)&&(this.allowPropagationY=!0),this.cdRef.markForCheck()},500))),this.cdRef.markForCheck(),this.cdRef.detectChanges()}),this.zone.runOutsideAngular(()=>{if(this.directiveRef){const F=this.directiveRef.elementRef.nativeElement;(0,T.R)(F,"wheel").pipe((0,_e.R)(this.ngDestroy)).subscribe(j=>{!this.disabled&&this.autoPropagation&&this.checkPropagation(j,j.deltaX,j.deltaY)}),(0,T.R)(F,"touchmove").pipe((0,_e.R)(this.ngDestroy)).subscribe(j=>{if(!this.disabled&&this.autoPropagation){const U=j.touches[0].clientX,ee=j.touches[0].clientY;this.checkPropagation(j,U-this.scrollPositionX,ee-this.scrollPositionY),this.scrollPositionX=U,this.scrollPositionY=ee}}),(0,ue.T)((0,T.R)(F,"ps-scroll-x").pipe((0,Se.h)("x")),(0,T.R)(F,"ps-scroll-y").pipe((0,Se.h)("y")),(0,T.R)(F,"ps-x-reach-end").pipe((0,Se.h)("right")),(0,T.R)(F,"ps-y-reach-end").pipe((0,Se.h)("bottom")),(0,T.R)(F,"ps-x-reach-start").pipe((0,Se.h)("left")),(0,T.R)(F,"ps-y-reach-start").pipe((0,Se.h)("top"))).pipe((0,_e.R)(this.ngDestroy)).subscribe(j=>{!this.disabled&&(this.autoPropagation||this.scrollIndicators)&&this.stateUpdate.next(j)})}}),window.setTimeout(()=>{tr.forEach(F=>{this.directiveRef&&(this.directiveRef[F]=this[F])})},0))}ngOnDestroy(){(0,at.NF)(this.platformId)&&(this.ngDestroy.next(),this.ngDestroy.unsubscribe(),this.stateTimeout&&typeof window<"u"&&window.clearTimeout(this.stateTimeout))}ngDoCheck(){if((0,at.NF)(this.platformId)&&!this.disabled&&this.autoPropagation&&this.directiveRef){const F=this.directiveRef.elementRef.nativeElement;this.usePropagationX=F.classList.contains("ps--active-x"),this.usePropagationY=F.classList.contains("ps--active-y")}}checkPropagation(F,j,U){this.interaction=!0;const ee=j<0?-1:1,Z=U<0?-1:1;(this.usePropagationX&&this.usePropagationY||this.usePropagationX&&(!this.allowPropagationX||this.scrollDirectionX!==ee)||this.usePropagationY&&(!this.allowPropagationY||this.scrollDirectionY!==Z))&&(F.preventDefault(),F.stopPropagation()),j&&(this.scrollDirectionX=ee),U&&(this.scrollDirectionY=Z),this.stateUpdate.next("interaction"),this.cdRef.detectChanges()}}return L.\u0275fac=function(F){return new(F||L)(ge.Y36(ge.R0b),ge.Y36(ge.sBO),ge.Y36(ge.Lbi))},L.\u0275cmp=ge.Xpm({type:L,selectors:[["perfect-scrollbar"]],viewQuery:function(F,j){if(1&F&&ge.Gf(ai,7),2&F){let U;ge.iGM(U=ge.CRH())&&(j.directiveRef=U.first)}},hostVars:4,hostBindings:function(F,j){2&F&&ge.ekj("ps-show-limits",j.autoPropagation)("ps-show-active",j.scrollIndicators)},inputs:{disabled:"disabled",usePSClass:"usePSClass",autoPropagation:"autoPropagation",scrollIndicators:"scrollIndicators",config:"config"},outputs:{psScrollY:"psScrollY",psScrollX:"psScrollX",psScrollUp:"psScrollUp",psScrollDown:"psScrollDown",psScrollLeft:"psScrollLeft",psScrollRight:"psScrollRight",psYReachEnd:"psYReachEnd",psYReachStart:"psYReachStart",psXReachEnd:"psXReachEnd",psXReachStart:"psXReachStart"},exportAs:["ngxPerfectScrollbar"],ngContentSelectors:Vn,decls:4,vars:5,consts:[[2,"position","static",3,"perfectScrollbar","disabled"],[1,"ps-content"],["class","ps-overlay",3,"ps-at-top","ps-at-left","ps-at-right","ps-at-bottom",4,"ngIf"],[1,"ps-overlay"],[1,"ps-indicator-top"],[1,"ps-indicator-left"],[1,"ps-indicator-right"],[1,"ps-indicator-bottom"]],template:function(F,j){1&F&&(ge.F$t(),ge.TgZ(0,"div",0)(1,"div",1),ge.Hsn(2),ge.qZA(),ge.YNc(3,sr,5,16,"div",2),ge.qZA()),2&F&&(ge.ekj("ps",j.usePSClass),ge.Q6J("perfectScrollbar",j.config)("disabled",j.disabled),ge.xp6(3),ge.Q6J("ngIf",j.scrollIndicators))},dependencies:[at.O5,ai],styles:["perfect-scrollbar{display:block;height:100%;max-height:100%;max-width:100%;overflow:hidden;position:relative;width:100%}perfect-scrollbar[hidden]{display:none}perfect-scrollbar[fxflex]{display:flex;flex-direction:column;height:auto;min-height:0;min-width:0}perfect-scrollbar[fxflex]>.ps{-webkit-box-flex:1;flex:1 1 auto;height:auto;min-height:0;min-width:0;width:auto}perfect-scrollbar[fxlayout]>.ps,perfect-scrollbar[fxlayout]>.ps>.ps-content{-webkit-box-align:inherit;-webkit-box-flex:1;-webkit-box-pack:inherit;align-content:inherit;align-items:inherit;display:flex;flex:1 1 auto;flex-direction:inherit;height:100%;justify-content:inherit;width:100%},perfect-scrollbar[fxlayout=row]>.ps,perfect-scrollbar[fxlayout=row]>.ps>.ps-content{flex-direction:row!important}perfect-scrollbar[fxlayout=column]>.ps,perfect-scrollbar[fxlayout=column]>.ps>.ps-content{flex-direction:column!important}perfect-scrollbar>.ps{display:block;height:100%;max-height:100%;max-width:100%;position:static;width:100%}perfect-scrollbar>.ps textarea{-ms-overflow-style:scrollbar}perfect-scrollbar>.ps>.ps-overlay{bottom:0;display:block;left:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{opacity:0;position:absolute;transition:opacity .3s ease-in-out}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{left:0;min-height:24px;min-width:100%}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left,perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{min-height:100%;min-width:24px;top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-top{top:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-left{left:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-right{right:0}perfect-scrollbar>.ps>.ps-overlay .ps-indicator-bottom{bottom:0}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y{cursor:default;left:auto!important;right:0!important;top:0!important;transition:width .2s linear,opacity .2s linear,background-color .2s linear;width:10px}perfect-scrollbar>.ps.ps--active-y>.ps__rail-y.ps--clicking,perfect-scrollbar>.ps.ps--active-y>.ps__rail-y:hover{width:15px}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x{bottom:0!important;cursor:default;height:10px;left:0!important;top:auto!important;transition:height .2s linear,opacity .2s linear,background-color .2s linear}perfect-scrollbar>.ps.ps--active-x>.ps__rail-x.ps--clicking,perfect-scrollbar>.ps.ps--active-x>.ps__rail-x:hover{height:15px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-y{margin:0 0 10px}perfect-scrollbar>.ps.ps--active-x.ps--active-y>.ps__rail-x{margin:0 10px 0 0}perfect-scrollbar>.ps.ps--scrolling-x>.ps__rail-x,perfect-scrollbar>.ps.ps--scrolling-y>.ps__rail-y{background-color:#eee;opacity:.9}perfect-scrollbar.ps-show-always>.ps.ps--active-x>.ps__rail-x,perfect-scrollbar.ps-show-always>.ps.ps--active-y>.ps__rail-y{opacity:.6}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-top) .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-y>.ps-overlay:not(.ps-at-bottom) .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-left) .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active>.ps.ps--active-x>.ps-overlay:not(.ps-at-right) .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,0));opacity:1}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top{background:linear-gradient(180deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom{background:linear-gradient(0deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left{background:linear-gradient(90deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right{background:linear-gradient(270deg,hsla(0,0%,66.7%,.5) 0,hsla(0,0%,66.7%,0))}perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-left .ps-indicator-left.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-x>.ps-overlay.ps-at-right .ps-indicator-right.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-bottom .ps-indicator-bottom.ps-indicator-show,perfect-scrollbar.ps-show-active.ps-show-limits>.ps.ps--active-y>.ps-overlay.ps-at-top .ps-indicator-top.ps-indicator-show{opacity:1}",".ps{-ms-overflow-style:none;-ms-touch-action:auto;overflow:hidden!important;overflow-anchor:none;touch-action:auto}.ps__rail-x{bottom:0;height:15px}.ps__rail-x,.ps__rail-y{-webkit-transition:background-color .2s linear,opacity .2s linear;display:none;opacity:0;position:absolute;transition:background-color .2s linear,opacity .2s linear}.ps__rail-y{right:0;width:15px}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{background-color:transparent;display:block}.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y,.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y{opacity:.6}.ps .ps__rail-x.ps--clicking,.ps .ps__rail-x:focus,.ps .ps__rail-x:hover,.ps .ps__rail-y.ps--clicking,.ps .ps__rail-y:focus,.ps .ps__rail-y:hover{background-color:#eee;opacity:.9}.ps__thumb-x{-webkit-transition:background-color .2s linear,height .2s ease-in-out;bottom:2px;height:6px;transition:background-color .2s linear,height .2s ease-in-out}.ps__thumb-x,.ps__thumb-y{background-color:#aaa;border-radius:6px;position:absolute}.ps__thumb-y{-webkit-transition:background-color .2s linear,width .2s ease-in-out;right:2px;transition:background-color .2s linear,width .2s ease-in-out;width:6px}.ps__rail-x.ps--clicking .ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x:hover>.ps__thumb-x{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y:hover>.ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps{overflow:auto!important}}"],encapsulation:2}),L})(),Pr=(()=>{class L{}return L.\u0275fac=function(F){return new(F||L)},L.\u0275mod=ge.oAB({type:L}),L.\u0275inj=ge.cJS({imports:[at.ez,at.ez]}),L})()},1135:(_t,Le,z)=>{z.d(Le,{X:()=>T});var d=z(7579);class T extends d.x{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const _e=super._subscribe(ve);return!_e.closed&&ve.next(this._value),_e}getValue(){const{hasError:ve,thrownError:_e,_value:Ae}=this;if(ve)throw _e;return this._throwIfClosed(),Ae}next(ve){super.next(this._value=ve)}}},9751:(_t,Le,z)=>{z.d(Le,{y:()=>Be});var d=z(930),T=z(727),ue=z(8822),ve=z(9635),_e=z(2416),Ae=z(576),we=z(2806);let Be=(()=>{class ge{constructor(fe){fe&&(this._subscribe=fe)}lift(fe){const Te=new ge;return Te.source=this,Te.operator=fe,Te}subscribe(fe,Te,Ue){const ct=function Se(ge){return ge&&ge instanceof d.Lv||function me(ge){return ge&&(0,Ae.m)(ge.next)&&(0,Ae.m)(ge.error)&&(0,Ae.m)(ge.complete)}(ge)&&(0,T.Nn)(ge)}(fe)?fe:new d.Hp(fe,Te,Ue);return(0,we.x)(()=>{const{operator:it,source:st}=this;ct.add(it?it.call(ct,st):st?this._subscribe(ct):this._trySubscribe(ct))}),ct}_trySubscribe(fe){try{return this._subscribe(fe)}catch(Te){fe.error(Te)}}forEach(fe,Te){return new(Te=De(Te))((Ue,ct)=>{const it=new d.Hp({next:st=>{try{fe(st)}catch(qe){ct(qe),it.unsubscribe()}},error:ct,complete:Ue});this.subscribe(it)})}_subscribe(fe){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(fe)}[ue.L](){return this}pipe(...fe){return(0,ve.U)(fe)(this)}toPromise(fe){return new(fe=De(fe))((Te,Ue)=>{let ct;this.subscribe(it=>ct=it,it=>Ue(it),()=>Te(ct))})}}return ge.create=at=>new ge(at),ge})();function De(ge){var at;return null!==(at=ge??_e.v.Promise)&&void 0!==at?at:Promise}},7579:(_t,Le,z)=>{z.d(Le,{x:()=>we});var d=z(9751),T=z(727);const ve=(0,z(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=z(8737),Ae=z(2806);let we=(()=>{class De extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Se){const ge=new Be(this,this);return ge.operator=Se,ge}_throwIfClosed(){if(this.closed)throw new ve}next(Se){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ge of this.currentObservers)ge.next(Se)}})}error(Se){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Se;const{observers:ge}=this;for(;ge.length;)ge.shift().error(Se)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Se}=this;for(;Se.length;)Se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Se;return(null===(Se=this.observers)||void 0===Se?void 0:Se.length)>0}_trySubscribe(Se){return this._throwIfClosed(),super._trySubscribe(Se)}_subscribe(Se){return this._throwIfClosed(),this._checkFinalizedStatuses(Se),this._innerSubscribe(Se)}_innerSubscribe(Se){const{hasError:ge,isStopped:at,observers:fe}=this;return ge||at?T.Lc:(this.currentObservers=null,fe.push(Se),new T.w0(()=>{this.currentObservers=null,(0,_e.P)(fe,Se)}))}_checkFinalizedStatuses(Se){const{hasError:ge,thrownError:at,isStopped:fe}=this;ge?Se.error(at):fe&&Se.complete()}asObservable(){const Se=new d.y;return Se.source=this,Se}}return De.create=(me,Se)=>new Be(me,Se),De})();class Be extends we{constructor(me,Se){super(),this.destination=me,this.source=Se}next(me){var Se,ge;null===(ge=null===(Se=this.destination)||void 0===Se?void 0:Se.next)||void 0===ge||ge.call(Se,me)}error(me){var Se,ge;null===(ge=null===(Se=this.destination)||void 0===Se?void 0:Se.error)||void 0===ge||ge.call(Se,me)}complete(){var me,Se;null===(Se=null===(me=this.destination)||void 0===me?void 0:me.complete)||void 0===Se||Se.call(me)}_subscribe(me){var Se,ge;return null!==(ge=null===(Se=this.source)||void 0===Se?void 0:Se.subscribe(me))&&void 0!==ge?ge:T.Lc}}},930:(_t,Le,z)=>{z.d(Le,{Hp:()=>Ue,Lv:()=>ge});var d=z(576),T=z(727),ue=z(2416),ve=z(7849),_e=z(5032);const Ae=De("C",void 0,void 0);function De(de,le,tt){return{kind:de,value:le,error:tt}}var me=z(3410),Se=z(2806);class ge extends T.w0{constructor(le){super(),this.isStopped=!1,le?(this.destination=le,(0,T.Nn)(le)&&le.add(this)):this.destination=qe}static create(le,tt,It){return new Ue(le,tt,It)}next(le){this.isStopped?st(function Be(de){return De("N",de,void 0)}(le),this):this._next(le)}error(le){this.isStopped?st(function we(de){return De("E",void 0,de)}(le),this):(this.isStopped=!0,this._error(le))}complete(){this.isStopped?st(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(le){this.destination.next(le)}_error(le){try{this.destination.error(le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function fe(de,le){return at.call(de,le)}class Te{constructor(le){this.partialObserver=le}next(le){const{partialObserver:tt}=this;if(tt.next)try{tt.next(le)}catch(It){ct(It)}}error(le){const{partialObserver:tt}=this;if(tt.error)try{tt.error(le)}catch(It){ct(It)}else ct(le)}complete(){const{partialObserver:le}=this;if(le.complete)try{le.complete()}catch(tt){ct(tt)}}}class Ue extends ge{constructor(le,tt,It){let ot;if(super(),(0,d.m)(le)||!le)ot={next:le??void 0,error:tt??void 0,complete:It??void 0};else{let We;this&&ue.v.useDeprecatedNextContext?(We=Object.create(le),We.unsubscribe=()=>this.unsubscribe(),ot={next:le.next&&fe(le.next,We),error:le.error&&fe(le.error,We),complete:le.complete&&fe(le.complete,We)}):ot=le}this.destination=new Te(ot)}}function ct(de){ue.v.useDeprecatedSynchronousErrorHandling?(0,Se.O)(de):(0,ve.h)(de)}function st(de,le){const{onStoppedNotification:tt}=ue.v;tt&&me.z.setTimeout(()=>tt(de,le))}const qe={closed:!0,next:_e.Z,error:function it(de){throw de},complete:_e.Z}},727:(_t,Le,z)=>{z.d(Le,{Lc:()=>Ae,w0:()=>_e,Nn:()=>we});var d=z(576);const ue=(0,z(3888).d)(De=>function(Se){De(this),this.message=Se?`${Se.length} errors occurred during unsubscription:\n${Se.map((ge,at)=>`${at+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Se});var ve=z(8737);class _e{constructor(me){this.initialTeardown=me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let me;if(!this.closed){this.closed=!0;const{_parentage:Se}=this;if(Se)if(this._parentage=null,Array.isArray(Se))for(const fe of Se)fe.remove(this);else Se.remove(this);const{initialTeardown:ge}=this;if((0,d.m)(ge))try{ge()}catch(fe){me=fe instanceof ue?fe.errors:[fe]}const{_finalizers:at}=this;if(at){this._finalizers=null;for(const fe of at)try{Be(fe)}catch(Te){me=me??[],Te instanceof ue?me=[...me,...Te.errors]:me.push(Te)}}if(me)throw new ue(me)}}add(me){var Se;if(me&&me!==this)if(this.closed)Be(me);else{if(me instanceof _e){if(me.closed||me._hasParent(this))return;me._addParent(this)}(this._finalizers=null!==(Se=this._finalizers)&&void 0!==Se?Se:[]).push(me)}}_hasParent(me){const{_parentage:Se}=this;return Se===me||Array.isArray(Se)&&Se.includes(me)}_addParent(me){const{_parentage:Se}=this;this._parentage=Array.isArray(Se)?(Se.push(me),Se):Se?[Se,me]:me}_removeParent(me){const{_parentage:Se}=this;Se===me?this._parentage=null:Array.isArray(Se)&&(0,ve.P)(Se,me)}remove(me){const{_finalizers:Se}=this;Se&&(0,ve.P)(Se,me),me instanceof _e&&me._removeParent(this)}}_e.EMPTY=(()=>{const De=new _e;return De.closed=!0,De})();const Ae=_e.EMPTY;function we(De){return De instanceof _e||De&&"closed"in De&&(0,d.m)(De.remove)&&(0,d.m)(De.add)&&(0,d.m)(De.unsubscribe)}function Be(De){(0,d.m)(De)?De():De.unsubscribe()}},2416:(_t,Le,z)=>{z.d(Le,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(_t,Le,z)=>{z.d(Le,{a:()=>me});var d=z(9751),T=z(4742),ue=z(2076),ve=z(4671),_e=z(3268),Ae=z(3269),we=z(1810),Be=z(5403),De=z(9672);function me(...at){const fe=(0,Ae.yG)(at),Te=(0,Ae.jO)(at),{args:Ue,keys:ct}=(0,T.D)(at);if(0===Ue.length)return(0,ue.D)([],fe);const it=new d.y(function Se(at,fe,Te=ve.y){return Ue=>{ge(fe,()=>{const{length:ct}=at,it=new Array(ct);let st=ct,qe=ct;for(let de=0;de<ct;de++)ge(fe,()=>{const le=(0,ue.D)(at[de],fe);let tt=!1;le.subscribe((0,Be.x)(Ue,It=>{it[de]=It,tt||(tt=!0,qe--),qe||Ue.next(Te(it.slice()))},()=>{--st||Ue.complete()}))},Ue)},Ue)}}(Ue,fe,ct?st=>(0,we.n)(ct,st):ve.y));return Te?it.pipe((0,_e.Z)(Te)):it}function ge(at,fe,Te){at?(0,De.f)(Te,at,fe):fe()}},7272:(_t,Le,z)=>{z.d(Le,{z:()=>_e});var d=z(8189),ue=z(3269),ve=z(2076);function _e(...Ae){return function T(){return(0,d.J)(1)}()((0,ve.D)(Ae,(0,ue.yG)(Ae)))}},9770:(_t,Le,z)=>{z.d(Le,{P:()=>ue});var d=z(9751),T=z(8421);function ue(ve){return new d.y(_e=>{(0,T.Xf)(ve()).subscribe(_e)})}},515:(_t,Le,z)=>{z.d(Le,{E:()=>T});const T=new(z(9751).y)(_e=>_e.complete())},2076:(_t,Le,z)=>{z.d(Le,{D:()=>It});var d=z(8421),T=z(9672),ue=z(4482),ve=z(5403);function _e(ot,We=0){return(0,ue.e)((et,xe)=>{et.subscribe((0,ve.x)(xe,Ce=>(0,T.f)(xe,ot,()=>xe.next(Ce),We),()=>(0,T.f)(xe,ot,()=>xe.complete(),We),Ce=>(0,T.f)(xe,ot,()=>xe.error(Ce),We)))})}function Ae(ot,We=0){return(0,ue.e)((et,xe)=>{xe.add(ot.schedule(()=>et.subscribe(xe),We))})}var De=z(9751),Se=z(2202),ge=z(576);function fe(ot,We){if(!ot)throw new Error("Iterable cannot be null");return new De.y(et=>{(0,T.f)(et,We,()=>{const xe=ot[Symbol.asyncIterator]();(0,T.f)(et,We,()=>{xe.next().then(Ce=>{Ce.done?et.complete():et.next(Ce.value)})},0,!0)})})}var Te=z(3670),Ue=z(8239),ct=z(1144),it=z(6495),st=z(2206),qe=z(4532),de=z(3260);function It(ot,We){return We?function tt(ot,We){if(null!=ot){if((0,Te.c)(ot))return function we(ot,We){return(0,d.Xf)(ot).pipe(Ae(We),_e(We))}(ot,We);if((0,ct.z)(ot))return function me(ot,We){return new De.y(et=>{let xe=0;return We.schedule(function(){xe===ot.length?et.complete():(et.next(ot[xe++]),et.closed||this.schedule())})})}(ot,We);if((0,Ue.t)(ot))return function Be(ot,We){return(0,d.Xf)(ot).pipe(Ae(We),_e(We))}(ot,We);if((0,st.D)(ot))return fe(ot,We);if((0,it.T)(ot))return function at(ot,We){return new De.y(et=>{let xe;return(0,T.f)(et,We,()=>{xe=ot[Se.h](),(0,T.f)(et,We,()=>{let Ce,Ve;try{({value:Ce,done:Ve}=xe.next())}catch(be){return void et.error(be)}Ve?et.complete():et.next(Ce)},0,!0)}),()=>(0,ge.m)(xe?.return)&&xe.return()})}(ot,We);if((0,de.L)(ot))return function le(ot,We){return fe((0,de.Q)(ot),We)}(ot,We)}throw(0,qe.z)(ot)}(ot,We):(0,d.Xf)(ot)}},4968:(_t,Le,z)=>{z.d(Le,{R:()=>me});var d=z(8421),T=z(9751),ue=z(5577),ve=z(1144),_e=z(576),Ae=z(3268);const we=["addListener","removeListener"],Be=["addEventListener","removeEventListener"],De=["on","off"];function me(Te,Ue,ct,it){if((0,_e.m)(ct)&&(it=ct,ct=void 0),it)return me(Te,Ue,ct).pipe((0,Ae.Z)(it));const[st,qe]=function fe(Te){return(0,_e.m)(Te.addEventListener)&&(0,_e.m)(Te.removeEventListener)}(Te)?Be.map(de=>le=>Te[de](Ue,le,ct)):function ge(Te){return(0,_e.m)(Te.addListener)&&(0,_e.m)(Te.removeListener)}(Te)?we.map(Se(Te,Ue)):function at(Te){return(0,_e.m)(Te.on)&&(0,_e.m)(Te.off)}(Te)?De.map(Se(Te,Ue)):[];if(!st&&(0,ve.z)(Te))return(0,ue.z)(de=>me(de,Ue,ct))((0,d.Xf)(Te));if(!st)throw new TypeError("Invalid event target");return new T.y(de=>{const le=(...tt)=>de.next(1<tt.length?tt:tt[0]);return st(le),()=>qe(le)})}function Se(Te,Ue){return ct=>it=>Te[ct](Ue,it)}},8421:(_t,Le,z)=>{z.d(Le,{Xf:()=>at});var d=z(655),T=z(1144),ue=z(8239),ve=z(9751),_e=z(3670),Ae=z(2206),we=z(4532),Be=z(6495),De=z(3260),me=z(576),Se=z(7849),ge=z(8822);function at(de){if(de instanceof ve.y)return de;if(null!=de){if((0,_e.c)(de))return function fe(de){return new ve.y(le=>{const tt=de[ge.L]();if((0,me.m)(tt.subscribe))return tt.subscribe(le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(de);if((0,T.z)(de))return function Te(de){return new ve.y(le=>{for(let tt=0;tt<de.length&&!le.closed;tt++)le.next(de[tt]);le.complete()})}(de);if((0,ue.t)(de))return function Ue(de){return new ve.y(le=>{de.then(tt=>{le.closed||(le.next(tt),le.complete())},tt=>le.error(tt)).then(null,Se.h)})}(de);if((0,Ae.D)(de))return it(de);if((0,Be.T)(de))return function ct(de){return new ve.y(le=>{for(const tt of de)if(le.next(tt),le.closed)return;le.complete()})}(de);if((0,De.L)(de))return function st(de){return it((0,De.Q)(de))}(de)}throw(0,we.z)(de)}function it(de){return new ve.y(le=>{(function qe(de,le){var tt,It,ot,We;return(0,d.mG)(this,void 0,void 0,function*(){try{for(tt=(0,d.KL)(de);!(It=yield tt.next()).done;)if(le.next(It.value),le.closed)return}catch(et){ot={error:et}}finally{try{It&&!It.done&&(We=tt.return)&&(yield We.call(tt))}finally{if(ot)throw ot.error}}le.complete()})})(de,le).catch(tt=>le.error(tt))})}},6451:(_t,Le,z)=>{z.d(Le,{T:()=>Ae});var d=z(8189),T=z(8421),ue=z(515),ve=z(3269),_e=z(2076);function Ae(...we){const Be=(0,ve.yG)(we),De=(0,ve._6)(we,1/0),me=we;return me.length?1===me.length?(0,T.Xf)(me[0]):(0,d.J)(De)((0,_e.D)(me,Be)):ue.E}},9646:(_t,Le,z)=>{z.d(Le,{of:()=>ue});var d=z(3269),T=z(2076);function ue(...ve){const _e=(0,d.yG)(ve);return(0,T.D)(ve,_e)}},2843:(_t,Le,z)=>{z.d(Le,{_:()=>ue});var d=z(9751),T=z(576);function ue(ve,_e){const Ae=(0,T.m)(ve)?ve:()=>ve,we=Be=>Be.error(Ae());return new d.y(_e?Be=>_e.schedule(we,0,Be):we)}},5963:(_t,Le,z)=>{z.d(Le,{H:()=>_e});var d=z(9751),T=z(4986),ue=z(3532);function _e(Ae=0,we,Be=T.P){let De=-1;return null!=we&&((0,ue.K)(we)?Be=we:De=we),new d.y(me=>{let Se=function ve(Ae){return Ae instanceof Date&&!isNaN(Ae)}(Ae)?+Ae-Be.now():Ae;Se<0&&(Se=0);let ge=0;return Be.schedule(function(){me.closed||(me.next(ge++),0<=De?this.schedule(void 0,De):me.complete())},Se)})}},5403:(_t,Le,z)=>{z.d(Le,{x:()=>T});var d=z(930);function T(ve,_e,Ae,we,Be){return new ue(ve,_e,Ae,we,Be)}class ue extends d.Lv{constructor(_e,Ae,we,Be,De,me){super(_e),this.onFinalize=De,this.shouldUnsubscribe=me,this._next=Ae?function(Se){try{Ae(Se)}catch(ge){_e.error(ge)}}:super._next,this._error=Be?function(Se){try{Be(Se)}catch(ge){_e.error(ge)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(Se){_e.error(Se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},3601:(_t,Le,z)=>{z.d(Le,{e:()=>we});var d=z(4986),T=z(4482),ue=z(8421),ve=z(5403),Ae=z(5963);function we(Be,De=d.z){return function _e(Be){return(0,T.e)((De,me)=>{let Se=!1,ge=null,at=null,fe=!1;const Te=()=>{if(at?.unsubscribe(),at=null,Se){Se=!1;const ct=ge;ge=null,me.next(ct)}fe&&me.complete()},Ue=()=>{at=null,fe&&me.complete()};De.subscribe((0,ve.x)(me,ct=>{Se=!0,ge=ct,at||(0,ue.Xf)(Be(ct)).subscribe(at=(0,ve.x)(me,Te,Ue))},()=>{fe=!0,(!Se||!at||at.closed)&&me.complete()}))})}(()=>(0,Ae.H)(Be,De))}},4351:(_t,Le,z)=>{z.d(Le,{b:()=>ue});var d=z(5577),T=z(576);function ue(ve,_e){return(0,T.m)(_e)?(0,d.z)(ve,_e,1):(0,d.z)(ve,1)}},9300:(_t,Le,z)=>{z.d(Le,{h:()=>ue});var d=z(4482),T=z(5403);function ue(ve,_e){return(0,d.e)((Ae,we)=>{let Be=0;Ae.subscribe((0,T.x)(we,De=>ve.call(_e,De,Be++)&&we.next(De)))})}},4004:(_t,Le,z)=>{z.d(Le,{U:()=>ue});var d=z(4482),T=z(5403);function ue(ve,_e){return(0,d.e)((Ae,we)=>{let Be=0;Ae.subscribe((0,T.x)(we,De=>{we.next(ve.call(_e,De,Be++))}))})}},9718:(_t,Le,z)=>{z.d(Le,{h:()=>T});var d=z(4004);function T(ue){return(0,d.U)(()=>ue)}},8189:(_t,Le,z)=>{z.d(Le,{J:()=>ue});var d=z(5577),T=z(4671);function ue(ve=1/0){return(0,d.z)(T.y,ve)}},5577:(_t,Le,z)=>{z.d(Le,{z:()=>Be});var d=z(4004),T=z(8421),ue=z(4482),ve=z(9672),_e=z(5403),we=z(576);function Be(De,me,Se=1/0){return(0,we.m)(me)?Be((ge,at)=>(0,d.U)((fe,Te)=>me(ge,fe,at,Te))((0,T.Xf)(De(ge,at))),Se):("number"==typeof me&&(Se=me),(0,ue.e)((ge,at)=>function Ae(De,me,Se,ge,at,fe,Te,Ue){const ct=[];let it=0,st=0,qe=!1;const de=()=>{qe&&!ct.length&&!it&&me.complete()},le=It=>it<ge?tt(It):ct.push(It),tt=It=>{fe&&me.next(It),it++;let ot=!1;(0,T.Xf)(Se(It,st++)).subscribe((0,_e.x)(me,We=>{at?.(We),fe?le(We):me.next(We)},()=>{ot=!0},void 0,()=>{if(ot)try{for(it--;ct.length&&it<ge;){const We=ct.shift();Te?(0,ve.f)(me,Te,()=>tt(We)):tt(We)}de()}catch(We){me.error(We)}}))};return De.subscribe((0,_e.x)(me,le,()=>{qe=!0,de()})),()=>{Ue?.()}}(ge,at,De,Se)))}},8675:(_t,Le,z)=>{z.d(Le,{O:()=>ve});var d=z(7272),T=z(3269),ue=z(4482);function ve(..._e){const Ae=(0,T.yG)(_e);return(0,ue.e)((we,Be)=>{(Ae?(0,d.z)(_e,we,Ae):(0,d.z)(_e,we)).subscribe(Be)})}},3900:(_t,Le,z)=>{z.d(Le,{w:()=>ve});var d=z(8421),T=z(4482),ue=z(5403);function ve(_e,Ae){return(0,T.e)((we,Be)=>{let De=null,me=0,Se=!1;const ge=()=>Se&&!De&&Be.complete();we.subscribe((0,ue.x)(Be,at=>{De?.unsubscribe();let fe=0;const Te=me++;(0,d.Xf)(_e(at,Te)).subscribe(De=(0,ue.x)(Be,Ue=>Be.next(Ae?Ae(at,Ue,Te,fe++):Ue),()=>{De=null,ge()}))},()=>{Se=!0,ge()}))})}},5698:(_t,Le,z)=>{z.d(Le,{q:()=>ve});var d=z(515),T=z(4482),ue=z(5403);function ve(_e){return _e<=0?()=>d.E:(0,T.e)((Ae,we)=>{let Be=0;Ae.subscribe((0,ue.x)(we,De=>{++Be<=_e&&(we.next(De),_e<=Be&&we.complete())}))})}},2722:(_t,Le,z)=>{z.d(Le,{R:()=>_e});var d=z(4482),T=z(5403),ue=z(8421),ve=z(5032);function _e(Ae){return(0,d.e)((we,Be)=>{(0,ue.Xf)(Ae).subscribe((0,T.x)(Be,()=>Be.complete(),ve.Z)),!Be.closed&&we.subscribe(Be)})}},8505:(_t,Le,z)=>{z.d(Le,{b:()=>_e});var d=z(576),T=z(4482),ue=z(5403),ve=z(4671);function _e(Ae,we,Be){const De=(0,d.m)(Ae)||we||Be?{next:Ae,error:we,complete:Be}:Ae;return De?(0,T.e)((me,Se)=>{var ge;null===(ge=De.subscribe)||void 0===ge||ge.call(De);let at=!0;me.subscribe((0,ue.x)(Se,fe=>{var Te;null===(Te=De.next)||void 0===Te||Te.call(De,fe),Se.next(fe)},()=>{var fe;at=!1,null===(fe=De.complete)||void 0===fe||fe.call(De),Se.complete()},fe=>{var Te;at=!1,null===(Te=De.error)||void 0===Te||Te.call(De,fe),Se.error(fe)},()=>{var fe,Te;at&&(null===(fe=De.unsubscribe)||void 0===fe||fe.call(De)),null===(Te=De.finalize)||void 0===Te||Te.call(De)}))}):ve.y}},4408:(_t,Le,z)=>{z.d(Le,{o:()=>_e});var d=z(727);class T extends d.w0{constructor(we,Be){super()}schedule(we,Be=0){return this}}const ue={setInterval(Ae,we,...Be){const{delegate:De}=ue;return De?.setInterval?De.setInterval(Ae,we,...Be):setInterval(Ae,we,...Be)},clearInterval(Ae){const{delegate:we}=ue;return(we?.clearInterval||clearInterval)(Ae)},delegate:void 0};var ve=z(8737);class _e extends T{constructor(we,Be){super(we,Be),this.scheduler=we,this.work=Be,this.pending=!1}schedule(we,Be=0){if(this.closed)return this;this.state=we;const De=this.id,me=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(me,De,Be)),this.pending=!0,this.delay=Be,this.id=this.id||this.requestAsyncId(me,this.id,Be),this}requestAsyncId(we,Be,De=0){return ue.setInterval(we.flush.bind(we,this),De)}recycleAsyncId(we,Be,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return Be;ue.clearInterval(Be)}execute(we,Be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(we,Be);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,Be){let me,De=!1;try{this.work(we)}catch(Se){De=!0,me=Se||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),me}unsubscribe(){if(!this.closed){const{id:we,scheduler:Be}=this,{actions:De}=Be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.P)(De,this),null!=we&&(this.id=this.recycleAsyncId(Be,we,null)),this.delay=null,super.unsubscribe()}}}},640:(_t,Le,z)=>{z.d(Le,{v:()=>ue});const d={now:()=>(d.delegate||Date).now(),delegate:void 0};class T{constructor(_e,Ae=T.now){this.schedulerActionCtor=_e,this.now=Ae}schedule(_e,Ae=0,we){return new this.schedulerActionCtor(this,_e).schedule(we,Ae)}}T.now=d.now;class ue extends T{constructor(_e,Ae=T.now){super(_e,Ae),this.actions=[],this._active=!1,this._scheduled=void 0}flush(_e){const{actions:Ae}=this;if(this._active)return void Ae.push(_e);let we;this._active=!0;do{if(we=_e.execute(_e.state,_e.delay))break}while(_e=Ae.shift());if(this._active=!1,we){for(;_e=Ae.shift();)_e.unsubscribe();throw we}}}},4986:(_t,Le,z)=>{z.d(Le,{P:()=>ve,z:()=>ue});var d=z(4408);const ue=new(z(640).v)(d.o),ve=ue},3410:(_t,Le,z)=>{z.d(Le,{z:()=>d});const d={setTimeout(T,ue,...ve){const{delegate:_e}=d;return _e?.setTimeout?_e.setTimeout(T,ue,...ve):setTimeout(T,ue,...ve)},clearTimeout(T){const{delegate:ue}=d;return(ue?.clearTimeout||clearTimeout)(T)},delegate:void 0}},2202:(_t,Le,z)=>{z.d(Le,{h:()=>T});const T=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_t,Le,z)=>{z.d(Le,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(_t,Le,z)=>{z.d(Le,{_6:()=>Ae,jO:()=>ve,yG:()=>_e});var d=z(576),T=z(3532);function ue(we){return we[we.length-1]}function ve(we){return(0,d.m)(ue(we))?we.pop():void 0}function _e(we){return(0,T.K)(ue(we))?we.pop():void 0}function Ae(we,Be){return"number"==typeof ue(we)?we.pop():Be}},4742:(_t,Le,z)=>{z.d(Le,{D:()=>_e});const{isArray:d}=Array,{getPrototypeOf:T,prototype:ue,keys:ve}=Object;function _e(we){if(1===we.length){const Be=we[0];if(d(Be))return{args:Be,keys:null};if(function Ae(we){return we&&"object"==typeof we&&T(we)===ue}(Be)){const De=ve(Be);return{args:De.map(me=>Be[me]),keys:De}}}return{args:we,keys:null}}},8737:(_t,Le,z)=>{function d(T,ue){if(T){const ve=T.indexOf(ue);0<=ve&&T.splice(ve,1)}}z.d(Le,{P:()=>d})},3888:(_t,Le,z)=>{function d(T){const ve=T(_e=>{Error.call(_e),_e.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}z.d(Le,{d:()=>d})},1810:(_t,Le,z)=>{function d(T,ue){return T.reduce((ve,_e,Ae)=>(ve[_e]=ue[Ae],ve),{})}z.d(Le,{n:()=>d})},2806:(_t,Le,z)=>{z.d(Le,{O:()=>ve,x:()=>ue});var d=z(2416);let T=null;function ue(_e){if(d.v.useDeprecatedSynchronousErrorHandling){const Ae=!T;if(Ae&&(T={errorThrown:!1,error:null}),_e(),Ae){const{errorThrown:we,error:Be}=T;if(T=null,we)throw Be}}else _e()}function ve(_e){d.v.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=_e)}},9672:(_t,Le,z)=>{function d(T,ue,ve,_e=0,Ae=!1){const we=ue.schedule(function(){ve(),Ae?T.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(T.add(we),!Ae)return we}z.d(Le,{f:()=>d})},4671:(_t,Le,z)=>{function d(T){return T}z.d(Le,{y:()=>d})},1144:(_t,Le,z)=>{z.d(Le,{z:()=>d});const d=T=>T&&"number"==typeof T.length&&"function"!=typeof T},2206:(_t,Le,z)=>{z.d(Le,{D:()=>T});var d=z(576);function T(ue){return Symbol.asyncIterator&&(0,d.m)(ue?.[Symbol.asyncIterator])}},576:(_t,Le,z)=>{function d(T){return"function"==typeof T}z.d(Le,{m:()=>d})},3670:(_t,Le,z)=>{z.d(Le,{c:()=>ue});var d=z(8822),T=z(576);function ue(ve){return(0,T.m)(ve[d.L])}},6495:(_t,Le,z)=>{z.d(Le,{T:()=>ue});var d=z(2202),T=z(576);function ue(ve){return(0,T.m)(ve?.[d.h])}},8239:(_t,Le,z)=>{z.d(Le,{t:()=>T});var d=z(576);function T(ue){return(0,d.m)(ue?.then)}},3260:(_t,Le,z)=>{z.d(Le,{L:()=>ve,Q:()=>ue});var d=z(655),T=z(576);function ue(_e){return(0,d.FC)(this,arguments,function*(){const we=_e.getReader();try{for(;;){const{value:Be,done:De}=yield(0,d.qq)(we.read());if(De)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Be)}}finally{we.releaseLock()}})}function ve(_e){return(0,T.m)(_e?.getReader)}},3532:(_t,Le,z)=>{z.d(Le,{K:()=>T});var d=z(576);function T(ue){return ue&&(0,d.m)(ue.schedule)}},4482:(_t,Le,z)=>{z.d(Le,{A:()=>T,e:()=>ue});var d=z(576);function T(ve){return(0,d.m)(ve?.lift)}function ue(ve){return _e=>{if(T(_e))return _e.lift(function(Ae){try{return ve(Ae,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(_t,Le,z)=>{z.d(Le,{Z:()=>ve});var d=z(4004);const{isArray:T}=Array;function ve(_e){return(0,d.U)(Ae=>function ue(_e,Ae){return T(Ae)?_e(...Ae):_e(Ae)}(_e,Ae))}},5032:(_t,Le,z)=>{function d(){}z.d(Le,{Z:()=>d})},9635:(_t,Le,z)=>{z.d(Le,{U:()=>ue,z:()=>T});var d=z(4671);function T(...ve){return ue(ve)}function ue(ve){return 0===ve.length?d.y:1===ve.length?ve[0]:function(Ae){return ve.reduce((we,Be)=>Be(we),Ae)}}},7849:(_t,Le,z)=>{z.d(Le,{h:()=>ue});var d=z(2416),T=z(3410);function ue(ve){T.z.setTimeout(()=>{const{onUnhandledError:_e}=d.v;if(!_e)throw ve;_e(ve)})}},4532:(_t,Le,z)=>{function d(T){return new TypeError(`You provided ${null!==T&&"object"==typeof T?"an invalid object":`'${T}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(Le,{z:()=>d})},655:(_t,Le,z)=>{function Be(xe,Ce,Ve,be){return new(Ve||(Ve=Promise))(function(Qe,Vt){function jt(Pn){try{Rt(be.next(Pn))}catch(Ze){Vt(Ze)}}function En(Pn){try{Rt(be.throw(Pn))}catch(Ze){Vt(Ze)}}function Rt(Pn){Pn.done?Qe(Pn.value):function Je(Qe){return Qe instanceof Ve?Qe:new Ve(function(Vt){Vt(Qe)})}(Pn.value).then(jt,En)}Rt((be=be.apply(xe,Ce||[])).next())})}function ct(xe){return this instanceof ct?(this.v=xe,this):new ct(xe)}function it(xe,Ce,Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,be=Ve.apply(xe,Ce||[]),Qe=[];return Je={},Vt("next"),Vt("throw"),Vt("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function Vt(Ye){be[Ye]&&(Je[Ye]=function(pe){return new Promise(function(Pe,dt){Qe.push([Ye,pe,Pe,dt])>1||jt(Ye,pe)})})}function jt(Ye,pe){try{!function En(Ye){Ye.value instanceof ct?Promise.resolve(Ye.value.v).then(Rt,Pn):Ze(Qe[0][2],Ye)}(be[Ye](pe))}catch(Pe){Ze(Qe[0][3],Pe)}}function Rt(Ye){jt("next",Ye)}function Pn(Ye){jt("throw",Ye)}function Ze(Ye,pe){Ye(pe),Qe.shift(),Qe.length&&jt(Qe[0][0],Qe[0][1])}}function qe(xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Ce=xe[Symbol.asyncIterator];return Ce?Ce.call(xe):(xe=function ge(xe){var Ce="function"==typeof Symbol&&Symbol.iterator,Ve=Ce&&xe[Ce],be=0;if(Ve)return Ve.call(xe);if(xe&&"number"==typeof xe.length)return{next:function(){return xe&&be>=xe.length&&(xe=void 0),{value:xe&&xe[be++],done:!xe}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(xe),Ve={},be("next"),be("throw"),be("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve);function be(Qe){Ve[Qe]=xe[Qe]&&function(Vt){return new Promise(function(jt,En){!function Je(Qe,Vt,jt,En){Promise.resolve(En).then(function(Rt){Qe({value:Rt,done:jt})},Vt)}(jt,En,(Vt=xe[Qe](Vt)).done,Vt.value)})}}}z.d(Le,{FC:()=>it,KL:()=>qe,mG:()=>Be,qq:()=>ct})},7340:(_t,Le,z)=>{z.d(Le,{LC:()=>T,SB:()=>De,X$:()=>ve,ZE:()=>st,ZN:()=>it,_j:()=>d,eR:()=>Se,jt:()=>_e,k1:()=>qe,l3:()=>ue,oB:()=>Be,vP:()=>we});class d{}class T{}const ue="*";function ve(de,le){return{type:7,name:de,definitions:le,options:{}}}function _e(de,le=null){return{type:4,styles:le,timings:de}}function we(de,le=null){return{type:2,steps:de,options:le}}function Be(de){return{type:6,styles:de,offset:null}}function De(de,le,tt){return{type:0,name:de,styles:le,options:tt}}function Se(de,le,tt=null){return{type:1,expr:de,animation:le,options:tt}}function ct(de){Promise.resolve().then(de)}class it{constructor(le=0,tt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=le+tt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(le=>le()),this._onDoneFns=[])}onStart(le){this._originalOnStartFns.push(le),this._onStartFns.push(le)}onDone(le){this._originalOnDoneFns.push(le),this._onDoneFns.push(le)}onDestroy(le){this._onDestroyFns.push(le)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ct(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(le=>le()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(le=>le()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(le){this._position=this.totalTime?le*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(le){const tt="start"==le?this._onStartFns:this._onDoneFns;tt.forEach(It=>It()),tt.length=0}}class st{constructor(le){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=le;let tt=0,It=0,ot=0;const We=this.players.length;0==We?ct(()=>this._onFinish()):this.players.forEach(et=>{et.onDone(()=>{++tt==We&&this._onFinish()}),et.onDestroy(()=>{++It==We&&this._onDestroy()}),et.onStart(()=>{++ot==We&&this._onStart()})}),this.totalTime=this.players.reduce((et,xe)=>Math.max(et,xe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(le=>le()),this._onDoneFns=[])}init(){this.players.forEach(le=>le.init())}onStart(le){this._onStartFns.push(le)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(le=>le()),this._onStartFns=[])}onDone(le){this._onDoneFns.push(le)}onDestroy(le){this._onDestroyFns.push(le)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(le=>le.play())}pause(){this.players.forEach(le=>le.pause())}restart(){this.players.forEach(le=>le.restart())}finish(){this._onFinish(),this.players.forEach(le=>le.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(le=>le.destroy()),this._onDestroyFns.forEach(le=>le()),this._onDestroyFns=[])}reset(){this.players.forEach(le=>le.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(le){const tt=le*this.totalTime;this.players.forEach(It=>{const ot=It.totalTime?Math.min(1,tt/It.totalTime):1;It.setPosition(ot)})}getPosition(){const le=this.players.reduce((tt,It)=>null===tt||It.totalTime>tt.totalTime?It:tt,null);return null!=le?le.getPosition():0}beforeDestroy(){this.players.forEach(le=>{le.beforeDestroy&&le.beforeDestroy()})}triggerCallback(le){const tt="start"==le?this._onStartFns:this._onDoneFns;tt.forEach(It=>It()),tt.length=0}}const qe="!"},6895:(_t,Le,z)=>{z.d(Le,{Do:()=>qe,EM:()=>ui,HT:()=>_e,JF:()=>Gs,K0:()=>we,Mx:()=>Kn,NF:()=>is,Nd:()=>un,O5:()=>Ci,OU:()=>$i,PC:()=>vi,RF:()=>xn,S$:()=>ct,V_:()=>me,Ye:()=>de,b0:()=>st,bD:()=>rs,ez:()=>Pi,mk:()=>li,n9:()=>Fr,q:()=>ue,rS:()=>_s,sg:()=>vs,tP:()=>yr,w_:()=>Ae});var d=z(1571);let T=null;function ue(){return T}function _e(D){T||(T=D)}class Ae{}const we=new d.OlP("DocumentToken");let Be=(()=>{class D{historyGo(A){throw new Error("Not implemented")}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275prov=d.Yz7({token:D,factory:function(){return function De(){return(0,d.LFG)(Se)}()},providedIn:"platform"}),D})();const me=new d.OlP("Location Initialized");let Se=(()=>{class D extends Be{constructor(A){super(),this._doc=A,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ue().getBaseHref(this._doc)}onPopState(A){const W=ue().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",A,!1),()=>W.removeEventListener("popstate",A)}onHashChange(A){const W=ue().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",A,!1),()=>W.removeEventListener("hashchange",A)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(A){this.location.pathname=A}pushState(A,W,ie){ge()?this._history.pushState(A,W,ie):this.location.hash=ie}replaceState(A,W,ie){ge()?this._history.replaceState(A,W,ie):this.location.hash=ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(A=0){this._history.go(A)}getState(){return this._history.state}}return D.\u0275fac=function(A){return new(A||D)(d.LFG(we))},D.\u0275prov=d.Yz7({token:D,factory:function(){return function at(){return new Se((0,d.LFG)(we))}()},providedIn:"platform"}),D})();function ge(){return!!window.history.pushState}function fe(D,B){if(0==D.length)return B;if(0==B.length)return D;let A=0;return D.endsWith("/")&&A++,B.startsWith("/")&&A++,2==A?D+B.substring(1):1==A?D+B:D+"/"+B}function Te(D){const B=D.match(/#|\?|$/),A=B&&B.index||D.length;return D.slice(0,A-("/"===D[A-1]?1:0))+D.slice(A)}function Ue(D){return D&&"?"!==D[0]?"?"+D:D}let ct=(()=>{class D{historyGo(A){throw new Error("Not implemented")}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275prov=d.Yz7({token:D,factory:function(){return(0,d.f3M)(st)},providedIn:"root"}),D})();const it=new d.OlP("appBaseHref");let st=(()=>{class D extends ct{constructor(A,W){super(),this._platformLocation=A,this._removeListenerFns=[],this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}prepareExternalUrl(A){return fe(this._baseHref,A)}path(A=!1){const W=this._platformLocation.pathname+Ue(this._platformLocation.search),ie=this._platformLocation.hash;return ie&&A?`${W}${ie}`:W}pushState(A,W,ie,Fe){const Ge=this.prepareExternalUrl(ie+Ue(Fe));this._platformLocation.pushState(A,W,Ge)}replaceState(A,W,ie,Fe){const Ge=this.prepareExternalUrl(ie+Ue(Fe));this._platformLocation.replaceState(A,W,Ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}}return D.\u0275fac=function(A){return new(A||D)(d.LFG(Be),d.LFG(it,8))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),qe=(()=>{class D extends ct{constructor(A,W){super(),this._platformLocation=A,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}path(A=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(A){const W=fe(this._baseHref,A);return W.length>0?"#"+W:W}pushState(A,W,ie,Fe){let Ge=this.prepareExternalUrl(ie+Ue(Fe));0==Ge.length&&(Ge=this._platformLocation.pathname),this._platformLocation.pushState(A,W,Ge)}replaceState(A,W,ie,Fe){let Ge=this.prepareExternalUrl(ie+Ue(Fe));0==Ge.length&&(Ge=this._platformLocation.pathname),this._platformLocation.replaceState(A,W,Ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}}return D.\u0275fac=function(A){return new(A||D)(d.LFG(Be),d.LFG(it,8))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac}),D})(),de=(()=>{class D{constructor(A){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=A;const W=this._locationStrategy.getBaseHref();this._baseHref=Te(It(W)),this._locationStrategy.onPopState(ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:ie.state,type:ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(A=!1){return this.normalize(this._locationStrategy.path(A))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(A,W=""){return this.path()==this.normalize(A+Ue(W))}normalize(A){return D.stripTrailingSlash(function tt(D,B){return D&&B.startsWith(D)?B.substring(D.length):B}(this._baseHref,It(A)))}prepareExternalUrl(A){return A&&"/"!==A[0]&&(A="/"+A),this._locationStrategy.prepareExternalUrl(A)}go(A,W="",ie=null){this._locationStrategy.pushState(ie,"",A,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+Ue(W)),ie)}replaceState(A,W="",ie=null){this._locationStrategy.replaceState(ie,"",A,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+Ue(W)),ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(A=0){this._locationStrategy.historyGo?.(A)}onUrlChange(A){return this._urlChangeListeners.push(A),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(A);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(A="",W){this._urlChangeListeners.forEach(ie=>ie(A,W))}subscribe(A,W,ie){return this._subject.subscribe({next:A,error:W,complete:ie})}}return D.normalizeQueryParams=Ue,D.joinWithSlash=fe,D.stripTrailingSlash=Te,D.\u0275fac=function(A){return new(A||D)(d.LFG(ct))},D.\u0275prov=d.Yz7({token:D,factory:function(){return function le(){return new de((0,d.LFG)(ct))}()},providedIn:"root"}),D})();function It(D){return D.replace(/\/index.html$/,"")}function Kn(D,B){B=encodeURIComponent(B);for(const A of D.split(";")){const W=A.indexOf("="),[ie,Fe]=-1==W?[A,""]:[A.slice(0,W),A.slice(W+1)];if(ie.trim()===B)return decodeURIComponent(Fe)}return null}let li=(()=>{class D{constructor(A,W,ie,Fe){this._iterableDiffers=A,this._keyValueDiffers=W,this._ngEl=ie,this._renderer=Fe,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(A){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof A?A.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(A){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof A?A.split(/\s+/):A,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const A=this._iterableDiffer.diff(this._rawClass);A&&this._applyIterableChanges(A)}else if(this._keyValueDiffer){const A=this._keyValueDiffer.diff(this._rawClass);A&&this._applyKeyValueChanges(A)}}_applyKeyValueChanges(A){A.forEachAddedItem(W=>this._toggleClass(W.key,W.currentValue)),A.forEachChangedItem(W=>this._toggleClass(W.key,W.currentValue)),A.forEachRemovedItem(W=>{W.previousValue&&this._toggleClass(W.key,!1)})}_applyIterableChanges(A){A.forEachAddedItem(W=>{if("string"!=typeof W.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(W.item)}`);this._toggleClass(W.item,!0)}),A.forEachRemovedItem(W=>this._toggleClass(W.item,!1))}_applyClasses(A){A&&(Array.isArray(A)||A instanceof Set?A.forEach(W=>this._toggleClass(W,!0)):Object.keys(A).forEach(W=>this._toggleClass(W,!!A[W])))}_removeClasses(A){A&&(Array.isArray(A)||A instanceof Set?A.forEach(W=>this._toggleClass(W,!1)):Object.keys(A).forEach(W=>this._toggleClass(W,!1)))}_toggleClass(A,W){(A=A.trim())&&A.split(/\s+/g).forEach(ie=>{W?this._renderer.addClass(this._ngEl.nativeElement,ie):this._renderer.removeClass(this._ngEl.nativeElement,ie)})}}return D.\u0275fac=function(A){return new(A||D)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},D.\u0275dir=d.lG2({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),D})();class vn{constructor(B,A,W,ie){this.$implicit=B,this.ngForOf=A,this.index=W,this.count=ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vs=(()=>{class D{constructor(A,W,ie){this._viewContainer=A,this._template=W,this._differs=ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(A){this._ngForOf=A,this._ngForOfDirty=!0}set ngForTrackBy(A){this._trackByFn=A}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(A){A&&(this._template=A)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const A=this._ngForOf;!this._differ&&A&&(this._differ=this._differs.find(A).create(this.ngForTrackBy))}if(this._differ){const A=this._differ.diff(this._ngForOf);A&&this._applyChanges(A)}}_applyChanges(A){const W=this._viewContainer;A.forEachOperation((ie,Fe,Ge)=>{if(null==ie.previousIndex)W.createEmbeddedView(this._template,new vn(ie.item,this._ngForOf,-1,-1),null===Ge?void 0:Ge);else if(null==Ge)W.remove(null===Fe?void 0:Fe);else if(null!==Fe){const vt=W.get(Fe);W.move(vt,Ge),Os(vt,ie)}});for(let ie=0,Fe=W.length;ie<Fe;ie++){const vt=W.get(ie).context;vt.index=ie,vt.count=Fe,vt.ngForOf=this._ngForOf}A.forEachIdentityChange(ie=>{Os(W.get(ie.currentIndex),ie)})}static ngTemplateContextGuard(A,W){return!0}}return D.\u0275fac=function(A){return new(A||D)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},D.\u0275dir=d.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function Os(D,B){D.context.$implicit=B.item}let Ci=(()=>{class D{constructor(A,W){this._viewContainer=A,this._context=new Rr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(A){this._context.$implicit=this._context.ngIf=A,this._updateView()}set ngIfThen(A){ar("ngIfThen",A),this._thenTemplateRef=A,this._thenViewRef=null,this._updateView()}set ngIfElse(A){ar("ngIfElse",A),this._elseTemplateRef=A,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(A,W){return!0}}return D.\u0275fac=function(A){return new(A||D)(d.Y36(d.s_b),d.Y36(d.Rgc))},D.\u0275dir=d.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class Rr{constructor(){this.$implicit=null,this.ngIf=null}}function ar(D,B){if(B&&!B.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,d.AaK)(B)}'.`)}class Kr{constructor(B,A){this._viewContainerRef=B,this._templateRef=A,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(B){B&&!this._created?this.create():!B&&this._created&&this.destroy()}}let xn=(()=>{class D{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(A){this._ngSwitch=A,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(A){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(A)}_matchCase(A){const W=A==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||W,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),W}_updateDefaultCases(A){if(this._defaultViews&&A!==this._defaultUsed){this._defaultUsed=A;for(let W=0;W<this._defaultViews.length;W++)this._defaultViews[W].enforceState(A)}}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275dir=d.lG2({type:D,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),D})(),Fr=(()=>{class D{constructor(A,W,ie){this.ngSwitch=ie,ie._addCase(),this._view=new Kr(A,W)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return D.\u0275fac=function(A){return new(A||D)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(xn,9))},D.\u0275dir=d.lG2({type:D,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),D})(),vi=(()=>{class D{constructor(A,W,ie){this._ngEl=A,this._differs=W,this._renderer=ie,this._ngStyle=null,this._differ=null}set ngStyle(A){this._ngStyle=A,!this._differ&&A&&(this._differ=this._differs.find(A).create())}ngDoCheck(){if(this._differ){const A=this._differ.diff(this._ngStyle);A&&this._applyChanges(A)}}_setStyle(A,W){const[ie,Fe]=A.split("."),Ge=-1===ie.indexOf("-")?void 0:d.JOm.DashCase;null!=W?this._renderer.setStyle(this._ngEl.nativeElement,ie,Fe?`${W}${Fe}`:W,Ge):this._renderer.removeStyle(this._ngEl.nativeElement,ie,Ge)}_applyChanges(A){A.forEachRemovedItem(W=>this._setStyle(W.key,null)),A.forEachAddedItem(W=>this._setStyle(W.key,W.currentValue)),A.forEachChangedItem(W=>this._setStyle(W.key,W.currentValue))}}return D.\u0275fac=function(A){return new(A||D)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},D.\u0275dir=d.lG2({type:D,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),D})(),yr=(()=>{class D{constructor(A){this._viewContainerRef=A,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(A){if(A.ngTemplateOutlet||A.ngTemplateOutletInjector){const W=this._viewContainerRef;if(this._viewRef&&W.remove(W.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ie,ngTemplateOutletContext:Fe,ngTemplateOutletInjector:Ge}=this;this._viewRef=W.createEmbeddedView(ie,Fe,Ge?{injector:Ge}:void 0)}else this._viewRef=null}else this._viewRef&&A.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return D.\u0275fac=function(A){return new(A||D)(d.Y36(d.s_b))},D.\u0275dir=d.lG2({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),D})();function ei(D,B){return new d.vHH(2100,!1)}const zi=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let _s=(()=>{class D{transform(A){if(null==A)return null;if("string"!=typeof A)throw ei();return A.replace(zi,W=>W[0].toUpperCase()+W.slice(1).toLowerCase())}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275pipe=d.Yjl({name:"titlecase",type:D,pure:!0,standalone:!0}),D})(),un=(()=>{class D{constructor(A){this.differs=A,this.keyValues=[],this.compareFn=ci}transform(A,W=ci){if(!A||!(A instanceof Map)&&"object"!=typeof A)return null;this.differ||(this.differ=this.differs.find(A).create());const ie=this.differ.diff(A),Fe=W!==this.compareFn;return ie&&(this.keyValues=[],ie.forEachItem(Ge=>{this.keyValues.push(function Cs(D,B){return{key:D,value:B}}(Ge.key,Ge.currentValue))})),(ie||Fe)&&(this.keyValues.sort(W),this.compareFn=W),this.keyValues}}return D.\u0275fac=function(A){return new(A||D)(d.Y36(d.aQg,16))},D.\u0275pipe=d.Yjl({name:"keyvalue",type:D,pure:!1,standalone:!0}),D})();function ci(D,B){const A=D.key,W=B.key;if(A===W)return 0;if(void 0===A)return 1;if(void 0===W)return-1;if(null===A)return 1;if(null===W)return-1;if("string"==typeof A&&"string"==typeof W)return A<W?-1:1;if("number"==typeof A&&"number"==typeof W)return A-W;if("boolean"==typeof A&&"boolean"==typeof W)return A<W?-1:1;const ie=String(A),Fe=String(W);return ie==Fe?0:ie<Fe?-1:1}let $i=(()=>{class D{transform(A,W,ie){if(null==A)return null;if(!this.supports(A))throw ei();return A.slice(W,ie)}supports(A){return"string"==typeof A||Array.isArray(A)}}return D.\u0275fac=function(A){return new(A||D)},D.\u0275pipe=d.Yjl({name:"slice",type:D,pure:!1,standalone:!0}),D})(),Pi=(()=>{class D{}return D.\u0275fac=function(A){return new(A||D)},D.\u0275mod=d.oAB({type:D}),D.\u0275inj=d.cJS({}),D})();const rs="browser";function is(D){return D===rs}let ui=(()=>{class D{}return D.\u0275prov=(0,d.Yz7)({token:D,providedIn:"root",factory:()=>new Rs((0,d.LFG)(we),window)}),D})();class Rs{constructor(B,A){this.document=B,this.window=A,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const A=function ln(D,B){const A=D.getElementById(B)||D.getElementsByName(B)[0];if(A)return A;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const W=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let ie=W.currentNode;for(;ie;){const Fe=ie.shadowRoot;if(Fe){const Ge=Fe.getElementById(B)||Fe.querySelector(`[name="${B}"]`);if(Ge)return Ge}ie=W.nextNode()}}return null}(this.document,B);A&&(this.scrollToElement(A),A.focus())}setHistoryScrollRestoration(B){if(this.supportScrollRestoration()){const A=this.window.history;A&&A.scrollRestoration&&(A.scrollRestoration=B)}}scrollToElement(B){const A=B.getBoundingClientRect(),W=A.left+this.window.pageXOffset,ie=A.top+this.window.pageYOffset,Fe=this.offset();this.window.scrollTo(W-Fe[0],ie-Fe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const B=di(this.window.history)||di(Object.getPrototypeOf(this.window.history));return!(!B||!B.writable&&!B.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function di(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class Gs{}},529:(_t,Le,z)=>{z.d(Le,{JF:()=>Mt,TP:()=>jt,WM:()=>me,eN:()=>Qe});var d=z(6895),T=z(1571),ue=z(9646),ve=z(9751),_e=z(4351),Ae=z(9300),we=z(4004);class Be{}class De{}class me{constructor(re){this.normalizedNames=new Map,this.lazyUpdate=null,re?this.lazyInit="string"==typeof re?()=>{this.headers=new Map,re.split("\n").forEach(te=>{const Oe=te.indexOf(":");if(Oe>0){const Ke=te.slice(0,Oe),Tt=Ke.toLowerCase(),Wt=te.slice(Oe+1).trim();this.maybeSetNormalizedName(Ke,Tt),this.headers.has(Tt)?this.headers.get(Tt).push(Wt):this.headers.set(Tt,[Wt])}})}:()=>{this.headers=new Map,Object.keys(re).forEach(te=>{let Oe=re[te];const Ke=te.toLowerCase();"string"==typeof Oe&&(Oe=[Oe]),Oe.length>0&&(this.headers.set(Ke,Oe),this.maybeSetNormalizedName(te,Ke))})}:this.headers=new Map}has(re){return this.init(),this.headers.has(re.toLowerCase())}get(re){this.init();const te=this.headers.get(re.toLowerCase());return te&&te.length>0?te[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(re){return this.init(),this.headers.get(re.toLowerCase())||null}append(re,te){return this.clone({name:re,value:te,op:"a"})}set(re,te){return this.clone({name:re,value:te,op:"s"})}delete(re,te){return this.clone({name:re,value:te,op:"d"})}maybeSetNormalizedName(re,te){this.normalizedNames.has(te)||this.normalizedNames.set(te,re)}init(){this.lazyInit&&(this.lazyInit instanceof me?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(re=>this.applyUpdate(re)),this.lazyUpdate=null))}copyFrom(re){re.init(),Array.from(re.headers.keys()).forEach(te=>{this.headers.set(te,re.headers.get(te)),this.normalizedNames.set(te,re.normalizedNames.get(te))})}clone(re){const te=new me;return te.lazyInit=this.lazyInit&&this.lazyInit instanceof me?this.lazyInit:this,te.lazyUpdate=(this.lazyUpdate||[]).concat([re]),te}applyUpdate(re){const te=re.name.toLowerCase();switch(re.op){case"a":case"s":let Oe=re.value;if("string"==typeof Oe&&(Oe=[Oe]),0===Oe.length)return;this.maybeSetNormalizedName(re.name,te);const Ke=("a"===re.op?this.headers.get(te):void 0)||[];Ke.push(...Oe),this.headers.set(te,Ke);break;case"d":const Tt=re.value;if(Tt){let Wt=this.headers.get(te);if(!Wt)return;Wt=Wt.filter(Xt=>-1===Tt.indexOf(Xt)),0===Wt.length?(this.headers.delete(te),this.normalizedNames.delete(te)):this.headers.set(te,Wt)}else this.headers.delete(te),this.normalizedNames.delete(te)}}forEach(re){this.init(),Array.from(this.normalizedNames.keys()).forEach(te=>re(this.normalizedNames.get(te),this.headers.get(te)))}}class ge{encodeKey(re){return Ue(re)}encodeValue(re){return Ue(re)}decodeKey(re){return decodeURIComponent(re)}decodeValue(re){return decodeURIComponent(re)}}const fe=/%(\d[a-f0-9])/gi,Te={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ue(Re){return encodeURIComponent(Re).replace(fe,(re,te)=>Te[te]??re)}function ct(Re){return`${Re}`}class it{constructor(re={}){if(this.updates=null,this.cloneFrom=null,this.encoder=re.encoder||new ge,re.fromString){if(re.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function at(Re,re){const te=new Map;return Re.length>0&&Re.replace(/^\?/,"").split("&").forEach(Ke=>{const Tt=Ke.indexOf("="),[Wt,Xt]=-1==Tt?[re.decodeKey(Ke),""]:[re.decodeKey(Ke.slice(0,Tt)),re.decodeValue(Ke.slice(Tt+1))],ut=te.get(Wt)||[];ut.push(Xt),te.set(Wt,ut)}),te}(re.fromString,this.encoder)}else re.fromObject?(this.map=new Map,Object.keys(re.fromObject).forEach(te=>{const Oe=re.fromObject[te],Ke=Array.isArray(Oe)?Oe.map(ct):[ct(Oe)];this.map.set(te,Ke)})):this.map=null}has(re){return this.init(),this.map.has(re)}get(re){this.init();const te=this.map.get(re);return te?te[0]:null}getAll(re){return this.init(),this.map.get(re)||null}keys(){return this.init(),Array.from(this.map.keys())}append(re,te){return this.clone({param:re,value:te,op:"a"})}appendAll(re){const te=[];return Object.keys(re).forEach(Oe=>{const Ke=re[Oe];Array.isArray(Ke)?Ke.forEach(Tt=>{te.push({param:Oe,value:Tt,op:"a"})}):te.push({param:Oe,value:Ke,op:"a"})}),this.clone(te)}set(re,te){return this.clone({param:re,value:te,op:"s"})}delete(re,te){return this.clone({param:re,value:te,op:"d"})}toString(){return this.init(),this.keys().map(re=>{const te=this.encoder.encodeKey(re);return this.map.get(re).map(Oe=>te+"="+this.encoder.encodeValue(Oe)).join("&")}).filter(re=>""!==re).join("&")}clone(re){const te=new it({encoder:this.encoder});return te.cloneFrom=this.cloneFrom||this,te.updates=(this.updates||[]).concat(re),te}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(re=>this.map.set(re,this.cloneFrom.map.get(re))),this.updates.forEach(re=>{switch(re.op){case"a":case"s":const te=("a"===re.op?this.map.get(re.param):void 0)||[];te.push(ct(re.value)),this.map.set(re.param,te);break;case"d":if(void 0===re.value){this.map.delete(re.param);break}{let Oe=this.map.get(re.param)||[];const Ke=Oe.indexOf(ct(re.value));-1!==Ke&&Oe.splice(Ke,1),Oe.length>0?this.map.set(re.param,Oe):this.map.delete(re.param)}}}),this.cloneFrom=this.updates=null)}}class qe{constructor(){this.map=new Map}set(re,te){return this.map.set(re,te),this}get(re){return this.map.has(re)||this.map.set(re,re.defaultValue()),this.map.get(re)}delete(re){return this.map.delete(re),this}has(re){return this.map.has(re)}keys(){return this.map.keys()}}function le(Re){return typeof ArrayBuffer<"u"&&Re instanceof ArrayBuffer}function tt(Re){return typeof Blob<"u"&&Re instanceof Blob}function It(Re){return typeof FormData<"u"&&Re instanceof FormData}class We{constructor(re,te,Oe,Ke){let Tt;if(this.url=te,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=re.toUpperCase(),function de(Re){switch(Re){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ke?(this.body=void 0!==Oe?Oe:null,Tt=Ke):Tt=Oe,Tt&&(this.reportProgress=!!Tt.reportProgress,this.withCredentials=!!Tt.withCredentials,Tt.responseType&&(this.responseType=Tt.responseType),Tt.headers&&(this.headers=Tt.headers),Tt.context&&(this.context=Tt.context),Tt.params&&(this.params=Tt.params)),this.headers||(this.headers=new me),this.context||(this.context=new qe),this.params){const Wt=this.params.toString();if(0===Wt.length)this.urlWithParams=te;else{const Xt=te.indexOf("?");this.urlWithParams=te+(-1===Xt?"?":Xt<te.length-1?"&":"")+Wt}}else this.params=new it,this.urlWithParams=te}serializeBody(){return null===this.body?null:le(this.body)||tt(this.body)||It(this.body)||function ot(Re){return typeof URLSearchParams<"u"&&Re instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof it?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||It(this.body)?null:tt(this.body)?this.body.type||null:le(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof it?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(re={}){const te=re.method||this.method,Oe=re.url||this.url,Ke=re.responseType||this.responseType,Tt=void 0!==re.body?re.body:this.body,Wt=void 0!==re.withCredentials?re.withCredentials:this.withCredentials,Xt=void 0!==re.reportProgress?re.reportProgress:this.reportProgress;let ut=re.headers||this.headers,xt=re.params||this.params;const sn=re.context??this.context;return void 0!==re.setHeaders&&(ut=Object.keys(re.setHeaders).reduce((er,ft)=>er.set(ft,re.setHeaders[ft]),ut)),re.setParams&&(xt=Object.keys(re.setParams).reduce((er,ft)=>er.set(ft,re.setParams[ft]),xt)),new We(te,Oe,Tt,{params:xt,headers:ut,context:sn,reportProgress:Xt,responseType:Ke,withCredentials:Wt})}}var et=(()=>((et=et||{})[et.Sent=0]="Sent",et[et.UploadProgress=1]="UploadProgress",et[et.ResponseHeader=2]="ResponseHeader",et[et.DownloadProgress=3]="DownloadProgress",et[et.Response=4]="Response",et[et.User=5]="User",et))();class xe{constructor(re,te=200,Oe="OK"){this.headers=re.headers||new me,this.status=void 0!==re.status?re.status:te,this.statusText=re.statusText||Oe,this.url=re.url||null,this.ok=this.status>=200&&this.status<300}}class Ce extends xe{constructor(re={}){super(re),this.type=et.ResponseHeader}clone(re={}){return new Ce({headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class Ve extends xe{constructor(re={}){super(re),this.type=et.Response,this.body=void 0!==re.body?re.body:null}clone(re={}){return new Ve({body:void 0!==re.body?re.body:this.body,headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class be extends xe{constructor(re){super(re,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${re.url||"(unknown url)"}`:`Http failure response for ${re.url||"(unknown url)"}: ${re.status} ${re.statusText}`,this.error=re.error||null}}function Je(Re,re){return{body:re,headers:Re.headers,context:Re.context,observe:Re.observe,params:Re.params,reportProgress:Re.reportProgress,responseType:Re.responseType,withCredentials:Re.withCredentials}}let Qe=(()=>{class Re{constructor(te){this.handler=te}request(te,Oe,Ke={}){let Tt;if(te instanceof We)Tt=te;else{let ut,xt;ut=Ke.headers instanceof me?Ke.headers:new me(Ke.headers),Ke.params&&(xt=Ke.params instanceof it?Ke.params:new it({fromObject:Ke.params})),Tt=new We(te,Oe,void 0!==Ke.body?Ke.body:null,{headers:ut,context:Ke.context,params:xt,reportProgress:Ke.reportProgress,responseType:Ke.responseType||"json",withCredentials:Ke.withCredentials})}const Wt=(0,ue.of)(Tt).pipe((0,_e.b)(ut=>this.handler.handle(ut)));if(te instanceof We||"events"===Ke.observe)return Wt;const Xt=Wt.pipe((0,Ae.h)(ut=>ut instanceof Ve));switch(Ke.observe||"body"){case"body":switch(Tt.responseType){case"arraybuffer":return Xt.pipe((0,we.U)(ut=>{if(null!==ut.body&&!(ut.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ut.body}));case"blob":return Xt.pipe((0,we.U)(ut=>{if(null!==ut.body&&!(ut.body instanceof Blob))throw new Error("Response is not a Blob.");return ut.body}));case"text":return Xt.pipe((0,we.U)(ut=>{if(null!==ut.body&&"string"!=typeof ut.body)throw new Error("Response is not a string.");return ut.body}));default:return Xt.pipe((0,we.U)(ut=>ut.body))}case"response":return Xt;default:throw new Error(`Unreachable: unhandled observe type ${Ke.observe}}`)}}delete(te,Oe={}){return this.request("DELETE",te,Oe)}get(te,Oe={}){return this.request("GET",te,Oe)}head(te,Oe={}){return this.request("HEAD",te,Oe)}jsonp(te,Oe){return this.request("JSONP",te,{params:(new it).append(Oe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(te,Oe={}){return this.request("OPTIONS",te,Oe)}patch(te,Oe,Ke={}){return this.request("PATCH",te,Je(Ke,Oe))}post(te,Oe,Ke={}){return this.request("POST",te,Je(Ke,Oe))}put(te,Oe,Ke={}){return this.request("PUT",te,Je(Ke,Oe))}}return Re.\u0275fac=function(te){return new(te||Re)(T.LFG(Be))},Re.\u0275prov=T.Yz7({token:Re,factory:Re.\u0275fac}),Re})();class Vt{constructor(re,te){this.next=re,this.interceptor=te}handle(re){return this.interceptor.intercept(re,this.next)}}const jt=new T.OlP("HTTP_INTERCEPTORS");let En=(()=>{class Re{intercept(te,Oe){return Oe.handle(te)}}return Re.\u0275fac=function(te){return new(te||Re)},Re.\u0275prov=T.Yz7({token:Re,factory:Re.\u0275fac}),Re})();const $n=/^\)\]\}',?\n/;let zn=(()=>{class Re{constructor(te){this.xhrFactory=te}handle(te){if("JSONP"===te.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ve.y(Oe=>{const Ke=this.xhrFactory.build();if(Ke.open(te.method,te.urlWithParams),te.withCredentials&&(Ke.withCredentials=!0),te.headers.forEach((_n,hn)=>Ke.setRequestHeader(_n,hn.join(","))),te.headers.has("Accept")||Ke.setRequestHeader("Accept","application/json, text/plain, */*"),!te.headers.has("Content-Type")){const _n=te.detectContentTypeHeader();null!==_n&&Ke.setRequestHeader("Content-Type",_n)}if(te.responseType){const _n=te.responseType.toLowerCase();Ke.responseType="json"!==_n?_n:"text"}const Tt=te.serializeBody();let Wt=null;const Xt=()=>{if(null!==Wt)return Wt;const _n=Ke.statusText||"OK",hn=new me(Ke.getAllResponseHeaders()),dr=function Un(Re){return"responseURL"in Re&&Re.responseURL?Re.responseURL:/^X-Request-URL:/m.test(Re.getAllResponseHeaders())?Re.getResponseHeader("X-Request-URL"):null}(Ke)||te.url;return Wt=new Ce({headers:hn,status:Ke.status,statusText:_n,url:dr}),Wt},ut=()=>{let{headers:_n,status:hn,statusText:dr,url:Nr}=Xt(),gn=null;204!==hn&&(gn=typeof Ke.response>"u"?Ke.responseText:Ke.response),0===hn&&(hn=gn?200:0);let sr=hn>=200&&hn<300;if("json"===te.responseType&&"string"==typeof gn){const Vn=gn;gn=gn.replace($n,"");try{gn=""!==gn?JSON.parse(gn):null}catch(Hn){gn=Vn,sr&&(sr=!1,gn={error:Hn,text:gn})}}sr?(Oe.next(new Ve({body:gn,headers:_n,status:hn,statusText:dr,url:Nr||void 0})),Oe.complete()):Oe.error(new be({error:gn,headers:_n,status:hn,statusText:dr,url:Nr||void 0}))},xt=_n=>{const{url:hn}=Xt(),dr=new be({error:_n,status:Ke.status||0,statusText:Ke.statusText||"Unknown Error",url:hn||void 0});Oe.error(dr)};let sn=!1;const er=_n=>{sn||(Oe.next(Xt()),sn=!0);let hn={type:et.DownloadProgress,loaded:_n.loaded};_n.lengthComputable&&(hn.total=_n.total),"text"===te.responseType&&!!Ke.responseText&&(hn.partialText=Ke.responseText),Oe.next(hn)},ft=_n=>{let hn={type:et.UploadProgress,loaded:_n.loaded};_n.lengthComputable&&(hn.total=_n.total),Oe.next(hn)};return Ke.addEventListener("load",ut),Ke.addEventListener("error",xt),Ke.addEventListener("timeout",xt),Ke.addEventListener("abort",xt),te.reportProgress&&(Ke.addEventListener("progress",er),null!==Tt&&Ke.upload&&Ke.upload.addEventListener("progress",ft)),Ke.send(Tt),Oe.next({type:et.Sent}),()=>{Ke.removeEventListener("error",xt),Ke.removeEventListener("abort",xt),Ke.removeEventListener("load",ut),Ke.removeEventListener("timeout",xt),te.reportProgress&&(Ke.removeEventListener("progress",er),null!==Tt&&Ke.upload&&Ke.upload.removeEventListener("progress",ft)),Ke.readyState!==Ke.DONE&&Ke.abort()}})}}return Re.\u0275fac=function(te){return new(te||Re)(T.LFG(d.JF))},Re.\u0275prov=T.Yz7({token:Re,factory:Re.\u0275fac}),Re})();const rr=new T.OlP("XSRF_COOKIE_NAME"),Xn=new T.OlP("XSRF_HEADER_NAME");class On{}let Cr=(()=>{class Re{constructor(te,Oe,Ke){this.doc=te,this.platform=Oe,this.cookieName=Ke,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const te=this.doc.cookie||"";return te!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,d.Mx)(te,this.cookieName),this.lastCookieString=te),this.lastToken}}return Re.\u0275fac=function(te){return new(te||Re)(T.LFG(d.K0),T.LFG(T.Lbi),T.LFG(rr))},Re.\u0275prov=T.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),gr=(()=>{class Re{constructor(te,Oe){this.tokenService=te,this.headerName=Oe}intercept(te,Oe){const Ke=te.url.toLowerCase();if("GET"===te.method||"HEAD"===te.method||Ke.startsWith("http://")||Ke.startsWith("https://"))return Oe.handle(te);const Tt=this.tokenService.getToken();return null!==Tt&&!te.headers.has(this.headerName)&&(te=te.clone({headers:te.headers.set(this.headerName,Tt)})),Oe.handle(te)}}return Re.\u0275fac=function(te){return new(te||Re)(T.LFG(On),T.LFG(Xn))},Re.\u0275prov=T.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),Mn=(()=>{class Re{constructor(te,Oe){this.backend=te,this.injector=Oe,this.chain=null}handle(te){if(null===this.chain){const Oe=this.injector.get(jt,[]);this.chain=Oe.reduceRight((Ke,Tt)=>new Vt(Ke,Tt),this.backend)}return this.chain.handle(te)}}return Re.\u0275fac=function(te){return new(te||Re)(T.LFG(De),T.LFG(T.zs3))},Re.\u0275prov=T.Yz7({token:Re,factory:Re.\u0275fac}),Re})(),Rn=(()=>{class Re{static disable(){return{ngModule:Re,providers:[{provide:gr,useClass:En}]}}static withOptions(te={}){return{ngModule:Re,providers:[te.cookieName?{provide:rr,useValue:te.cookieName}:[],te.headerName?{provide:Xn,useValue:te.headerName}:[]]}}}return Re.\u0275fac=function(te){return new(te||Re)},Re.\u0275mod=T.oAB({type:Re}),Re.\u0275inj=T.cJS({providers:[gr,{provide:jt,useExisting:gr,multi:!0},{provide:On,useClass:Cr},{provide:rr,useValue:"XSRF-TOKEN"},{provide:Xn,useValue:"X-XSRF-TOKEN"}]}),Re})(),Mt=(()=>{class Re{}return Re.\u0275fac=function(te){return new(te||Re)},Re.\u0275mod=T.oAB({type:Re}),Re.\u0275inj=T.cJS({providers:[Qe,{provide:Be,useClass:Mn},zn,{provide:De,useExisting:zn}],imports:[Rn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Re})()},1571:(_t,Le,z)=>{z.d(Le,{QbO:()=>O2,tb:()=>_v,AFp:()=>yv,ip1:()=>mv,CZH:()=>vh,hGG:()=>yx,z2F:()=>_h,sBO:()=>tx,Sil:()=>F2,_Vd:()=>ma,EJc:()=>P2,Xts:()=>cc,SBq:()=>Js,lqb:()=>Xo,qLn:()=>va,vpe:()=>jo,XFs:()=>Mt,OlP:()=>Jn,zs3:()=>na,ZZ4:()=>Dg,aQg:()=>Eg,soG:()=>wh,YKP:()=>v0,h0i:()=>Wl,PXZ:()=>q2,R0b:()=>wo,FiY:()=>Ba,Lbi:()=>I2,g9A:()=>wv,n_E:()=>fh,Qsj:()=>ff,FYo:()=>hf,JOm:()=>mo,q3G:()=>$r,tp0:()=>Va,Rgc:()=>cu,dDg:()=>G2,eoX:()=>Sv,GfV:()=>Ni,s_b:()=>gh,ifc:()=>Xt,LMc:()=>_x,MMx:()=>eg,Lck:()=>A_,eFA:()=>Iv,G48:()=>ex,Gpc:()=>Te,f3M:()=>Jl,_c5:()=>mx,c2e:()=>N2,zSh:()=>dc,wAp:()=>en,vHH:()=>st,lri:()=>Ev,rWj:()=>Mv,EiD:()=>qh,mCW:()=>dl,qzn:()=>Ua,JVY:()=>jg,pB0:()=>Vh,eBb:()=>Lh,L6k:()=>Fh,LAX:()=>Bh,D6c:()=>vx,cg1:()=>Wp,kL8:()=>zy,dqk:()=>ut,Z0I:()=>rr,sIi:()=>Xc,CqO:()=>Km,QGY:()=>Lp,QP$:()=>j,F4k:()=>Ym,RDi:()=>Rh,AaK:()=>ge,z3N:()=>Lo,qOj:()=>Ap,TTD:()=>$i,_Bn:()=>y0,jDz:()=>_0,xp6:()=>Md,uIk:()=>Np,Tol:()=>yy,ekj:()=>Up,Suo:()=>Y0,Xpm:()=>Hn,lG2:()=>hr,Yz7:()=>mt,cJS:()=>Un,oAB:()=>Wr,Yjl:()=>Pr,Y36:()=>Ma,_UZ:()=>Rp,GkF:()=>Fp,BQk:()=>sh,ynx:()=>ih,qZA:()=>rh,TgZ:()=>nh,EpF:()=>Wm,n5z:()=>ql,Ikx:()=>$p,LFG:()=>oi,$8M:()=>No,$Z:()=>Ud,NdJ:()=>Bp,CRH:()=>K0,kcU:()=>Cn,O4$:()=>Jt,oxw:()=>Xm,ALo:()=>L0,lcZ:()=>B0,Dn7:()=>V0,Hsn:()=>ty,F$t:()=>ey,Q6J:()=>kp,s9C:()=>Vp,MGl:()=>oh,VKq:()=>S0,WLB:()=>T0,kEZ:()=>A0,l5B:()=>I0,qbA:()=>O0,iGM:()=>G0,MAs:()=>Gm,KtG:()=>wr,evT:()=>id,Jf7:()=>rd,CHM:()=>ls,oJD:()=>ac,LSH:()=>fl,kYT:()=>ai,Udp:()=>Hp,d8E:()=>Gp,YNc:()=>$m,_uU:()=>Dy,Oqu:()=>jp,hij:()=>lh,Gf:()=>W0});var d=z(7579),T=z(727),ue=z(9751),ve=z(6451),_e=z(8421),Ae=z(930),we=z(4482);function De(t,n,...i){if(!0===n)return void t();if(!1===n)return;const a=new Ae.Hp({next:()=>{a.unsubscribe(),t()}});return n(...i).subscribe(a)}function me(t){for(let n in t)if(t[n]===me)return n;throw Error("Could not find renamed property on target object.")}function Se(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function at(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const fe=me({__forward_ref__:me});function Te(t){return t.__forward_ref__=Te,t.toString=function(){return ge(this())},t}function Ue(t){return ct(t)?t():t}function ct(t){return"function"==typeof t&&t.hasOwnProperty(fe)&&t.__forward_ref__===Te}class st extends Error{constructor(n,i){super(function qe(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}(n,i)),this.code=n}}function de(t){return"string"==typeof t?t:null==t?"":String(t)}function We(t,n){throw new st(-201,!1)}function Ye(t,n){null==t&&function pe(t,n,i,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${i} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function mt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Un(t){return{providers:t.providers||[],imports:t.imports||[]}}function zn(t){return Xn(t,Mn)||Xn(t,Yt)}function rr(t){return null!==zn(t)}function Xn(t,n){return t.hasOwnProperty(n)?t[n]:null}function gr(t){return t&&(t.hasOwnProperty(ir)||t.hasOwnProperty(Rn))?t[ir]:null}const Mn=me({\u0275prov:me}),ir=me({\u0275inj:me}),Yt=me({ngInjectableDef:me}),Rn=me({ngInjectorDef:me});var Mt=(()=>((Mt=Mt||{})[Mt.Default=0]="Default",Mt[Mt.Host=1]="Host",Mt[Mt.Self=2]="Self",Mt[Mt.SkipSelf=4]="SkipSelf",Mt[Mt.Optional=8]="Optional",Mt))();let Gr;function Re(t){const n=Gr;return Gr=t,n}function re(t,n,i){const a=zn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&Mt.Optional?null:void 0!==n?n:void We(ge(t))}function Oe(t){return{toString:t}.toString()}var Ke=(()=>((Ke=Ke||{})[Ke.OnPush=0]="OnPush",Ke[Ke.Default=1]="Default",Ke))(),Xt=(()=>{return(t=Xt||(Xt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Xt;var t})();const ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),er={},ft=[],_n=me({\u0275cmp:me}),hn=me({\u0275dir:me}),dr=me({\u0275pipe:me}),Nr=me({\u0275mod:me}),gn=me({\u0275fac:me}),sr=me({__NG_ELEMENT_ID__:me});let Vn=0;function Hn(t){return Oe(()=>{const i=!0===t.standalone,a={},c={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ke.OnPush,directiveDefs:null,pipeDefs:null,standalone:i,dependencies:i&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||ft,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Xt.Emulated,id:"c"+Vn++,styles:t.styles||ft,_:null,setInput:null,schemas:t.schemas||null,tView:null},h=t.dependencies,g=t.features;return c.inputs=yi(t.inputs,a),c.outputs=yi(t.outputs),g&&g.forEach(x=>x(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(or).filter(tr):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map(F).filter(tr):null,c})}function or(t){return L(t)||K(t)}function tr(t){return null!==t}function Wr(t){return Oe(()=>({type:t.type,bootstrap:t.bootstrap||ft,declarations:t.declarations||ft,imports:t.imports||ft,exports:t.exports||ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ai(t,n){return Oe(()=>{const i=U(t,!0);i.declarations=n.declarations||ft,i.imports=n.imports||ft,i.exports=n.exports||ft})}function yi(t,n){if(null==t)return er;const i={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),i[c]=a,n&&(n[c]=h)}return i}const hr=Hn;function Pr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function L(t){return t[_n]||null}function K(t){return t[hn]||null}function F(t){return t[dr]||null}function j(t){const n=L(t)||K(t)||F(t);return null!==n&&n.standalone}function U(t,n){const i=t[Nr]||null;if(!i&&!0===n)throw new Error(`Type ${ge(t)} does not have '\u0275mod' property.`);return i}function mr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Lr(t){return Array.isArray(t)&&!0===t[1]}function Ui(t){return 0!=(8&t.flags)}function es(t){return 2==(2&t.flags)}function vi(t){return 1==(1&t.flags)}function yr(t){return null!==t.template}function Xs(t){return 0!=(256&t[2])}function Vr(t,n){return t.hasOwnProperty(gn)?t[gn]:null}class qr{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function $i(){return Gi}function Gi(t){return t.type.prototype.ngOnChanges&&(t.setInput=rs),Pi}function Pi(){const t=ks(this),n=t?.current;if(n){const i=t.previous;if(i===er)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function rs(t,n,i,a){const c=ks(t)||function wi(t,n){return t[Wi]=n}(t,{previous:er,current:null}),h=c.current||(c.current={}),g=c.previous,x=this.declaredInputs[i],b=g[x];h[x]=new qr(b&&b.currentValue,n,g===er),t[a]=n}$i.ngInherit=!0;const Wi="__ngSimpleChanges__";function ks(t){return t[Wi]||null}function ln(t){for(;Array.isArray(t);)t=t[0];return t}function ri(t,n){return ln(n[t])}function mn(t,n){return ln(n[t.index])}function Di(t,n){return t.data[n]}function vr(t,n){return t[n]}function fr(t,n){const i=n[t];return mr(i)?i:i[0]}function ii(t){return 64==(64&t[2])}function hi(t,n){return null==n?null:t[n]}function Mr(t){t[18]=0}function Ds(t,n){t[5]+=n;let i=t,a=t[3];for(;null!==a&&(1===n&&1===i[5]||-1===n&&0===i[5]);)a[5]+=n,i=a,a=a[3]}const Ot={lFrame:A(null),bindingsEnabled:!0};function nr(){return Ot.bindingsEnabled}function je(){return Ot.lFrame.lView}function Lt(){return Ot.lFrame.tView}function ls(t){return Ot.lFrame.contextLView=t,t[8]}function wr(t){return Ot.lFrame.contextLView=null,t}function Dn(){let t=Es();for(;null!==t&&64===t.type;)t=t.parent;return t}function Es(){return Ot.lFrame.currentTNode}function _i(t,n){const i=Ot.lFrame;i.currentTNode=t,i.isParent=n}function N(){return Ot.lFrame.isParent}function I(){Ot.lFrame.isParent=!1}function on(){const t=Ot.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Sr(){return Ot.lFrame.bindingIndex++}function Jr(t){const n=Ot.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function Io(t,n){const i=Ot.lFrame;i.bindingIndex=i.bindingRootIndex=t,Ws(n)}function Ws(t){Ot.lFrame.currentDirectiveIndex=t}function Ys(t){const n=Ot.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function Fi(){return Ot.lFrame.currentQueryIndex}function Ks(t){Ot.lFrame.currentQueryIndex=t}function Bs(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function cs(t,n,i){if(i&Mt.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||i&Mt.Host||(c=Bs(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;n=c,t=h}const a=Ot.lFrame=B();return a.currentTNode=n,a.lView=t,!0}function D(t){const n=B(),i=t[1];Ot.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function B(){const t=Ot.lFrame,n=null===t?null:t.child;return null===n?A(t):n}function A(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function W(){const t=Ot.lFrame;return Ot.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ie=W;function Fe(){const t=W();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Kt(){return Ot.lFrame.selectedIndex}function Ut(t){Ot.lFrame.selectedIndex=t}function Ht(){const t=Ot.lFrame;return Di(t.tView,t.selectedIndex)}function Jt(){Ot.lFrame.currentNamespace="svg"}function Cn(){!function _r(){Ot.lFrame.currentNamespace=null}()}function Tr(t,n){for(let i=n.directiveStart,a=n.directiveEnd;i<a;i++){const h=t.data[i].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:x,ngAfterViewInit:b,ngAfterViewChecked:k,ngOnDestroy:G}=h;g&&(t.contentHooks||(t.contentHooks=[])).push(-i,g),x&&((t.contentHooks||(t.contentHooks=[])).push(i,x),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,x)),b&&(t.viewHooks||(t.viewHooks=[])).push(-i,b),k&&((t.viewHooks||(t.viewHooks=[])).push(i,k),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,k)),null!=G&&(t.destroyHooks||(t.destroyHooks=[])).push(i,G)}}function fi(t,n,i){m(t,n,3,i)}function Ti(t,n,i,a){(3&t[2])===i&&m(t,n,i,a)}function R(t,n){let i=t[2];(3&i)===n&&(i&=2047,i+=1,t[2]=i)}function m(t,n,i,a){const h=a??-1,g=n.length-1;let x=0;for(let b=void 0!==a?65535&t[18]:0;b<g;b++)if("number"==typeof n[b+1]){if(x=n[b],null!=a&&x>=a)break}else n[b]<0&&(t[18]+=65536),(x<h||-1==h)&&(v(t,i,n,b),t[18]=(4294901760&t[18])+b+2),b++}function v(t,n,i,a){const c=i[a]<0,h=i[a+1],x=t[c?-i[a]:i[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{h.call(x)}finally{}}}else try{h.call(x)}finally{}}const M=-1;class H{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function tn(t,n,i){let a=0;for(;a<i.length;){const c=i[a];if("number"==typeof c){if(0!==c)break;a++;const h=i[a++],g=i[a++],x=i[a++];t.setAttribute(n,g,x,h)}else{const h=c,g=i[++a];Qt(h)?t.setProperty(n,h,g):t.setAttribute(n,h,g),a++}}return a}function $t(t){return 3===t||4===t||6===t}function Qt(t){return 64===t.charCodeAt(0)}function bn(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?i=c:0===i||Nn(t,i,c,null,-1===i||2===i?n[++a]:null)}}return t}function Nn(t,n,i,a,c){let h=0,g=t.length;if(-1===n)g=-1;else for(;h<t.length;){const x=t[h++];if("number"==typeof x){if(x===n){g=-1;break}if(x>n){g=h-1;break}}}for(;h<t.length;){const x=t[h];if("number"==typeof x)break;if(x===i){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==g&&(t.splice(g,0,n),h=g+1),t.splice(h++,0,i),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}function qn(t){return t!==M}function Zn(t){return 32767&t}function zr(t,n){let i=function pr(t){return t>>16}(t),a=n;for(;i>0;)a=a[15],i--;return a}let Ai=!0;function Ar(t){const n=Ai;return Ai=t,n}let Oo=0;const Qr={};function Vs(t,n){const i=Ct(t,n);if(-1!==i)return i;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,uo(a.data,t),uo(n,null),uo(a.blueprint,null));const c=Bt(t,n),h=t.injectorIndex;if(qn(c)){const g=Zn(c),x=zr(c,n),b=x[1].data;for(let k=0;k<8;k++)n[h+k]=x[g+k]|b[g+k]}return n[h+8]=c,h}function uo(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ct(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Bt(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,c=n;for(;null!==c;){if(a=Oa(c),null===a)return M;if(i++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return M}function zt(t,n,i){!function hs(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(sr)&&(a=i[sr]),null==a&&(a=i[sr]=Oo++);const c=255&a;n.data[t+(c>>5)]|=1<<c}(t,n,i)}function xr(t,n,i){if(i&Mt.Optional||void 0!==t)return t;We()}function xi(t,n,i,a){if(i&Mt.Optional&&void 0===a&&(a=null),0==(i&(Mt.Self|Mt.Host))){const c=t[9],h=Re(void 0);try{return c?c.get(n,a,i&Mt.Optional):re(n,a,i&Mt.Optional)}finally{Re(h)}}return xr(a,0,i)}function Ir(t,n,i,a=Mt.Default,c){if(null!==t){if(1024&n[2]){const g=function aa(t,n,i,a,c){let h=t,g=n;for(;null!==h&&null!==g&&1024&g[2]&&!(256&g[2]);){const x=Ln(h,g,i,a|Mt.Self,Qr);if(x!==Qr)return x;let b=h.parent;if(!b){const k=g[21];if(k){const G=k.get(i,Qr,a);if(G!==Qr)return G}b=Oa(g),g=g[15]}h=b}return c}(t,n,i,a,Qr);if(g!==Qr)return g}const h=Ln(t,n,i,a,Qr);if(h!==Qr)return h}return xi(n,i,a,c)}function Ln(t,n,i,a,c){const h=function Or(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(sr)?t[sr]:void 0;return"number"==typeof n?n>=0?255&n:sa:n}(i);if("function"==typeof h){if(!cs(n,t,a))return a&Mt.Host?xr(c,0,a):xi(n,i,a,c);try{const g=h(a);if(null!=g||a&Mt.Optional)return g;We()}finally{ie()}}else if("number"==typeof h){let g=null,x=Ct(t,n),b=M,k=a&Mt.Host?n[16][6]:null;for((-1===x||a&Mt.SkipSelf)&&(b=-1===x?Bt(t,n):n[x+8],b!==M&&Oi(a,!1)?(g=n[1],x=Zn(b),n=zr(b,n)):x=-1);-1!==x;){const G=n[1];if(Ss(h,x,G.data)){const J=jn(x,n,i,g,a,k);if(J!==Qr)return J}b=n[x+8],b!==M&&Oi(a,n[1].data[x+8]===k)&&Ss(h,x,n)?(g=G,x=Zn(b),n=zr(b,n)):x=-1}}return c}function jn(t,n,i,a,c,h){const g=n[1],x=g.data[t+8],G=qs(x,g,i,null==a?es(x)&&Ai:a!=g&&0!=(3&x.type),c&Mt.Host&&h===x);return null!==G?fs(n,g,G,x):Qr}function qs(t,n,i,a,c){const h=t.providerIndexes,g=n.data,x=1048575&h,b=t.directiveStart,G=h>>20,he=c?x+G:t.directiveEnd;for(let Ee=a?x:x+G;Ee<he;Ee++){const $e=g[Ee];if(Ee<b&&i===$e||Ee>=b&&$e.type===i)return Ee}if(c){const Ee=g[b];if(Ee&&yr(Ee)&&Ee.type===i)return b}return null}function fs(t,n,i,a){let c=t[i];const h=n.data;if(function q(t){return t instanceof H}(c)){const g=c;g.resolving&&function tt(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new st(-200,`Circular dependency in DI detected for ${t}${i}`)}(function le(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():de(t)}(h[i]));const x=Ar(g.canSeeViewProviders);g.resolving=!0;const b=g.injectImpl?Re(g.injectImpl):null;cs(t,a,Mt.Default);try{c=t[i]=g.factory(void 0,h,t,a),n.firstCreatePass&&i>=a.directiveStart&&function cr(t,n,i){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(a){const g=Gi(n);(i.preOrderHooks||(i.preOrderHooks=[])).push(t,g),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,g)}c&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-t,c),h&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,h),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,h))}(i,h[i],n)}finally{null!==b&&Re(b),Ar(x),g.resolving=!1,ie()}}return c}function Ss(t,n,i){return!!(i[n+(t>>5)]&1<<t)}function Oi(t,n){return!(t&Mt.Self||t&Mt.Host&&n)}class Ts{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return Ir(this._tNode,this._lView,n,a,i)}}function sa(){return new Ts(Dn(),je())}function ql(t){return Oe(()=>{const n=t.prototype.constructor,i=n[gn]||oa(n),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const h=c[gn]||oa(c);if(h&&h!==i)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function oa(t){return ct(t)?()=>{const n=oa(Ue(t));return n&&n()}:Vr(t)}function Oa(t){const n=t[1],i=n.type;return 2===i?n.declTNode:1===i?t[6]:null}function No(t){return function fn(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let c=0;for(;c<a;){const h=i[c];if($t(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof i[c];)c++;else{if(h===n)return i[c+1];c+=2}}}return null}(Dn(),t)}const ho="__parameters__";function fo(t,n,i){return Oe(()=>{const a=function Na(t){return function(...i){if(t){const a=t(...i);for(const c in a)this[c]=a[c]}}}(n);function c(...h){if(this instanceof c)return a.apply(this,h),this;const g=new c(...h);return x.annotation=g,x;function x(b,k,G){const J=b.hasOwnProperty(ho)?b[ho]:Object.defineProperty(b,ho,{value:[]})[ho];for(;J.length<=G;)J.push(null);return(J[G]=J[G]||[]).push(g),b}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class Jn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=mt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Bi(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let a=t[i];Array.isArray(a)?(n===t&&(n=t.slice(0,i)),Bi(a,n)):n!==t&&n.push(a)}return n}function Vi(t,n){t.forEach(i=>Array.isArray(i)?Vi(i,n):n(i))}function rl(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Fa(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function w(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}function ne(t,n,i){let a=ht(t,n);return a>=0?t[1|a]=i:(a=~a,function E(t,n,i,a){let c=t.length;if(c==n)t.push(i,a);else if(1===c)t.push(a,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function He(t,n){const i=ht(t,n);if(i>=0)return t[1|i]}function ht(t,n){return function bt(t,n,i){let a=0,c=t.length>>i;for(;c!==a;){const h=a+(c-a>>1),g=t[h<<i];if(n===g)return h<<i;g>n?c=h:a=h+1}return~(c<<i)}(t,n,1)}const Wo={},po="__NG_DI_FLAG__",ca="ngTempTokenPath",ua=/\n/gm,si="__source";let pi;function Us(t){const n=pi;return pi=t,n}function Mh(t,n=Mt.Default){if(void 0===pi)throw new st(-203,!1);return null===pi?re(t,void 0,n):pi.get(t,n&Mt.Optional?null:void 0,n)}function oi(t,n=Mt.Default){return(function ur(){return Gr}()||Mh)(Ue(t),n)}function Jl(t,n=Mt.Default){return"number"!=typeof n&&(n=0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)),oi(t,n)}function sl(t){const n=[];for(let i=0;i<t.length;i++){const a=Ue(t[i]);if(Array.isArray(a)){if(0===a.length)throw new st(900,!1);let c,h=Mt.Default;for(let g=0;g<a.length;g++){const x=a[g],b=Ko(x);"number"==typeof b?-1===b?c=x.token:h|=b:c=x}n.push(oi(c,h))}else n.push(oi(a))}return n}function Fo(t,n){return t[po]=n,t.prototype[po]=n,t}function Ko(t){return t[po]}const Ba=Fo(fo("Optional"),8),Va=Fo(fo("SkipSelf"),4);let gi,ll,ul;function Rh(t){gi=t}function qo(t){return function cl(){if(void 0===ll&&(ll=null,ut.trustedTypes))try{ll=ut.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ll}()?.createHTML(t)||t}function bu(t){return function nc(){if(void 0===ul&&(ul=null,ut.trustedTypes))try{ul=ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ul}()?.createHTML(t)||t}class Zo{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Eu extends Zo{getTypeName(){return"HTML"}}class Bg extends Zo{getTypeName(){return"Style"}}class Vg extends Zo{getTypeName(){return"Script"}}class Hg extends Zo{getTypeName(){return"URL"}}class Ug extends Zo{getTypeName(){return"ResourceURL"}}function Lo(t){return t instanceof Zo?t.changingThisBreaksApplicationSecurity:t}function Ua(t,n){const i=function zg(t){return t instanceof Zo&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===n}function jg(t){return new Eu(t)}function Fh(t){return new Bg(t)}function Lh(t){return new Vg(t)}function Bh(t){return new Hg(t)}function Vh(t){return new Ug(t)}class Hh{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(qo(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Uh{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const a=this.inertDocument.createElement("body");i.appendChild(a)}}getInertBodyElement(n){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=qo(n),i;const a=this.inertDocument.createElement("body");return a.innerHTML=qo(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const i=n.attributes;for(let c=i.length-1;0<c;c--){const g=i.item(c).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&n.removeAttribute(g)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const jh=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function dl(t){return(t=String(t)).match(jh)?t:"unsafe:"+t}function Co(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function za(...t){const n={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(n[a]=!0);return n}const Su=Co("area,br,col,hr,img,wbr"),Tu=Co("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ja=Co("rp,rt"),Au=za(Su,za(Tu,Co("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),za(ja,Co("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),za(ja,Tu)),Iu=Co("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ou=za(Iu,Co("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Co("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ic=Co("script,style,template");class Nu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,a=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let c=this.checkClobberedElement(i,i.nextSibling);if(c){i=c;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Au.hasOwnProperty(i))return this.sanitizedSomething=!0,!ic.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=n.attributes;for(let c=0;c<a.length;c++){const h=a.item(c),g=h.name,x=g.toLowerCase();if(!Ou.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let b=h.value;Iu[x]&&(b=dl(b)),this.buf.push(" ",g,'="',hl(b),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Au.hasOwnProperty(i)&&!Su.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(hl(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const Yh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kh=/([^\#-~ |!])/g;function hl(t){return t.replace(/&/g,"&amp;").replace(Yh,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Kh,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sc;function qh(t,n){let i=null;try{sc=sc||function Mu(t){const n=new Uh(t);return function zh(){try{return!!(new window.DOMParser).parseFromString(qo(""),"text/html")}catch{return!1}}()?new Hh(n):n}(t);let a=n?String(n):"";i=sc.getInertBodyElement(a);let c=5,h=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=h,h=i.innerHTML,i=sc.getInertBodyElement(a)}while(a!==h);return qo((new Nu).sanitizeChildren(oc(i)||i))}finally{if(i){const a=oc(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function oc(t){return"content"in t&&function ku(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var $r=(()=>(($r=$r||{})[$r.NONE=0]="NONE",$r[$r.HTML=1]="HTML",$r[$r.STYLE=2]="STYLE",$r[$r.SCRIPT=3]="SCRIPT",$r[$r.URL=4]="URL",$r[$r.RESOURCE_URL=5]="RESOURCE_URL",$r))();function ac(t){const n=Ga();return n?bu(n.sanitize($r.HTML,t)||""):Ua(t,"HTML")?bu(Lo(t)):qh(function xu(){return void 0!==gi?gi:typeof document<"u"?document:void 0}(),de(t))}function fl(t){const n=Ga();return n?n.sanitize($r.URL,t)||"":Ua(t,"URL")?Lo(t):dl(de(t))}function Ga(){const t=je();return t&&t[12]}const cc=new Jn("ENVIRONMENT_INITIALIZER"),Fu=new Jn("INJECTOR",-1),pl=new Jn("INJECTOR_DEF_TYPES");class Lu{get(n,i=Wo){if(i===Wo){const a=new Error(`NullInjectorError: No provider for ${ge(n)}!`);throw a.name="NullInjectorError",a}return i}}function pa(...t){return{\u0275providers:Bu(0,t)}}function Bu(t,...n){const i=[],a=new Set;let c;return Vi(n,h=>{const g=h;Jo(g,i,[],a)&&(c||(c=[]),c.push(g))}),void 0!==c&&ef(c,i),i}function ef(t,n){for(let i=0;i<t.length;i++){const{providers:c}=t[i];Vi(c,h=>{n.push(h)})}}function Jo(t,n,i,a){if(!(t=Ue(t)))return!1;let c=null,h=gr(t);const g=!h&&L(t);if(h||g){if(g&&!g.standalone)return!1;c=t}else{const b=t.ngModule;if(h=gr(b),!h)return!1;c=b}const x=a.has(c);if(g){if(x)return!1;if(a.add(c),g.dependencies){const b="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const k of b)Jo(k,n,i,a)}}else{if(!h)return!1;{if(null!=h.imports&&!x){let k;a.add(c);try{Vi(h.imports,G=>{Jo(G,n,i,a)&&(k||(k=[]),k.push(G))})}finally{}void 0!==k&&ef(k,n)}if(!x){const k=Vr(c)||(()=>new c);n.push({provide:c,useFactory:k,deps:ft},{provide:pl,useValue:c,multi:!0},{provide:cc,useValue:()=>oi(c),multi:!0})}const b=h.providers;null==b||x||Vi(b,G=>{n.push(G)})}}return c!==t&&void 0!==t.providers}const Hu=me({provide:String,useValue:me});function ro(t){return null!==t&&"object"==typeof t&&Hu in t}function Qo(t){return"function"==typeof t}const dc=new Jn("Set Injector scope."),gl={},nf={};let ml;function hc(){return void 0===ml&&(ml=new Lu),ml}class Xo{}class Uu extends Xo{constructor(n,i,a,c){super(),this.parent=i,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yl(n,g=>this.processProvider(g)),this.records.set(Fu,ga(void 0,this)),c.has("environment")&&this.records.set(Xo,ga(void 0,this));const h=this.records.get(dc);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(pl.multi,ft,Mt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const i=Us(this),a=Re(void 0);try{return n()}finally{Us(i),Re(a)}}get(n,i=Wo,a=Mt.Default){this.assertNotDestroyed();const c=Us(this),h=Re(void 0);try{if(!(a&Mt.SkipSelf)){let x=this.records.get(n);if(void 0===x){const b=function gc(t){return"function"==typeof t||"object"==typeof t&&t instanceof Jn}(n)&&zn(n);x=b&&this.injectableDefInScope(b)?ga(fc(n),gl):null,this.records.set(n,x)}if(null!=x)return this.hydrate(n,x)}return(a&Mt.Self?hc():this.parent).get(n,i=a&Mt.Optional&&i===Wo?null:i)}catch(g){if("NullInjectorError"===g.name){if((g[ca]=g[ca]||[]).unshift(ge(n)),c)throw g;return function Ql(t,n,i,a){const c=t[ca];throw n[si]&&c.unshift(n[si]),t.message=function gu(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=ge(n);if(Array.isArray(n))c=n.map(ge).join(" -> ");else if("object"==typeof n){let h=[];for(let g in n)if(n.hasOwnProperty(g)){let x=n[g];h.push(g+":"+("string"==typeof x?JSON.stringify(x):ge(x)))}c=`{${h.join(", ")}}`}return`${i}${a?"("+a+")":""}[${c}]: ${t.replace(ua,"\n  ")}`}("\n"+t.message,c,i,a),t.ngTokenPath=c,t[ca]=null,t}(g,n,"R3InjectorError",this.source)}throw g}finally{Re(h),Us(c)}}resolveInjectorInitializers(){const n=Us(this),i=Re(void 0);try{const a=this.get(cc.multi,ft,Mt.Self);for(const c of a)c()}finally{Us(n),Re(i)}}toString(){const n=[],i=this.records;for(const a of i.keys())n.push(ge(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new st(205,!1)}processProvider(n){let i=Qo(n=Ue(n))?n:Ue(n&&n.provide);const a=function sf(t){return ro(t)?ga(void 0,t.useValue):ga(zu(t),gl)}(n);if(Qo(n)||!0!==n.multi)this.records.get(i);else{let c=this.records.get(i);c||(c=ga(void 0,gl,!0),c.factory=()=>sl(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,a)}hydrate(n,i){return i.value===gl&&(i.value=nf,i.value=i.factory()),"object"==typeof i.value&&i.value&&function ju(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Ue(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}}function fc(t){const n=zn(t),i=null!==n?n.factory:Vr(t);if(null!==i)return i;if(t instanceof Jn)throw new st(204,!1);if(t instanceof Function)return function rf(t){const n=t.length;if(n>0)throw w(n,"?"),new st(204,!1);const i=function On(t){const n=t&&(t[Mn]||t[Yt]);if(n){const i=function Cr(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),n}return null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new st(204,!1)}function zu(t,n,i){let a;if(Qo(t)){const c=Ue(t);return Vr(c)||fc(c)}if(ro(t))a=()=>Ue(t.useValue);else if(function tf(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...sl(t.deps||[]));else if(function uc(t){return!(!t||!t.useExisting)}(t))a=()=>oi(Ue(t.useExisting));else{const c=Ue(t&&(t.useClass||t.provide));if(!function pc(t){return!!t.deps}(t))return Vr(c)||fc(c);a=()=>new c(...sl(t.deps))}return a}function ga(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function af(t){return!!t.\u0275providers}function yl(t,n){for(const i of t)Array.isArray(i)?yl(i,n):af(i)?yl(i.\u0275providers,n):n(i)}class mc{}class cf{resolveComponentFactory(n){throw function $u(t){const n=Error(`No component factory found for ${ge(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let ma=(()=>{class t{}return t.NULL=new cf,t})();function uf(){return ya(Dn(),je())}function ya(t,n){return new Js(mn(t,n))}let Js=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=uf,t})();function vl(t){return t instanceof Js?t.nativeElement:t}class hf{}let ff=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function pf(){const t=je(),i=fr(Dn().index,t);return(mr(i)?i:t)[11]}(),t})(),gf=(()=>{class t{}return t.\u0275prov=mt({token:t,providedIn:"root",factory:()=>null}),t})();class Ni{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const vc=new Ni("14.2.2"),wc={};function Ec(t){return t.ngOriginalError}class va{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Ec(n);for(;i&&Ec(i);)i=Ec(i);return i||null}}const Ac=new Map;let Ju=0;const Nc="__ngContext__";function Qi(t,n){mr(n)?(t[Nc]=n[20],function Jg(t){Ac.set(t[20],t)}(n)):t[Nc]=n}function rd(t){return t.ownerDocument.defaultView}function id(t){return t.ownerDocument}function Eo(t){return t instanceof Function?t():t}var mo=(()=>((mo=mo||{})[mo.Important=1]="Important",mo[mo.DashCase=2]="DashCase",mo))();function Pc(t,n){return undefined(t,n)}function _l(t){const n=t[3];return Lr(n)?n[3]:n}function Rc(t){return ad(t[13])}function Fc(t){return ad(t[4])}function ad(t){for(;null!==t&&!Lr(t);)t=t[4];return t}function _a(t,n,i,a,c){if(null!=a){let h,g=!1;Lr(a)?h=a:mr(a)&&(g=!0,a=a[0]);const x=ln(a);0===t&&null!==i?null==c?Cl(n,i,x):ta(n,i,x,c||null,!0):1===t&&null!==i?ta(n,i,x,c||null,!0):2===t?function md(t,n,i){const a=bl(t,n);a&&function Ca(t,n,i,a){t.removeChild(n,i,a)}(t,a,n,i)}(n,x,g):3===t&&n.destroyNode(x),null!=h&&function jf(t,n,i,a,c){const h=i[7];h!==ln(i)&&_a(n,t,a,h,c);for(let x=10;x<i.length;x++){const b=i[x];Ka(b[1],b,t,n,a,h)}}(n,t,h,i,c)}}function Bc(t,n,i){return t.createElement(n,i)}function ud(t,n){const i=t[9],a=i.indexOf(n),c=n[3];512&n[2]&&(n[2]&=-513,Ds(c,-1)),i.splice(a,1)}function yo(t,n){if(t.length<=10)return;const i=10+n,a=t[i];if(a){const c=a[17];null!==c&&c!==t&&ud(c,a),n>0&&(t[i-1][4]=a[4]);const h=Fa(t,10+n);!function cd(t,n){Ka(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const g=h[19];null!==g&&g.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function ea(t,n){if(!(128&n[2])){const i=n[11];i.destroyNode&&Ka(t,n,i,3,null,null),function Bf(t){let n=t[13];if(!n)return Vc(t[1],t);for(;n;){let i=null;if(mr(n))i=n[13];else{const a=n[10];a&&(i=a)}if(!i){for(;n&&!n[4]&&n!==t;)mr(n)&&Vc(n[1],n),n=n[3];null===n&&(n=t),mr(n)&&Vc(n[1],n),i=n&&n[4]}n=i}}(n)}}function Vc(t,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function xl(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const c=n[i[a]];if(!(c instanceof H)){const h=i[a+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const x=c[h[g]],b=h[g+1];try{b.call(x)}finally{}}else try{h.call(c)}finally{}}}}(t,n),function Hf(t,n){const i=t.cleanup,a=n[7];let c=-1;if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const g=i[h+1],x="function"==typeof g?g(n):ln(n[g]),b=a[c=i[h+2]],k=i[h+3];"boolean"==typeof k?x.removeEventListener(i[h],b,k):k>=0?a[c=k]():a[c=-k].unsubscribe(),h+=2}else{const g=a[c=i[h+1]];i[h].call(g)}if(null!==a){for(let h=c+1;h<a.length;h++)(0,a[h])();n[7]=null}}(t,n),1===n[1].type&&n[11].destroy();const i=n[17];if(null!==i&&Lr(n[3])){i!==n[3]&&ud(i,n);const a=n[19];null!==a&&a.detachView(t)}!function xf(t){Ac.delete(t[20])}(n)}}function Bo(t,n,i){return function xa(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[0];if(2&a.flags){const c=t.data[a.directiveStart].encapsulation;if(c===Xt.None||c===Xt.Emulated)return null}return mn(a,i)}(t,n.parent,i)}function ta(t,n,i,a,c){t.insertBefore(n,i,a,c)}function Cl(t,n,i){t.appendChild(n,i)}function Hc(t,n,i,a,c){null!==a?ta(t,n,i,a,c):Cl(t,n,i)}function bl(t,n){return t.parentNode(n)}function dd(t,n,i){return fd(t,n,i)}let fd=function hd(t,n,i){return 40&t.type?mn(t,i):null};function Dl(t,n,i,a){const c=Bo(t,a,n),h=n[11],x=dd(a.parent||n[6],a,n);if(null!=c)if(Array.isArray(i))for(let b=0;b<i.length;b++)Hc(h,c,i[b],x,!1);else Hc(h,c,i,x,!1)}function El(t,n){if(null!==n){const i=n.type;if(3&i)return mn(n,t);if(4&i)return zc(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return El(t,a);{const c=t[n.index];return Lr(c)?zc(-1,c):ln(c)}}if(32&i)return Pc(n,t)()||ln(t[n.index]);{const a=gd(t,n);return null!==a?Array.isArray(a)?a[0]:El(_l(t[16]),a):El(t,n.next)}}return null}function gd(t,n){return null!==n?t[16][6].projection[n.projection]:null}function zc(t,n){const i=10+t+1;if(i<n.length){const a=n[i],c=a[1].firstChild;if(null!==c)return El(a,c)}return n[7]}function jc(t,n,i,a,c,h,g){for(;null!=i;){const x=a[i.index],b=i.type;if(g&&0===n&&(x&&Qi(ln(x),a),i.flags|=4),64!=(64&i.flags))if(8&b)jc(t,n,i.child,a,c,h,!1),_a(n,t,c,x,h);else if(32&b){const k=Pc(i,a);let G;for(;G=k();)_a(n,t,c,G,h);_a(n,t,c,x,h)}else 16&b?yd(t,n,a,i,c,h):_a(n,t,c,x,h);i=g?i.projectionNext:i.next}}function Ka(t,n,i,a,c,h){jc(i,a,t.firstChild,n,c,h,!1)}function yd(t,n,i,a,c,h){const g=i[16],b=g[6].projection[a.projection];if(Array.isArray(b))for(let k=0;k<b.length;k++)_a(n,t,c,b[k],h);else jc(t,n,b,g[3],c,h,!0)}function vd(t,n,i){t.setAttribute(n,"style",i)}function $c(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function wd(t,n,i){let a=t.length;for(;;){const c=t.indexOf(n,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}i=c+1}}const _d="ng-template";function Gf(t,n,i){let a=0;for(;a<t.length;){let c=t[a++];if(i&&"class"===c){if(c=t[a],-1!==wd(c.toLowerCase(),n,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===n)return!0;return!1}}return!1}function xd(t){return 4===t.type&&t.value!==_d}function Ml(t,n,i){return n===(4!==t.type||i?t.value:_d)}function Cd(t,n,i){let a=4;const c=t.attrs||[],h=function Gc(t){for(let n=0;n<t.length;n++)if($t(t[n]))return n;return t.length}(c);let g=!1;for(let x=0;x<n.length;x++){const b=n[x];if("number"!=typeof b){if(!g)if(4&a){if(a=2|1&a,""!==b&&!Ml(t,b,i)||""===b&&1===n.length){if(ms(a))return!1;g=!0}}else{const k=8&a?b:n[++x];if(8&a&&null!==t.attrs){if(!Gf(t.attrs,k,i)){if(ms(a))return!1;g=!0}continue}const J=bd(8&a?"class":b,c,xd(t),i);if(-1===J){if(ms(a))return!1;g=!0;continue}if(""!==k){let he;he=J>h?"":c[J+1].toLowerCase();const Ee=8&a?he:null;if(Ee&&-1!==wd(Ee,k,0)||2&a&&k!==he){if(ms(a))return!1;g=!0}}}}else{if(!g&&!ms(a)&&!ms(b))return!1;if(g&&ms(b))continue;g=!1,a=b|1&a}}return ms(a)||g}function ms(t){return 0==(1&t)}function bd(t,n,i,a){if(null===n)return-1;let c=0;if(a||!i){let h=!1;for(;c<n.length;){const g=n[c];if(g===t)return c;if(3===g||6===g)h=!0;else{if(1===g||2===g){let x=n[++c];for(;"string"==typeof x;)x=n[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=h?1:2}return-1}return function Yf(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function Dd(t,n,i=!1){for(let a=0;a<n.length;a++)if(Cd(t,n[a],i))return!0;return!1}function Kf(t,n){e:for(let i=0;i<n.length;i++){const a=n[i];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Ed(t,n){return t?":not("+n.trim()+")":n}function qf(t){let n=t[0],i=1,a=2,c="",h=!1;for(;i<t.length;){let g=t[i];if("string"==typeof g)if(2&a){const x=t[++i];c+="["+g+(x.length>0?'="'+x+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!ms(g)&&(n+=Ed(h,c),c=""),a=g,h=h||!ms(a);i++}return""!==c&&(n+=Ed(h,c)),n}const pn={};function Md(t){Sd(Lt(),je(),Kt()+t,!1)}function Sd(t,n,i,a){if(!a)if(3==(3&n[2])){const h=t.preOrderCheckHooks;null!==h&&fi(n,h,i)}else{const h=t.preOrderHooks;null!==h&&Ti(n,h,0,i)}Ut(i)}function Od(t,n=null,i=null,a){const c=Nd(t,n,i,a);return c.resolveInjectorInitializers(),c}function Nd(t,n=null,i=null,a,c=new Set){const h=[i||ft,pa(t)];return a=a||("object"==typeof t?void 0:ge(t)),new Uu(h,n||hc(),a||null,c)}let na=(()=>{class t{static create(i,a){if(Array.isArray(i))return Od({name:""},a,i,"");{const c=i.name??"";return Od({name:c},i.parent,i.providers,c)}}}return t.THROW_IF_NOT_FOUND=Wo,t.NULL=new Lu,t.\u0275prov=mt({token:t,providedIn:"any",factory:()=>oi(Fu)}),t.__NG_ELEMENT_ID__=-1,t})();function Ma(t,n=Mt.Default){const i=je();return null===i?oi(t,n):Ir(Dn(),i,Ue(t),n)}function Ud(){throw new Error("invalid")}function Al(t,n){return t<<17|n<<2}function so(t){return t>>17&32767}function Kc(t){return 2|t}function Mo(t){return(131068&t)>>2}function qc(t,n){return-131069&t|n<<2}function Il(t){return 1|t}function gm(t,n){const i=t.contentQueries;if(null!==i)for(let a=0;a<i.length;a+=2){const c=i[a],h=i[a+1];if(-1!==h){const g=t.data[h];Ks(c),g.contentQueries(2,n[h],h)}}}function Kd(t,n,i,a,c,h,g,x,b,k,G){const J=n.blueprint.slice();return J[0]=c,J[2]=76|a,(null!==G||t&&1024&t[2])&&(J[2]|=1024),Mr(J),J[3]=J[15]=t,J[8]=i,J[10]=g||t&&t[10],J[11]=x||t&&t[11],J[12]=b||t&&t[12]||null,J[9]=k||t&&t[9]||null,J[6]=h,J[20]=function Ic(){return Ju++}(),J[21]=G,J[16]=2==n.type?t[16]:J,J}function Nl(t,n,i,a,c){let h=t.data[n];if(null===h)h=function yp(t,n,i,a,c){const h=Es(),g=N(),b=t.data[n]=function s1(t,n,i,a,c,h){return{type:i,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,i,n,a,c);return null===t.firstChild&&(t.firstChild=b),null!==h&&(g?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b)),b}(t,n,i,a,c),function Ms(){return Ot.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=i,h.value=a,h.attrs=c;const g=function Mi(){const t=Ot.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return _i(h,!0),h}function kl(t,n,i,a){if(0===i)return-1;const c=n.length;for(let h=0;h<i;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function vp(t,n,i){D(n);try{const a=t.viewQuery;null!==a&&Mp(1,a,i);const c=t.template;null!==c&&mm(t,n,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gm(t,n),t.staticViewQueries&&Mp(2,t.viewQuery,i);const h=t.components;null!==h&&function n1(t,n){for(let i=0;i<n.length;i++)x1(t,n[i])}(n,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,Fe()}}function qd(t,n,i,a){const c=n[2];if(128!=(128&c)){D(n);try{Mr(n),function Si(t){return Ot.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&mm(t,n,i,2,a);const g=3==(3&c);if(g){const k=t.preOrderCheckHooks;null!==k&&fi(n,k,null)}else{const k=t.preOrderHooks;null!==k&&Ti(n,k,0,null),R(n,0)}if(function w1(t){for(let n=Rc(t);null!==n;n=Fc(n)){if(!n[2])continue;const i=n[9];for(let a=0;a<i.length;a++){const c=i[a],h=c[3];0==(512&c[2])&&Ds(h,1),c[2]|=512}}}(n),function v1(t){for(let n=Rc(t);null!==n;n=Fc(n))for(let i=10;i<n.length;i++){const a=n[i],c=a[1];ii(a)&&qd(c,a,c.template,a[8])}}(n),null!==t.contentQueries&&gm(t,n),g){const k=t.contentCheckHooks;null!==k&&fi(n,k)}else{const k=t.contentHooks;null!==k&&Ti(n,k,1),R(n,1)}!function e1(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const c=i[a];if(c<0)Ut(~c);else{const h=c,g=i[++a],x=i[++a];Io(g,h),x(2,n[h])}}}finally{Ut(-1)}}(t,n);const x=t.components;null!==x&&function t1(t,n){for(let i=0;i<n.length;i++)_1(t,n[i])}(n,x);const b=t.viewQuery;if(null!==b&&Mp(2,b,a),g){const k=t.viewCheckHooks;null!==k&&fi(n,k)}else{const k=t.viewHooks;null!==k&&Ti(n,k,2),R(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,Ds(n[3],-1))}finally{Fe()}}}function mm(t,n,i,a,c){const h=Kt(),g=2&a;try{Ut(-1),g&&n.length>22&&Sd(t,n,22,!1),i(a,c)}finally{Ut(h)}}function ym(t,n,i){if(Ui(n)){const c=n.directiveEnd;for(let h=n.directiveStart;h<c;h++){const g=t.data[h];g.contentQueries&&g.contentQueries(1,i[h],h)}}}function wp(t,n,i){!nr()||(function u1(t,n,i,a){const c=i.directiveStart,h=i.directiveEnd;t.firstCreatePass||Vs(i,n),Qi(a,n);const g=i.initialInputs;for(let x=c;x<h;x++){const b=t.data[x],k=yr(b);k&&g1(n,i,b);const G=fs(n,t,x,i);Qi(G,n),null!==g&&m1(0,x-c,G,b,0,g),k&&(fr(i.index,n)[8]=G)}}(t,n,i,mn(i,n)),128==(128&i.flags)&&function d1(t,n,i){const a=i.directiveStart,c=i.directiveEnd,h=i.index,g=function co(){return Ot.lFrame.currentDirectiveIndex}();try{Ut(h);for(let x=a;x<c;x++){const b=t.data[x],k=n[x];Ws(x),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Dm(b,k)}}finally{Ut(-1),Ws(g)}}(t,n,i))}function _p(t,n,i=mn){const a=n.localNames;if(null!==a){let c=n.index+1;for(let h=0;h<a.length;h+=2){const g=a[h+1],x=-1===g?i(n,t):t[g];t[c++]=x}}}function vm(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=xp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function xp(t,n,i,a,c,h,g,x,b,k){const G=22+a,J=G+c,he=function r1(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:pn);return i}(G,J),Ee="function"==typeof k?k():k;return he[1]={type:t,blueprint:he,template:i,queries:null,viewQuery:x,declTNode:n,data:he.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:J,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:b,consts:Ee,incompleteFirstPass:!1}}function wm(t,n,i,a){const c=Am(n);null===i?c.push(a):(c.push(i),t.firstCreatePass&&Im(t).push(a,c.length-1))}function _m(t,n,i){for(let a in t)if(t.hasOwnProperty(a)){const c=t[a];(i=null===i?{}:i).hasOwnProperty(a)?i[a].push(n,c):i[a]=[n,c]}return i}function xm(t,n){const a=n.directiveEnd,c=t.data,h=n.attrs,g=[];let x=null,b=null;for(let k=n.directiveStart;k<a;k++){const G=c[k],J=G.inputs,he=null===h||xd(n)?null:y1(J,h);g.push(he),x=_m(J,k,x),b=_m(G.outputs,k,b)}null!==x&&(x.hasOwnProperty("class")&&(n.flags|=16),x.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=g,n.inputs=x,n.outputs=b}function ao(t,n,i,a,c,h,g,x){const b=mn(n,i);let G,k=n.inputs;!x&&null!=k&&(G=k[a])?(Sp(t,i,G,a,c),es(n)&&Cm(i,n.index)):3&n.type&&(a=function o1(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,n.value||"",a):c,h.setProperty(b,a,c))}function Cm(t,n){const i=fr(n,t);16&i[2]||(i[2]|=32)}function Cp(t,n,i,a){let c=!1;if(nr()){const h=function h1(t,n,i){const a=t.directiveRegistry;let c=null;if(a)for(let h=0;h<a.length;h++){const g=a[h];Dd(i,g.selectors,!1)&&(c||(c=[]),zt(Vs(i,n),t,g.type),yr(g)?(Em(t,i),c.unshift(g)):c.push(g))}return c}(t,n,i),g=null===a?null:{"":-1};if(null!==h){c=!0,Mm(i,t.data.length,h.length);for(let G=0;G<h.length;G++){const J=h[G];J.providersResolver&&J.providersResolver(J)}let x=!1,b=!1,k=kl(t,n,h.length,null);for(let G=0;G<h.length;G++){const J=h[G];i.mergedAttrs=bn(i.mergedAttrs,J.hostAttrs),Sm(t,i,n,k,J),p1(k,J,g),null!==J.contentQueries&&(i.flags|=8),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(i.flags|=128);const he=J.type.prototype;!x&&(he.ngOnChanges||he.ngOnInit||he.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i.index),x=!0),!b&&(he.ngOnChanges||he.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i.index),b=!0),k++}xm(t,i)}g&&function f1(t,n,i){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=i[n[c+1]];if(null==h)throw new st(-301,!1);a.push(n[c],h)}}}(i,a,g)}return i.mergedAttrs=bn(i.mergedAttrs,i.attrs),c}function bm(t,n,i,a,c,h){const g=h.hostBindings;if(g){let x=t.hostBindingOpCodes;null===x&&(x=t.hostBindingOpCodes=[]);const b=~n.index;(function c1(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(x)!=b&&x.push(b),x.push(a,c,g)}}function Dm(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Em(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function p1(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;yr(n)&&(i[""]=t)}}function Mm(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}function Sm(t,n,i,a,c){t.data[a]=c;const h=c.factory||(c.factory=Vr(c.type)),g=new H(h,yr(c),Ma);t.blueprint[a]=g,i[a]=g,bm(t,n,0,a,kl(t,i,c.hostVars,pn),c)}function g1(t,n,i){const a=mn(n,t),c=vm(i),h=t[10],g=Zd(t,Kd(t,c,null,i.onPush?32:16,a,n,h,h.createRenderer(a,i),null,null,null));t[n.index]=g}function Vo(t,n,i,a,c,h){const g=mn(t,n);!function bp(t,n,i,a,c,h,g){if(null==h)t.removeAttribute(n,c,i);else{const x=null==g?de(h):g(h,a||"",c);t.setAttribute(n,c,x,i)}}(n[11],g,h,t.value,i,a,c)}function m1(t,n,i,a,c,h){const g=h[n];if(null!==g){const x=a.setInput;for(let b=0;b<g.length;){const k=g[b++],G=g[b++],J=g[b++];null!==x?a.setInput(i,J,k,G):i[G]=J}}}function y1(t,n){let i=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===i&&(i=[]),i.push(c,t[c],n[a+1])),a+=2}else a+=2;else a+=4}return i}function Tm(t,n,i,a){return new Array(t,!0,!1,n,null,0,a,i,null,null)}function _1(t,n){const i=fr(n,t);if(ii(i)){const a=i[1];48&i[2]?qd(a,i,a.template,i[8]):i[5]>0&&Dp(i)}}function Dp(t){for(let a=Rc(t);null!==a;a=Fc(a))for(let c=10;c<a.length;c++){const h=a[c];if(ii(h))if(512&h[2]){const g=h[1];qd(g,h,g.template,h[8])}else h[5]>0&&Dp(h)}const i=t[1].components;if(null!==i)for(let a=0;a<i.length;a++){const c=fr(i[a],t);ii(c)&&c[5]>0&&Dp(c)}}function x1(t,n){const i=fr(n,t),a=i[1];(function C1(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])})(a,i),vp(a,i,i[8])}function Zd(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Ep(t){for(;t;){t[2]|=32;const n=_l(t);if(Xs(t)&&!n)return t;t=n}return null}function Jd(t,n,i,a=!0){const c=n[10];c.begin&&c.begin();try{qd(t,n,t.template,i)}catch(g){throw a&&Nm(n,g),g}finally{c.end&&c.end()}}function Mp(t,n,i){Ks(0),n(t,i)}function Am(t){return t[7]||(t[7]=[])}function Im(t){return t.cleanup||(t.cleanup=[])}function Nm(t,n){const i=t[9],a=i?i.get(va,null):null;a&&a.handleError(n)}function Sp(t,n,i,a,c){for(let h=0;h<i.length;){const g=i[h++],x=i[h++],b=n[g],k=t.data[g];null!==k.setInput?k.setInput(b,c,a,x):b[x]=c}}function Qd(t,n,i){let a=i?t.styles:null,c=i?t.classes:null,h=0;if(null!==n)for(let g=0;g<n.length;g++){const x=n[g];"number"==typeof x?h=x:1==h?c=at(c,x):2==h&&(a=at(a,x+": "+n[++g]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=c:t.classesWithoutHost=c}function Xd(t,n,i,a,c=!1){for(;null!==i;){const h=n[i.index];if(null!==h&&a.push(ln(h)),Lr(h))for(let x=10;x<h.length;x++){const b=h[x],k=b[1].firstChild;null!==k&&Xd(b[1],b,k,a)}const g=i.type;if(8&g)Xd(t,n,i.child,a);else if(32&g){const x=Pc(i,n);let b;for(;b=x();)a.push(b)}else if(16&g){const x=gd(n,i);if(Array.isArray(x))a.push(...x);else{const b=_l(n[16]);Xd(b[1],b,x,a,!0)}}i=c?i.projectionNext:i.next}return a}class Jc{constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,i=n[1];return Xd(i,n,i.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Lr(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(yo(n,a),Fa(i,a))}this._attachedToViewContainer=!1}ea(this._lView[1],this._lView)}onDestroy(n){wm(this._lView[1],this._lView,null,n)}markForCheck(){Ep(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Jd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new st(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lf(t,n){Ka(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new st(902,!1);this._appRef=n}}class b1 extends Jc{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Jd(n[1],n,n[8],!1)}checkNoChanges(){}get context(){return null}}class Tp extends ma{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=L(n);return new Qc(i,this.ngModule)}}function km(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class E1{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){const c=this.injector.get(n,wc,a);return c!==wc||i===wc?c:this.parentInjector.get(n,i,a)}}class Qc extends mc{constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Zf(t){return t.map(qf).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return km(this.componentDef.inputs)}get outputs(){return km(this.componentDef.outputs)}create(n,i,a,c){let h=(c=c||this.ngModule)instanceof Xo?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const g=h?new E1(n,h):n,x=g.get(hf,null);if(null===x)throw new st(407,!1);const b=g.get(gf,null),k=x.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",J=a?function i1(t,n,i){return t.selectRootElement(n,i===Xt.ShadowDom)}(k,a,this.componentDef.encapsulation):Bc(x.createRenderer(null,this.componentDef),G,function D1(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(G)),he=this.componentDef.onPush?288:272,Ee=xp(0,null,null,1,0,null,null,null,null,null),$e=Kd(null,Ee,null,he,null,null,x,k,b,g,null);let lt,pt;D($e);try{const At=function T1(t,n,i,a,c,h){const g=i[1];i[22]=t;const b=Nl(g,22,2,"#host",null),k=b.mergedAttrs=n.hostAttrs;null!==k&&(Qd(b,k,!0),null!==t&&(tn(c,t,k),null!==b.classes&&$c(c,t,b.classes),null!==b.styles&&vd(c,t,b.styles)));const G=a.createRenderer(t,n),J=Kd(i,vm(n),null,n.onPush?32:16,i[22],b,a,G,h||null,null,null);return g.firstCreatePass&&(zt(Vs(b,i),g,n.type),Em(g,b),Mm(b,i.length,1)),Zd(i,J),i[22]=J}(J,this.componentDef,$e,x,k);if(J)if(a)tn(k,J,["ng-version",vc.full]);else{const{attrs:Gt,classes:nt}=function Jf(t){const n=[],i=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++a]):8===c&&i.push(h);else{if(!ms(c))break;c=h}a++}return{attrs:n,classes:i}}(this.componentDef.selectors[0]);Gt&&tn(k,J,Gt),nt&&nt.length>0&&$c(k,J,nt.join(" "))}if(pt=Di(Ee,22),void 0!==i){const Gt=pt.projection=[];for(let nt=0;nt<this.ngContentSelectors.length;nt++){const rn=i[nt];Gt.push(null!=rn?Array.from(rn):null)}}lt=function A1(t,n,i,a){const c=i[1],h=function l1(t,n,i){const a=Dn();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),Sm(t,a,n,kl(t,n,1,null),i),xm(t,a));const c=fs(n,t,a.directiveStart,a);Qi(c,n);const h=mn(a,n);return h&&Qi(h,n),c}(c,i,n);if(t[8]=i[8]=h,null!==a)for(const x of a)x(h,n);if(n.contentQueries){const x=Dn();n.contentQueries(1,h,x.directiveStart)}const g=Dn();return!c.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Ut(g.index),bm(i[1],g,0,g.directiveStart,g.directiveEnd,n),Dm(n,h)),h}(At,this.componentDef,$e,[I1]),vp(Ee,$e,null)}finally{Fe()}return new S1(this.componentType,lt,ya(pt,$e),$e,pt)}}class S1 extends class lf{}{constructor(n,i,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=i,this.hostView=this.changeDetectorRef=new b1(c),this.componentType=n}setInput(n,i){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[n])){const h=this._rootLView;Sp(h[1],h,c,n,i),Cm(h,this._tNode.index)}}get injector(){return new Ts(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function I1(){const t=Dn();Tr(je()[1],t)}function Ap(t){let n=function Pm(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;n;){let c;if(yr(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new st(903,!1);c=n.\u0275dir}if(c){if(i){a.push(c);const g=t;g.inputs=Ip(t.inputs),g.declaredInputs=Ip(t.declaredInputs),g.outputs=Ip(t.outputs);const x=c.hostBindings;x&&P1(t,x);const b=c.viewQuery,k=c.contentQueries;if(b&&N1(t,b),k&&k1(t,k),Se(t.inputs,c.inputs),Se(t.declaredInputs,c.declaredInputs),Se(t.outputs,c.outputs),yr(c)&&c.data.animation){const G=t.data;G.animation=(G.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let g=0;g<h.length;g++){const x=h[g];x&&x.ngInherit&&x(t),x===Ap&&(i=!1)}}n=Object.getPrototypeOf(n)}!function O1(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=n+=c.hostVars,c.hostAttrs=bn(c.hostAttrs,i=bn(i,c.hostAttrs))}}(a)}function Ip(t){return t===er?{}:t===ft?[]:t}function N1(t,n){const i=t.viewQuery;t.viewQuery=i?(a,c)=>{n(a,c),i(a,c)}:n}function k1(t,n){const i=t.contentQueries;t.contentQueries=i?(a,c,h)=>{n(a,c,h),i(a,c,h)}:n}function P1(t,n){const i=t.hostBindings;t.hostBindings=i?(a,c)=>{n(a,c),i(a,c)}:n}let eh=null;function Za(){if(!eh){const t=ut.Symbol;if(t&&t.iterator)eh=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<n.length;++i){const a=n[i];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(eh=a)}}}return eh}function Xc(t){return!!Op(t)&&(Array.isArray(t)||!(t instanceof Map)&&Za()in t)}function Op(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ho(t,n,i){return t[n]=i}function Is(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Ja(t,n,i,a){const c=Is(t,n,i);return Is(t,n+1,a)||c}function vo(t,n,i,a,c,h){const g=Ja(t,n,i,a);return Ja(t,n+2,c,h)||g}function Np(t,n,i,a){const c=je();return Is(c,Sr(),n)&&(Lt(),Vo(Ht(),c,t,n,i,a)),Np}function Rl(t,n,i,a){return Is(t,Sr(),i)?n+de(i)+a:pn}function $m(t,n,i,a,c,h,g,x){const b=je(),k=Lt(),G=t+22,J=k.firstCreatePass?function z1(t,n,i,a,c,h,g,x,b){const k=n.consts,G=Nl(n,t,4,g||null,hi(k,x));Cp(n,i,G,hi(k,b)),Tr(n,G);const J=G.tViews=xp(2,G,a,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,k);return null!==n.queries&&(n.queries.template(n,G),J.queries=n.queries.embeddedTView(G)),G}(G,k,b,n,i,a,c,h,g):k.data[G];_i(J,!1);const he=b[11].createComment("");Dl(k,b,he,J),Qi(he,b),Zd(b,b[G]=Tm(he,b,he,J)),vi(J)&&wp(k,b,J),null!=g&&_p(b,J,x)}function Gm(t){return vr(function Y(){return Ot.lFrame.contextLView}(),22+t)}function kp(t,n,i){const a=je();return Is(a,Sr(),n)&&ao(Lt(),Ht(),a,t,n,a[11],i,!1),kp}function Pp(t,n,i,a,c){const g=c?"class":"style";Sp(t,i,n.inputs[g],g,a)}function nh(t,n,i,a){const c=je(),h=Lt(),g=22+t,x=c[11],b=c[g]=Bc(x,n,function us(){return Ot.lFrame.currentNamespace}()),k=h.firstCreatePass?function $1(t,n,i,a,c,h,g){const x=n.consts,k=Nl(n,t,2,c,hi(x,h));return Cp(n,i,k,hi(x,g)),null!==k.attrs&&Qd(k,k.attrs,!1),null!==k.mergedAttrs&&Qd(k,k.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,k),k}(g,h,c,0,n,i,a):h.data[g];_i(k,!0);const G=k.mergedAttrs;null!==G&&tn(x,b,G);const J=k.classes;null!==J&&$c(x,b,J);const he=k.styles;return null!==he&&vd(x,b,he),64!=(64&k.flags)&&Dl(h,c,b,k),0===function as(){return Ot.lFrame.elementDepthCount}()&&Qi(b,c),function Ur(){Ot.lFrame.elementDepthCount++}(),vi(k)&&(wp(h,c,k),ym(h,k,c)),null!==a&&_p(c,k),nh}function rh(){let t=Dn();N()?I():(t=t.parent,_i(t,!1));const n=t;!function Zr(){Ot.lFrame.elementDepthCount--}();const i=Lt();return i.firstCreatePass&&(Tr(i,t),Ui(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function ze(t){return 0!=(16&t.flags)}(n)&&Pp(i,n,je(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function gt(t){return 0!=(32&t.flags)}(n)&&Pp(i,n,je(),n.stylesWithoutHost,!1),rh}function Rp(t,n,i,a){return nh(t,n,i,a),rh(),Rp}function ih(t,n,i){const a=je(),c=Lt(),h=t+22,g=c.firstCreatePass?function G1(t,n,i,a,c){const h=n.consts,g=hi(h,a),x=Nl(n,t,8,"ng-container",g);return null!==g&&Qd(x,g,!0),Cp(n,i,x,hi(h,c)),null!==n.queries&&n.queries.elementStart(n,x),x}(h,c,a,n,i):c.data[h];_i(g,!0);const x=a[h]=a[11].createComment("");return Dl(c,a,x,g),Qi(x,a),vi(g)&&(wp(c,a,g),ym(c,g,a)),null!=i&&_p(a,g),ih}function sh(){let t=Dn();const n=Lt();return N()?I():(t=t.parent,_i(t,!1)),n.firstCreatePass&&(Tr(n,t),Ui(t)&&n.queries.elementEnd(t)),sh}function Fp(t,n,i){return ih(t,n,i),sh(),Fp}function Wm(){return je()}function Lp(t){return!!t&&"function"==typeof t.then}function Ym(t){return!!t&&"function"==typeof t.subscribe}const Km=Ym;function Bp(t,n,i,a){const c=je(),h=Lt(),g=Dn();return function Zm(t,n,i,a,c,h,g,x){const b=vi(a),G=t.firstCreatePass&&Im(t),J=n[8],he=Am(n);let Ee=!0;if(3&a.type||x){const pt=mn(a,n),At=x?x(pt):pt,Gt=he.length,nt=x?Qn=>x(ln(Qn[a.index])):a.index;let rn=null;if(!x&&b&&(rn=function W1(t,n,i,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const g=c[h];if(g===i&&c[h+1]===a){const x=n[7],b=c[h+2];return x.length>b?x[b]:null}"string"==typeof g&&(h+=2)}return null}(t,n,c,a.index)),null!==rn)(rn.__ngLastListenerFn__||rn).__ngNextListenerFn__=h,rn.__ngLastListenerFn__=h,Ee=!1;else{h=Qm(a,n,J,h,!1);const Qn=i.listen(At,c,h);he.push(h,Qn),G&&G.push(c,nt,Gt,Gt+1)}}else h=Qm(a,n,J,h,!1);const $e=a.outputs;let lt;if(Ee&&null!==$e&&(lt=$e[c])){const pt=lt.length;if(pt)for(let At=0;At<pt;At+=2){const Xr=n[lt[At]][lt[At+1]].subscribe(h),el=he.length;he.push(h,Xr),G&&G.push(c,a.index,el,-(el+1))}}}(h,c,c[11],g,t,n,0,a),Bp}function Jm(t,n,i,a){try{return!1!==i(a)}catch(c){return Nm(t,c),!1}}function Qm(t,n,i,a,c){return function h(g){if(g===Function)return a;Ep(2&t.flags?fr(t.index,n):n);let b=Jm(n,0,a,g),k=h.__ngNextListenerFn__;for(;k;)b=Jm(n,0,k,g)&&b,k=k.__ngNextListenerFn__;return c&&!1===b&&(g.preventDefault(),g.returnValue=!1),b}}function Xm(t=1){return function Ge(t){return(Ot.lFrame.contextLView=function vt(t,n){for(;t>0;)n=n[15],t--;return n}(t,Ot.lFrame.contextLView))[8]}(t)}function Y1(t,n){let i=null;const a=function Wf(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(0==(1&i))return n[i+1]}return null}(t);for(let c=0;c<n.length;c++){const h=n[c];if("*"!==h){if(null===a?Dd(t,h,!0):Kf(a,h))return c}else i=c}return i}function ey(t){const n=je()[16][6];if(!n.projection){const a=n.projection=w(t?t.length:1,null),c=a.slice();let h=n.child;for(;null!==h;){const g=t?Y1(h,t):0;null!==g&&(c[g]?c[g].projectionNext=h:a[g]=h,c[g]=h),h=h.next}}}function ty(t,n=0,i){const a=je(),c=Lt(),h=Nl(c,22+t,16,null,i||null);null===h.projection&&(h.projection=n),I(),64!=(64&h.flags)&&function zf(t,n,i){yd(n[11],0,n,i,Bo(t,i,n),dd(i.parent||n[6],i,n))}(c,a,h)}function Vp(t,n,i){return oh(t,"",n,"",i),Vp}function oh(t,n,i,a,c){const h=je(),g=Rl(h,n,i,a);return g!==pn&&ao(Lt(),Ht(),h,t,g,h[11],c,!1),oh}function uy(t,n,i,a,c){const h=t[i+1],g=null===n;let x=a?so(h):Mo(h),b=!1;for(;0!==x&&(!1===b||g);){const G=t[x+1];Z1(t[x],n)&&(b=!0,t[x+1]=a?Il(G):Kc(G)),x=a?so(G):Mo(G)}b&&(t[i+1]=a?Kc(h):Il(h))}function Z1(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ht(t,n)>=0}const Hi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dy(t){return t.substring(Hi.key,Hi.keyEnd)}function hy(t,n){const i=Hi.textEnd;return i===n?-1:(n=Hi.keyEnd=function ew(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Hi.key=n,i),jl(t,n,i))}function jl(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function Hp(t,n,i){return So(t,n,i,!1),Hp}function Up(t,n){return So(t,n,null,!0),Up}function yy(t){!function To(t,n,i,a){const c=Lt(),h=Jr(2);c.firstUpdatePass&&wy(c,null,h,a);const g=je();if(i!==pn&&Is(g,h,i)){const x=c.data[Kt()];if(by(x,a)&&!vy(c,h)){let b=a?x.classesWithoutHost:x.stylesWithoutHost;null!==b&&(i=at(b,i||"")),Pp(c,x,g,i,a)}else!function cw(t,n,i,a,c,h,g,x){c===pn&&(c=ft);let b=0,k=0,G=0<c.length?c[0]:null,J=0<h.length?h[0]:null;for(;null!==G||null!==J;){const he=b<c.length?c[b+1]:void 0,Ee=k<h.length?h[k+1]:void 0;let lt,$e=null;G===J?(b+=2,k+=2,he!==Ee&&($e=J,lt=Ee)):null===J||null!==G&&G<J?(b+=2,$e=G):(k+=2,$e=J,lt=Ee),null!==$e&&xy(t,n,i,a,$e,lt,g,x),G=b<c.length?c[b]:null,J=k<h.length?h[k]:null}}(c,x,g,g[11],g[h+1],g[h+1]=function lw(t,n,i){if(null==i||""===i)return ft;const a=[],c=Lo(i);if(Array.isArray(c))for(let h=0;h<c.length;h++)t(a,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&t(a,h,c[h]);else"string"==typeof c&&n(a,c);return a}(t,n,i),a,h)}}(ne,zo,t,!0)}function zo(t,n){for(let i=function Q1(t){return function py(t){Hi.key=0,Hi.keyEnd=0,Hi.value=0,Hi.valueEnd=0,Hi.textEnd=t.length}(t),hy(t,jl(t,0,Hi.textEnd))}(n);i>=0;i=hy(n,i))ne(t,dy(n),!0)}function So(t,n,i,a){const c=je(),h=Lt(),g=Jr(2);h.firstUpdatePass&&wy(h,t,g,a),n!==pn&&Is(c,g,n)&&xy(h,h.data[Kt()],c,c[11],t,c[g+1]=function uw(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ge(Lo(t)))),t}(n,i),a,g)}function vy(t,n){return n>=t.expandoStartIndex}function wy(t,n,i,a){const c=t.data;if(null===c[i+1]){const h=c[Kt()],g=vy(t,i);by(h,a)&&null===n&&!g&&(n=!1),n=function iw(t,n,i,a){const c=Ys(t);let h=a?n.residualClasses:n.residualStyles;if(null===c)0===(a?n.classBindings:n.styleBindings)&&(i=tu(i=zp(null,t,n,i,a),n.attrs,a),h=null);else{const g=n.directiveStylingLast;if(-1===g||t[g]!==c)if(i=zp(c,t,n,i,a),null===h){let b=function sw(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==Mo(a))return t[so(a)]}(t,n,a);void 0!==b&&Array.isArray(b)&&(b=zp(null,t,n,b[1],a),b=tu(b,n.attrs,a),function ow(t,n,i,a){t[so(i?n.classBindings:n.styleBindings)]=a}(t,n,a,b))}else h=function aw(t,n,i){let a;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)a=tu(a,t[h].hostAttrs,i);return tu(a,n.attrs,i)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),i}(c,h,n,a),function K1(t,n,i,a,c,h){let g=h?n.classBindings:n.styleBindings,x=so(g),b=Mo(g);t[a]=i;let G,k=!1;if(Array.isArray(i)){const J=i;G=J[1],(null===G||ht(J,G)>0)&&(k=!0)}else G=i;if(c)if(0!==b){const he=so(t[x+1]);t[a+1]=Al(he,x),0!==he&&(t[he+1]=qc(t[he+1],a)),t[x+1]=function hp(t,n){return 131071&t|n<<17}(t[x+1],a)}else t[a+1]=Al(x,0),0!==x&&(t[x+1]=qc(t[x+1],a)),x=a;else t[a+1]=Al(b,0),0===x?x=a:t[b+1]=qc(t[b+1],a),b=a;k&&(t[a+1]=Kc(t[a+1])),uy(t,G,a,!0),uy(t,G,a,!1),function q1(t,n,i,a,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&ht(h,n)>=0&&(i[a+1]=Il(i[a+1]))}(n,G,t,a,h),g=Al(x,b),h?n.classBindings=g:n.styleBindings=g}(c,h,n,i,g,a)}}function zp(t,n,i,a,c){let h=null;const g=i.directiveEnd;let x=i.directiveStylingLast;for(-1===x?x=i.directiveStart:x++;x<g&&(h=n[x],a=tu(a,h.hostAttrs,c),h!==t);)x++;return null!==t&&(i.directiveStylingLast=x),a}function tu(t,n,i){const a=i?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const g=n[h];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ne(t,g,!!i||n[++h]))}return void 0===t?null:t}function xy(t,n,i,a,c,h,g,x){if(!(3&n.type))return;const b=t.data,k=b[x+1];ah(function $d(t){return 1==(1&t)}(k)?Cy(b,n,i,c,Mo(k),g):void 0)||(ah(h)||function jd(t){return 2==(2&t)}(k)&&(h=Cy(b,null,i,c,x,g)),function $f(t,n,i,a,c){if(n)c?t.addClass(i,a):t.removeClass(i,a);else{let h=-1===a.indexOf("-")?void 0:mo.DashCase;null==c?t.removeStyle(i,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=mo.Important),t.setStyle(i,a,c,h))}}(a,g,ri(Kt(),i),c,h))}function Cy(t,n,i,a,c,h){const g=null===n;let x;for(;c>0;){const b=t[c],k=Array.isArray(b),G=k?b[1]:b,J=null===G;let he=i[c+1];he===pn&&(he=J?ft:void 0);let Ee=J?He(he,a):G===a?he:void 0;if(k&&!ah(Ee)&&(Ee=He(b,a)),ah(Ee)&&(x=Ee,g))return x;const $e=t[c+1];c=g?so($e):Mo($e)}if(null!==n){let b=h?n.residualClasses:n.residualStyles;null!=b&&(x=He(b,a))}return x}function ah(t){return void 0!==t}function by(t,n){return 0!=(t.flags&(n?16:32))}function Dy(t,n=""){const i=je(),a=Lt(),c=t+22,h=a.firstCreatePass?Nl(a,c,1,n,null):a.data[c],g=i[c]=function Lc(t,n){return t.createText(n)}(i[11],n);Dl(a,i,g,h),_i(h,!1)}function jp(t){return lh("",t,""),jp}function lh(t,n,i){const a=je(),c=Rl(a,t,n,i);return c!==pn&&function ra(t,n,i){const a=ri(n,t);!function ld(t,n,i){t.setValue(n,i)}(t[11],a,i)}(a,Kt(),c),lh}function $p(t,n,i){const a=je();return Is(a,Sr(),n)&&ao(Lt(),Ht(),a,t,n,a[11],i,!0),$p}function Gp(t,n,i){const a=je();if(Is(a,Sr(),n)){const h=Lt(),g=Ht();ao(h,g,a,t,n,function Om(t,n,i){return(null===t||yr(t))&&(i=function ni(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(i[n.index])),i[11]}(Ys(h.data),g,a),i,!0)}return Gp}const Qa=void 0;var Iw=["en",[["a","p"],["AM","PM"],Qa],[["AM","PM"],Qa,Qa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qa,"{1} 'at' {0}",Qa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Aw(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let $l={};function Wp(t){const n=function Ow(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=jy(n);if(i)return i;const a=n.split("-")[0];if(i=jy(a),i)return i;if("en"===a)return Iw;throw new st(701,!1)}function zy(t){return Wp(t)[en.PluralCase]}function jy(t){return t in $l||($l[t]=ut.ng&&ut.ng.common&&ut.ng.common.locales&&ut.ng.common.locales[t]),$l[t]}var en=(()=>((en=en||{})[en.LocaleId=0]="LocaleId",en[en.DayPeriodsFormat=1]="DayPeriodsFormat",en[en.DayPeriodsStandalone=2]="DayPeriodsStandalone",en[en.DaysFormat=3]="DaysFormat",en[en.DaysStandalone=4]="DaysStandalone",en[en.MonthsFormat=5]="MonthsFormat",en[en.MonthsStandalone=6]="MonthsStandalone",en[en.Eras=7]="Eras",en[en.FirstDayOfWeek=8]="FirstDayOfWeek",en[en.WeekendRange=9]="WeekendRange",en[en.DateFormat=10]="DateFormat",en[en.TimeFormat=11]="TimeFormat",en[en.DateTimeFormat=12]="DateTimeFormat",en[en.NumberSymbols=13]="NumberSymbols",en[en.NumberFormats=14]="NumberFormats",en[en.CurrencyCode=15]="CurrencyCode",en[en.CurrencySymbol=16]="CurrencySymbol",en[en.CurrencyName=17]="CurrencyName",en[en.Currencies=18]="Currencies",en[en.Directionality=19]="Directionality",en[en.PluralCase=20]="PluralCase",en[en.ExtraData=21]="ExtraData",en))();const Gl="en-US";let $y=Gl;function qp(t,n,i,a,c){if(t=Ue(t),Array.isArray(t))for(let h=0;h<t.length;h++)qp(t[h],n,i,a,c);else{const h=Lt(),g=je();let x=Qo(t)?t:Ue(t.provide),b=zu(t);const k=Dn(),G=1048575&k.providerIndexes,J=k.directiveStart,he=k.providerIndexes>>20;if(Qo(t)||!t.multi){const Ee=new H(b,c,Ma),$e=Jp(x,n,c?G:G+he,J);-1===$e?(zt(Vs(k,g),h,x),Zp(h,t,n.length),n.push(x),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),i.push(Ee),g.push(Ee)):(i[$e]=Ee,g[$e]=Ee)}else{const Ee=Jp(x,n,G+he,J),$e=Jp(x,n,G,G+he),lt=Ee>=0&&i[Ee],pt=$e>=0&&i[$e];if(c&&!pt||!c&&!lt){zt(Vs(k,g),h,x);const At=function T_(t,n,i,a,c){const h=new H(t,i,Ma);return h.multi=[],h.index=n,h.componentProviders=0,m0(h,c,a&&!i),h}(c?S_:M_,i.length,c,a,b);!c&&pt&&(i[$e].providerFactory=At),Zp(h,t,n.length,0),n.push(x),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),i.push(At),g.push(At)}else Zp(h,t,Ee>-1?Ee:$e,m0(i[c?$e:Ee],b,!c&&a));!c&&a&&pt&&i[$e].componentProviders++}}}function Zp(t,n,i,a){const c=Qo(n),h=function bo(t){return!!t.useClass}(n);if(c||h){const b=(h?Ue(n.useClass):n).prototype.ngOnDestroy;if(b){const k=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const G=k.indexOf(i);-1===G?k.push(i,[a,b]):k[G+1].push(a,b)}else k.push(i,b)}}}function m0(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Jp(t,n,i,a){for(let c=i;c<a;c++)if(n[c]===t)return c;return-1}function M_(t,n,i,a){return Qp(this.multi,[])}function S_(t,n,i,a){const c=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,x=fs(i,i[1],this.providerFactory.index,a);h=x.slice(0,g),Qp(c,h);for(let b=g;b<x.length;b++)h.push(x[b])}else h=[],Qp(c,h);return h}function Qp(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function y0(t,n=[]){return i=>{i.providersResolver=(a,c)=>function E_(t,n,i){const a=Lt();if(a.firstCreatePass){const c=yr(t);qp(i,a.data,a.blueprint,c,!0),qp(n,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,n)}}class Wl{}class v0{}function A_(t,n){return new w0(t,n??null)}class w0 extends Wl{constructor(n,i){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tp(this);const a=U(n);this._bootstrapComponents=Eo(a.bootstrap),this._r3Injector=Nd(n,i,[{provide:Wl,useValue:this},{provide:ma,useValue:this.componentFactoryResolver}],ge(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Xp extends v0{constructor(n){super(),this.moduleType=n}create(n){return new w0(this.moduleType,n)}}class I_ extends Wl{constructor(n,i,a){super(),this.componentFactoryResolver=new Tp(this),this.instance=null;const c=new Uu([...n,{provide:Wl,useValue:this},{provide:ma,useValue:this.componentFactoryResolver}],i||hc(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function eg(t,n,i=null){return new I_(t,n,i).injector}let O_=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i.id)){const a=Bu(0,i.type),c=a.length>0?eg([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i.id,c)}return this.cachedInjectors.get(i.id)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=mt({token:t,providedIn:"environment",factory:()=>new t(oi(Xo))}),t})();function _0(t){t.getStandaloneInjector=n=>n.get(O_).getOrCreateStandaloneInjector(t)}function S0(t,n,i,a){return N0(je(),on(),t,n,i,a)}function T0(t,n,i,a,c){return function k0(t,n,i,a,c,h,g){const x=n+i;return Ja(t,x,c,h)?Ho(t,x+2,g?a.call(g,c,h):a(c,h)):au(t,x+2)}(je(),on(),t,n,i,a,c)}function A0(t,n,i,a,c,h){return P0(je(),on(),t,n,i,a,c,h)}function I0(t,n,i,a,c,h,g){return function R0(t,n,i,a,c,h,g,x,b){const k=n+i;return vo(t,k,c,h,g,x)?Ho(t,k+4,b?a.call(b,c,h,g,x):a(c,h,g,x)):au(t,k+4)}(je(),on(),t,n,i,a,c,h,g)}function O0(t,n,i,a,c,h,g,x){const b=on()+t,k=je(),G=vo(k,b,i,a,c,h);return Is(k,b+4,g)||G?Ho(k,b+5,x?n.call(x,i,a,c,h,g):n(i,a,c,h,g)):function eu(t,n){return t[n]}(k,b+5)}function au(t,n){const i=t[n];return i===pn?void 0:i}function N0(t,n,i,a,c,h){const g=n+i;return Is(t,g,c)?Ho(t,g+1,h?a.call(h,c):a(c)):au(t,g+1)}function P0(t,n,i,a,c,h,g,x){const b=n+i;return function th(t,n,i,a,c){const h=Ja(t,n,i,a);return Is(t,n+2,c)||h}(t,b,c,h,g)?Ho(t,b+3,x?a.call(x,c,h,g):a(c,h,g)):au(t,b+3)}function L0(t,n){const i=Lt();let a;const c=t+22;i.firstCreatePass?(a=function G_(t,n){if(n)for(let i=n.length-1;i>=0;i--){const a=n[i];if(t===a.name)return a}}(n,i.pipeRegistry),i.data[c]=a,a.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(c,a.onDestroy)):a=i.data[c];const h=a.factory||(a.factory=Vr(a.type)),g=Re(Ma);try{const x=Ar(!1),b=h();return Ar(x),function j1(t,n,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=a}(i,je(),c,b),b}finally{Re(g)}}function B0(t,n,i){const a=t+22,c=je(),h=vr(c,a);return lu(c,a)?N0(c,on(),n,h.transform,i,h):h.transform(i)}function V0(t,n,i,a,c){const h=t+22,g=je(),x=vr(g,h);return lu(g,h)?P0(g,on(),n,x.transform,i,a,c,x):x.transform(i,a,c)}function lu(t,n){return t[1].data[n].pure}function ng(t){return n=>{setTimeout(t,void 0,n)}}const jo=class q_ extends d.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,a){let c=n,h=i||(()=>null),g=a;if(n&&"object"==typeof n){const b=n;c=b.next?.bind(b),h=b.error?.bind(b),g=b.complete?.bind(b)}this.__isAsync&&(h=ng(h),c&&(c=ng(c)),g&&(g=ng(g)));const x=super.subscribe({next:c,error:h,complete:g});return n instanceof T.w0&&n.add(x),x}};function Z_(){return this._results[Za()]()}class fh{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Za(),a=fh.prototype;a[i]||(a[i]=Z_)}get changes(){return this._changes||(this._changes=new jo)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const a=this;a.dirty=!1;const c=Bi(n);(this._changesDetected=!function Zl(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=n[a];if(i&&(c=i(c),h=i(h)),h!==c)return!1}return!0}(a._results,c,i))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let cu=(()=>{class t{}return t.__NG_ELEMENT_ID__=X_,t})();const J_=cu,Q_=class extends J_{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}createEmbeddedView(n,i){const a=this._declarationTContainer.tViews,c=Kd(this._declarationLView,a,n,16,null,a.declTNode,null,null,null,null,i||null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(a)),vp(a,c,n),new Jc(c)}};function X_(){return ph(Dn(),je())}function ph(t,n){return 4&t.type?new Q_(n,t,ya(t,n)):null}let gh=(()=>{class t{}return t.__NG_ELEMENT_ID__=e2,t})();function e2(){return z0(Dn(),je())}const t2=gh,H0=class extends t2{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return ya(this._hostTNode,this._hostLView)}get injector(){return new Ts(this._hostTNode,this._hostLView)}get parentInjector(){const n=Bt(this._hostTNode,this._hostLView);if(qn(n)){const i=zr(n,this._hostLView),a=Zn(n);return new Ts(i[1].data[a+8],i)}return new Ts(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=U0(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const g=n.createEmbeddedView(i||{},h);return this.insert(g,c),g}createComponent(n,i,a,c,h){const g=n&&!function $o(t){return"function"==typeof t}(n);let x;if(g)x=i;else{const J=i||{};x=J.index,a=J.injector,c=J.projectableNodes,h=J.environmentInjector||J.ngModuleRef}const b=g?n:new Qc(L(n)),k=a||this.parentInjector;if(!h&&null==b.ngModule){const he=(g?k:this.parentInjector).get(Xo,null);he&&(h=he)}const G=b.create(k,c,void 0,h);return this.insert(G.hostView,x),G}insert(n,i){const a=n._lView,c=a[1];if(function Bn(t){return Lr(t[3])}(a)){const G=this.indexOf(n);if(-1!==G)this.detach(G);else{const J=a[3],he=new H0(J,J[6],J[3]);he.detach(he.indexOf(n))}}const h=this._adjustIndex(i),g=this._lContainer;!function Vf(t,n,i,a){const c=10+a,h=i.length;a>0&&(i[c-1][4]=n),a<h-10?(n[4]=i[c],rl(i,10+a,n)):(i.push(n),n[4]=null),n[3]=i;const g=n[17];null!==g&&i!==g&&function Ya(t,n){const i=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===i?t[9]=[n]:i.push(n)}(g,n);const x=n[19];null!==x&&x.insertView(t),n[2]|=64}(c,a,g,h);const x=zc(h,g),b=a[11],k=bl(b,g[7]);return null!==k&&function Ff(t,n,i,a,c,h){a[0]=c,a[6]=n,Ka(t,a,i,1,c,h)}(c,g[6],b,a,k,x),n.attachToViewContainerRef(),rl(rg(g),h,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=U0(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=yo(this._lContainer,i);a&&(Fa(rg(this._lContainer),i),ea(a[1],a))}detach(n){const i=this._adjustIndex(n,-1),a=yo(this._lContainer,i);return a&&null!=Fa(rg(this._lContainer),i)?new Jc(a):null}_adjustIndex(n,i=0){return n??this.length+i}};function U0(t){return t[8]}function rg(t){return t[8]||(t[8]=[])}function z0(t,n){let i;const a=n[t.index];if(Lr(a))i=a;else{let c;if(8&t.type)c=ln(a);else{const h=n[11];c=h.createComment("");const g=mn(t,n);ta(h,bl(h,g),c,function Uf(t,n){return t.nextSibling(n)}(h,g),!1)}n[t.index]=i=Tm(a,n,c,t),Zd(n,i)}return new H0(i,t,n)}class ig{constructor(n){this.queryList=n,this.matches=null}clone(){return new ig(this.queryList)}setDirty(){this.queryList.setDirty()}}class sg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let h=0;h<a;h++){const g=i.getByIndex(h);c.push(this.queries[g.indexInDeclarationView].clone())}return new sg(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==J0(n,i).matches&&this.queries[i].setDirty()}}class j0{constructor(n,i,a=null){this.predicate=n,this.flags=i,this.read=a}}class og{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const c=null!==i?i.length:0,h=this.getByIndex(a).embeddedTView(n,c);h&&(h.indexInDeclarationView=a,null!==i?i.push(h):i=[h])}return null!==i?new og(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class ag{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new ag(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(n,i,i2(i,h)),this.matchTNodeWithReadOption(n,i,qs(i,n,h,!1,!1))}else a===cu?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,qs(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Js||c===gh||c===cu&&4&i.type)this.addMatch(i.index,-2);else{const h=qs(i,n,c,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function i2(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function o2(t,n,i,a){return-1===i?function s2(t,n){return 11&t.type?ya(t,n):4&t.type?ph(t,n):null}(n,t):-2===i?function a2(t,n,i){return i===Js?ya(n,t):i===cu?ph(n,t):i===gh?z0(n,t):void 0}(t,n,a):fs(t,t[1],i,n)}function $0(t,n,i,a){const c=n[19].queries[a];if(null===c.matches){const h=t.data,g=i.matches,x=[];for(let b=0;b<g.length;b+=2){const k=g[b];x.push(k<0?null:o2(n,h[k],g[b+1],i.metadata.read))}c.matches=x}return c.matches}function lg(t,n,i,a){const c=t.queries.getByIndex(i),h=c.matches;if(null!==h){const g=$0(t,n,c,i);for(let x=0;x<h.length;x+=2){const b=h[x];if(b>0)a.push(g[x/2]);else{const k=h[x+1],G=n[-b];for(let J=10;J<G.length;J++){const he=G[J];he[17]===he[3]&&lg(he[1],he,k,a)}if(null!==G[9]){const J=G[9];for(let he=0;he<J.length;he++){const Ee=J[he];lg(Ee[1],Ee,k,a)}}}}}return a}function G0(t){const n=je(),i=Lt(),a=Fi();Ks(a+1);const c=J0(i,a);if(t.dirty&&function Hr(t){return 4==(4&t[2])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?lg(i,n,a,[]):$0(i,n,c,a);t.reset(h,vl),t.notifyOnChanges()}return!0}return!1}function W0(t,n,i){const a=Lt();a.firstCreatePass&&(Z0(a,new j0(t,n,i),-1),2==(2&n)&&(a.staticViewQueries=!0)),q0(a,je(),n)}function Y0(t,n,i,a){const c=Lt();if(c.firstCreatePass){const h=Dn();Z0(c,new j0(n,i,a),h.index),function c2(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(c,t),2==(2&i)&&(c.staticContentQueries=!0)}q0(c,je(),i)}function K0(){return function l2(t,n){return t[19].queries[n].queryList}(je(),Fi())}function q0(t,n,i){const a=new fh(4==(4&i));wm(t,n,a,a.destroy),null===n[19]&&(n[19]=new sg),n[19].queries.push(new ig(a))}function Z0(t,n,i){null===t.queries&&(t.queries=new og),t.queries.track(new ag(n,i))}function J0(t,n){return t.queries.getByIndex(n)}function yh(...t){}const mv=new Jn("Application Initializer");let vh=(()=>{class t{constructor(i){this.appInits=i,this.resolve=yh,this.reject=yh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const i=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Lp(h))i.push(h);else if(Km(h)){const g=new Promise((x,b)=>{h.subscribe({complete:x,error:b})});i.push(g)}}Promise.all(i).then(()=>{a()}).catch(c=>{this.reject(c)}),0===i.length&&a(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)(oi(mv,8))},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yv=new Jn("AppId",{providedIn:"root",factory:function vv(){return`${fg()}${fg()}${fg()}`}});function fg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wv=new Jn("Platform Initializer"),I2=new Jn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_v=new Jn("appBootstrapListener"),O2=new Jn("AnimationModuleType");let N2=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const wh=new Jn("LocaleId",{providedIn:"root",factory:()=>Jl(wh,Mt.Optional|Mt.SkipSelf)||function k2(){return typeof $localize<"u"&&$localize.locale||Gl}()}),P2=new Jn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class R2{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let F2=(()=>{class t{compileModuleSync(i){return new Xp(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),h=Eo(U(i).declarations).reduce((g,x)=>{const b=L(x);return b&&g.push(new Qc(b)),g},[]);return new R2(a,h)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const V2=(()=>Promise.resolve(0))();function pg(t){typeof Zone>"u"?V2.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class wo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jo(!1),this.onMicrotaskEmpty=new jo(!1),this.onStable=new jo(!1),this.onError=new jo(!1),typeof Zone>"u")throw new st(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&i,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function H2(){let t=ut.requestAnimationFrame,n=ut.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function j2(t){const n=()=>{!function z2(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ut,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,mg(t),t.isCheckStableRunning=!0,gg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),mg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,c,h,g,x)=>{try{return bv(t),i.invokeTask(c,h,g,x)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),Dv(t)}},onInvoke:(i,a,c,h,g,x,b)=>{try{return bv(t),i.invoke(c,h,g,x,b)}finally{t.shouldCoalesceRunChangeDetection&&n(),Dv(t)}},onHasTask:(i,a,c,h)=>{i.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,mg(t),gg(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(i,a,c,h)=>(i.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wo.isInAngularZone())throw new st(909,!1)}static assertNotInAngularZone(){if(wo.isInAngularZone())throw new st(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,c){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+c,n,U2,yh,yh);try{return h.runTask(g,i,a)}finally{h.cancelTask(g)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const U2={};function gg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Dv(t){t._nesting--,gg(t)}class $2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jo,this.onMicrotaskEmpty=new jo,this.onStable=new jo,this.onError=new jo}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,c){return n.apply(i,a)}}const Ev=new Jn(""),Mv=new Jn("");let yg,G2=(()=>{class t{constructor(i,a,c){this._ngZone=i,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yg||(function W2(t){yg=t}(c),c.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wo.assertNotInAngularZone(),pg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pg(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==h),i(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:i,timeoutId:h,updateCb:c})}whenStable(i,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,c){return[]}}return t.\u0275fac=function(i){return new(i||t)(oi(wo),oi(Sv),oi(Mv))},t.\u0275prov=mt({token:t,factory:t.\u0275fac}),t})(),Sv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return yg?.findTestabilityInTree(this,i,a)??null}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Ia=null;const Tv=new Jn("AllowMultipleToken"),vg=new Jn("PlatformDestroyListeners");class q2{constructor(n,i){this.name=n,this.token=i}}function Iv(t,n,i=[]){const a=`Platform: ${n}`,c=new Jn(a);return(h=[])=>{let g=wg();if(!g||g.injector.get(Tv,!1)){const x=[...i,...h,{provide:c,useValue:!0}];t?t(x):function Z2(t){if(Ia&&!Ia.get(Tv,!1))throw new st(400,!1);Ia=t;const n=t.get(Nv);(function Av(t){const n=t.get(wv,null);n&&n.forEach(i=>i())})(t)}(function Ov(t=[],n){return na.create({name:n,providers:[{provide:dc,useValue:"platform"},{provide:vg,useValue:new Set([()=>Ia=null])},...t]})}(x,a))}return function Q2(t){const n=wg();if(!n)throw new st(401,!1);return n}()}}function wg(){return Ia?.get(Nv)??null}let Nv=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const c=function Pv(t,n){let i;return i="noop"===t?new $2:("zone.js"===t?void 0:t)||new wo(n),i}(a?.ngZone,function kv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:wo,useValue:c}];return c.run(()=>{const g=na.create({providers:h,parent:this.injector,name:i.moduleType.name}),x=i.create(g),b=x.injector.get(va,null);if(!b)throw new st(402,!1);return c.runOutsideAngular(()=>{const k=c.onError.subscribe({next:G=>{b.handleError(G)}});x.onDestroy(()=>{xh(this._modules,x),k.unsubscribe()})}),function Rv(t,n,i){try{const a=i();return Lp(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(b,c,()=>{const k=x.injector.get(vh);return k.runInitializers(),k.donePromise.then(()=>(function Gy(t){Ye(t,"Expected localeId to be defined"),"string"==typeof t&&($y=t.toLowerCase().replace(/_/g,"-"))}(x.injector.get(wh,Gl)||Gl),this._moduleDoBootstrap(x),x))})})}bootstrapModule(i,a=[]){const c=Fv({},a);return function Y2(t,n,i){const a=new Xp(i);return Promise.resolve(a)}(0,0,i).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(i){const a=i.injector.get(_h);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new st(403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new st(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const i=this._injector.get(vg,null);i&&(i.forEach(a=>a()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(oi(na))},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Fv(t,n){return Array.isArray(n)?n.reduce(Fv,t):{...t,...n}}let _h=(()=>{class t{constructor(i,a,c){this._zone=i,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new ue.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),g=new ue.y(x=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{wo.assertNotInAngularZone(),pg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{wo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{b.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ve.T)(h,g.pipe(function Be(t={}){const{connector:n=(()=>new d.x),resetOnError:i=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return h=>{let g,x,b,k=0,G=!1,J=!1;const he=()=>{x?.unsubscribe(),x=void 0},Ee=()=>{he(),g=b=void 0,G=J=!1},$e=()=>{const lt=g;Ee(),lt?.unsubscribe()};return(0,we.e)((lt,pt)=>{k++,!J&&!G&&he();const At=b=b??n();pt.add(()=>{k--,0===k&&!J&&!G&&(x=De($e,c))}),At.subscribe(pt),!g&&k>0&&(g=new Ae.Hp({next:Gt=>At.next(Gt),error:Gt=>{J=!0,he(),x=De(Ee,i,Gt),At.error(Gt)},complete:()=>{G=!0,he(),x=De(Ee,a),At.complete()}}),(0,_e.Xf)(lt).subscribe(g))})(h)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,a){const c=i instanceof mc;if(!this._injector.get(vh).done)throw!c&&j(i),new st(405,false);let g;g=c?i:this._injector.get(ma).resolveComponentFactory(i),this.componentTypes.push(g.componentType);const x=function K2(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Wl),k=g.create(na.NULL,[],a||g.selector,x),G=k.location.nativeElement,J=k.injector.get(Ev,null);return J?.registerApplication(G),k.onDestroy(()=>{this.detachView(k.hostView),xh(this.components,k),J?.unregisterApplication(G)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new st(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;xh(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(_v,[]).concat(this._bootstrapListeners).forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>xh(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new st(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(i){return new(i||t)(oi(wo),oi(Xo),oi(va))},t.\u0275prov=mt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function xh(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}let Bv=!0;function ex(){Bv=!1}let tx=(()=>{class t{}return t.__NG_ELEMENT_ID__=nx,t})();function nx(t){return function rx(t,n,i){if(es(t)&&!i){const a=fr(t.index,n);return new Jc(a,a)}return 47&t.type?new Jc(n[16],n):null}(Dn(),je(),16==(16&t))}class jv{constructor(){}supports(n){return Xc(n)}create(n){return new cx(n)}}const lx=(t,n)=>n;class cx{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||lx}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,c=0,h=null;for(;i||a;){const g=!a||i&&i.currentIndex<Gv(a,c,h)?i:a,x=Gv(g,c,h),b=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(i=i._next,null==g.previousIndex)c++;else{h||(h=[]);const k=x-c,G=b-c;if(k!=G){for(let he=0;he<k;he++){const Ee=he<h.length?h[he]:h[he]=0,$e=Ee+he;G<=$e&&$e<k&&(h[he]=Ee+1)}h[g.previousIndex]=G-k}}x!==b&&n(g,x,b)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Xc(n))throw new st(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,g,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let x=0;x<this.length;x++)h=n[x],g=this._trackByFn(x,h),null!==i&&Object.is(i.trackById,g)?(a&&(i=this._verifyReinsertion(i,h,g,x)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,g,x),a=!0),i=i._next}else c=0,function V1(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Za()]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,x=>{g=this._trackByFn(c,x),null!==i&&Object.is(i.trackById,g)?(a&&(i=this._verifyReinsertion(i,x,g,c)),Object.is(i.item,x)||this._addIdentityChange(i,x)):(i=this._mismatch(i,x,g,c),a=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,c)):n=this._addAfter(new ux(i,a),h,c),n}_verifyReinsertion(n,i,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new $v),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $v),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class ux{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dx{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class $v{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new dx,this.map.set(i,a)),a.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gv(t,n,i){const a=t.previousIndex;if(null===a)return a;let c=0;return i&&a<i.length&&(c=i[a]),a+n+c}class Wv{constructor(){}supports(n){return n instanceof Map||Op(n)}create(){return new hx}}class hx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Op(n)))throw new st(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(c,a);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const h=c._prev,g=c._next;return h&&(h._next=g),g&&(g._prev=h),c._next=null,c._prev=null,c}const a=new fx(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class fx{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yv(){return new Dg([new jv])}let Dg=(()=>{class t{constructor(i){this.factories=i}static create(i,a){if(null!=a){const c=a.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Yv()),deps:[[t,new Va,new Ba]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(null!=a)return a;throw new st(901,!1)}}return t.\u0275prov=mt({token:t,providedIn:"root",factory:Yv}),t})();function Kv(){return new Eg([new Wv])}let Eg=(()=>{class t{constructor(i){this.factories=i}static create(i,a){if(a){const c=a.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Kv()),deps:[[t,new Va,new Ba]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(a)return a;throw new st(901,!1)}}return t.\u0275prov=mt({token:t,providedIn:"root",factory:Kv}),t})();const mx=Iv(null,"core",[]);let yx=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(oi(_h))},t.\u0275mod=Wr({type:t}),t.\u0275inj=Un({}),t})();function vx(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function _x(t,n){const i=L(t),a=n.elementInjector||hc();return new Qc(i).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}},433:(_t,Le,z)=>{z.d(Le,{Wl:()=>ct,Fj:()=>de,Oe:()=>je,CE:()=>qr,qu:()=>Dn,NI:()=>Fr,oH:()=>un,u:()=>Pi,cw:()=>j,sg:()=>Ft,u5:()=>Fs,nD:()=>Ot,wO:()=>Mr,JU:()=>Te,a5:()=>Rn,JJ:()=>Re,JL:()=>re,F:()=>ar,On:()=>bi,YN:()=>is,wV:()=>zi,UX:()=>Tn,Q7:()=>fr,EJ:()=>wi,kI:()=>xe,_Y:()=>ts,Kr:()=>Rs});var d=z(1571),T=z(6895),ue=z(2076),ve=z(9751),_e=z(4742),Ae=z(8421),we=z(3269),Be=z(5403),De=z(3268),me=z(1810),ge=z(4004);let at=(()=>{class N{constructor(S,Y){this._renderer=S,this._elementRef=Y,this.onChange=Ie=>{},this.onTouched=()=>{}}setProperty(S,Y){this._renderer.setProperty(this._elementRef.nativeElement,S,Y)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(d.Qsj),d.Y36(d.SBq))},N.\u0275dir=d.lG2({type:N}),N})(),fe=(()=>{class N extends at{}return N.\u0275fac=function(){let I;return function(Y){return(I||(I=d.n5z(N)))(Y||N)}}(),N.\u0275dir=d.lG2({type:N,features:[d.qOj]}),N})();const Te=new d.OlP("NgValueAccessor"),Ue={provide:Te,useExisting:(0,d.Gpc)(()=>ct),multi:!0};let ct=(()=>{class N extends fe{writeValue(S){this.setProperty("checked",S)}}return N.\u0275fac=function(){let I;return function(Y){return(I||(I=d.n5z(N)))(Y||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(S,Y){1&S&&d.NdJ("change",function(wt){return Y.onChange(wt.target.checked)})("blur",function(){return Y.onTouched()})},features:[d._Bn([Ue]),d.qOj]}),N})();const it={provide:Te,useExisting:(0,d.Gpc)(()=>de),multi:!0},qe=new d.OlP("CompositionEventMode");let de=(()=>{class N extends at{constructor(S,Y,Ie){super(S,Y),this._compositionMode=Ie,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function st(){const N=(0,T.q)()?(0,T.q)().getUserAgent():"";return/android (\d+)/.test(N.toLowerCase())}())}writeValue(S){this.setProperty("value",S??"")}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(qe,8))},N.\u0275dir=d.lG2({type:N,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,Y){1&S&&d.NdJ("input",function(wt){return Y._handleInput(wt.target.value)})("blur",function(){return Y.onTouched()})("compositionstart",function(){return Y._compositionStart()})("compositionend",function(wt){return Y._compositionEnd(wt.target.value)})},features:[d._Bn([it]),d.qOj]}),N})();function tt(N){return null==N||("string"==typeof N||Array.isArray(N))&&0===N.length}function It(N){return null!=N&&"number"==typeof N.length}const ot=new d.OlP("NgValidators"),We=new d.OlP("NgAsyncValidators"),et=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xe{static min(I){return function Ce(N){return I=>{if(tt(I.value)||tt(N))return null;const S=parseFloat(I.value);return!isNaN(S)&&S<N?{min:{min:N,actual:I.value}}:null}}(I)}static max(I){return function Ve(N){return I=>{if(tt(I.value)||tt(N))return null;const S=parseFloat(I.value);return!isNaN(S)&&S>N?{max:{max:N,actual:I.value}}:null}}(I)}static required(I){return be(I)}static requiredTrue(I){return function Je(N){return!0===N.value?null:{required:!0}}(I)}static email(I){return function Qe(N){return tt(N.value)||et.test(N.value)?null:{email:!0}}(I)}static minLength(I){return Vt(I)}static maxLength(I){return jt(I)}static pattern(I){return function En(N){if(!N)return Rt;let I,S;return"string"==typeof N?(S="","^"!==N.charAt(0)&&(S+="^"),S+=N,"$"!==N.charAt(N.length-1)&&(S+="$"),I=new RegExp(S)):(S=N.toString(),I=N),Y=>{if(tt(Y.value))return null;const Ie=Y.value;return I.test(Ie)?null:{pattern:{requiredPattern:S,actualValue:Ie}}}}(I)}static nullValidator(I){return null}static compose(I){return qt(I)}static composeAsync(I){return $n(I)}}function be(N){return tt(N.value)?{required:!0}:null}function Vt(N){return I=>tt(I.value)||!It(I.value)?null:I.value.length<N?{minlength:{requiredLength:N,actualLength:I.value.length}}:null}function jt(N){return I=>It(I.value)&&I.value.length>N?{maxlength:{requiredLength:N,actualLength:I.value.length}}:null}function Rt(N){return null}function Pn(N){return null!=N}function Ze(N){return(0,d.QGY)(N)?(0,ue.D)(N):N}function Ye(N){let I={};return N.forEach(S=>{I=null!=S?{...I,...S}:I}),0===Object.keys(I).length?null:I}function pe(N,I){return I.map(S=>S(N))}function dt(N){return N.map(I=>function Pe(N){return!N.validate}(I)?I:S=>I.validate(S))}function qt(N){if(!N)return null;const I=N.filter(Pn);return 0==I.length?null:function(S){return Ye(pe(S,I))}}function mt(N){return null!=N?qt(dt(N)):null}function $n(N){if(!N)return null;const I=N.filter(Pn);return 0==I.length?null:function(S){return function Se(...N){const I=(0,we.jO)(N),{args:S,keys:Y}=(0,_e.D)(N),Ie=new ve.y(wt=>{const{length:on}=S;if(!on)return void wt.complete();const Fn=new Array(on);let Si=on,Sr=on;for(let Jr=0;Jr<on;Jr++){let Ms=!1;(0,Ae.Xf)(S[Jr]).subscribe((0,Be.x)(wt,Ls=>{Ms||(Ms=!0,Sr--),Fn[Jr]=Ls},()=>Si--,void 0,()=>{(!Si||!Ms)&&(Sr||wt.next(Y?(0,me.n)(Y,Fn):Fn),wt.complete())}))}});return I?Ie.pipe((0,De.Z)(I)):Ie}(pe(S,I).map(Ze)).pipe((0,ge.U)(Ye))}}function Un(N){return null!=N?$n(dt(N)):null}function zn(N,I){return null===N?[I]:Array.isArray(N)?[...N,I]:[N,I]}function rr(N){return N._rawValidators}function Xn(N){return N._rawAsyncValidators}function On(N){return N?Array.isArray(N)?N:[N]:[]}function Cr(N,I){return Array.isArray(N)?N.includes(I):N===I}function gr(N,I){const S=On(I);return On(N).forEach(Ie=>{Cr(S,Ie)||S.push(Ie)}),S}function Mn(N,I){return On(I).filter(S=>!Cr(N,S))}class ir{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(I){this._rawValidators=I||[],this._composedValidatorFn=mt(this._rawValidators)}_setAsyncValidators(I){this._rawAsyncValidators=I||[],this._composedAsyncValidatorFn=Un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(I){this._onDestroyCallbacks.push(I)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(I=>I()),this._onDestroyCallbacks=[]}reset(I){this.control&&this.control.reset(I)}hasError(I,S){return!!this.control&&this.control.hasError(I,S)}getError(I,S){return this.control?this.control.getError(I,S):null}}class Yt extends ir{get formDirective(){return null}get path(){return null}}class Rn extends ir{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Mt{constructor(I){this._cd=I}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Re=(()=>{class N extends Mt{constructor(S){super(S)}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(Rn,2))},N.\u0275dir=d.lG2({type:N,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,Y){2&S&&d.ekj("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)},features:[d.qOj]}),N})(),re=(()=>{class N extends Mt{constructor(S){super(S)}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(Yt,10))},N.\u0275dir=d.lG2({type:N,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,Y){2&S&&d.ekj("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)("ng-submitted",Y.isSubmitted)},features:[d.qOj]}),N})();const Hn="VALID",kr="INVALID",or="PENDING",tr="DISABLED";function Wr(N){return(Pr(N)?N.validators:N)||null}function ai(N){return Array.isArray(N)?mt(N):N||null}function yi(N,I){return(Pr(I)?I.asyncValidators:N)||null}function hr(N){return Array.isArray(N)?Un(N):N||null}function Pr(N){return null!=N&&!Array.isArray(N)&&"object"==typeof N}function L(N,I,S){const Y=N.controls;if(!(I?Object.keys(Y):Y).length)throw new d.vHH(1e3,"");if(!Y[S])throw new d.vHH(1001,"")}function K(N,I,S){N._forEachChild((Y,Ie)=>{if(void 0===S[Ie])throw new d.vHH(1002,"")})}class F{constructor(I,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=I,this._rawAsyncValidators=S,this._composedValidatorFn=ai(this._rawValidators),this._composedAsyncValidatorFn=hr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(I){this._rawValidators=this._composedValidatorFn=I}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(I){this._rawAsyncValidators=this._composedAsyncValidatorFn=I}get parent(){return this._parent}get valid(){return this.status===Hn}get invalid(){return this.status===kr}get pending(){return this.status==or}get disabled(){return this.status===tr}get enabled(){return this.status!==tr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(I){this._rawValidators=I,this._composedValidatorFn=ai(I)}setAsyncValidators(I){this._rawAsyncValidators=I,this._composedAsyncValidatorFn=hr(I)}addValidators(I){this.setValidators(gr(I,this._rawValidators))}addAsyncValidators(I){this.setAsyncValidators(gr(I,this._rawAsyncValidators))}removeValidators(I){this.setValidators(Mn(I,this._rawValidators))}removeAsyncValidators(I){this.setAsyncValidators(Mn(I,this._rawAsyncValidators))}hasValidator(I){return Cr(this._rawValidators,I)}hasAsyncValidator(I){return Cr(this._rawAsyncValidators,I)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(I={}){this.touched=!0,this._parent&&!I.onlySelf&&this._parent.markAsTouched(I)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(I=>I.markAllAsTouched())}markAsUntouched(I={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!I.onlySelf&&this._parent._updateTouched(I)}markAsDirty(I={}){this.pristine=!1,this._parent&&!I.onlySelf&&this._parent.markAsDirty(I)}markAsPristine(I={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!I.onlySelf&&this._parent._updatePristine(I)}markAsPending(I={}){this.status=or,!1!==I.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!I.onlySelf&&this._parent.markAsPending(I)}disable(I={}){const S=this._parentMarkedDirty(I.onlySelf);this.status=tr,this.errors=null,this._forEachChild(Y=>{Y.disable({...I,onlySelf:!0})}),this._updateValue(),!1!==I.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...I,skipPristineCheck:S}),this._onDisabledChange.forEach(Y=>Y(!0))}enable(I={}){const S=this._parentMarkedDirty(I.onlySelf);this.status=Hn,this._forEachChild(Y=>{Y.enable({...I,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:I.emitEvent}),this._updateAncestors({...I,skipPristineCheck:S}),this._onDisabledChange.forEach(Y=>Y(!1))}_updateAncestors(I){this._parent&&!I.onlySelf&&(this._parent.updateValueAndValidity(I),I.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(I){this._parent=I}getRawValue(){return this.value}updateValueAndValidity(I={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hn||this.status===or)&&this._runAsyncValidator(I.emitEvent)),!1!==I.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!I.onlySelf&&this._parent.updateValueAndValidity(I)}_updateTreeValidity(I={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(I)),this.updateValueAndValidity({onlySelf:!0,emitEvent:I.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tr:Hn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(I){if(this.asyncValidator){this.status=or,this._hasOwnPendingAsyncValidator=!0;const S=Ze(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(Y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Y,{emitEvent:I})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(I,S={}){this.errors=I,this._updateControlsErrors(!1!==S.emitEvent)}get(I){let S=I;return null==S||(Array.isArray(S)||(S=S.split(".")),0===S.length)?null:S.reduce((Y,Ie)=>Y&&Y._find(Ie),this)}getError(I,S){const Y=S?this.get(S):this;return Y&&Y.errors?Y.errors[I]:null}hasError(I,S){return!!this.getError(I,S)}get root(){let I=this;for(;I._parent;)I=I._parent;return I}_updateControlsErrors(I){this.status=this._calculateStatus(),I&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(I)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?tr:this.errors?kr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(or)?or:this._anyControlsHaveStatus(kr)?kr:Hn}_anyControlsHaveStatus(I){return this._anyControls(S=>S.status===I)}_anyControlsDirty(){return this._anyControls(I=>I.dirty)}_anyControlsTouched(){return this._anyControls(I=>I.touched)}_updatePristine(I={}){this.pristine=!this._anyControlsDirty(),this._parent&&!I.onlySelf&&this._parent._updatePristine(I)}_updateTouched(I={}){this.touched=this._anyControlsTouched(),this._parent&&!I.onlySelf&&this._parent._updateTouched(I)}_registerOnCollectionChange(I){this._onCollectionChange=I}_setUpdateStrategy(I){Pr(I)&&null!=I.updateOn&&(this._updateOn=I.updateOn)}_parentMarkedDirty(I){return!I&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(I){return null}}class j extends F{constructor(I,S,Y){super(Wr(S),yi(Y,S)),this.controls=I,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(I,S){return this.controls[I]?this.controls[I]:(this.controls[I]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(I,S,Y={}){this.registerControl(I,S),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}removeControl(I,S={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),delete this.controls[I],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(I,S,Y={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),delete this.controls[I],S&&this.registerControl(I,S),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}contains(I){return this.controls.hasOwnProperty(I)&&this.controls[I].enabled}setValue(I,S={}){K(this,0,I),Object.keys(I).forEach(Y=>{L(this,!0,Y),this.controls[Y].setValue(I[Y],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(I,S={}){null!=I&&(Object.keys(I).forEach(Y=>{const Ie=this.controls[Y];Ie&&Ie.patchValue(I[Y],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(I={},S={}){this._forEachChild((Y,Ie)=>{Y.reset(I[Ie],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(I,S,Y)=>(I[Y]=S.getRawValue(),I))}_syncPendingControls(){let I=this._reduceChildren(!1,(S,Y)=>!!Y._syncPendingControls()||S);return I&&this.updateValueAndValidity({onlySelf:!0}),I}_forEachChild(I){Object.keys(this.controls).forEach(S=>{const Y=this.controls[S];Y&&I(Y,S)})}_setUpControls(){this._forEachChild(I=>{I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(I){for(const[S,Y]of Object.entries(this.controls))if(this.contains(S)&&I(Y))return!0;return!1}_reduceValue(){return this._reduceChildren({},(S,Y,Ie)=>((Y.enabled||this.disabled)&&(S[Ie]=Y.value),S))}_reduceChildren(I,S){let Y=I;return this._forEachChild((Ie,wt)=>{Y=S(Y,Ie,wt)}),Y}_allControlsDisabled(){for(const I of Object.keys(this.controls))if(this.controls[I].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(I){return this.controls.hasOwnProperty(I)?this.controls[I]:null}}class Z extends j{}function ke(N,I){return[...I.path,N]}function Xe(N,I){Pt(N,I),I.valueAccessor.writeValue(N.value),N.disabled&&I.valueAccessor.setDisabledState?.(!0),function an(N,I){I.valueAccessor.registerOnChange(S=>{N._pendingValue=S,N._pendingChange=!0,N._pendingDirty=!0,"change"===N.updateOn&&nn(N,I)})}(N,I),function Zt(N,I){const S=(Y,Ie)=>{I.valueAccessor.writeValue(Y),Ie&&I.viewToModelUpdate(Y)};N.registerOnChange(S),I._registerOnDestroy(()=>{N._unregisterOnChange(S)})}(N,I),function Dt(N,I){I.valueAccessor.registerOnTouched(()=>{N._pendingTouched=!0,"blur"===N.updateOn&&N._pendingChange&&nn(N,I),"submit"!==N.updateOn&&N.markAsTouched()})}(N,I),function Sn(N,I){if(I.valueAccessor.setDisabledState){const S=Y=>{I.valueAccessor.setDisabledState(Y)};N.registerOnDisabledChange(S),I._registerOnDestroy(()=>{N._unregisterOnDisabledChange(S)})}}(N,I)}function yt(N,I,S=!0){const Y=()=>{};I.valueAccessor&&(I.valueAccessor.registerOnChange(Y),I.valueAccessor.registerOnTouched(Y)),St(N,I),N&&(I._invokeOnDestroyCallbacks(),N._registerOnCollectionChange(()=>{}))}function kt(N,I){N.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(I)})}function Pt(N,I){const S=rr(N);null!==I.validator?N.setValidators(zn(S,I.validator)):"function"==typeof S&&N.setValidators([S]);const Y=Xn(N);null!==I.asyncValidator?N.setAsyncValidators(zn(Y,I.asyncValidator)):"function"==typeof Y&&N.setAsyncValidators([Y]);const Ie=()=>N.updateValueAndValidity();kt(I._rawValidators,Ie),kt(I._rawAsyncValidators,Ie)}function St(N,I){let S=!1;if(null!==N){if(null!==I.validator){const Ie=rr(N);if(Array.isArray(Ie)&&Ie.length>0){const wt=Ie.filter(on=>on!==I.validator);wt.length!==Ie.length&&(S=!0,N.setValidators(wt))}}if(null!==I.asyncValidator){const Ie=Xn(N);if(Array.isArray(Ie)&&Ie.length>0){const wt=Ie.filter(on=>on!==I.asyncValidator);wt.length!==Ie.length&&(S=!0,N.setAsyncValidators(wt))}}}const Y=()=>{};return kt(I._rawValidators,Y),kt(I._rawAsyncValidators,Y),S}function nn(N,I){N._pendingDirty&&N.markAsDirty(),N.setValue(N._pendingValue,{emitModelToViewChange:!1}),I.viewToModelUpdate(N._pendingValue),N._pendingChange=!1}function Gn(N,I){Pt(N,I)}function Yr(N,I){if(!N.hasOwnProperty("model"))return!1;const S=N.model;return!!S.isFirstChange()||!Object.is(I,S.currentValue)}function vn(N,I){N._syncPendingControls(),I.forEach(S=>{const Y=S.control;"submit"===Y.updateOn&&Y._pendingChange&&(S.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1)})}function vs(N,I){if(!I)return null;let S,Y,Ie;return Array.isArray(I),I.forEach(wt=>{wt.constructor===de?S=wt:function Xi(N){return Object.getPrototypeOf(N.constructor)===fe}(wt)?Y=wt:Ie=wt}),Ie||Y||S||null}const Ci={provide:Yt,useExisting:(0,d.Gpc)(()=>ar)},Rr=(()=>Promise.resolve())();let ar=(()=>{class N extends Yt{constructor(S,Y){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new j({},mt(S),Un(Y))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){Rr.then(()=>{const Y=this._findContainer(S.path);S.control=Y.registerControl(S.name,S.control),Xe(S.control,S),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){Rr.then(()=>{const Y=this._findContainer(S.path);Y&&Y.removeControl(S.name),this._directives.delete(S)})}addFormGroup(S){Rr.then(()=>{const Y=this._findContainer(S.path),Ie=new j({});Gn(Ie,S),Y.registerControl(S.name,Ie),Ie.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){Rr.then(()=>{const Y=this._findContainer(S.path);Y&&Y.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,Y){Rr.then(()=>{this.form.get(S.path).setValue(Y)})}setValue(S){this.control.setValue(S)}onSubmit(S){return this.submitted=!0,vn(this.form,this._directives),this.ngSubmit.emit(S),"dialog"===S?.target?.method}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(ot,10),d.Y36(We,10))},N.\u0275dir=d.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,Y){1&S&&d.NdJ("submit",function(wt){return Y.onSubmit(wt)})("reset",function(){return Y.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Ci]),d.qOj]}),N})();function Kr(N,I){const S=N.indexOf(I);S>-1&&N.splice(S,1)}function xn(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}const Fr=class extends F{constructor(I=null,S,Y){super(Wr(S),yi(Y,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(I),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pr(S)&&(S.nonNullable||S.initialValueIsDefault)&&(this.defaultValue=xn(I)?I.value:I)}setValue(I,S={}){this.value=this._pendingValue=I,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(Y=>Y(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(I,S={}){this.setValue(I,S)}reset(I=this.defaultValue,S={}){this._applyFormState(I),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(I){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(I){this._onChange.push(I)}_unregisterOnChange(I){Kr(this._onChange,I)}registerOnDisabledChange(I){this._onDisabledChange.push(I)}_unregisterOnDisabledChange(I){Kr(this._onDisabledChange,I)}_forEachChild(I){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(I){xn(I)?(this.value=this._pendingValue=I.value,I.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=I}};let Ui=(()=>{class N extends Yt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ke(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return N.\u0275fac=function(){let I;return function(Y){return(I||(I=d.n5z(N)))(Y||N)}}(),N.\u0275dir=d.lG2({type:N,features:[d.qOj]}),N})();const eo={provide:Rn,useExisting:(0,d.Gpc)(()=>bi)},to=(()=>Promise.resolve())();let bi=(()=>{class N extends Rn{constructor(S,Y,Ie,wt,on){super(),this._changeDetectorRef=on,this.control=new Fr,this._registered=!1,this.update=new d.vpe,this._parent=S,this._setValidators(Y),this._setAsyncValidators(Ie),this.valueAccessor=vs(0,wt)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const Y=S.name.previousValue;this.formDirective.removeControl({name:Y,path:this._getPath(Y)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),Yr(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xe(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){to.then(()=>{this.control.setValue(S,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(S){const Y=S.isDisabled.currentValue,Ie=0!==Y&&(0,d.D6c)(Y);to.then(()=>{Ie&&!this.control.disabled?this.control.disable():!Ie&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(S){return this._parent?ke(S,this._parent):[S]}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(Yt,9),d.Y36(ot,10),d.Y36(We,10),d.Y36(Te,10),d.Y36(d.sBO,8))},N.\u0275dir=d.lG2({type:N,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([eo]),d.qOj,d.TTD]}),N})(),ts=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=d.lG2({type:N,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),N})();const Ns={provide:Te,useExisting:(0,d.Gpc)(()=>zi),multi:!0};let zi=(()=>{class N extends fe{writeValue(S){this.setProperty("value",S??"")}registerOnChange(S){this.onChange=Y=>{S(""==Y?null:parseFloat(Y))}}}return N.\u0275fac=function(){let I;return function(Y){return(I||(I=d.n5z(N)))(Y||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(S,Y){1&S&&d.NdJ("input",function(wt){return Y.onChange(wt.target.value)})("blur",function(){return Y.onTouched()})},features:[d._Bn([Ns]),d.qOj]}),N})(),Dr=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=d.oAB({type:N}),N.\u0275inj=d.cJS({}),N})();const Br=new d.OlP("NgModelWithFormControlWarning"),Cs={provide:Rn,useExisting:(0,d.Gpc)(()=>un)};let un=(()=>{class N extends Rn{constructor(S,Y,Ie,wt){super(),this._ngModelWarningConfig=wt,this.update=new d.vpe,this._ngModelWarningSent=!1,this._setValidators(S),this._setAsyncValidators(Y),this.valueAccessor=vs(0,Ie)}set isDisabled(S){}ngOnChanges(S){if(this._isControlChanged(S)){const Y=S.form.previousValue;Y&&yt(Y,this,!1),Xe(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Yr(S,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&yt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_isControlChanged(S){return S.hasOwnProperty("form")}}return N._ngModelWarningSentOnce=!1,N.\u0275fac=function(S){return new(S||N)(d.Y36(ot,10),d.Y36(We,10),d.Y36(Te,10),d.Y36(Br,8))},N.\u0275dir=d.lG2({type:N,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[d._Bn([Cs]),d.qOj,d.TTD]}),N})();const ci={provide:Yt,useExisting:(0,d.Gpc)(()=>Ft)};let Ft=(()=>{class N extends Yt{constructor(S,Y){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(S),this._setAsyncValidators(Y)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(St(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const Y=this.form.get(S.path);return Xe(Y,S),Y.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),Y}getControl(S){return this.form.get(S.path)}removeControl(S){yt(S.control||null,S,!1),function Os(N,I){const S=N.indexOf(I);S>-1&&N.splice(S,1)}(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,Y){this.form.get(S.path).setValue(Y)}onSubmit(S){return this.submitted=!0,vn(this.form,this.directives),this.ngSubmit.emit(S),"dialog"===S?.target?.method}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_updateDomValue(){this.directives.forEach(S=>{const Y=S.control,Ie=this.form.get(S.path);Y!==Ie&&(yt(Y||null,S),(N=>N instanceof Fr)(Ie)&&(Xe(Ie,S),S.control=Ie))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const Y=this.form.get(S.path);Gn(Y,S),Y.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const Y=this.form.get(S.path);Y&&function Wn(N,I){return St(N,I)}(Y,S)&&Y.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pt(this.form,this),this._oldForm&&St(this._oldForm,this)}_checkFormPresent(){}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(ot,10),d.Y36(We,10))},N.\u0275dir=d.lG2({type:N,selectors:[["","formGroup",""]],hostBindings:function(S,Y){1&S&&d.NdJ("submit",function(wt){return Y.onSubmit(wt)})("reset",function(){return Y.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([ci]),d.qOj,d.TTD]}),N})();const bs={provide:Yt,useExisting:(0,d.Gpc)(()=>Er)};let Er=(()=>{class N extends Ui{constructor(S,Y,Ie){super(),this._parent=S,this._setValidators(Y),this._setAsyncValidators(Ie)}_checkParentType(){$i(this._parent)}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(Yt,13),d.Y36(ot,10),d.Y36(We,10))},N.\u0275dir=d.lG2({type:N,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[d._Bn([bs]),d.qOj]}),N})();const Vr={provide:Yt,useExisting:(0,d.Gpc)(()=>qr)};let qr=(()=>{class N extends Yt{constructor(S,Y,Ie){super(),this._parent=S,this._setValidators(Y),this._setAsyncValidators(Ie)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ke(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){$i(this._parent)}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(Yt,13),d.Y36(ot,10),d.Y36(We,10))},N.\u0275dir=d.lG2({type:N,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[d._Bn([Vr]),d.qOj]}),N})();function $i(N){return!(N instanceof Er||N instanceof Ft||N instanceof qr)}const Gi={provide:Rn,useExisting:(0,d.Gpc)(()=>Pi)};let Pi=(()=>{class N extends Rn{constructor(S,Y,Ie,wt,on){super(),this._ngModelWarningConfig=on,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=S,this._setValidators(Y),this._setAsyncValidators(Ie),this.valueAccessor=vs(0,wt)}set isDisabled(S){}ngOnChanges(S){this._added||this._setUpControl(),Yr(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return ke(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return N._ngModelWarningSentOnce=!1,N.\u0275fac=function(S){return new(S||N)(d.Y36(Yt,13),d.Y36(ot,10),d.Y36(We,10),d.Y36(Te,10),d.Y36(Br,8))},N.\u0275dir=d.lG2({type:N,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Gi]),d.qOj,d.TTD]}),N})();const rs={provide:Te,useExisting:(0,d.Gpc)(()=>wi),multi:!0};function Wi(N,I){return null==N?`${I}`:(I&&"object"==typeof I&&(I="Object"),`${N}: ${I}`.slice(0,50))}let wi=(()=>{class N extends fe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){this.value=S;const Ie=Wi(this._getOptionId(S),S);this.setProperty("value",Ie)}registerOnChange(S){this.onChange=Y=>{this.value=this._getOptionValue(Y),S(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(S){for(const Y of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Y),S))return Y;return null}_getOptionValue(S){const Y=function ks(N){return N.split(":")[0]}(S);return this._optionMap.has(Y)?this._optionMap.get(Y):S}}return N.\u0275fac=function(){let I;return function(Y){return(I||(I=d.n5z(N)))(Y||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(S,Y){1&S&&d.NdJ("change",function(wt){return Y.onChange(wt.target.value)})("blur",function(){return Y.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([rs]),d.qOj]}),N})(),is=(()=>{class N{constructor(S,Y,Ie){this._element=S,this._renderer=Y,this._select=Ie,this._select&&(this.id=this._select._registerOption())}set ngValue(S){null!=this._select&&(this._select._optionMap.set(this.id,S),this._setElementValue(Wi(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._setElementValue(S),this._select&&this._select.writeValue(this._select.value)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(wi,9))},N.\u0275dir=d.lG2({type:N,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),N})();const Ps={provide:Te,useExisting:(0,d.Gpc)(()=>ui),multi:!0};function lr(N,I){return null==N?`${I}`:("string"==typeof I&&(I=`'${I}'`),I&&"object"==typeof I&&(I="Object"),`${N}: ${I}`.slice(0,50))}let ui=(()=>{class N extends fe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){let Y;if(this.value=S,Array.isArray(S)){const Ie=S.map(wt=>this._getOptionId(wt));Y=(wt,on)=>{wt._setSelected(Ie.indexOf(on.toString())>-1)}}else Y=(Ie,wt)=>{Ie._setSelected(!1)};this._optionMap.forEach(Y)}registerOnChange(S){this.onChange=Y=>{const Ie=[],wt=Y.selectedOptions;if(void 0!==wt){const on=wt;for(let Fn=0;Fn<on.length;Fn++){const Sr=this._getOptionValue(on[Fn].value);Ie.push(Sr)}}else{const on=Y.options;for(let Fn=0;Fn<on.length;Fn++){const Si=on[Fn];if(Si.selected){const Sr=this._getOptionValue(Si.value);Ie.push(Sr)}}}this.value=Ie,S(Ie)}}_registerOption(S){const Y=(this._idCounter++).toString();return this._optionMap.set(Y,S),Y}_getOptionId(S){for(const Y of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Y)._value,S))return Y;return null}_getOptionValue(S){const Y=function Ri(N){return N.split(":")[0]}(S);return this._optionMap.has(Y)?this._optionMap.get(Y)._value:S}}return N.\u0275fac=function(){let I;return function(Y){return(I||(I=d.n5z(N)))(Y||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(S,Y){1&S&&d.NdJ("change",function(wt){return Y.onChange(wt.target)})("blur",function(){return Y.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([Ps]),d.qOj]}),N})(),Rs=(()=>{class N{constructor(S,Y,Ie){this._element=S,this._renderer=Y,this._select=Ie,this._select&&(this.id=this._select._registerOption(this))}set ngValue(S){null!=this._select&&(this._value=S,this._setElementValue(lr(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._select?(this._value=S,this._setElementValue(lr(this.id,S)),this._select.writeValue(this._select.value)):this._setElementValue(S)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}_setSelected(S){this._renderer.setProperty(this._element.nativeElement,"selected",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return N.\u0275fac=function(S){return new(S||N)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(ui,9))},N.\u0275dir=d.lG2({type:N,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),N})();function di(N){return"number"==typeof N?N:parseInt(N,10)}let ni=(()=>{class N{constructor(){this._validator=Rt}ngOnChanges(S){if(this.inputName in S){const Y=this.normalizeInput(S[this.inputName].currentValue);this._enabled=this.enabled(Y),this._validator=this._enabled?this.createValidator(Y):Rt,this._onChange&&this._onChange()}}validate(S){return this._validator(S)}registerOnValidatorChange(S){this._onChange=S}enabled(S){return null!=S}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=d.lG2({type:N,features:[d.TTD]}),N})();const Di={provide:ot,useExisting:(0,d.Gpc)(()=>fr),multi:!0};let fr=(()=>{class N extends ni{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=S=>be}enabled(S){return S}}return N.\u0275fac=function(){let I;return function(Y){return(I||(I=d.n5z(N)))(Y||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(S,Y){2&S&&d.uIk("required",Y._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([Di]),d.qOj]}),N})();const hi={provide:ot,useExisting:(0,d.Gpc)(()=>Mr),multi:!0};let Mr=(()=>{class N extends ni{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=S=>di(S),this.createValidator=S=>Vt(S)}}return N.\u0275fac=function(){let I;return function(Y){return(I||(I=d.n5z(N)))(Y||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(S,Y){2&S&&d.uIk("minlength",Y._enabled?Y.minlength:null)},inputs:{minlength:"minlength"},features:[d._Bn([hi]),d.qOj]}),N})();const Ds={provide:ot,useExisting:(0,d.Gpc)(()=>Ot),multi:!0};let Ot=(()=>{class N extends ni{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=S=>di(S),this.createValidator=S=>jt(S)}}return N.\u0275fac=function(){let I;return function(Y){return(I||(I=d.n5z(N)))(Y||N)}}(),N.\u0275dir=d.lG2({type:N,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(S,Y){2&S&&d.uIk("maxlength",Y._enabled?Y.maxlength:null)},inputs:{maxlength:"maxlength"},features:[d._Bn([Ds]),d.qOj]}),N})(),nr=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=d.oAB({type:N}),N.\u0275inj=d.cJS({imports:[Dr]}),N})(),Fs=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=d.oAB({type:N}),N.\u0275inj=d.cJS({imports:[nr]}),N})(),Tn=(()=>{class N{static withConfig(S){return{ngModule:N,providers:[{provide:Br,useValue:S.warnOnNgModelWithFormControl}]}}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=d.oAB({type:N}),N.\u0275inj=d.cJS({imports:[nr]}),N})();class je extends F{constructor(I,S,Y){super(Wr(S),yi(Y,S)),this.controls=I,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(I){return this.controls[this._adjustIndex(I)]}push(I,S={}){this.controls.push(I),this._registerControl(I),this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}insert(I,S,Y={}){this.controls.splice(I,0,S),this._registerControl(S),this.updateValueAndValidity({emitEvent:Y.emitEvent})}removeAt(I,S={}){let Y=this._adjustIndex(I);Y<0&&(Y=0),this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),this.controls.splice(Y,1),this.updateValueAndValidity({emitEvent:S.emitEvent})}setControl(I,S,Y={}){let Ie=this._adjustIndex(I);Ie<0&&(Ie=0),this.controls[Ie]&&this.controls[Ie]._registerOnCollectionChange(()=>{}),this.controls.splice(Ie,1),S&&(this.controls.splice(Ie,0,S),this._registerControl(S)),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(I,S={}){K(this,0,I),I.forEach((Y,Ie)=>{L(this,!1,Ie),this.at(Ie).setValue(Y,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(I,S={}){null!=I&&(I.forEach((Y,Ie)=>{this.at(Ie)&&this.at(Ie).patchValue(Y,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(I=[],S={}){this._forEachChild((Y,Ie)=>{Y.reset(I[Ie],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this.controls.map(I=>I.getRawValue())}clear(I={}){this.controls.length<1||(this._forEachChild(S=>S._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:I.emitEvent}))}_adjustIndex(I){return I<0?I+this.length:I}_syncPendingControls(){let I=this.controls.reduce((S,Y)=>!!Y._syncPendingControls()||S,!1);return I&&this.updateValueAndValidity({onlySelf:!0}),I}_forEachChild(I){this.controls.forEach((S,Y)=>{I(S,Y)})}_updateValue(){this.value=this.controls.filter(I=>I.enabled||this.disabled).map(I=>I.value)}_anyControls(I){return this.controls.some(S=>S.enabled&&I(S))}_setUpControls(){this._forEachChild(I=>this._registerControl(I))}_allControlsDisabled(){for(const I of this.controls)if(I.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(I){I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange)}_find(I){return this.at(I)??null}}function wr(N){return!!N&&(void 0!==N.asyncValidators||void 0!==N.validators||void 0!==N.updateOn)}let Dn=(()=>{class N{constructor(){this.useNonNullable=!1}get nonNullable(){const S=new N;return S.useNonNullable=!0,S}group(S,Y=null){const Ie=this._reduceControls(S);let wt={};return wr(Y)?wt=Y:null!==Y&&(wt.validators=Y.validator,wt.asyncValidators=Y.asyncValidator),new j(Ie,wt)}record(S,Y=null){const Ie=this._reduceControls(S);return new Z(Ie,Y)}control(S,Y,Ie){let wt={};return this.useNonNullable?(wr(Y)?wt=Y:(wt.validators=Y,wt.asyncValidators=Ie),new Fr(S,{...wt,nonNullable:!0})):new Fr(S,Y,Ie)}array(S,Y,Ie){const wt=S.map(on=>this._createControl(on));return new je(wt,Y,Ie)}_reduceControls(S){const Y={};return Object.keys(S).forEach(Ie=>{Y[Ie]=this._createControl(S[Ie])}),Y}_createControl(S){return S instanceof Fr||S instanceof F?S:Array.isArray(S)?this.control(S[0],S.length>1?S[1]:null,S.length>2?S[2]:null):this.control(S)}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=d.Yz7({token:N,factory:N.\u0275fac,providedIn:Tn}),N})()},1481:(_t,Le,z)=>{z.d(Le,{Dx:()=>Re,H7:()=>hr,b2:()=>Yt,q6:()=>Cr,se:()=>be});var d=z(6895),T=z(1571);class ue extends d.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends ue{static makeCurrent(){(0,d.HT)(new ve)}onAndCancel(j,U,ee){return j.addEventListener(U,ee,!1),()=>{j.removeEventListener(U,ee,!1)}}dispatchEvent(j,U){j.dispatchEvent(U)}remove(j){j.parentNode&&j.parentNode.removeChild(j)}createElement(j,U){return(U=U||this.getDefaultDocument()).createElement(j)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(j){return j.nodeType===Node.ELEMENT_NODE}isShadowRoot(j){return j instanceof DocumentFragment}getGlobalEventTarget(j,U){return"window"===U?window:"document"===U?j:"body"===U?j.body:null}getBaseHref(j){const U=function Ae(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==U?null:function Be(F){we=we||document.createElement("a"),we.setAttribute("href",F);const j=we.pathname;return"/"===j.charAt(0)?j:`/${j}`}(U)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(j){return(0,d.Mx)(document.cookie,j)}}let we,_e=null;const De=new T.OlP("TRANSITION_ID"),Se=[{provide:T.ip1,useFactory:function me(F,j,U){return()=>{U.get(T.CZH).donePromise.then(()=>{const ee=(0,d.q)(),Z=j.querySelectorAll(`style[ng-transition="${F}"]`);for(let ye=0;ye<Z.length;ye++)ee.remove(Z[ye])})}},deps:[De,d.K0,T.zs3],multi:!0}];let at=(()=>{class F{build(){return new XMLHttpRequest}}return F.\u0275fac=function(U){return new(U||F)},F.\u0275prov=T.Yz7({token:F,factory:F.\u0275fac}),F})();const fe=new T.OlP("EventManagerPlugins");let Te=(()=>{class F{constructor(U,ee){this._zone=ee,this._eventNameToPlugin=new Map,U.forEach(Z=>Z.manager=this),this._plugins=U.slice().reverse()}addEventListener(U,ee,Z){return this._findPluginFor(ee).addEventListener(U,ee,Z)}addGlobalEventListener(U,ee,Z){return this._findPluginFor(ee).addGlobalEventListener(U,ee,Z)}getZone(){return this._zone}_findPluginFor(U){const ee=this._eventNameToPlugin.get(U);if(ee)return ee;const Z=this._plugins;for(let ye=0;ye<Z.length;ye++){const ke=Z[ye];if(ke.supports(U))return this._eventNameToPlugin.set(U,ke),ke}throw new Error(`No event manager plugin found for event ${U}`)}}return F.\u0275fac=function(U){return new(U||F)(T.LFG(fe),T.LFG(T.R0b))},F.\u0275prov=T.Yz7({token:F,factory:F.\u0275fac}),F})();class Ue{constructor(j){this._doc=j}addGlobalEventListener(j,U,ee){const Z=(0,d.q)().getGlobalEventTarget(this._doc,j);if(!Z)throw new Error(`Unsupported event target ${Z} for event ${U}`);return this.addEventListener(Z,U,ee)}}let ct=(()=>{class F{constructor(){this._stylesSet=new Set}addStyles(U){const ee=new Set;U.forEach(Z=>{this._stylesSet.has(Z)||(this._stylesSet.add(Z),ee.add(Z))}),this.onStylesAdded(ee)}onStylesAdded(U){}getAllStyles(){return Array.from(this._stylesSet)}}return F.\u0275fac=function(U){return new(U||F)},F.\u0275prov=T.Yz7({token:F,factory:F.\u0275fac}),F})(),it=(()=>{class F extends ct{constructor(U){super(),this._doc=U,this._hostNodes=new Map,this._hostNodes.set(U.head,[])}_addStylesToHost(U,ee,Z){U.forEach(ye=>{const ke=this._doc.createElement("style");ke.textContent=ye,Z.push(ee.appendChild(ke))})}addHost(U){const ee=[];this._addStylesToHost(this._stylesSet,U,ee),this._hostNodes.set(U,ee)}removeHost(U){const ee=this._hostNodes.get(U);ee&&ee.forEach(st),this._hostNodes.delete(U)}onStylesAdded(U){this._hostNodes.forEach((ee,Z)=>{this._addStylesToHost(U,Z,ee)})}ngOnDestroy(){this._hostNodes.forEach(U=>U.forEach(st))}}return F.\u0275fac=function(U){return new(U||F)(T.LFG(d.K0))},F.\u0275prov=T.Yz7({token:F,factory:F.\u0275fac}),F})();function st(F){(0,d.q)().remove(F)}const qe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},de=/%COMP%/g;function xe(F,j,U){for(let ee=0;ee<j.length;ee++){let Z=j[ee];Array.isArray(Z)?xe(F,Z,U):(Z=Z.replace(de,F),U.push(Z))}return U}function Ce(F){return j=>{if("__ngUnwrap__"===j)return F;!1===F(j)&&(j.preventDefault(),j.returnValue=!1)}}let be=(()=>{class F{constructor(U,ee,Z){this.eventManager=U,this.sharedStylesHost=ee,this.appId=Z,this.rendererByCompId=new Map,this.defaultRenderer=new Je(U)}createRenderer(U,ee){if(!U||!ee)return this.defaultRenderer;switch(ee.encapsulation){case T.ifc.Emulated:{let Z=this.rendererByCompId.get(ee.id);return Z||(Z=new En(this.eventManager,this.sharedStylesHost,ee,this.appId),this.rendererByCompId.set(ee.id,Z)),Z.applyToHost(U),Z}case 1:case T.ifc.ShadowDom:return new Rt(this.eventManager,this.sharedStylesHost,U,ee);default:if(!this.rendererByCompId.has(ee.id)){const Z=xe(ee.id,ee.styles,[]);this.sharedStylesHost.addStyles(Z),this.rendererByCompId.set(ee.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return F.\u0275fac=function(U){return new(U||F)(T.LFG(Te),T.LFG(it),T.LFG(T.AFp))},F.\u0275prov=T.Yz7({token:F,factory:F.\u0275fac}),F})();class Je{constructor(j){this.eventManager=j,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(j,U){return U?document.createElementNS(qe[U]||U,j):document.createElement(j)}createComment(j){return document.createComment(j)}createText(j){return document.createTextNode(j)}appendChild(j,U){(jt(j)?j.content:j).appendChild(U)}insertBefore(j,U,ee){j&&(jt(j)?j.content:j).insertBefore(U,ee)}removeChild(j,U){j&&j.removeChild(U)}selectRootElement(j,U){let ee="string"==typeof j?document.querySelector(j):j;if(!ee)throw new Error(`The selector "${j}" did not match any elements`);return U||(ee.textContent=""),ee}parentNode(j){return j.parentNode}nextSibling(j){return j.nextSibling}setAttribute(j,U,ee,Z){if(Z){U=Z+":"+U;const ye=qe[Z];ye?j.setAttributeNS(ye,U,ee):j.setAttribute(U,ee)}else j.setAttribute(U,ee)}removeAttribute(j,U,ee){if(ee){const Z=qe[ee];Z?j.removeAttributeNS(Z,U):j.removeAttribute(`${ee}:${U}`)}else j.removeAttribute(U)}addClass(j,U){j.classList.add(U)}removeClass(j,U){j.classList.remove(U)}setStyle(j,U,ee,Z){Z&(T.JOm.DashCase|T.JOm.Important)?j.style.setProperty(U,ee,Z&T.JOm.Important?"important":""):j.style[U]=ee}removeStyle(j,U,ee){ee&T.JOm.DashCase?j.style.removeProperty(U):j.style[U]=""}setProperty(j,U,ee){j[U]=ee}setValue(j,U){j.nodeValue=U}listen(j,U,ee){return"string"==typeof j?this.eventManager.addGlobalEventListener(j,U,Ce(ee)):this.eventManager.addEventListener(j,U,Ce(ee))}}function jt(F){return"TEMPLATE"===F.tagName&&void 0!==F.content}class En extends Je{constructor(j,U,ee,Z){super(j),this.component=ee;const ye=xe(Z+"-"+ee.id,ee.styles,[]);U.addStyles(ye),this.contentAttr=function We(F){return"_ngcontent-%COMP%".replace(de,F)}(Z+"-"+ee.id),this.hostAttr=function et(F){return"_nghost-%COMP%".replace(de,F)}(Z+"-"+ee.id)}applyToHost(j){super.setAttribute(j,this.hostAttr,"")}createElement(j,U){const ee=super.createElement(j,U);return super.setAttribute(ee,this.contentAttr,""),ee}}class Rt extends Je{constructor(j,U,ee,Z){super(j),this.sharedStylesHost=U,this.hostEl=ee,this.shadowRoot=ee.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ye=xe(Z.id,Z.styles,[]);for(let ke=0;ke<ye.length;ke++){const Xe=document.createElement("style");Xe.textContent=ye[ke],this.shadowRoot.appendChild(Xe)}}nodeOrShadowRoot(j){return j===this.hostEl?this.shadowRoot:j}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(j,U){return super.appendChild(this.nodeOrShadowRoot(j),U)}insertBefore(j,U,ee){return super.insertBefore(this.nodeOrShadowRoot(j),U,ee)}removeChild(j,U){return super.removeChild(this.nodeOrShadowRoot(j),U)}parentNode(j){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(j)))}}let Pn=(()=>{class F extends Ue{constructor(U){super(U)}supports(U){return!0}addEventListener(U,ee,Z){return U.addEventListener(ee,Z,!1),()=>this.removeEventListener(U,ee,Z)}removeEventListener(U,ee,Z){return U.removeEventListener(ee,Z)}}return F.\u0275fac=function(U){return new(U||F)(T.LFG(d.K0))},F.\u0275prov=T.Yz7({token:F,factory:F.\u0275fac}),F})();const Ze=["alt","control","meta","shift"],Ye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pe={alt:F=>F.altKey,control:F=>F.ctrlKey,meta:F=>F.metaKey,shift:F=>F.shiftKey};let Pe=(()=>{class F extends Ue{constructor(U){super(U)}supports(U){return null!=F.parseEventName(U)}addEventListener(U,ee,Z){const ye=F.parseEventName(ee),ke=F.eventCallback(ye.fullKey,Z,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.q)().onAndCancel(U,ye.domEventName,ke))}static parseEventName(U){const ee=U.toLowerCase().split("."),Z=ee.shift();if(0===ee.length||"keydown"!==Z&&"keyup"!==Z)return null;const ye=F._normalizeKey(ee.pop());let ke="",Xe=ee.indexOf("code");if(Xe>-1&&(ee.splice(Xe,1),ke="code."),Ze.forEach(kt=>{const Sn=ee.indexOf(kt);Sn>-1&&(ee.splice(Sn,1),ke+=kt+".")}),ke+=ye,0!=ee.length||0===ye.length)return null;const yt={};return yt.domEventName=Z,yt.fullKey=ke,yt}static matchEventFullKeyCode(U,ee){let Z=Ye[U.key]||U.key,ye="";return ee.indexOf("code.")>-1&&(Z=U.code,ye="code."),!(null==Z||!Z)&&(Z=Z.toLowerCase()," "===Z?Z="space":"."===Z&&(Z="dot"),Ze.forEach(ke=>{ke!==Z&&(0,pe[ke])(U)&&(ye+=ke+".")}),ye+=Z,ye===ee)}static eventCallback(U,ee,Z){return ye=>{F.matchEventFullKeyCode(ye,U)&&Z.runGuarded(()=>ee(ye))}}static _normalizeKey(U){return"esc"===U?"escape":U}}return F.\u0275fac=function(U){return new(U||F)(T.LFG(d.K0))},F.\u0275prov=T.Yz7({token:F,factory:F.\u0275fac}),F})();const Cr=(0,T.eFA)(T._c5,"browser",[{provide:T.Lbi,useValue:d.bD},{provide:T.g9A,useValue:function zn(){ve.makeCurrent()},multi:!0},{provide:d.K0,useFactory:function Xn(){return(0,T.RDi)(document),document},deps:[]}]),gr=new T.OlP(""),Mn=[{provide:T.rWj,useClass:class ge{addToWindow(j){T.dqk.getAngularTestability=(ee,Z=!0)=>{const ye=j.findTestabilityInTree(ee,Z);if(null==ye)throw new Error("Could not find testability for element.");return ye},T.dqk.getAllAngularTestabilities=()=>j.getAllTestabilities(),T.dqk.getAllAngularRootElements=()=>j.getAllRootElements(),T.dqk.frameworkStabilizers||(T.dqk.frameworkStabilizers=[]),T.dqk.frameworkStabilizers.push(ee=>{const Z=T.dqk.getAllAngularTestabilities();let ye=Z.length,ke=!1;const Xe=function(yt){ke=ke||yt,ye--,0==ye&&ee(ke)};Z.forEach(function(yt){yt.whenStable(Xe)})})}findTestabilityInTree(j,U,ee){return null==U?null:j.getTestability(U)??(ee?(0,d.q)().isShadowRoot(U)?this.findTestabilityInTree(j,U.host,!0):this.findTestabilityInTree(j,U.parentElement,!0):null)}},deps:[]},{provide:T.lri,useClass:T.dDg,deps:[T.R0b,T.eoX,T.rWj]},{provide:T.dDg,useClass:T.dDg,deps:[T.R0b,T.eoX,T.rWj]}],ir=[{provide:T.zSh,useValue:"root"},{provide:T.qLn,useFactory:function rr(){return new T.qLn},deps:[]},{provide:fe,useClass:Pn,multi:!0,deps:[d.K0,T.R0b,T.Lbi]},{provide:fe,useClass:Pe,multi:!0,deps:[d.K0]},{provide:be,useClass:be,deps:[Te,it,T.AFp]},{provide:T.FYo,useExisting:be},{provide:ct,useExisting:it},{provide:it,useClass:it,deps:[d.K0]},{provide:Te,useClass:Te,deps:[fe,T.R0b]},{provide:d.JF,useClass:at,deps:[]},[]];let Yt=(()=>{class F{constructor(U){}static withServerTransition(U){return{ngModule:F,providers:[{provide:T.AFp,useValue:U.appId},{provide:De,useExisting:T.AFp},Se]}}}return F.\u0275fac=function(U){return new(U||F)(T.LFG(gr,12))},F.\u0275mod=T.oAB({type:F}),F.\u0275inj=T.cJS({providers:[...ir,...Mn],imports:[d.ez,T.hGG]}),F})(),Re=(()=>{class F{constructor(U){this._doc=U}getTitle(){return this._doc.title}setTitle(U){this._doc.title=U||""}}return F.\u0275fac=function(U){return new(U||F)(T.LFG(d.K0))},F.\u0275prov=T.Yz7({token:F,factory:function(U){let ee=null;return ee=U?new U:function ur(){return new Re((0,T.LFG)(d.K0))}(),ee},providedIn:"root"}),F})();typeof window<"u"&&window;let hr=(()=>{class F{}return F.\u0275fac=function(U){return new(U||F)},F.\u0275prov=T.Yz7({token:F,factory:function(U){let ee=null;return ee=U?new(U||F):T.LFG(L),ee},providedIn:"root"}),F})(),L=(()=>{class F extends hr{constructor(U){super(),this._doc=U}sanitize(U,ee){if(null==ee)return null;switch(U){case T.q3G.NONE:return ee;case T.q3G.HTML:return(0,T.qzn)(ee,"HTML")?(0,T.z3N)(ee):(0,T.EiD)(this._doc,String(ee)).toString();case T.q3G.STYLE:return(0,T.qzn)(ee,"Style")?(0,T.z3N)(ee):ee;case T.q3G.SCRIPT:if((0,T.qzn)(ee,"Script"))return(0,T.z3N)(ee);throw new Error("unsafe value used in a script context");case T.q3G.URL:return(0,T.qzn)(ee,"URL")?(0,T.z3N)(ee):(0,T.mCW)(String(ee));case T.q3G.RESOURCE_URL:if((0,T.qzn)(ee,"ResourceURL"))return(0,T.z3N)(ee);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${U} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(U){return(0,T.JVY)(U)}bypassSecurityTrustStyle(U){return(0,T.L6k)(U)}bypassSecurityTrustScript(U){return(0,T.eBb)(U)}bypassSecurityTrustUrl(U){return(0,T.LAX)(U)}bypassSecurityTrustResourceUrl(U){return(0,T.pB0)(U)}}return F.\u0275fac=function(U){return new(U||F)(T.LFG(d.K0))},F.\u0275prov=T.Yz7({token:F,factory:function(U){let ee=null;return ee=U?new U:function Pr(F){return new L(F.get(d.K0))}(T.LFG(T.zs3)),ee},providedIn:"root"}),F})()},1728:(_t,Le,z)=>{z.d(Le,{gz:()=>Br,OD:()=>Kr,F0:()=>Ln,rH:()=>fs,Od:()=>Ss,yS:()=>Or,Bz:()=>jr,lC:()=>ui});var d=z(1571),T=z(2076),ue=z(9646),ve=z(1135);const Ae=(0,z(3888).d)(w=>function(){w(this),this.name="EmptyError",this.message="no elements in sequence"});var we=z(9841),Be=z(7272),De=z(9770),me=z(9635),Se=z(2843),ge=z(9751),at=z(515),fe=z(727),Te=z(4482),Ue=z(5403);function ct(){return(0,Te.e)((w,_)=>{let y=null;w._refCount++;const E=(0,Ue.x)(_,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(y=null);const O=w._connection,$=y;y=null,O&&(!$||O===$)&&O.unsubscribe(),_.unsubscribe()});w.subscribe(E),E.closed||(y=w.connect())})}class it extends ge.y{constructor(_,y){super(),this.source=_,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Te.A)(_)&&(this.lift=_.lift)}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_}=this;this._subject=this._connection=null,_?.unsubscribe()}connect(){let _=this._connection;if(!_){_=this._connection=new fe.w0;const y=this.getSubject();_.add(this.source.subscribe((0,Ue.x)(y,void 0,()=>{this._teardown(),y.complete()},E=>{this._teardown(),y.error(E)},()=>this._teardown()))),_.closed&&(this._connection=null,_=fe.w0.EMPTY)}return _}refCount(){return ct()(this)}}var st=z(7579),qe=z(6895),de=z(4004),le=z(3900),tt=z(5698),It=z(8675),ot=z(9300),We=z(5577);function et(w){return(0,Te.e)((_,y)=>{let E=!1;_.subscribe((0,Ue.x)(y,O=>{E=!0,y.next(O)},()=>{E||y.next(w),y.complete()}))})}function xe(w=Ce){return(0,Te.e)((_,y)=>{let E=!1;_.subscribe((0,Ue.x)(y,O=>{E=!0,y.next(O)},()=>E?y.complete():y.error(w())))})}function Ce(){return new Ae}var Ve=z(4671);function be(w,_){const y=arguments.length>=2;return E=>E.pipe(w?(0,ot.h)((O,$)=>w(O,$,E)):Ve.y,(0,tt.q)(1),y?et(_):xe(()=>new Ae))}var Je=z(4351),Qe=z(8505),Vt=z(8421);function jt(w){return(0,Te.e)((_,y)=>{let $,E=null,O=!1;E=_.subscribe((0,Ue.x)(y,void 0,void 0,Q=>{$=(0,Vt.Xf)(w(Q,jt(w)(_))),E?(E.unsubscribe(),E=null,$.subscribe(y)):O=!0})),O&&(E.unsubscribe(),E=null,$.subscribe(y))})}function En(w,_,y,E,O){return($,Q)=>{let ne=y,He=_,ht=0;$.subscribe((0,Ue.x)(Q,dn=>{const bt=ht++;He=ne?w(He,dn,bt):(ne=!0,dn),E&&Q.next(He)},O&&(()=>{ne&&Q.next(He),Q.complete()})))}}function Rt(w,_){return(0,Te.e)(En(w,_,arguments.length>=2,!0))}function Pn(w){return w<=0?()=>at.E:(0,Te.e)((_,y)=>{let E=[];_.subscribe((0,Ue.x)(y,O=>{E.push(O),w<E.length&&E.shift()},()=>{for(const O of E)y.next(O);y.complete()},void 0,()=>{E=null}))})}function Ze(w,_){const y=arguments.length>=2;return E=>E.pipe(w?(0,ot.h)((O,$)=>w(O,$,E)):Ve.y,Pn(1),y?et(_):xe(()=>new Ae))}var pe=z(9718);function Pe(w){return(0,Te.e)((_,y)=>{try{_.subscribe(y)}finally{y.add(w)}})}var dt=z(8189),qt=z(1481);const mt="primary",$n=Symbol("RouteTitle");class Un{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const y=this.params[_];return Array.isArray(y)?y[0]:y}return null}getAll(_){if(this.has(_)){const y=this.params[_];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function zn(w){return new Un(w)}function rr(w,_,y){const E=y.path.split("/");if(E.length>w.length||"full"===y.pathMatch&&(_.hasChildren()||E.length<w.length))return null;const O={};for(let $=0;$<E.length;$++){const Q=E[$],ne=w[$];if(Q.startsWith(":"))O[Q.substring(1)]=ne;else if(Q!==ne.path)return null}return{consumed:w.slice(0,E.length),posParams:O}}function On(w,_){const y=w?Object.keys(w):void 0,E=_?Object.keys(_):void 0;if(!y||!E||y.length!=E.length)return!1;let O;for(let $=0;$<y.length;$++)if(O=y[$],!Cr(w[O],_[O]))return!1;return!0}function Cr(w,_){if(Array.isArray(w)&&Array.isArray(_)){if(w.length!==_.length)return!1;const y=[...w].sort(),E=[..._].sort();return y.every((O,$)=>E[$]===O)}return w===_}function gr(w){return Array.prototype.concat.apply([],w)}function Mn(w){return w.length>0?w[w.length-1]:null}function Yt(w,_){for(const y in w)w.hasOwnProperty(y)&&_(w[y],y)}function Rn(w){return(0,d.CqO)(w)?w:(0,d.QGY)(w)?(0,T.D)(Promise.resolve(w)):(0,ue.of)(w)}const ur={exact:function Oe(w,_,y){if(!ft(w.segments,_.segments)||!Xt(w.segments,_.segments,y)||w.numberOfChildren!==_.numberOfChildren)return!1;for(const E in _.children)if(!w.children[E]||!Oe(w.children[E],_.children[E],y))return!1;return!0},subset:Tt},Re={exact:function te(w,_){return On(w,_)},subset:function Ke(w,_){return Object.keys(_).length<=Object.keys(w).length&&Object.keys(_).every(y=>Cr(w[y],_[y]))},ignored:()=>!0};function re(w,_,y){return ur[y.paths](w.root,_.root,y.matrixParams)&&Re[y.queryParams](w.queryParams,_.queryParams)&&!("exact"===y.fragment&&w.fragment!==_.fragment)}function Tt(w,_,y){return Wt(w,_,_.segments,y)}function Wt(w,_,y,E){if(w.segments.length>y.length){const O=w.segments.slice(0,y.length);return!(!ft(O,y)||_.hasChildren()||!Xt(O,y,E))}if(w.segments.length===y.length){if(!ft(w.segments,y)||!Xt(w.segments,y,E))return!1;for(const O in _.children)if(!w.children[O]||!Tt(w.children[O],_.children[O],E))return!1;return!0}{const O=y.slice(0,w.segments.length),$=y.slice(w.segments.length);return!!(ft(w.segments,O)&&Xt(w.segments,O,E)&&w.children[mt])&&Wt(w.children[mt],_,$,E)}}function Xt(w,_,y){return _.every((E,O)=>Re[y](w[O].parameters,E.parameters))}class ut{constructor(_,y,E){this.root=_,this.queryParams=y,this.fragment=E}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zn(this.queryParams)),this._queryParamMap}toString(){return Nr.serialize(this)}}class xt{constructor(_,y){this.segments=_,this.children=y,this.parent=null,Yt(y,(E,O)=>E.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gn(this)}}class sn{constructor(_,y){this.path=_,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=zn(this.parameters)),this._parameterMap}toString(){return ai(this)}}function ft(w,_){return w.length===_.length&&w.every((y,E)=>y.path===_[E].path)}let hn=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return new dr},providedIn:"root"}),w})();class dr{parse(_){const y=new ee(_);return new ut(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(_){const y=`/${sr(_.root,!0)}`,E=function hr(w){const _=Object.keys(w).map(y=>{const E=w[y];return Array.isArray(E)?E.map(O=>`${Hn(y)}=${Hn(O)}`).join("&"):`${Hn(y)}=${Hn(E)}`}).filter(y=>!!y);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${y}${E}${"string"==typeof _.fragment?`#${function kr(w){return encodeURI(w)}(_.fragment)}`:""}`}}const Nr=new dr;function gn(w){return w.segments.map(_=>ai(_)).join("/")}function sr(w,_){if(!w.hasChildren())return gn(w);if(_){const y=w.children[mt]?sr(w.children[mt],!1):"",E=[];return Yt(w.children,(O,$)=>{$!==mt&&E.push(`${$}:${sr(O,!1)}`)}),E.length>0?`${y}(${E.join("//")})`:y}{const y=function _n(w,_){let y=[];return Yt(w.children,(E,O)=>{O===mt&&(y=y.concat(_(E,O)))}),Yt(w.children,(E,O)=>{O!==mt&&(y=y.concat(_(E,O)))}),y}(w,(E,O)=>O===mt?[sr(w.children[mt],!1)]:[`${O}:${sr(E,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[mt]?`${gn(w)}/${y[0]}`:`${gn(w)}/(${y.join("//")})`}}function Vn(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hn(w){return Vn(w).replace(/%3B/gi,";")}function or(w){return Vn(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tr(w){return decodeURIComponent(w)}function Wr(w){return tr(w.replace(/\+/g,"%20"))}function ai(w){return`${or(w.path)}${function yi(w){return Object.keys(w).map(_=>`;${or(_)}=${or(w[_])}`).join("")}(w.parameters)}`}const Pr=/^[^\/()?;=#]+/;function L(w){const _=w.match(Pr);return _?_[0]:""}const K=/^[^=?&#]+/,j=/^[^&#]+/;class ee{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let E={};return this.peekStartsWith("(")&&(E=this.parseParens(!1)),(_.length>0||Object.keys(y).length>0)&&(E[mt]=new xt(_,y)),E}parseSegment(){const _=L(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(_),new sn(tr(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const y=L(this.remaining);if(!y)return;this.capture(y);let E="";if(this.consumeOptional("=")){const O=L(this.remaining);O&&(E=O,this.capture(E))}_[tr(y)]=tr(E)}parseQueryParam(_){const y=function F(w){const _=w.match(K);return _?_[0]:""}(this.remaining);if(!y)return;this.capture(y);let E="";if(this.consumeOptional("=")){const Q=function U(w){const _=w.match(j);return _?_[0]:""}(this.remaining);Q&&(E=Q,this.capture(E))}const O=Wr(y),$=Wr(E);if(_.hasOwnProperty(O)){let Q=_[O];Array.isArray(Q)||(Q=[Q],_[O]=Q),Q.push($)}else _[O]=$}parseParens(_){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const E=L(this.remaining),O=this.remaining[E.length];if("/"!==O&&")"!==O&&";"!==O)throw new d.vHH(4010,!1);let $;E.indexOf(":")>-1?($=E.slice(0,E.indexOf(":")),this.capture($),this.capture(":")):_&&($=mt);const Q=this.parseChildren();y[$]=1===Object.keys(Q).length?Q[mt]:new xt([],Q),this.consumeOptional("//")}return y}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new d.vHH(4011,!1)}}function Z(w){return w.segments.length>0?new xt([],{[mt]:w}):w}function ye(w){const _={};for(const E of Object.keys(w.children)){const $=ye(w.children[E]);($.segments.length>0||$.hasChildren())&&(_[E]=$)}return function ke(w){if(1===w.numberOfChildren&&w.children[mt]){const _=w.children[mt];return new xt(w.segments.concat(_.segments),_.children)}return w}(new xt(w.segments,_))}function Xe(w){return w instanceof ut}function St(w,_,y,E,O){if(0===y.length)return nn(_.root,_.root,_.root,E,O);const $=function Wn(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Gn(!0,0,w);let _=0,y=!1;const E=w.reduce((O,$,Q)=>{if("object"==typeof $&&null!=$){if($.outlets){const ne={};return Yt($.outlets,(He,ht)=>{ne[ht]="string"==typeof He?He.split("/"):He}),[...O,{outlets:ne}]}if($.segmentPath)return[...O,$.segmentPath]}return"string"!=typeof $?[...O,$]:0===Q?($.split("/").forEach((ne,He)=>{0==He&&"."===ne||(0==He&&""===ne?y=!0:".."===ne?_++:""!=ne&&O.push(ne))}),O):[...O,$]},[]);return new Gn(y,_,E)}(y);return $.toRoot()?nn(_.root,_.root,new xt([],{}),E,O):function Q(He){const ht=function li(w,_,y,E){if(w.isAbsolute)return new Yn(_.root,!0,0);if(-1===E)return new Yn(y,y===_.root,0);return function br(w,_,y){let E=w,O=_,$=y;for(;$>O;){if($-=O,E=E.parent,!E)throw new d.vHH(4005,!1);O=E.segments.length}return new Yn(E,!1,O-$)}(y,E+(an(w.commands[0])?0:1),w.numberOfDoubleDots)}($,_,w.snapshot?._urlSegment,He),dn=ht.processChildren?vn(ht.segmentGroup,ht.index,$.commands):Xi(ht.segmentGroup,ht.index,$.commands);return nn(_.root,ht.segmentGroup,dn,E,O)}(w.snapshot?._lastPathIndex)}function an(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Dt(w){return"object"==typeof w&&null!=w&&w.outlets}function nn(w,_,y,E,O){let Q,$={};E&&Yt(E,(He,ht)=>{$[ht]=Array.isArray(He)?He.map(dn=>`${dn}`):`${He}`}),Q=w===_?y:Zt(w,_,y);const ne=Z(ye(Q));return new ut(ne,$,O)}function Zt(w,_,y){const E={};return Yt(w.children,(O,$)=>{E[$]=O===_?y:Zt(O,_,y)}),new xt(w.segments,E)}class Gn{constructor(_,y,E){if(this.isAbsolute=_,this.numberOfDoubleDots=y,this.commands=E,_&&E.length>0&&an(E[0]))throw new d.vHH(4003,!1);const O=E.find(Dt);if(O&&O!==Mn(E))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yn{constructor(_,y,E){this.segmentGroup=_,this.processChildren=y,this.index=E}}function Xi(w,_,y){if(w||(w=new xt([],{})),0===w.segments.length&&w.hasChildren())return vn(w,_,y);const E=function vs(w,_,y){let E=0,O=_;const $={match:!1,pathIndex:0,commandIndex:0};for(;O<w.segments.length;){if(E>=y.length)return $;const Q=w.segments[O],ne=y[E];if(Dt(ne))break;const He=`${ne}`,ht=E<y.length-1?y[E+1]:null;if(O>0&&void 0===He)break;if(He&&ht&&"object"==typeof ht&&void 0===ht.outlets){if(!Rr(He,ht,Q))return $;E+=2}else{if(!Rr(He,{},Q))return $;E++}O++}return{match:!0,pathIndex:O,commandIndex:E}}(w,_,y),O=y.slice(E.commandIndex);if(E.match&&E.pathIndex<w.segments.length){const $=new xt(w.segments.slice(0,E.pathIndex),{});return $.children[mt]=new xt(w.segments.slice(E.pathIndex),w.children),vn($,0,O)}return E.match&&0===O.length?new xt(w.segments,{}):E.match&&!w.hasChildren()?Os(w,_,y):E.match?vn(w,0,O):Os(w,_,y)}function vn(w,_,y){if(0===y.length)return new xt(w.segments,{});{const E=function Yr(w){return Dt(w[0])?w[0].outlets:{[mt]:w}}(y),O={};return Yt(E,($,Q)=>{"string"==typeof $&&($=[$]),null!==$&&(O[Q]=Xi(w.children[Q],_,$))}),Yt(w.children,($,Q)=>{void 0===E[Q]&&(O[Q]=$)}),new xt(w.segments,O)}}function Os(w,_,y){const E=w.segments.slice(0,_);let O=0;for(;O<y.length;){const $=y[O];if(Dt($)){const He=ki($.outlets);return new xt(E,He)}if(0===O&&an(y[0])){E.push(new sn(w.segments[_].path,Ci(y[0]))),O++;continue}const Q=Dt($)?$.outlets[mt]:`${$}`,ne=O<y.length-1?y[O+1]:null;Q&&ne&&an(ne)?(E.push(new sn(Q,Ci(ne))),O+=2):(E.push(new sn(Q,{})),O++)}return new xt(E,{})}function ki(w){const _={};return Yt(w,(y,E)=>{"string"==typeof y&&(y=[y]),null!==y&&(_[E]=Os(new xt([],{}),0,y))}),_}function Ci(w){const _={};return Yt(w,(y,E)=>_[E]=`${y}`),_}function Rr(w,_,y){return w==y.path&&On(_,y.parameters)}class ar{constructor(_,y){this.id=_,this.url=y}}class Kr extends ar{constructor(_,y,E="imperative",O=null){super(_,y),this.type=0,this.navigationTrigger=E,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xn extends ar{constructor(_,y,E){super(_,y),this.urlAfterRedirects=E,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fr extends ar{constructor(_,y,E,O){super(_,y),this.reason=E,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mr extends ar{constructor(_,y,E,O){super(_,y),this.error=E,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lr extends ar{constructor(_,y,E,O){super(_,y),this.urlAfterRedirects=E,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ui extends ar{constructor(_,y,E,O){super(_,y),this.urlAfterRedirects=E,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class es extends ar{constructor(_,y,E,O,$){super(_,y),this.urlAfterRedirects=E,this.state=O,this.shouldActivate=$,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vi extends ar{constructor(_,y,E,O){super(_,y),this.urlAfterRedirects=E,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yr extends ar{constructor(_,y,E,O){super(_,y),this.urlAfterRedirects=E,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xs{constructor(_){this.route=_,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ei{constructor(_){this.route=_,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ws{constructor(_){this.snapshot=_,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eo{constructor(_){this.snapshot=_,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class to{constructor(_){this.snapshot=_,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bi{constructor(_){this.snapshot=_,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ts{constructor(_,y,E){this.routerEvent=_,this.position=y,this.anchor=E,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zi{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const y=this.pathFromRoot(_);return y.length>1?y[y.length-2]:null}children(_){const y=_s(_,this._root);return y?y.children.map(E=>E.value):[]}firstChild(_){const y=_s(_,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(_){const y=ji(_,this._root);return y.length<2?[]:y[y.length-2].children.map(O=>O.value).filter(O=>O!==_)}pathFromRoot(_){return ji(_,this._root).map(y=>y.value)}}function _s(w,_){if(w===_.value)return _;for(const y of _.children){const E=_s(w,y);if(E)return E}return null}function ji(w,_){if(w===_.value)return[_];for(const y of _.children){const E=ji(w,y);if(E.length)return E.unshift(_),E}return[]}class Dr{constructor(_,y){this.value=_,this.children=y}toString(){return`TreeNode(${this.value})`}}function ns(w){const _={};return w&&w.children.forEach(y=>_[y.value.outlet]=y),_}class xs extends zi{constructor(_,y){super(_),this.snapshot=y,bs(this,_)}toString(){return this.snapshot.toString()}}function cn(w,_){const y=function no(w,_){const Q=new ci([],{},{},"",{},mt,_,null,w.root,-1,{});return new Ft("",new Dr(Q,[]))}(w,_),E=new ve.X([new sn("",{})]),O=new ve.X({}),$=new ve.X({}),Q=new ve.X({}),ne=new ve.X(""),He=new Br(E,O,Q,ne,$,mt,_,y.root);return He.snapshot=y.root,new xs(new Dr(He,[]),y)}class Br{constructor(_,y,E,O,$,Q,ne,He){this.url=_,this.params=y,this.queryParams=E,this.fragment=O,this.data=$,this.outlet=Q,this.component=ne,this.title=this.data?.pipe((0,de.U)(ht=>ht[$n]))??(0,ue.of)(void 0),this._futureSnapshot=He}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,de.U)(_=>zn(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,de.U)(_=>zn(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cs(w,_="emptyOnly"){const y=w.pathFromRoot;let E=0;if("always"!==_)for(E=y.length-1;E>=1;){const O=y[E],$=y[E-1];if(O.routeConfig&&""===O.routeConfig.path)E--;else{if($.component)break;E--}}return function un(w){return w.reduce((_,y)=>({params:{..._.params,...y.params},data:{..._.data,...y.data},resolve:{...y.data,..._.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(E))}class ci{constructor(_,y,E,O,$,Q,ne,He,ht,dn,bt,kn){this.url=_,this.params=y,this.queryParams=E,this.fragment=O,this.data=$,this.outlet=Q,this.component=ne,this.title=this.data?.[$n],this.routeConfig=He,this._urlSegment=ht,this._lastPathIndex=dn,this._correctedLastPathIndex=kn??dn,this._resolve=bt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(E=>E.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ft extends zi{constructor(_,y){super(y),this.url=_,bs(this,y)}toString(){return Er(this._root)}}function bs(w,_){_.value._routerState=w,_.children.forEach(y=>bs(w,y))}function Er(w){const _=w.children.length>0?` { ${w.children.map(Er).join(", ")} } `:"";return`${w.value}${_}`}function Vr(w){if(w.snapshot){const _=w.snapshot,y=w._futureSnapshot;w.snapshot=y,On(_.queryParams,y.queryParams)||w.queryParams.next(y.queryParams),_.fragment!==y.fragment&&w.fragment.next(y.fragment),On(_.params,y.params)||w.params.next(y.params),function Xn(w,_){if(w.length!==_.length)return!1;for(let y=0;y<w.length;++y)if(!On(w[y],_[y]))return!1;return!0}(_.url,y.url)||w.url.next(y.url),On(_.data,y.data)||w.data.next(y.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function qr(w,_){const y=On(w.params,_.params)&&function er(w,_){return ft(w,_)&&w.every((y,E)=>On(y.parameters,_[E].parameters))}(w.url,_.url);return y&&!(!w.parent!=!_.parent)&&(!w.parent||qr(w.parent,_.parent))}function Gi(w,_,y){if(y&&w.shouldReuseRoute(_.value,y.value.snapshot)){const E=y.value;E._futureSnapshot=_.value;const O=function Pi(w,_,y){return _.children.map(E=>{for(const O of y.children)if(w.shouldReuseRoute(E.value,O.value.snapshot))return Gi(w,E,O);return Gi(w,E)})}(w,_,y);return new Dr(E,O)}{if(w.shouldAttach(_.value)){const $=w.retrieve(_.value);if(null!==$){const Q=$.route;return Q.value._futureSnapshot=_.value,Q.children=_.children.map(ne=>Gi(w,ne)),Q}}const E=function rs(w){return new Br(new ve.X(w.url),new ve.X(w.params),new ve.X(w.queryParams),new ve.X(w.fragment),new ve.X(w.data),w.outlet,w.component,w)}(_.value),O=_.children.map($=>Gi(w,$));return new Dr(E,O)}}const Wi="ngNavigationCancelingError";function ks(w,_){const{redirectTo:y,navigationBehaviorOptions:E}=Xe(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,O=wi(!1,0,_);return O.url=y,O.navigationBehaviorOptions=E,O}function wi(w,_,y){const E=new Error("NavigationCancelingError: "+(w||""));return E[Wi]=!0,E.cancellationCode=_,y&&(E.url=y),E}function is(w){return Ps(w)&&Xe(w.url)}function Ps(w){return w&&w[Wi]}class lr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ri,this.attachRef=null}}let Ri=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(y,E){const O=this.getOrCreateContext(y);O.outlet=E,this.contexts.set(y,O)}onChildOutletDestroyed(y){const E=this.getContext(y);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let E=this.getContext(y);return E||(E=new lr,this.contexts.set(y,E)),E}getContext(y){return this.contexts.get(y)||null}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const ti=!1;let ui=(()=>{class w{constructor(y,E,O,$,Q){this.parentContexts=y,this.location=E,this.changeDetector=$,this.environmentInjector=Q,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=O||mt,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,ti);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,ti);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,ti);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,E){this.activated=y,this._activatedRoute=E,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,E){if(this.isActivated)throw new d.vHH(4013,ti);this._activatedRoute=y;const O=this.location,Q=y._futureSnapshot.component,ne=this.parentContexts.getOrCreateContext(this.name).children,He=new Rs(y,ne,O.injector);if(E&&function di(w){return!!w.resolveComponentFactory}(E)){const ht=E.resolveComponentFactory(Q);this.activated=O.createComponent(ht,O.length,He)}else this.activated=O.createComponent(Q,{index:O.length,injector:He,environmentInjector:E??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(y){return new(y||w)(d.Y36(Ri),d.Y36(d.s_b),d.$8M("name"),d.Y36(d.sBO),d.Y36(d.lqb))},w.\u0275dir=d.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),w})();class Rs{constructor(_,y,E){this.route=_,this.childContexts=y,this.parent=E}get(_,y){return _===Br?this.route:_===Ri?this.childContexts:this.parent.get(_,y)}}let ln=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275cmp=d.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(y,E){1&y&&d._UZ(0,"router-outlet")},dependencies:[ui],encapsulation:2}),w})();function ni(w,_){return w.providers&&!w._injector&&(w._injector=(0,d.MMx)(w.providers,_,`Route: ${w.path}`)),w._injector??_}function ii(w){const _=w.children&&w.children.map(ii),y=_?{...w,children:_}:{...w};return!y.component&&!y.loadComponent&&(_||y.loadChildren)&&y.outlet&&y.outlet!==mt&&(y.component=ln),y}function Bn(w){return w.outlet||mt}function hi(w,_){const y=w.filter(E=>Bn(E)===_);return y.push(...w.filter(E=>Bn(E)!==_)),y}function Mr(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let _=w.parent;_;_=_.parent){const y=_.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Ot{constructor(_,y,E,O){this.routeReuseStrategy=_,this.futureState=y,this.currState=E,this.forwardEvent=O}activate(_){const y=this.futureState._root,E=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,E,_),Vr(this.futureState.root),this.activateChildRoutes(y,E,_)}deactivateChildRoutes(_,y,E){const O=ns(y);_.children.forEach($=>{const Q=$.value.outlet;this.deactivateRoutes($,O[Q],E),delete O[Q]}),Yt(O,($,Q)=>{this.deactivateRouteAndItsChildren($,E)})}deactivateRoutes(_,y,E){const O=_.value,$=y?y.value:null;if(O===$)if(O.component){const Q=E.getContext(O.outlet);Q&&this.deactivateChildRoutes(_,y,Q.children)}else this.deactivateChildRoutes(_,y,E);else $&&this.deactivateRouteAndItsChildren(y,E)}deactivateRouteAndItsChildren(_,y){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,y):this.deactivateRouteAndOutlet(_,y)}detachAndStoreRouteSubtree(_,y){const E=y.getContext(_.value.outlet),O=E&&_.value.component?E.children:y,$=ns(_);for(const Q of Object.keys($))this.deactivateRouteAndItsChildren($[Q],O);if(E&&E.outlet){const Q=E.outlet.detach(),ne=E.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:Q,route:_,contexts:ne})}}deactivateRouteAndOutlet(_,y){const E=y.getContext(_.value.outlet),O=E&&_.value.component?E.children:y,$=ns(_);for(const Q of Object.keys($))this.deactivateRouteAndItsChildren($[Q],O);E&&E.outlet&&(E.outlet.deactivate(),E.children.onOutletDeactivated(),E.attachRef=null,E.resolver=null,E.route=null)}activateChildRoutes(_,y,E){const O=ns(y);_.children.forEach($=>{this.activateRoutes($,O[$.value.outlet],E),this.forwardEvent(new bi($.value.snapshot))}),_.children.length&&this.forwardEvent(new eo(_.value.snapshot))}activateRoutes(_,y,E){const O=_.value,$=y?y.value:null;if(Vr(O),O===$)if(O.component){const Q=E.getOrCreateContext(O.outlet);this.activateChildRoutes(_,y,Q.children)}else this.activateChildRoutes(_,y,E);else if(O.component){const Q=E.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const ne=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),Q.children.onOutletReAttached(ne.contexts),Q.attachRef=ne.componentRef,Q.route=ne.route.value,Q.outlet&&Q.outlet.attach(ne.componentRef,ne.route.value),Vr(ne.route.value),this.activateChildRoutes(_,null,Q.children)}else{const ne=Mr(O.snapshot),He=ne?.get(d._Vd)??null;Q.attachRef=null,Q.route=O,Q.resolver=He,Q.injector=ne,Q.outlet&&Q.outlet.activateWith(O,Q.injector),this.activateChildRoutes(_,null,Q.children)}}else this.activateChildRoutes(_,null,E)}}class ss{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class Ei{constructor(_,y){this.component=_,this.route=y}}function as(w,_,y){const E=w._root;return nr(E,_?_._root:null,y,[E.value])}function Zr(w,_){const y=Symbol(),E=_.get(w,y);return E===y?"function"!=typeof w||(0,d.Z0I)(w)?_.get(w):w:E}function nr(w,_,y,E,O={canDeactivateChecks:[],canActivateChecks:[]}){const $=ns(_);return w.children.forEach(Q=>{(function Fs(w,_,y,E,O={canDeactivateChecks:[],canActivateChecks:[]}){const $=w.value,Q=_?_.value:null,ne=y?y.getContext(w.value.outlet):null;if(Q&&$.routeConfig===Q.routeConfig){const He=function Tn(w,_,y){if("function"==typeof y)return y(w,_);switch(y){case"pathParamsChange":return!ft(w.url,_.url);case"pathParamsOrQueryParamsChange":return!ft(w.url,_.url)||!On(w.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qr(w,_)||!On(w.queryParams,_.queryParams);default:return!qr(w,_)}}(Q,$,$.routeConfig.runGuardsAndResolvers);He?O.canActivateChecks.push(new ss(E)):($.data=Q.data,$._resolvedData=Q._resolvedData),nr(w,_,$.component?ne?ne.children:null:y,E,O),He&&ne&&ne.outlet&&ne.outlet.isActivated&&O.canDeactivateChecks.push(new Ei(ne.outlet.component,Q))}else Q&&je(_,ne,O),O.canActivateChecks.push(new ss(E)),nr(w,null,$.component?ne?ne.children:null:y,E,O)})(Q,$[Q.value.outlet],y,E.concat([Q.value]),O),delete $[Q.value.outlet]}),Yt($,(Q,ne)=>je(Q,y.getContext(ne),O)),O}function je(w,_,y){const E=ns(w),O=w.value;Yt(E,($,Q)=>{je($,O.component?_?_.children.getContext(Q):null:_,y)}),y.canDeactivateChecks.push(new Ei(O.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,O))}function Lt(w){return"function"==typeof w}function S(w){return w instanceof Ae||"EmptyError"===w?.name}const Y=Symbol("INITIAL_VALUE");function Ie(){return(0,le.w)(w=>(0,we.a)(w.map(_=>_.pipe((0,tt.q)(1),(0,It.O)(Y)))).pipe((0,de.U)(_=>{for(const y of _)if(!0!==y){if(y===Y)return Y;if(!1===y||y instanceof ut)return y}return!0}),(0,ot.h)(_=>_!==Y),(0,tt.q)(1)))}function co(w){return(0,me.z)((0,Qe.b)(_=>{if(Xe(_))throw ks(0,_)}),(0,de.U)(_=>!0===_))}const Ys={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fi(w,_,y,E,O){const $=Ks(w,_,y);return $.matched?function Ws(w,_,y,E){const O=_.canMatch;if(!O||0===O.length)return(0,ue.of)(!0);const $=O.map(Q=>{const ne=Zr(Q,w);return Rn(function _i(w){return w&&Lt(w.canMatch)}(ne)?ne.canMatch(_,y):w.runInContext(()=>ne(_,y)))});return(0,ue.of)($).pipe(Ie(),co())}(E=ni(_,E),_,y).pipe((0,de.U)(Q=>!0===Q?$:{...Ys})):(0,ue.of)($)}function Ks(w,_,y){if(""===_.path)return"full"===_.pathMatch&&(w.hasChildren()||y.length>0)?{...Ys}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const O=(_.matcher||rr)(y,w,_);if(!O)return{...Ys};const $={};Yt(O.posParams,(ne,He)=>{$[He]=ne.path});const Q=O.consumed.length>0?{...$,...O.consumed[O.consumed.length-1].parameters}:$;return{matched:!0,consumedSegments:O.consumed,remainingSegments:y.slice(O.consumed.length),parameters:Q,positionalParamSegments:O.posParams??{}}}function Bs(w,_,y,E,O="corrected"){if(y.length>0&&function B(w,_,y){return y.some(E=>W(w,_,E)&&Bn(E)!==mt)}(w,y,E)){const Q=new xt(_,function D(w,_,y,E){const O={};O[mt]=E,E._sourceSegment=w,E._segmentIndexShift=_.length;for(const $ of y)if(""===$.path&&Bn($)!==mt){const Q=new xt([],{});Q._sourceSegment=w,Q._segmentIndexShift=_.length,O[Bn($)]=Q}return O}(w,_,E,new xt(y,w.children)));return Q._sourceSegment=w,Q._segmentIndexShift=_.length,{segmentGroup:Q,slicedSegments:[]}}if(0===y.length&&function A(w,_,y){return y.some(E=>W(w,_,E))}(w,y,E)){const Q=new xt(w.segments,function cs(w,_,y,E,O,$){const Q={};for(const ne of E)if(W(w,y,ne)&&!O[Bn(ne)]){const He=new xt([],{});He._sourceSegment=w,He._segmentIndexShift="legacy"===$?w.segments.length:_.length,Q[Bn(ne)]=He}return{...O,...Q}}(w,_,y,E,w.children,O));return Q._sourceSegment=w,Q._segmentIndexShift=_.length,{segmentGroup:Q,slicedSegments:y}}const $=new xt(w.segments,w.children);return $._sourceSegment=w,$._segmentIndexShift=_.length,{segmentGroup:$,slicedSegments:y}}function W(w,_,y){return(!(w.hasChildren()||_.length>0)||"full"!==y.pathMatch)&&""===y.path}function ie(w,_,y,E){return!!(Bn(w)===E||E!==mt&&W(_,y,w))&&("**"===w.path||Ks(_,w,y).matched)}function Fe(w,_,y){return 0===_.length&&!w.children[y]}const Ge=!1;class vt{constructor(_){this.segmentGroup=_||null}}class Kt{constructor(_){this.urlTree=_}}function Ut(w){return(0,Se._)(new vt(w))}function Ht(w){return(0,Se._)(new Kt(w))}class _r{constructor(_,y,E,O,$){this.injector=_,this.configLoader=y,this.urlSerializer=E,this.urlTree=O,this.config=$,this.allowRedirects=!0}apply(){const _=Bs(this.urlTree.root,[],[],this.config).segmentGroup,y=new xt(_.segments,_.children);return this.expandSegmentGroup(this.injector,this.config,y,mt).pipe((0,de.U)($=>this.createUrlTree(ye($),this.urlTree.queryParams,this.urlTree.fragment))).pipe(jt($=>{if($ instanceof Kt)return this.allowRedirects=!1,this.match($.urlTree);throw $ instanceof vt?this.noMatchError($):$}))}match(_){return this.expandSegmentGroup(this.injector,this.config,_.root,mt).pipe((0,de.U)(O=>this.createUrlTree(ye(O),_.queryParams,_.fragment))).pipe(jt(O=>{throw O instanceof vt?this.noMatchError(O):O}))}noMatchError(_){return new d.vHH(4002,Ge)}createUrlTree(_,y,E){const O=Z(_);return new ut(O,y,E)}expandSegmentGroup(_,y,E,O){return 0===E.segments.length&&E.hasChildren()?this.expandChildren(_,y,E).pipe((0,de.U)($=>new xt([],$))):this.expandSegment(_,E,y,E.segments,O,!0)}expandChildren(_,y,E){const O=[];for(const $ of Object.keys(E.children))"primary"===$?O.unshift($):O.push($);return(0,T.D)(O).pipe((0,Je.b)($=>{const Q=E.children[$],ne=hi(y,$);return this.expandSegmentGroup(_,ne,Q,$).pipe((0,de.U)(He=>({segment:He,outlet:$})))}),Rt(($,Q)=>($[Q.outlet]=Q.segment,$),{}),Ze())}expandSegment(_,y,E,O,$,Q){return(0,T.D)(E).pipe((0,Je.b)(ne=>this.expandSegmentAgainstRoute(_,y,E,ne,O,$,Q).pipe(jt(ht=>{if(ht instanceof vt)return(0,ue.of)(null);throw ht}))),be(ne=>!!ne),jt((ne,He)=>{if(S(ne))return Fe(y,O,$)?(0,ue.of)(new xt([],{})):Ut(y);throw ne}))}expandSegmentAgainstRoute(_,y,E,O,$,Q,ne){return ie(O,y,$,Q)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(_,y,O,$,Q):ne&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,y,E,O,$,Q):Ut(y):Ut(y)}expandSegmentAgainstRouteUsingRedirect(_,y,E,O,$,Q){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,E,O,Q):this.expandRegularSegmentAgainstRouteUsingRedirect(_,y,E,O,$,Q)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,y,E,O){const $=this.applyRedirectCommands([],E.redirectTo,{});return E.redirectTo.startsWith("/")?Ht($):this.lineralizeSegments(E,$).pipe((0,We.z)(Q=>{const ne=new xt(Q,{});return this.expandSegment(_,ne,y,Q,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,y,E,O,$,Q){const{matched:ne,consumedSegments:He,remainingSegments:ht,positionalParamSegments:dn}=Ks(y,O,$);if(!ne)return Ut(y);const bt=this.applyRedirectCommands(He,O.redirectTo,dn);return O.redirectTo.startsWith("/")?Ht(bt):this.lineralizeSegments(O,bt).pipe((0,We.z)(kn=>this.expandSegment(_,y,E,kn.concat(ht),Q,!1)))}matchSegmentAgainstRoute(_,y,E,O,$){return"**"===E.path?(_=ni(E,_),E.loadChildren?(E._loadedRoutes?(0,ue.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):this.configLoader.loadChildren(_,E)).pipe((0,de.U)(ne=>(E._loadedRoutes=ne.routes,E._loadedInjector=ne.injector,new xt(O,{})))):(0,ue.of)(new xt(O,{}))):Fi(y,E,O,_).pipe((0,le.w)(({matched:Q,consumedSegments:ne,remainingSegments:He})=>Q?this.getChildConfig(_=E._injector??_,E,O).pipe((0,We.z)(dn=>{const bt=dn.injector??_,kn=dn.routes,{segmentGroup:qi,slicedSegments:Zi}=Bs(y,ne,He,kn),_o=new xt(qi.segments,qi.children);if(0===Zi.length&&_o.hasChildren())return this.expandChildren(bt,kn,_o).pipe((0,de.U)(Go=>new xt(ne,Go)));if(0===kn.length&&0===Zi.length)return(0,ue.of)(new xt(ne,{}));const Hs=Bn(E)===$;return this.expandSegment(bt,_o,kn,Zi,Hs?mt:$,!0).pipe((0,de.U)(xo=>new xt(ne.concat(xo.segments),xo.children)))})):Ut(y)))}getChildConfig(_,y,E){return y.children?(0,ue.of)({routes:y.children,injector:_}):y.loadChildren?void 0!==y._loadedRoutes?(0,ue.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function Io(w,_,y,E){const O=_.canLoad;if(void 0===O||0===O.length)return(0,ue.of)(!0);const $=O.map(Q=>{const ne=Zr(Q,w);return Rn(function wr(w){return w&&Lt(w.canLoad)}(ne)?ne.canLoad(_,y):w.runInContext(()=>ne(_,y)))});return(0,ue.of)($).pipe(Ie(),co())}(_,y,E).pipe((0,We.z)(O=>O?this.configLoader.loadChildren(_,y).pipe((0,Qe.b)($=>{y._loadedRoutes=$.routes,y._loadedInjector=$.injector})):function An(w){return(0,Se._)(wi(Ge,3))}())):(0,ue.of)({routes:[],injector:_})}lineralizeSegments(_,y){let E=[],O=y.root;for(;;){if(E=E.concat(O.segments),0===O.numberOfChildren)return(0,ue.of)(E);if(O.numberOfChildren>1||!O.children[mt])return(0,Se._)(new d.vHH(4e3,Ge));O=O.children[mt]}}applyRedirectCommands(_,y,E){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),_,E)}applyRedirectCreateUrlTree(_,y,E,O){const $=this.createSegmentGroup(_,y.root,E,O);return new ut($,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(_,y){const E={};return Yt(_,(O,$)=>{if("string"==typeof O&&O.startsWith(":")){const ne=O.substring(1);E[$]=y[ne]}else E[$]=O}),E}createSegmentGroup(_,y,E,O){const $=this.createSegments(_,y.segments,E,O);let Q={};return Yt(y.children,(ne,He)=>{Q[He]=this.createSegmentGroup(_,ne,E,O)}),new xt($,Q)}createSegments(_,y,E,O){return y.map($=>$.path.startsWith(":")?this.findPosParam(_,$,O):this.findOrReturn($,E))}findPosParam(_,y,E){const O=E[y.path.substring(1)];if(!O)throw new d.vHH(4001,Ge);return O}findOrReturn(_,y){let E=0;for(const O of y){if(O.path===_.path)return y.splice(E),O;E++}return _}}class Tr{}class R{constructor(_,y,E,O,$,Q,ne,He){this.injector=_,this.rootComponentType=y,this.config=E,this.urlTree=O,this.url=$,this.paramsInheritanceStrategy=Q,this.relativeLinkResolution=ne,this.urlSerializer=He}recognize(){const _=Bs(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,_,mt).pipe((0,de.U)(y=>{if(null===y)return null;const E=new ci([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mt,this.rootComponentType,null,this.urlTree.root,-1,{}),O=new Dr(E,y),$=new Ft(this.url,O);return this.inheritParamsAndData($._root),$}))}inheritParamsAndData(_){const y=_.value,E=Cs(y,this.paramsInheritanceStrategy);y.params=Object.freeze(E.params),y.data=Object.freeze(E.data),_.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(_,y,E,O){return 0===E.segments.length&&E.hasChildren()?this.processChildren(_,y,E):this.processSegment(_,y,E,E.segments,O)}processChildren(_,y,E){return(0,T.D)(Object.keys(E.children)).pipe((0,Je.b)(O=>{const $=E.children[O],Q=hi(y,O);return this.processSegmentGroup(_,Q,$,O)}),Rt((O,$)=>O&&$?(O.push(...$),O):null),function Ye(w,_=!1){return(0,Te.e)((y,E)=>{let O=0;y.subscribe((0,Ue.x)(E,$=>{const Q=w($,O++);(Q||_)&&E.next($),!Q&&E.complete()}))})}(O=>null!==O),et(null),Ze(),(0,de.U)(O=>{if(null===O)return null;const $=H(O);return function m(w){w.sort((_,y)=>_.value.outlet===mt?-1:y.value.outlet===mt?1:_.value.outlet.localeCompare(y.value.outlet))}($),$}))}processSegment(_,y,E,O,$){return(0,T.D)(y).pipe((0,Je.b)(Q=>this.processSegmentAgainstRoute(Q._injector??_,Q,E,O,$)),be(Q=>!!Q),jt(Q=>{if(S(Q))return Fe(E,O,$)?(0,ue.of)([]):(0,ue.of)(null);throw Q}))}processSegmentAgainstRoute(_,y,E,O,$){if(y.redirectTo||!ie(y,E,O,$))return(0,ue.of)(null);let Q;if("**"===y.path){const ne=O.length>0?Mn(O).parameters:{},He=ae(E)+O.length,ht=new ci(O,ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ze(y),Bn(y),y.component??y._loadedComponent??null,y,oe(E),He,gt(y),He);Q=(0,ue.of)({snapshot:ht,consumedSegments:[],remainingSegments:[]})}else Q=Fi(E,y,O,_).pipe((0,de.U)(({matched:ne,consumedSegments:He,remainingSegments:ht,parameters:dn})=>{if(!ne)return null;const bt=ae(E)+He.length;return{snapshot:new ci(He,dn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ze(y),Bn(y),y.component??y._loadedComponent??null,y,oe(E),bt,gt(y),bt),consumedSegments:He,remainingSegments:ht}}));return Q.pipe((0,le.w)(ne=>{if(null===ne)return(0,ue.of)(null);const{snapshot:He,consumedSegments:ht,remainingSegments:dn}=ne;_=y._injector??_;const bt=y._loadedInjector??_,kn=function v(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(y),{segmentGroup:qi,slicedSegments:Zi}=Bs(E,ht,dn,kn.filter(Hs=>void 0===Hs.redirectTo),this.relativeLinkResolution);if(0===Zi.length&&qi.hasChildren())return this.processChildren(bt,kn,qi).pipe((0,de.U)(Hs=>null===Hs?null:[new Dr(He,Hs)]));if(0===kn.length&&0===Zi.length)return(0,ue.of)([new Dr(He,[])]);const _o=Bn(y)===$;return this.processSegment(bt,kn,qi,Zi,_o?mt:$).pipe((0,de.U)(Hs=>null===Hs?null:[new Dr(He,Hs)]))}))}}function M(w){const _=w.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function H(w){const _=[],y=new Set;for(const E of w){if(!M(E)){_.push(E);continue}const O=_.find($=>E.value.routeConfig===$.value.routeConfig);void 0!==O?(O.children.push(...E.children),y.add(O)):_.push(E)}for(const E of y){const O=H(E.children);_.push(new Dr(E.value,O))}return _.filter(E=>!y.has(E))}function oe(w){let _=w;for(;_._sourceSegment;)_=_._sourceSegment;return _}function ae(w){let _=w,y=_._segmentIndexShift??0;for(;_._sourceSegment;)_=_._sourceSegment,y+=_._segmentIndexShift??0;return y-1}function ze(w){return w.data||{}}function gt(w){return w.resolve||{}}function Nn(w){return"string"==typeof w.title||null===w.title}function qn(w){return(0,le.w)(_=>{const y=w(_);return y?(0,T.D)(y).pipe((0,de.U)(()=>_)):(0,ue.of)(_)})}let Zn=(()=>{class w{buildTitle(y){let E,O=y.root;for(;void 0!==O;)E=this.getResolvedTitleForRoute(O)??E,O=O.children.find($=>$.outlet===mt);return E}getResolvedTitleForRoute(y){return y.data[$n]}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(pr)},providedIn:"root"}),w})(),pr=(()=>{class w extends Zn{constructor(y){super(),this.title=y}updateTitle(y){const E=this.buildTitle(y);void 0!==E&&this.title.setTitle(E)}}return w.\u0275fac=function(y){return new(y||w)(d.LFG(qt.Dx))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class Ai{}class ds extends class Ar{shouldDetach(_){return!1}store(_,y){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,y){return _.routeConfig===y.routeConfig}}{}const Ii=new d.OlP("",{providedIn:"root",factory:()=>({})}),Qr=new d.OlP("ROUTES");let hs=(()=>{class w{constructor(y,E){this.injector=y,this.compiler=E,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,ue.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const E=Rn(y.loadComponent()).pipe((0,Qe.b)($=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=$}),Pe(()=>{this.componentLoaders.delete(y)})),O=new it(E,()=>new st.x).pipe(ct());return this.componentLoaders.set(y,O),O}loadChildren(y,E){if(this.childrenLoaders.get(E))return this.childrenLoaders.get(E);if(E._loadedRoutes)return(0,ue.of)({routes:E._loadedRoutes,injector:E._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(E);const $=this.loadModuleFactoryOrRoutes(E.loadChildren).pipe((0,de.U)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(E);let He,ht,dn=!1;Array.isArray(ne)?ht=ne:(He=ne.create(y).injector,ht=gr(He.get(Qr,[],d.XFs.Self|d.XFs.Optional)));return{routes:ht.map(ii),injector:He}}),Pe(()=>{this.childrenLoaders.delete(E)})),Q=new it($,()=>new st.x).pipe(ct());return this.childrenLoaders.set(E,Q),Q}loadModuleFactoryOrRoutes(y){return Rn(y()).pipe((0,We.z)(E=>E instanceof d.YKP||Array.isArray(E)?(0,ue.of)(E):(0,T.D)(this.compiler.compileModuleAsync(E))))}}return w.\u0275fac=function(y){return new(y||w)(d.LFG(d.zs3),d.LFG(d.Sil))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class Vs{}class uo{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,y){return _}}function Bt(w){throw w}function zt(w,_,y){return _.parse("/")}const fn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ir(){const w=(0,d.f3M)(hn),_=(0,d.f3M)(Ri),y=(0,d.f3M)(qe.Ye),E=(0,d.f3M)(d.zs3),O=(0,d.f3M)(d.Sil),$=(0,d.f3M)(Qr,{optional:!0})??[],Q=(0,d.f3M)(Ii,{optional:!0})??{},ne=(0,d.f3M)(pr),He=(0,d.f3M)(Zn,{optional:!0}),ht=(0,d.f3M)(Vs,{optional:!0}),dn=(0,d.f3M)(Ai,{optional:!0}),bt=new Ln(null,w,_,y,E,O,gr($));return ht&&(bt.urlHandlingStrategy=ht),dn&&(bt.routeReuseStrategy=dn),bt.titleStrategy=He??ne,function xi(w,_){w.errorHandler&&(_.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(_.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(_.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(_.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(_.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(_.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(_.canceledNavigationResolution=w.canceledNavigationResolution)}(Q,bt),bt}let Ln=(()=>{class w{constructor(y,E,O,$,Q,ne,He){this.rootComponentType=y,this.urlSerializer=E,this.rootContexts=O,this.location=$,this.config=He,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new st.x,this.errorHandler=Bt,this.malformedUriErrorHandler=zt,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,ue.of)(void 0),this.urlHandlingStrategy=new uo,this.routeReuseStrategy=new ds,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Q.get(hs),this.configLoader.onLoadEndListener=kn=>this.triggerEvent(new ei(kn)),this.configLoader.onLoadStartListener=kn=>this.triggerEvent(new Xs(kn)),this.ngModule=Q.get(d.h0i),this.console=Q.get(d.c2e);const bt=Q.get(d.R0b);this.isNgZoneEnabled=bt instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(He),this.currentUrlTree=function Gr(){return new ut(new xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cn(this.currentUrlTree,this.rootComponentType),this.transitions=new ve.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(y){const E=this.events;return y.pipe((0,ot.h)(O=>0!==O.id),(0,de.U)(O=>({...O,extractedUrl:this.urlHandlingStrategy.extract(O.rawUrl)})),(0,le.w)(O=>{let $=!1,Q=!1;return(0,ue.of)(O).pipe((0,Qe.b)(ne=>{this.currentNavigation={id:ne.id,initialUrl:ne.rawUrl,extractedUrl:ne.extractedUrl,trigger:ne.source,extras:ne.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,le.w)(ne=>{const He=this.browserUrlTree.toString(),ht=!this.navigated||ne.extractedUrl.toString()!==He||He!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ht)&&this.urlHandlingStrategy.shouldProcessUrl(ne.rawUrl))return qs(ne.source)&&(this.browserUrlTree=ne.extractedUrl),(0,ue.of)(ne).pipe((0,le.w)(bt=>{const kn=this.transitions.getValue();return E.next(new Kr(bt.id,this.serializeUrl(bt.extractedUrl),bt.source,bt.restoredState)),kn!==this.transitions.getValue()?at.E:Promise.resolve(bt)}),function us(w,_,y,E){return(0,le.w)(O=>function Cn(w,_,y,E,O){return new _r(w,_,y,E,O).apply()}(w,_,y,O.extractedUrl,E).pipe((0,de.U)($=>({...O,urlAfterRedirects:$}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qe.b)(bt=>{this.currentNavigation={...this.currentNavigation,finalUrl:bt.urlAfterRedirects},O.urlAfterRedirects=bt.urlAfterRedirects}),function Et(w,_,y,E,O,$){return(0,We.z)(Q=>function Ti(w,_,y,E,O,$,Q="emptyOnly",ne="legacy"){return new R(w,_,y,E,O,Q,ne,$).recognize().pipe((0,le.w)(He=>null===He?function fi(w){return new ge.y(_=>_.error(w))}(new Tr):(0,ue.of)(He)))}(w,_,y,Q.urlAfterRedirects,E.serialize(Q.urlAfterRedirects),E,O,$).pipe((0,de.U)(ne=>({...Q,targetSnapshot:ne}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qe.b)(bt=>{if(O.targetSnapshot=bt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!bt.extras.skipLocationChange){const qi=this.urlHandlingStrategy.merge(bt.urlAfterRedirects,bt.rawUrl);this.setBrowserUrl(qi,bt)}this.browserUrlTree=bt.urlAfterRedirects}const kn=new Lr(bt.id,this.serializeUrl(bt.extractedUrl),this.serializeUrl(bt.urlAfterRedirects),bt.targetSnapshot);E.next(kn)}));if(ht&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:kn,extractedUrl:qi,source:Zi,restoredState:_o,extras:Hs}=ne,Ro=new Kr(kn,this.serializeUrl(qi),Zi,_o);E.next(Ro);const xo=cn(qi,this.rootComponentType).snapshot;return O={...ne,targetSnapshot:xo,urlAfterRedirects:qi,extras:{...Hs,skipLocationChange:!1,replaceUrl:!1}},(0,ue.of)(O)}return this.rawUrlTree=ne.rawUrl,ne.resolve(null),at.E}),(0,Qe.b)(ne=>{const He=new Ui(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot);this.triggerEvent(He)}),(0,de.U)(ne=>O={...ne,guards:as(ne.targetSnapshot,ne.currentSnapshot,this.rootContexts)}),function wt(w,_){return(0,We.z)(y=>{const{targetSnapshot:E,currentSnapshot:O,guards:{canActivateChecks:$,canDeactivateChecks:Q}}=y;return 0===Q.length&&0===$.length?(0,ue.of)({...y,guardsResult:!0}):function on(w,_,y,E){return(0,T.D)(w).pipe((0,We.z)(O=>function Ls(w,_,y,E,O){const $=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!$||0===$.length)return(0,ue.of)(!0);const Q=$.map(ne=>{const He=Mr(_)??O,ht=Zr(ne,He);return Rn(function Mi(w){return w&&Lt(w.canDeactivate)}(ht)?ht.canDeactivate(w,_,y,E):He.runInContext(()=>ht(w,_,y,E))).pipe(be())});return(0,ue.of)(Q).pipe(Ie())}(O.component,O.route,y,_,E)),be(O=>!0!==O,!0))}(Q,E,O,w).pipe((0,We.z)(ne=>ne&&function ls(w){return"boolean"==typeof w}(ne)?function Fn(w,_,y,E){return(0,T.D)(_).pipe((0,Je.b)(O=>(0,Be.z)(function Sr(w,_){return null!==w&&_&&_(new ws(w)),(0,ue.of)(!0)}(O.route.parent,E),function Si(w,_){return null!==w&&_&&_(new to(w)),(0,ue.of)(!0)}(O.route,E),function Ms(w,_,y){const E=_[_.length-1],$=_.slice(0,_.length-1).reverse().map(Q=>function Ur(w){const _=w.routeConfig?w.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:w,guards:_}:null}(Q)).filter(Q=>null!==Q).map(Q=>(0,De.P)(()=>{const ne=Q.guards.map(He=>{const ht=Mr(Q.node)??y,dn=Zr(He,ht);return Rn(function Es(w){return w&&Lt(w.canActivateChild)}(dn)?dn.canActivateChild(E,w):ht.runInContext(()=>dn(E,w))).pipe(be())});return(0,ue.of)(ne).pipe(Ie())}));return(0,ue.of)($).pipe(Ie())}(w,O.path,y),function Jr(w,_,y){const E=_.routeConfig?_.routeConfig.canActivate:null;if(!E||0===E.length)return(0,ue.of)(!0);const O=E.map($=>(0,De.P)(()=>{const Q=Mr(_)??y,ne=Zr($,Q);return Rn(function Dn(w){return w&&Lt(w.canActivate)}(ne)?ne.canActivate(_,w):Q.runInContext(()=>ne(_,w))).pipe(be())}));return(0,ue.of)(O).pipe(Ie())}(w,O.route,y))),be(O=>!0!==O,!0))}(E,$,w,_):(0,ue.of)(ne)),(0,de.U)(ne=>({...y,guardsResult:ne})))})}(this.ngModule.injector,ne=>this.triggerEvent(ne)),(0,Qe.b)(ne=>{if(O.guardsResult=ne.guardsResult,Xe(ne.guardsResult))throw ks(0,ne.guardsResult);const He=new es(ne.id,this.serializeUrl(ne.extractedUrl),this.serializeUrl(ne.urlAfterRedirects),ne.targetSnapshot,!!ne.guardsResult);this.triggerEvent(He)}),(0,ot.h)(ne=>!!ne.guardsResult||(this.restoreHistory(ne),this.cancelNavigationTransition(ne,"",3),!1)),qn(ne=>{if(ne.guards.canActivateChecks.length)return(0,ue.of)(ne).pipe((0,Qe.b)(He=>{const ht=new vi(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot);this.triggerEvent(ht)}),(0,le.w)(He=>{let ht=!1;return(0,ue.of)(He).pipe(function yn(w,_){return(0,We.z)(y=>{const{targetSnapshot:E,guards:{canActivateChecks:O}}=y;if(!O.length)return(0,ue.of)(y);let $=0;return(0,T.D)(O).pipe((0,Je.b)(Q=>function tn(w,_,y,E){const O=w.routeConfig,$=w._resolve;return void 0!==O?.title&&!Nn(O)&&($[$n]=O.title),function $t(w,_,y,E){const O=function Qt(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===O.length)return(0,ue.of)({});const $={};return(0,T.D)(O).pipe((0,We.z)(Q=>function bn(w,_,y,E){const O=Mr(_)??E,$=Zr(w,O);return Rn($.resolve?$.resolve(_,y):O.runInContext(()=>$(_,y)))}(w[Q],_,y,E).pipe(be(),(0,Qe.b)(ne=>{$[Q]=ne}))),Pn(1),(0,pe.h)($),jt(Q=>S(Q)?at.E:(0,Se._)(Q)))}($,w,_,E).pipe((0,de.U)(Q=>(w._resolvedData=Q,w.data=Cs(w,y).resolve,O&&Nn(O)&&(w.data[$n]=O.title),null)))}(Q.route,E,w,_)),(0,Qe.b)(()=>$++),Pn(1),(0,We.z)(Q=>$===O.length?(0,ue.of)(y):at.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qe.b)({next:()=>ht=!0,complete:()=>{ht||(this.restoreHistory(He),this.cancelNavigationTransition(He,"",2))}}))}),(0,Qe.b)(He=>{const ht=new yr(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot);this.triggerEvent(ht)}))}),qn(ne=>{const He=ht=>{const dn=[];ht.routeConfig?.loadComponent&&!ht.routeConfig._loadedComponent&&dn.push(this.configLoader.loadComponent(ht.routeConfig).pipe((0,Qe.b)(bt=>{ht.component=bt}),(0,de.U)(()=>{})));for(const bt of ht.children)dn.push(...He(bt));return dn};return(0,we.a)(He(ne.targetSnapshot.root)).pipe(et(),(0,tt.q)(1))}),qn(()=>this.afterPreactivation()),(0,de.U)(ne=>{const He=function $i(w,_,y){const E=Gi(w,_._root,y?y._root:void 0);return new xs(E,_)}(this.routeReuseStrategy,ne.targetSnapshot,ne.currentRouterState);return O={...ne,targetRouterState:He}}),(0,Qe.b)(ne=>{this.currentUrlTree=ne.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ne.urlAfterRedirects,ne.rawUrl),this.routerState=ne.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ne.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ne),this.browserUrlTree=ne.urlAfterRedirects)}),((w,_,y)=>(0,de.U)(E=>(new Ot(_,E.targetRouterState,E.currentRouterState,y).activate(w),E)))(this.rootContexts,this.routeReuseStrategy,ne=>this.triggerEvent(ne)),(0,Qe.b)({next(){$=!0},complete(){$=!0}}),Pe(()=>{$||Q||this.cancelNavigationTransition(O,"",1),this.currentNavigation?.id===O.id&&(this.currentNavigation=null)}),jt(ne=>{if(Q=!0,Ps(ne)){is(ne)||(this.navigated=!0,this.restoreHistory(O,!0));const He=new Fr(O.id,this.serializeUrl(O.extractedUrl),ne.message,ne.cancellationCode);if(E.next(He),is(ne)){const ht=this.urlHandlingStrategy.merge(ne.url,this.rawUrlTree),dn={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qs(O.source)};this.scheduleNavigation(ht,"imperative",null,dn,{resolve:O.resolve,reject:O.reject,promise:O.promise})}else O.resolve(!1)}else{this.restoreHistory(O,!0);const He=new mr(O.id,this.serializeUrl(O.extractedUrl),ne,O.targetSnapshot??void 0);E.next(He);try{O.resolve(this.errorHandler(ne))}catch(ht){O.reject(ht)}}return at.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next({...this.transitions.value,...y})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const E="popstate"===y.type?"popstate":"hashchange";"popstate"===E&&setTimeout(()=>{const O={replaceUrl:!0},$=y.state?.navigationId?y.state:null;if($){const ne={...$};delete ne.navigationId,delete ne.\u0275routerPageId,0!==Object.keys(ne).length&&(O.state=ne)}const Q=this.parseUrl(y.url);this.scheduleNavigation(Q,E,$,O)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){this.config=y.map(ii),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,E={}){const{relativeTo:O,queryParams:$,fragment:Q,queryParamsHandling:ne,preserveFragment:He}=E,ht=O||this.routerState.root,dn=He?this.currentUrlTree.fragment:Q;let bt=null;switch(ne){case"merge":bt={...this.currentUrlTree.queryParams,...$};break;case"preserve":bt=this.currentUrlTree.queryParams;break;default:bt=$||null}return null!==bt&&(bt=this.removeEmptyProps(bt)),St(ht,this.currentUrlTree,y,bt,dn??null)}navigateByUrl(y,E={skipLocationChange:!1}){const O=Xe(y)?y:this.parseUrl(y),$=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation($,"imperative",null,E)}navigate(y,E={skipLocationChange:!1}){return function jn(w){for(let _=0;_<w.length;_++){if(null==w[_])throw new d.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,E),E)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let E;try{E=this.urlSerializer.parse(y)}catch(O){E=this.malformedUriErrorHandler(O,this.urlSerializer,y)}return E}isActive(y,E){let O;if(O=!0===E?{...fn}:!1===E?{...xr}:E,Xe(y))return re(this.currentUrlTree,y,O);const $=this.parseUrl(y);return re(this.currentUrlTree,$,O)}removeEmptyProps(y){return Object.keys(y).reduce((E,O)=>{const $=y[O];return null!=$&&(E[O]=$),E},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new xn(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,E,O,$,Q){if(this.disposed)return Promise.resolve(!1);let ne,He,ht;Q?(ne=Q.resolve,He=Q.reject,ht=Q.promise):ht=new Promise((kn,qi)=>{ne=kn,He=qi});const dn=++this.navigationId;let bt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(O=this.location.getState()),bt=O&&O.\u0275routerPageId?O.\u0275routerPageId:$.replaceUrl||$.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):bt=0,this.setTransition({id:dn,targetPageId:bt,source:E,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:$,resolve:ne,reject:He,promise:ht,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ht.catch(kn=>Promise.reject(kn))}setBrowserUrl(y,E){const O=this.urlSerializer.serialize(y),$={...E.extras.state,...this.generateNgRouterState(E.id,E.targetPageId)};this.location.isCurrentPathEqualTo(O)||E.extras.replaceUrl?this.location.replaceState(O,"",$):this.location.go(O,"",$)}restoreHistory(y,E=!1){if("computed"===this.canceledNavigationResolution){const O=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===O?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===O&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(O)}else"replace"===this.canceledNavigationResolution&&(E&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,E,O){const $=new Fr(y.id,this.serializeUrl(y.extractedUrl),E,O);this.triggerEvent($),y.resolve(!1)}generateNgRouterState(y,E){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:E}:{navigationId:y}}}return w.\u0275fac=function(y){d.$Z()},w.\u0275prov=d.Yz7({token:w,factory:function(){return Ir()},providedIn:"root"}),w})();function qs(w){return"imperative"!==w}let fs=(()=>{class w{constructor(y,E,O,$,Q){this.router=y,this.route=E,this.tabIndexAttribute=O,this.renderer=$,this.el=Q,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new st.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,d.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,d.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,d.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const E=this.renderer,O=this.el.nativeElement;null!==y?E.setAttribute(O,"tabindex",y):E.removeAttribute(O,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(y){return new(y||w)(d.Y36(Ln),d.Y36(Br),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},w.\u0275dir=d.lG2({type:w,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,E){1&y&&d.NdJ("click",function(){return E.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),w})(),Or=(()=>{class w{constructor(y,E,O){this.router=y,this.route=E,this.locationStrategy=O,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new st.x,this.subscription=y.events.subscribe($=>{$ instanceof xn&&this.updateTargetUrlAndHref()})}set preserveFragment(y){this._preserveFragment=(0,d.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,d.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,d.D6c)(y)}get replaceUrl(){return this._replaceUrl}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,E,O,$,Q){return!!(0!==y||E||O||$||Q||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(y){return new(y||w)(d.Y36(Ln),d.Y36(Br),d.Y36(qe.S$))},w.\u0275dir=d.lG2({type:w,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,E){1&y&&d.NdJ("click",function($){return E.onClick($.button,$.ctrlKey,$.shiftKey,$.altKey,$.metaKey)}),2&y&&d.uIk("target",E.target)("href",E.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),w})(),Ss=(()=>{class w{constructor(y,E,O,$,Q,ne){this.router=y,this.element=E,this.renderer=O,this.cdr=$,this.link=Q,this.linkWithHref=ne,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.vpe,this.routerEventsSubscription=y.events.subscribe(He=>{He instanceof xn&&this.update()})}ngAfterContentInit(){(0,ue.of)(this.links.changes,this.linksWithHrefs.changes,(0,ue.of)(null)).pipe((0,dt.J)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const y=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(E=>!!E).map(E=>E.onChanges);this.linkInputChangesSubscription=(0,T.D)(y).pipe((0,dt.J)()).subscribe(E=>{this.isActive!==this.isLinkActive(this.router)(E)&&this.update()})}set routerLinkActive(y){const E=Array.isArray(y)?y:y.split(" ");this.classes=E.filter(O=>!!O)}ngOnChanges(y){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const y=this.hasActiveLinks();this.isActive!==y&&(this.isActive=y,this.cdr.markForCheck(),this.classes.forEach(E=>{y?this.renderer.addClass(this.element.nativeElement,E):this.renderer.removeClass(this.element.nativeElement,E)}),y&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(y))})}isLinkActive(y){const E=function Oi(w){return!!w.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return O=>!!O.urlTree&&y.isActive(O.urlTree,E)}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.linkWithHref&&y(this.linkWithHref)||this.links.some(y)||this.linksWithHrefs.some(y)}}return w.\u0275fac=function(y){return new(y||w)(d.Y36(Ln),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(fs,8),d.Y36(Or,8))},w.\u0275dir=d.lG2({type:w,selectors:[["","routerLinkActive",""]],contentQueries:function(y,E,O){if(1&y&&(d.Suo(O,fs,5),d.Suo(O,Or,5)),2&y){let $;d.iGM($=d.CRH())&&(E.links=$),d.iGM($=d.CRH())&&(E.linksWithHrefs=$)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[d.TTD]}),w})();class Ts{}let oa=(()=>{class w{constructor(y,E,O,$,Q){this.router=y,this.injector=O,this.preloadingStrategy=$,this.loader=Q}setUpPreloading(){this.subscription=this.router.events.pipe((0,ot.h)(y=>y instanceof xn),(0,Je.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,E){const O=[];for(const $ of E){$.providers&&!$._injector&&($._injector=(0,d.MMx)($.providers,y,`Route: ${$.path}`));const Q=$._injector??y,ne=$._loadedInjector??Q;$.loadChildren&&!$._loadedRoutes&&void 0===$.canLoad||$.loadComponent&&!$._loadedComponent?O.push(this.preloadConfig(Q,$)):($.children||$._loadedRoutes)&&O.push(this.processRoutes(ne,$.children??$._loadedRoutes))}return(0,T.D)(O).pipe((0,dt.J)())}preloadConfig(y,E){return this.preloadingStrategy.preload(E,()=>{let O;O=E.loadChildren&&void 0===E.canLoad?this.loader.loadChildren(y,E):(0,ue.of)(null);const $=O.pipe((0,We.z)(Q=>null===Q?(0,ue.of)(void 0):(E._loadedRoutes=Q.routes,E._loadedInjector=Q.injector,this.processRoutes(Q.injector??y,Q.routes))));if(E.loadComponent&&!E._loadedComponent){const Q=this.loader.loadComponent(E);return(0,T.D)([$,Q]).pipe((0,dt.J)())}return $})}}return w.\u0275fac=function(y){return new(y||w)(d.LFG(Ln),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Ts),d.LFG(hs))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const aa=new d.OlP("");let Oa=(()=>{class w{constructor(y,E,O={}){this.router=y,this.viewportScroller=E,this.options=O,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},O.scrollPositionRestoration=O.scrollPositionRestoration||"disabled",O.anchorScrolling=O.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Kr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof xn&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof ts&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,E){this.router.triggerEvent(new ts(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,E))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(y){d.$Z()},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),w})();function As(w,_){return{\u0275kind:w,\u0275providers:_}}function Po(w){return[{provide:Qr,multi:!0,useValue:w}]}function fo(){const w=(0,d.f3M)(d.zs3);return _=>{const y=w.get(d.z2F);if(_!==y.components[0])return;const E=w.get(Ln),O=w.get(tl);1===w.get(la)&&E.initialNavigation(),w.get(Li,null,d.XFs.Optional)?.setUpPreloading(),w.get(aa,null,d.XFs.Optional)?.init(),E.resetRootComponentType(y.componentTypes[0]),O.next(),O.complete()}}const tl=new d.OlP("",{factory:()=>new st.x}),la=new d.OlP("",{providedIn:"root",factory:()=>1});const Li=new d.OlP("");function Ki(w){return As(0,[{provide:Li,useExisting:oa},{provide:Ts,useExisting:w}])}const ps=new d.OlP("ROUTER_FORROOT_GUARD"),fu=[qe.Ye,{provide:hn,useClass:dr},{provide:Ln,useFactory:Ir},Ri,{provide:Br,useFactory:function ho(w){return w.routerState.root},deps:[Ln]},hs];function nl(){return new d.PXZ("Router",Ln)}let jr=(()=>{class w{constructor(y){}static forRoot(y,E){return{ngModule:w,providers:[fu,[],Po(y),{provide:ps,useFactory:Zl,deps:[[Ln,new d.FiY,new d.tp0]]},{provide:Ii,useValue:E||{}},E?.useHash?{provide:qe.S$,useClass:qe.Do}:{provide:qe.S$,useClass:qe.b0},{provide:aa,useFactory:()=>{const w=(0,d.f3M)(Ln),_=(0,d.f3M)(qe.EM),y=(0,d.f3M)(Ii);return y.scrollOffset&&_.setOffset(y.scrollOffset),new Oa(w,_,y)}},E?.preloadingStrategy?Ki(E.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:nl},E?.initialNavigation?Bi(E):[],[{provide:Vi,useFactory:fo},{provide:d.tb,multi:!0,useExisting:Vi}]]}}static forChild(y){return{ngModule:w,providers:[Po(y)]}}}return w.\u0275fac=function(y){return new(y||w)(d.LFG(ps,8))},w.\u0275mod=d.oAB({type:w}),w.\u0275inj=d.cJS({imports:[ln]}),w})();function Zl(w){return"guarded"}function Bi(w){return["disabled"===w.initialNavigation?As(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const _=(0,d.f3M)(Ln);return()=>{_.setUpLocationChangeListener()}}},{provide:la,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?As(2,[{provide:la,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:_=>{const y=_.get(qe.V_,Promise.resolve());let E=!1;return()=>y.then(()=>new Promise($=>{const Q=_.get(Ln),ne=_.get(tl);(function O($){_.get(Ln).events.pipe((0,ot.h)(ne=>ne instanceof xn||ne instanceof Fr||ne instanceof mr),(0,de.U)(ne=>ne instanceof xn||ne instanceof Fr&&(0===ne.code||1===ne.code)&&null),(0,ot.h)(ne=>null!==ne),(0,tt.q)(1)).subscribe(()=>{$()})})(()=>{$(!0),E=!0}),Q.afterPreactivation=()=>($(!0),E||ne.closed?(0,ue.of)(void 0):ne),Q.initialNavigation()}))}}]).\u0275providers:[]]}const Vi=new d.OlP("")},2642:(_t,Le,z)=>{z.d(Le,{$BE:()=>Gn,S9g:()=>Ns,acj:()=>Zt,n5m:()=>pr,uS3:()=>bn});const Zt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file-text">\n    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>\n</svg>',Gn='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file">\n    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>\n</svg>',Ns='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-layers">\n    <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>\n</svg>',bn='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user-check">\n    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>\n</svg>',pr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user">\n    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>\n</svg>'},6323:(_t,Le,z)=>{z.d(Le,{p:()=>Ae,u:()=>_e});var d=z(1571);const T=["*"];class ue{constructor(Be){this.icons=Be}}let _e=(()=>{class we{constructor(De,me,Se){this.elem=De,this.changeDetector=me,this.icons=Se}ngOnChanges(De){const Se=Object.assign({},...this.icons)[function ve(we){return we.toLowerCase().replace(/(?:^\w|[A-Z]|\b\w)/g,Be=>Be.toUpperCase()).replace(/[-_]/g,"")}(De.name.currentValue)]||"";Se||console.warn(`Icon not found: ${De.name.currentValue}\nRefer to documentation on https://github.com/michaelbazos/angular-feather`),this.elem.nativeElement.innerHTML=Se,this.changeDetector.markForCheck()}}return we.\u0275fac=function(De){return new(De||we)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(ue))},we.\u0275cmp=d.Xpm({type:we,selectors:[["i-feather"],["feather-icon"]],inputs:{name:"name"},features:[d.TTD],ngContentSelectors:T,decls:1,vars:0,template:function(De,me){1&De&&(d.F$t(),d.Hsn(0))},styles:["[_nghost-%COMP%]{display:inline-block;width:24px;height:24px;fill:none;stroke:currentColor;stroke-width:2px;stroke-linecap:round;stroke-linejoin:round}"]}),we})(),Ae=(()=>{class we{constructor(De){if(this.icons=De,!this.icons)throw new Error("No icon provided. Make sure to use 'FeatherModule.pick({ ... })' when importing the module\nRefer to documentation on https://github.com/michaelbazos/angular-feather")}static pick(De){return{ngModule:we,providers:[{provide:ue,multi:!0,useValue:De}]}}}return we.\u0275fac=function(De){return new(De||we)(d.LFG(ue,8))},we.\u0275mod=d.oAB({type:we}),we.\u0275inj=d.cJS({}),we})()},5869:(_t,Le,z)=>{z.d(Le,{ML:()=>Gd,Mn:()=>up,tP:()=>ud,FP:()=>Bd});var d=z(1571),T=z(433),ue=z(7579),ve=z(2722);const Be=o=>{const e=(o=>{const e={};return Object.keys(o).forEach(r=>{o[r]&&(e[r]=o[r])}),e})(o);return Object.entries(e).map(([r,s])=>`${(o=>o.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`))(r)}:${s}`).join(";")};class De extends Error{constructor(e){super(e),this.name=this.constructor.name}}function me(o){this.content=o}me.prototype={constructor:me,find:function(o){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===o)return e;return-1},get:function(o){var e=this.find(o);return-1==e?void 0:this.content[e+1]},update:function(o,e,r){var s=r&&r!=o?this.remove(r):this,l=s.find(o),u=s.content.slice();return-1==l?u.push(r||o,e):(u[l+1]=e,r&&(u[l]=r)),new me(u)},remove:function(o){var e=this.find(o);if(-1==e)return this;var r=this.content.slice();return r.splice(e,2),new me(r)},addToStart:function(o,e){return new me([o,e].concat(this.remove(o).content))},addToEnd:function(o,e){var r=this.remove(o).content.slice();return r.push(o,e),new me(r)},addBefore:function(o,e,r){var s=this.remove(e),l=s.content.slice(),u=s.find(o);return l.splice(-1==u?l.length:u,0,e,r),new me(l)},forEach:function(o){for(var e=0;e<this.content.length;e+=2)o(this.content[e],this.content[e+1])},prepend:function(o){return(o=me.from(o)).size?new me(o.content.concat(this.subtract(o).content)):this},append:function(o){return(o=me.from(o)).size?new me(this.subtract(o).content.concat(o.content)):this},subtract:function(o){var e=this;o=me.from(o);for(var r=0;r<o.content.length;r+=2)e=e.remove(o.content[r]);return e},toObject:function(){var o={};return this.forEach(function(e,r){o[e]=r}),o},get size(){return this.content.length>>1}},me.from=function(o){if(o instanceof me)return o;var e=[];if(o)for(var r in o)e.push(r,o[r]);return new me(e)};const Se=me;function ge(o,e,r){for(let s=0;;s++){if(s==o.childCount||s==e.childCount)return o.childCount==e.childCount?null:r;let l=o.child(s),u=e.child(s);if(l!=u){if(!l.sameMarkup(u))return r;if(l.isText&&l.text!=u.text){for(let f=0;l.text[f]==u.text[f];f++)r++;return r}if(l.content.size||u.content.size){let f=ge(l.content,u.content,r+1);if(null!=f)return f}r+=l.nodeSize}else r+=l.nodeSize}}function at(o,e,r,s){for(let l=o.childCount,u=e.childCount;;){if(0==l||0==u)return l==u?null:{a:r,b:s};let f=o.child(--l),p=e.child(--u),C=f.nodeSize;if(f!=p){if(!f.sameMarkup(p))return{a:r,b:s};if(f.isText&&f.text!=p.text){let P=0,V=Math.min(f.text.length,p.text.length);for(;P<V&&f.text[f.text.length-P-1]==p.text[p.text.length-P-1];)P++,r--,s--;return{a:r,b:s}}if(f.content.size||p.content.size){let P=at(f.content,p.content,r-1,s-1);if(P)return P}r-=C,s-=C}else r-=C,s-=C}}class fe{constructor(e,r){if(this.content=e,this.size=r||0,null==r)for(let s=0;s<e.length;s++)this.size+=e[s].nodeSize}nodesBetween(e,r,s,l=0,u){for(let f=0,p=0;p<r;f++){let C=this.content[f],P=p+C.nodeSize;if(P>e&&!1!==s(C,l+p,u||null,f)&&C.content.size){let V=p+1;C.nodesBetween(Math.max(0,e-V),Math.min(C.content.size,r-V),s,l+V)}p=P}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,s,l){let u="",f=!0;return this.nodesBetween(e,r,(p,C)=>{p.isText?(u+=p.text.slice(Math.max(e,C)-C,r-C),f=!s):p.isLeaf?(l?u+="function"==typeof l?l(p):l:p.type.spec.leafText&&(u+=p.type.spec.leafText(p)),f=!s):!f&&p.isBlock&&(u+=s,f=!0)},0),u}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,s=e.firstChild,l=this.content.slice(),u=0;for(r.isText&&r.sameMarkup(s)&&(l[l.length-1]=r.withText(r.text+s.text),u=1);u<e.content.length;u++)l.push(e.content[u]);return new fe(l,this.size+e.size)}cut(e,r=this.size){if(0==e&&r==this.size)return this;let s=[],l=0;if(r>e)for(let u=0,f=0;f<r;u++){let p=this.content[u],C=f+p.nodeSize;C>e&&((f<e||C>r)&&(p=p.isText?p.cut(Math.max(0,e-f),Math.min(p.text.length,r-f)):p.cut(Math.max(0,e-f-1),Math.min(p.content.size,r-f-1))),s.push(p),l+=p.nodeSize),f=C}return new fe(s,l)}cutByIndex(e,r){return e==r?fe.empty:0==e&&r==this.content.length?this:new fe(this.content.slice(e,r))}replaceChild(e,r){let s=this.content[e];if(s==r)return this;let l=this.content.slice(),u=this.size+r.nodeSize-s.nodeSize;return l[e]=r,new fe(l,u)}addToStart(e){return new fe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new fe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,s=0;r<this.content.length;r++){let l=this.content[r];e(l,s,r),s+=l.nodeSize}}findDiffStart(e,r=0){return ge(this,e,r)}findDiffEnd(e,r=this.size,s=e.size){return at(this,e,r,s)}findIndex(e,r=-1){if(0==e)return Ue(0,e);if(e==this.size)return Ue(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let s=0,l=0;;s++){let f=l+this.child(s).nodeSize;if(f>=e)return f==e||r>0?Ue(s+1,f):Ue(s,l);l=f}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return fe.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new fe(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return fe.empty;let r,s=0;for(let l=0;l<e.length;l++){let u=e[l];s+=u.nodeSize,l&&u.isText&&e[l-1].sameMarkup(u)?(r||(r=e.slice(0,l)),r[r.length-1]=u.withText(r[r.length-1].text+u.text)):r&&r.push(u)}return new fe(r||e,s)}static from(e){if(!e)return fe.empty;if(e instanceof fe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new fe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}fe.empty=new fe([],0);const Te={index:0,offset:0};function Ue(o,e){return Te.index=o,Te.offset=e,Te}function ct(o,e){if(o===e)return!0;if(!o||"object"!=typeof o||!e||"object"!=typeof e)return!1;let r=Array.isArray(o);if(Array.isArray(e)!=r)return!1;if(r){if(o.length!=e.length)return!1;for(let s=0;s<o.length;s++)if(!ct(o[s],e[s]))return!1}else{for(let s in o)if(!(s in e)||!ct(o[s],e[s]))return!1;for(let s in e)if(!(s in o))return!1}return!0}let it=(()=>{class o{constructor(r,s){this.type=r,this.attrs=s}addToSet(r){let s,l=!1;for(let u=0;u<r.length;u++){let f=r[u];if(this.eq(f))return r;if(this.type.excludes(f.type))s||(s=r.slice(0,u));else{if(f.type.excludes(this.type))return r;!l&&f.type.rank>this.type.rank&&(s||(s=r.slice(0,u)),s.push(this),l=!0),s&&s.push(f)}}return s||(s=r.slice()),l||s.push(this),s}removeFromSet(r){for(let s=0;s<r.length;s++)if(this.eq(r[s]))return r.slice(0,s).concat(r.slice(s+1));return r}isInSet(r){for(let s=0;s<r.length;s++)if(this.eq(r[s]))return!0;return!1}eq(r){return this==r||this.type==r.type&&ct(this.attrs,r.attrs)}toJSON(){let r={type:this.type.name};for(let s in this.attrs){r.attrs=this.attrs;break}return r}static fromJSON(r,s){if(!s)throw new RangeError("Invalid input for Mark.fromJSON");let l=r.marks[s.type];if(!l)throw new RangeError(`There is no mark type ${s.type} in this schema`);return l.create(s.attrs)}static sameSet(r,s){if(r==s)return!0;if(r.length!=s.length)return!1;for(let l=0;l<r.length;l++)if(!r[l].eq(s[l]))return!1;return!0}static setFrom(r){if(!r||Array.isArray(r)&&0==r.length)return o.none;if(r instanceof o)return[r];let s=r.slice();return s.sort((l,u)=>l.type.rank-u.type.rank),s}}return o.none=[],o})();class st extends Error{}class qe{constructor(e,r,s){this.content=e,this.openStart=r,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let s=le(this.content,e+this.openStart,r);return s&&new qe(s,this.openStart,this.openEnd)}removeBetween(e,r){return new qe(de(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return qe.empty;let s=r.openStart||0,l=r.openEnd||0;if("number"!=typeof s||"number"!=typeof l)throw new RangeError("Invalid input for Slice.fromJSON");return new qe(fe.fromJSON(e,r.content),s,l)}static maxOpen(e,r=!0){let s=0,l=0;for(let u=e.firstChild;u&&!u.isLeaf&&(r||!u.type.spec.isolating);u=u.firstChild)s++;for(let u=e.lastChild;u&&!u.isLeaf&&(r||!u.type.spec.isolating);u=u.lastChild)l++;return new qe(e,s,l)}}function de(o,e,r){let{index:s,offset:l}=o.findIndex(e),u=o.maybeChild(s),{index:f,offset:p}=o.findIndex(r);if(l==e||u.isText){if(p!=r&&!o.child(f).isText)throw new RangeError("Removing non-flat range");return o.cut(0,e).append(o.cut(r))}if(s!=f)throw new RangeError("Removing non-flat range");return o.replaceChild(s,u.copy(de(u.content,e-l-1,r-l-1)))}function le(o,e,r,s){let{index:l,offset:u}=o.findIndex(e),f=o.maybeChild(l);if(u==e||f.isText)return s&&!s.canReplace(l,l,r)?null:o.cut(0,e).append(r).append(o.cut(e));let p=le(f.content,e-u-1,r);return p&&o.replaceChild(l,f.copy(p))}function tt(o,e,r){if(r.openStart>o.depth)throw new st("Inserted content deeper than insertion position");if(o.depth-r.openStart!=e.depth-r.openEnd)throw new st("Inconsistent open depths");return It(o,e,r,0)}function It(o,e,r,s){let l=o.index(s),u=o.node(s);if(l==e.index(s)&&s<o.depth-r.openStart){let f=It(o,e,r,s+1);return u.copy(u.content.replaceChild(l,f))}if(r.content.size){if(r.openStart||r.openEnd||o.depth!=s||e.depth!=s){let{start:f,end:p}=function Je(o,e){let r=e.depth-o.openStart,l=e.node(r).copy(o.content);for(let u=r-1;u>=0;u--)l=e.node(u).copy(fe.from(l));return{start:l.resolveNoCache(o.openStart+r),end:l.resolveNoCache(l.content.size-o.openEnd-r)}}(r,o);return Ce(u,Ve(o,f,p,e,s))}{let f=o.parent,p=f.content;return Ce(f,p.cut(0,o.parentOffset).append(r.content).append(p.cut(e.parentOffset)))}}return Ce(u,be(o,e,s))}function ot(o,e){if(!e.type.compatibleContent(o.type))throw new st("Cannot join "+e.type.name+" onto "+o.type.name)}function We(o,e,r){let s=o.node(r);return ot(s,e.node(r)),s}function et(o,e){let r=e.length-1;r>=0&&o.isText&&o.sameMarkup(e[r])?e[r]=o.withText(e[r].text+o.text):e.push(o)}function xe(o,e,r,s){let l=(e||o).node(r),u=0,f=e?e.index(r):l.childCount;o&&(u=o.index(r),o.depth>r?u++:o.textOffset&&(et(o.nodeAfter,s),u++));for(let p=u;p<f;p++)et(l.child(p),s);e&&e.depth==r&&e.textOffset&&et(e.nodeBefore,s)}function Ce(o,e){return o.type.checkContent(e),o.copy(e)}function Ve(o,e,r,s,l){let u=o.depth>l&&We(o,e,l+1),f=s.depth>l&&We(r,s,l+1),p=[];return xe(null,o,l,p),u&&f&&e.index(l)==r.index(l)?(ot(u,f),et(Ce(u,Ve(o,e,r,s,l+1)),p)):(u&&et(Ce(u,be(o,e,l+1)),p),xe(e,r,l,p),f&&et(Ce(f,be(r,s,l+1)),p)),xe(s,null,l,p),new fe(p)}function be(o,e,r){let s=[];return xe(null,o,r,s),o.depth>r&&et(Ce(We(o,e,r+1),be(o,e,r+1)),s),xe(e,null,r,s),new fe(s)}qe.empty=new qe(fe.empty,0,0);class Qe{constructor(e,r,s){this.pos=e,this.path=r,this.parentOffset=s,this.depth=r.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let s=this.pos-this.path[this.path.length-1],l=e.child(r);return s?e.child(r).cut(s):l}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):0==e?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let s=this.path[3*r],l=0==r?0:this.path[3*r-1]+1;for(let u=0;u<e;u++)l+=s.child(u).nodeSize;return l}marks(){let e=this.parent,r=this.index();if(0==e.content.size)return it.none;if(this.textOffset)return e.child(r).marks;let s=e.maybeChild(r-1),l=e.maybeChild(r);if(!s){let p=s;s=l,l=p}let u=s.marks;for(var f=0;f<u.length;f++)!1===u[f].type.spec.inclusive&&(!l||!u[f].isInSet(l.marks))&&(u=u[f--].removeFromSet(u));return u}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let s=r.marks,l=e.parent.maybeChild(e.index());for(var u=0;u<s.length;u++)!1===s[u].type.spec.inclusive&&(!l||!s[u].isInSet(l.marks))&&(s=s[u--].removeFromSet(s));return s}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);s>=0;s--)if(e.pos<=this.end(s)&&(!r||r(this.node(s))))return new Rt(this,e,s);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let s=[],l=0,u=r;for(let f=e;;){let{index:p,offset:C}=f.content.findIndex(u),P=u-C;if(s.push(f,p,l+C),!P||(f=f.child(p),f.isText))break;u=P-1,l+=C+1}return new Qe(r,s,u)}static resolveCached(e,r){for(let l=0;l<Vt.length;l++){let u=Vt[l];if(u.pos==r&&u.doc==e)return u}let s=Vt[jt]=Qe.resolve(e,r);return jt=(jt+1)%En,s}}let Vt=[],jt=0,En=12;class Rt{constructor(e,r,s){this.$from=e,this.$to=r,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Pn=Object.create(null);class Ze{constructor(e,r,s,l=it.none){this.type=e,this.attrs=r,this.marks=l,this.content=s||fe.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,s,l=0){this.content.nodesBetween(e,r,s,l,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,s,l){return this.content.textBetween(e,r,s,l)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,s){return this.type==e&&ct(this.attrs,r||e.defaultAttrs||Pn)&&it.sameSet(this.marks,s||it.none)}copy(e=null){return e==this.content?this:new Ze(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ze(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return 0==e&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,s=!1){if(e==r)return qe.empty;let l=this.resolve(e),u=this.resolve(r),f=s?0:l.sharedDepth(r),p=l.start(f),P=l.node(f).content.cut(l.pos-p,u.pos-p);return new qe(P,l.depth-f,u.depth-f)}replace(e,r,s){return tt(this.resolve(e),this.resolve(r),s)}nodeAt(e){for(let r=this;;){let{index:s,offset:l}=r.content.findIndex(e);if(r=r.maybeChild(s),!r)return null;if(l==e||r.isText)return r;e-=l+1}}childAfter(e){let{index:r,offset:s}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:s}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:r,offset:s}=this.content.findIndex(e);if(s<e)return{node:this.content.child(r),index:r,offset:s};let l=this.content.child(r-1);return{node:l,index:r-1,offset:s-l.nodeSize}}resolve(e){return Qe.resolveCached(this,e)}resolveNoCache(e){return Qe.resolve(this,e)}rangeHasMark(e,r,s){let l=!1;return r>e&&this.nodesBetween(e,r,u=>(s.isInSet(u.marks)&&(l=!0),!l)),l}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),pe(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,s=fe.empty,l=0,u=s.childCount){let f=this.contentMatchAt(e).matchFragment(s,l,u),p=f&&f.matchFragment(this.content,r);if(!p||!p.validEnd)return!1;for(let C=l;C<u;C++)if(!this.type.allowsMarks(s.child(C).marks))return!1;return!0}canReplaceWith(e,r,s,l){if(l&&!this.type.allowsMarks(l))return!1;let u=this.contentMatchAt(e).matchType(s),f=u&&u.matchFragment(this.content,r);return!!f&&f.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=it.none;for(let r=0;r<this.marks.length;r++)e=this.marks[r].addToSet(e);if(!it.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let s=null;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=r.marks.map(e.markFromJSON)}if("text"==r.type){if("string"!=typeof r.text)throw new RangeError("Invalid text node in JSON");return e.text(r.text,s)}let l=fe.fromJSON(e,r.content);return e.nodeType(r.type).create(r.attrs,l,s)}}Ze.prototype.text=void 0;class Ye extends Ze{constructor(e,r,s,l){if(super(e,r,null,l),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):pe(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ye(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ye(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return 0==e&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function pe(o,e){for(let r=o.length-1;r>=0;r--)e=o[r].type.name+"("+e+")";return e}class Pe{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let s=new dt(e,r);if(null==s.next)return Pe.empty;let l=qt(s);s.next&&s.err("Unexpected trailing text");let u=function Mn(o){let e=Object.create(null);return function r(s){let l=[];s.forEach(f=>{o[f].forEach(({term:p,to:C})=>{if(!p)return;let P;for(let V=0;V<l.length;V++)l[V][0]==p&&(P=l[V][1]);gr(o,C).forEach(V=>{P||l.push([p,P=[]]),-1==P.indexOf(V)&&P.push(V)})})});let u=e[s.join(",")]=new Pe(s.indexOf(o.length-1)>-1);for(let f=0;f<l.length;f++){let p=l[f][1].sort(Cr);u.next.push({type:l[f][0],next:e[p.join(",")]||r(p)})}return u}(gr(o,0))}(function On(o){let e=[[]];return l(function u(f,p){if("choice"==f.type)return f.exprs.reduce((C,P)=>C.concat(u(P,p)),[]);if("seq"!=f.type){if("star"==f.type){let C=r();return s(p,C),l(u(f.expr,C),C),[s(C)]}if("plus"==f.type){let C=r();return l(u(f.expr,p),C),l(u(f.expr,C),C),[s(C)]}if("opt"==f.type)return[s(p)].concat(u(f.expr,p));if("range"==f.type){let C=p;for(let P=0;P<f.min;P++){let V=r();l(u(f.expr,C),V),C=V}if(-1==f.max)l(u(f.expr,C),C);else for(let P=f.min;P<f.max;P++){let V=r();s(C,V),l(u(f.expr,C),V),C=V}return[s(C)]}if("name"==f.type)return[s(p,void 0,f.value)];throw new Error("Unknown expr type")}for(let C=0;;C++){let P=u(f.exprs[C],p);if(C==f.exprs.length-1)return P;l(P,p=r())}}(o,0),r()),e;function r(){return e.push([])-1}function s(f,p,C){let P={term:C,to:p};return e[f].push(P),P}function l(f,p){f.forEach(C=>C.to=p)}}(l));return function ir(o,e){for(let r=0,s=[o];r<s.length;r++){let l=s[r],u=!l.validEnd,f=[];for(let p=0;p<l.next.length;p++){let{type:C,next:P}=l.next[p];f.push(C.name),u&&!(C.isText||C.hasRequiredAttrs())&&(u=!1),-1==s.indexOf(P)&&s.push(P)}u&&e.err("Only non-generatable nodes ("+f.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(u,s),u}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,s=e.childCount){let l=this;for(let u=r;l&&u<s;u++)l=l.matchType(e.child(u).type);return l}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!r.isText&&!r.hasRequiredAttrs())return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let s=0;s<e.next.length;s++)if(this.next[r].type==e.next[s].type)return!0;return!1}fillBefore(e,r=!1,s=0){let l=[this];return function u(f,p){let C=f.matchFragment(e,s);if(C&&(!r||C.validEnd))return fe.from(p.map(P=>P.createAndFill()));for(let P=0;P<f.next.length;P++){let{type:V,next:X}=f.next[P];if(!V.isText&&!V.hasRequiredAttrs()&&-1==l.indexOf(X)){l.push(X);let se=u(X,p.concat(V));if(se)return se}}return null}(this,[])}findWrapping(e){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==e)return this.wrapCache[s+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let l=s.shift(),u=l.match;if(u.matchType(e)){let f=[];for(let p=l;p.type;p=p.via)f.push(p.type);return f.reverse()}for(let f=0;f<u.next.length;f++){let{type:p,next:C}=u.next[f];!p.isLeaf&&!p.hasRequiredAttrs()&&!(p.name in r)&&(!l.type||C.validEnd)&&(s.push({match:p.contentMatch,type:p,via:l}),r[p.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function r(s){e.push(s);for(let l=0;l<s.next.length;l++)-1==e.indexOf(s.next[l].next)&&r(s.next[l].next)}(this),e.map((s,l)=>{let u=l+(s.validEnd?"*":" ")+" ";for(let f=0;f<s.next.length;f++)u+=(f?", ":"")+s.next[f].type.name+"->"+e.indexOf(s.next[f].next);return u}).join("\n")}}Pe.empty=new Pe(!0);class dt{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function qt(o){let e=[];do{e.push(mt(o))}while(o.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function mt(o){let e=[];do{e.push($n(o))}while(o.next&&")"!=o.next&&"|"!=o.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function $n(o){let e=function Xn(o){if(o.eat("(")){let e=qt(o);return o.eat(")")||o.err("Missing closing paren"),e}if(!/\W/.test(o.next)){let e=function rr(o,e){let r=o.nodeTypes,s=r[e];if(s)return[s];let l=[];for(let u in r){let f=r[u];f.groups.indexOf(e)>-1&&l.push(f)}return 0==l.length&&o.err("No node type or group '"+e+"' found"),l}(o,o.next).map(r=>(null==o.inline?o.inline=r.isInline:o.inline!=r.isInline&&o.err("Mixing inline and block content"),{type:"name",value:r}));return o.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}o.err("Unexpected token '"+o.next+"'")}(o);for(;;)if(o.eat("+"))e={type:"plus",expr:e};else if(o.eat("*"))e={type:"star",expr:e};else if(o.eat("?"))e={type:"opt",expr:e};else{if(!o.eat("{"))break;e=zn(o,e)}return e}function Un(o){/\D/.test(o.next)&&o.err("Expected number, got '"+o.next+"'");let e=Number(o.next);return o.pos++,e}function zn(o,e){let r=Un(o),s=r;return o.eat(",")&&(s="}"!=o.next?Un(o):-1),o.eat("}")||o.err("Unclosed braced range"),{type:"range",min:r,max:s,expr:e}}function Cr(o,e){return e-o}function gr(o,e){let r=[];return function s(l){let u=o[l];if(1==u.length&&!u[0].term)return s(u[0].to);r.push(l);for(let f=0;f<u.length;f++){let{term:p,to:C}=u[f];!p&&-1==r.indexOf(C)&&s(C)}}(e),r.sort(Cr)}function Yt(o){let e=Object.create(null);for(let r in o){let s=o[r];if(!s.hasDefault)return null;e[r]=s.default}return e}function Rn(o,e){let r=Object.create(null);for(let s in o){let l=e&&e[s];if(void 0===l){let u=o[s];if(!u.hasDefault)throw new RangeError("No value supplied for attribute "+s);l=u.default}r[s]=l}return r}function Mt(o){let e=Object.create(null);if(o)for(let r in o)e[r]=new ur(o[r]);return e}class Gr{constructor(e,r,s){this.name=e,this.schema=r,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=Mt(s.attrs),this.defaultAttrs=Yt(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Pe.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Rn(this.attrs,e)}create(e=null,r,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ze(this,this.computeAttrs(e),fe.from(r),it.setFrom(s))}createChecked(e=null,r,s){return r=fe.from(r),this.checkContent(r),new Ze(this,this.computeAttrs(e),r,it.setFrom(s))}createAndFill(e=null,r,s){if(e=this.computeAttrs(e),(r=fe.from(r)).size){let f=this.contentMatch.fillBefore(r);if(!f)return null;r=f.append(r)}let l=this.contentMatch.matchFragment(r),u=l&&l.fillBefore(fe.empty,!0);return u?new Ze(this,e,r.append(u),it.setFrom(s)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let s=0;s<e.childCount;s++)if(!this.allowsMarks(e.child(s).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let r;for(let s=0;s<e.length;s++)this.allowsMarkType(e[s].type)?r&&r.push(e[s]):r||(r=e.slice(0,s));return r?r.length?r:it.none:e}static compile(e,r){let s=Object.create(null);e.forEach((u,f)=>s[u]=new Gr(u,r,f));let l=r.spec.topNode||"doc";if(!s[l])throw new RangeError("Schema is missing its top node type ('"+l+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let u in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}}class ur{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Re{constructor(e,r,s,l){this.name=e,this.rank=r,this.schema=s,this.spec=l,this.attrs=Mt(l.attrs),this.excluded=null;let u=Yt(this.attrs);this.instance=u?new it(this,u):null}create(e=null){return!e&&this.instance?this.instance:new it(this,Rn(this.attrs,e))}static compile(e,r){let s=Object.create(null),l=0;return e.forEach((u,f)=>s[u]=new Re(u,l++,r,f)),s}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}excludes(e){return this.excluded.indexOf(e)>-1}}function te(o,e){let r=[];for(let s=0;s<e.length;s++){let l=e[s],u=o.marks[l],f=u;if(u)r.push(u);else for(let p in o.marks){let C=o.marks[p];("_"==l||C.spec.group&&C.spec.group.split(" ").indexOf(l)>-1)&&r.push(f=C)}if(!f)throw new SyntaxError("Unknown mark type: '"+e[s]+"'")}return r}class Oe{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[],r.forEach(s=>{s.tag?this.tags.push(s):s.style&&this.styles.push(s)}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let l=e.nodes[s.node];return l.contentMatch.matchType(l)})}parse(e,r={}){let s=new ft(this,r,!1);return s.addAll(e,r.from,r.to),s.finish()}parseSlice(e,r={}){let s=new ft(this,r,!0);return s.addAll(e,r.from,r.to),qe.maxOpen(s.finish())}matchTag(e,r,s){for(let l=s?this.tags.indexOf(s)+1:0;l<this.tags.length;l++){let u=this.tags[l];if(hn(e,u.tag)&&(void 0===u.namespace||e.namespaceURI==u.namespace)&&(!u.context||r.matchesContext(u.context))){if(u.getAttrs){let f=u.getAttrs(e);if(!1===f)continue;u.attrs=f||void 0}return u}}}matchStyle(e,r,s,l){for(let u=l?this.styles.indexOf(l)+1:0;u<this.styles.length;u++){let f=this.styles[u],p=f.style;if(!(0!=p.indexOf(e)||f.context&&!s.matchesContext(f.context)||p.length>e.length&&(61!=p.charCodeAt(e.length)||p.slice(e.length+1)!=r))){if(f.getAttrs){let C=f.getAttrs(r);if(!1===C)continue;f.attrs=C||void 0}return f}}}static schemaRules(e){let r=[];function s(l){let u=l.priority??50,f=0;for(;f<r.length;f++){if((r[f].priority??50)<u)break}r.splice(f,0,l)}for(let l in e.marks){let u=e.marks[l].spec.parseDOM;u&&u.forEach(f=>{s(f=Nr(f)),f.mark||f.ignore||f.clearMark||(f.mark=l)})}for(let l in e.nodes){let u=e.nodes[l].spec.parseDOM;u&&u.forEach(f=>{s(f=Nr(f)),f.node||f.ignore||f.mark||(f.node=l)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Oe(e,Oe.schemaRules(e)))}}const Ke={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Tt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Wt={ol:!0,ul:!0};function sn(o,e,r){return null!=e?(e?1:0)|("full"===e?2:0):o&&"pre"==o.whitespace?3:-5&r}class er{constructor(e,r,s,l,u,f,p){this.type=e,this.attrs=r,this.marks=s,this.pendingMarks=l,this.solid=u,this.options=p,this.content=[],this.activeMarks=it.none,this.stashMarks=[],this.match=f||(4&p?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(fe.from(e));if(!r){let l,s=this.type.contentMatch;return(l=s.findWrapping(e.type))?(this.match=s,l):null}this.match=this.type.contentMatch.matchFragment(r)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let l,s=this.content[this.content.length-1];if(s&&s.isText&&(l=/[ \t\r\n\u000c]+$/.exec(s.text))){let u=s;s.text.length==l[0].length?this.content.pop():this.content[this.content.length-1]=u.withText(u.text.slice(0,u.text.length-l[0].length))}}let r=fe.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(fe.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}popFromStashMark(e){for(let r=this.stashMarks.length-1;r>=0;r--)if(e.eq(this.stashMarks[r]))return this.stashMarks.splice(r,1)[0]}applyPending(e){for(let r=0,s=this.pendingMarks;r<s.length;r++){let l=s[r];(this.type?this.type.allowsMarkType(l.type):gn(l.type,e))&&!l.isInSet(this.activeMarks)&&(this.activeMarks=l.addToSet(this.activeMarks),this.pendingMarks=l.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Ke.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ft{constructor(e,r,s){this.parser=e,this.options=r,this.isOpen=s,this.open=0;let u,l=r.topNode,f=sn(null,r.preserveWhitespace,0)|(s?4:0);u=l?new er(l.type,l.attrs,it.none,it.none,!0,r.topMatch||l.type.contentMatch,f):new er(s?null:e.schema.topNodeType,null,it.none,it.none,!0,null,f),this.nodes=[u],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){let r=e.getAttribute("style");if(r){let s=this.readStyles(function dr(o){let r,e=/\s*([\w-]+)\s*:\s*([^;]+)/g,s=[];for(;r=e.exec(o);)s.push(r[1],r[2].trim());return s}(r));if(!s)return;let[l,u]=s,f=this.top;for(let p=0;p<u.length;p++)this.removePendingMark(u[p],f);for(let p=0;p<l.length;p++)this.addPendingMark(l[p]);this.addElement(e);for(let p=0;p<l.length;p++)this.removePendingMark(l[p],f);for(let p=0;p<u.length;p++)this.addPendingMark(u[p])}else this.addElement(e)}}addTextNode(e){let r=e.nodeValue,s=this.top;if(2&s.options||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(1&s.options)r=2&s.options?r.replace(/\r\n?/g,"\n"):r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=s.content[s.content.length-1],u=e.previousSibling;(!l||u&&"BR"==u.nodeName||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r)),this.findInText(e)}else this.findInside(e)}addElement(e,r){let l,s=e.nodeName.toLowerCase();Wt.hasOwnProperty(s)&&this.parser.normalizeLists&&function _n(o){for(let e=o.firstChild,r=null;e;e=e.nextSibling){let s=1==e.nodeType?e.nodeName.toLowerCase():null;s&&Wt.hasOwnProperty(s)&&r?(r.appendChild(e),e=r):"li"==s?r=e:s&&(r=null)}}(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));if(u?u.ignore:Tt.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let f,p=this.top,C=this.needsBlock;if(Ke.hasOwnProperty(s))p.content.length&&p.content[0].isInline&&this.open&&(this.open--,p=this.top),f=!0,p.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),f&&this.sync(p),this.needsBlock=C}else this.addElementByRule(e,u,!1===u.consuming?l:void 0)}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"==e.nodeName&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let r=it.none,s=it.none;e:for(let l=0;l<e.length;l+=2)for(let u;;){let f=this.parser.matchStyle(e[l],e[l+1],this,u);if(!f)continue e;if(f.ignore)return null;if(f.clearMark?this.top.pendingMarks.forEach(p=>{f.clearMark(p)&&(s=p.addToSet(s))}):r=this.parser.schema.marks[f.mark].create(f.attrs).addToSet(r),!1!==f.consuming)break;u=f}return[r,s]}addElementByRule(e,r,s){let l,u,f;r.node?(u=this.parser.schema.nodes[r.node],u.isLeaf?this.insertNode(u.create(r.attrs))||this.leafFallback(e):l=this.enter(u,r.attrs||null,r.preserveWhitespace)):(f=this.parser.schema.marks[r.mark].create(r.attrs),this.addPendingMark(f));let p=this.top;if(u&&u.isLeaf)this.findInside(e);else if(s)this.addElement(e,s);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(C=>this.insertNode(C));else{let C=e;"string"==typeof r.contentElement?C=e.querySelector(r.contentElement):"function"==typeof r.contentElement?C=r.contentElement(e):r.contentElement&&(C=r.contentElement),this.findAround(e,C,!0),this.addAll(C)}l&&this.sync(p)&&this.open--,f&&this.removePendingMark(f,p)}addAll(e,r,s){let l=r||0;for(let u=r?e.childNodes[r]:e.firstChild,f=null==s?null:e.childNodes[s];u!=f;u=u.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(u);this.findAtPoint(e,l)}findPlace(e){let r,s;for(let l=this.open;l>=0;l--){let u=this.nodes[l],f=u.findWrapping(e);if(f&&(!r||r.length>f.length)&&(r=f,s=u,!f.length)||u.solid)break}if(!r)return!1;this.sync(s);for(let l=0;l<r.length;l++)this.enterInner(r[l],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&this.enterInner(r)}if(this.findPlace(e)){this.closeExtra();let r=this.top;r.applyPending(e.type),r.match&&(r.match=r.match.matchType(e.type));let s=r.activeMarks;for(let l=0;l<e.marks.length;l++)(!r.type||r.type.allowsMarkType(e.marks[l].type))&&(s=e.marks[l].addToSet(s));return r.content.push(e.mark(s)),!0}return!1}enter(e,r,s){let l=this.findPlace(e.create(r));return l&&this.enterInner(e,r,!0,s),l}enterInner(e,r=null,s=!1,l){this.closeExtra();let u=this.top;u.applyPending(e),u.match=u.match&&u.match.matchType(e);let f=sn(e,l,u.options);4&u.options&&0==u.content.length&&(f|=4),this.nodes.push(new er(e,r,u.activeMarks,u.pendingMarks,s,null,f)),this.open++}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let r=this.open;r>=0;r--)if(this.nodes[r]==e)return this.open=r,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let s=this.nodes[r].content;for(let l=s.length-1;l>=0;l--)e+=s[l].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&this.find[s].offset==r&&(this.find[s].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,s){if(e!=r&&this.find)for(let l=0;l<this.find.length;l++)null==this.find[l].pos&&1==e.nodeType&&e.contains(this.find[l].node)&&r.compareDocumentPosition(this.find[l].node)&(s?2:4)&&(this.find[l].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),s=this.options.context,l=!(this.isOpen||s&&s.parent.type!=this.nodes[0].type),u=(l?0:1)-(s?s.depth+1:0),f=(p,C)=>{for(;p>=0;p--){let P=r[p];if(""==P){if(p==r.length-1||0==p)continue;for(;C>=u;C--)if(f(p-1,C))return!0;return!1}{let V=C>0||0==C&&l?this.nodes[C].type:s&&C>=u?s.node(C-u).type:null;if(!V||V.name!=P&&-1==V.groups.indexOf(P))return!1;C--}}return!0};return f(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let s=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let r in this.parser.schema.nodes){let s=this.parser.schema.nodes[r];if(s.isTextblock&&s.defaultAttrs)return s}}addPendingMark(e){let r=function sr(o,e){for(let r=0;r<e.length;r++)if(o.eq(e[r]))return e[r]}(e,this.top.pendingMarks);r&&this.top.stashMarks.push(r),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,r){for(let s=this.open;s>=0;s--){let l=this.nodes[s];if(l.pendingMarks.lastIndexOf(e)>-1)l.pendingMarks=e.removeFromSet(l.pendingMarks);else{l.activeMarks=e.removeFromSet(l.activeMarks);let f=l.popFromStashMark(e);f&&l.type&&l.type.allowsMarkType(f.type)&&(l.activeMarks=f.addToSet(l.activeMarks))}if(l==r)break}}}function hn(o,e){return(o.matches||o.msMatchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector).call(o,e)}function Nr(o){let e={};for(let r in o)e[r]=o[r];return e}function gn(o,e){let r=e.schema.nodes;for(let s in r){let l=r[s];if(!l.allowsMarkType(o))continue;let u=[],f=p=>{u.push(p);for(let C=0;C<p.edgeCount;C++){let{type:P,next:V}=p.edge(C);if(P==e||u.indexOf(V)<0&&f(V))return!0}};if(f(l.contentMatch))return!0}}class Vn{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},s){s||(s=kr(r).createDocumentFragment());let l=s,u=[];return e.forEach(f=>{if(u.length||f.marks.length){let p=0,C=0;for(;p<u.length&&C<f.marks.length;){let P=f.marks[C];if(this.marks[P.type.name]){if(!P.eq(u[p][0])||!1===P.type.spec.spanning)break;p++,C++}else C++}for(;p<u.length;)l=u.pop()[1];for(;C<f.marks.length;){let P=f.marks[C++],V=this.serializeMark(P,f.isInline,r);V&&(u.push([P,l]),l.appendChild(V.dom),l=V.contentDOM||V.dom)}}l.appendChild(this.serializeNodeInner(f,r))}),s}serializeNodeInner(e,r){let{dom:s,contentDOM:l}=Vn.renderSpec(kr(r),this.nodes[e.type.name](e));if(l){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,l)}return s}serializeNode(e,r={}){let s=this.serializeNodeInner(e,r);for(let l=e.marks.length-1;l>=0;l--){let u=this.serializeMark(e.marks[l],e.isInline,r);u&&((u.contentDOM||u.dom).appendChild(s),s=u.dom)}return s}serializeMark(e,r,s={}){let l=this.marks[e.type.name];return l&&Vn.renderSpec(kr(s),l(e,r))}static renderSpec(e,r,s=null){if("string"==typeof r)return{dom:e.createTextNode(r)};if(null!=r.nodeType)return{dom:r};if(r.dom&&null!=r.dom.nodeType)return r;let l=r[0],u=l.indexOf(" ");u>0&&(s=l.slice(0,u),l=l.slice(u+1));let f,p=s?e.createElementNS(s,l):e.createElement(l),C=r[1],P=1;if(C&&"object"==typeof C&&null==C.nodeType&&!Array.isArray(C)){P=2;for(let V in C)if(null!=C[V]){let X=V.indexOf(" ");X>0?p.setAttributeNS(V.slice(0,X),V.slice(X+1),C[V]):p.setAttribute(V,C[V])}}for(let V=P;V<r.length;V++){let X=r[V];if(0===X){if(V<r.length-1||V>P)throw new RangeError("Content hole must be the only child of its parent node");return{dom:p,contentDOM:p}}{let{dom:se,contentDOM:ce}=Vn.renderSpec(e,X,s);if(p.appendChild(se),ce){if(f)throw new RangeError("Multiple content holes");f=ce}}}return{dom:p,contentDOM:f}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Vn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=Hn(e.nodes);return r.text||(r.text=s=>s.text),r}static marksFromSchema(e){return Hn(e.marks)}}function Hn(o){let e={};for(let r in o){let s=o[r].spec.toDOM;s&&(e[r]=s)}return e}function kr(o){return o.document||window.document}const tr=Math.pow(2,16);function Wr(o,e){return o+e*tr}function ai(o){return 65535&o}class F{constructor(e,r,s){this.pos=e,this.delInfo=r,this.recover=s}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class j{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&j.empty)return j.empty}recover(e){let r=0,s=ai(e);if(!this.inverted)for(let l=0;l<s;l++)r+=this.ranges[3*l+2]-this.ranges[3*l+1];return this.ranges[3*s]+r+function yi(o){return(o-(65535&o))/tr}(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,s){let l=0,u=this.inverted?2:1,f=this.inverted?1:2;for(let p=0;p<this.ranges.length;p+=3){let C=this.ranges[p]-(this.inverted?l:0);if(C>e)break;let P=this.ranges[p+u],V=this.ranges[p+f],X=C+P;if(e<=X){let ce=C+l+((P?e==C?-1:e==X?1:r:r)<0?0:V);if(s)return ce;let Ne=e==(r<0?C:X)?null:Wr(p/3,e-C),rt=e==C?2:e==X?1:4;return(r<0?e!=C:e!=X)&&(rt|=8),new F(ce,rt,Ne)}l+=V-P}return s?e+l:new F(e+l,0,null)}touches(e,r){let s=0,l=ai(r),u=this.inverted?2:1,f=this.inverted?1:2;for(let p=0;p<this.ranges.length;p+=3){let C=this.ranges[p]-(this.inverted?s:0);if(C>e)break;let P=this.ranges[p+u];if(e<=C+P&&p==3*l)return!0;s+=this.ranges[p+f]-P}return!1}forEach(e){let r=this.inverted?2:1,s=this.inverted?1:2;for(let l=0,u=0;l<this.ranges.length;l+=3){let f=this.ranges[l],p=f-(this.inverted?u:0),C=f+(this.inverted?0:u),P=this.ranges[l+r],V=this.ranges[l+s];e(p,p+P,C,C+V),u+=V-P}}invert(){return new j(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?j.empty:new j(e<0?[0,-e,0]:[0,0,e])}}j.empty=new j([]);class U{constructor(e=[],r,s=0,l=e.length){this.maps=e,this.mirror=r,this.from=s,this.to=l}slice(e=0,r=this.maps.length){return new U(this.maps,this.mirror,e,r)}copy(){return new U(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,r){this.to=this.maps.push(e),null!=r&&this.setMirror(this.maps.length-1,r)}appendMapping(e){for(let r=0,s=this.maps.length;r<e.maps.length;r++){let l=e.getMirror(r);this.appendMap(e.maps[r],null!=l&&l<r?s+l:void 0)}}getMirror(e){if(this.mirror)for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,s=this.maps.length+e.maps.length;r>=0;r--){let l=e.getMirror(r);this.appendMap(e.maps[r].invert(),null!=l&&l>r?s-l-1:void 0)}}invert(){let e=new U;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let s=this.from;s<this.to;s++)e=this.maps[s].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,s){let l=0;for(let u=this.from;u<this.to;u++){let p=this.maps[u].mapResult(e,r);if(null!=p.recover){let C=this.getMirror(u);if(null!=C&&C>u&&C<this.to){u=C,e=this.maps[C].recover(p.recover);continue}}l|=p.delInfo,e=p.pos}return s?e:new F(e,l,null)}}const ee=Object.create(null);class Z{getMap(){return j.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=ee[r.stepType];if(!s)throw new RangeError(`No step type ${r.stepType} defined`);return s.fromJSON(e,r)}static jsonID(e,r){if(e in ee)throw new RangeError("Duplicate use of step JSON ID "+e);return ee[e]=r,r.prototype.jsonID=e,r}}class ye{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new ye(e,null)}static fail(e){return new ye(null,e)}static fromReplace(e,r,s,l){try{return ye.ok(e.replace(r,s,l))}catch(u){if(u instanceof st)return ye.fail(u.message);throw u}}}function ke(o,e,r){let s=[];for(let l=0;l<o.childCount;l++){let u=o.child(l);u.content.size&&(u=u.copy(ke(u.content,e,u))),u.isInline&&(u=e(u,r,l)),s.push(u)}return fe.fromArray(s)}class Xe extends Z{constructor(e,r,s){super(),this.from=e,this.to=r,this.mark=s}apply(e){let r=e.slice(this.from,this.to),s=e.resolve(this.from),l=s.node(s.sharedDepth(this.to)),u=new qe(ke(r.content,(f,p)=>f.isAtom&&p.type.allowsMarkType(this.mark.type)?f.mark(this.mark.addToSet(f.marks)):f,l),r.openStart,r.openEnd);return ye.fromReplace(e,this.from,this.to,u)}invert(){return new yt(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return r.deleted&&s.deleted||r.pos>=s.pos?null:new Xe(r.pos,s.pos,this.mark)}merge(e){return e instanceof Xe&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Xe(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Xe(r.from,r.to,e.markFromJSON(r.mark))}}Z.jsonID("addMark",Xe);class yt extends Z{constructor(e,r,s){super(),this.from=e,this.to=r,this.mark=s}apply(e){let r=e.slice(this.from,this.to),s=new qe(ke(r.content,l=>l.mark(this.mark.removeFromSet(l.marks)),e),r.openStart,r.openEnd);return ye.fromReplace(e,this.from,this.to,s)}invert(){return new Xe(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return r.deleted&&s.deleted||r.pos>=s.pos?null:new yt(r.pos,s.pos,this.mark)}merge(e){return e instanceof yt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new yt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new yt(r.from,r.to,e.markFromJSON(r.mark))}}Z.jsonID("removeMark",yt);class kt extends Z{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return ye.fail("No node at mark step's position");let s=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return ye.fromReplace(e,this.pos,this.pos+1,new qe(fe.from(s),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let s=this.mark.addToSet(r.marks);if(s.length==r.marks.length){for(let l=0;l<r.marks.length;l++)if(!r.marks[l].isInSet(s))return new kt(this.pos,r.marks[l]);return new kt(this.pos,this.mark)}}return new Sn(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new kt(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if("number"!=typeof r.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new kt(r.pos,e.markFromJSON(r.mark))}}Z.jsonID("addNodeMark",kt);class Sn extends Z{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return ye.fail("No node at mark step's position");let s=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return ye.fromReplace(e,this.pos,this.pos+1,new qe(fe.from(s),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return r&&this.mark.isInSet(r.marks)?new kt(this.pos,this.mark):this}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Sn(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if("number"!=typeof r.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Sn(r.pos,e.markFromJSON(r.mark))}}Z.jsonID("removeNodeMark",Sn);class Pt extends Z{constructor(e,r,s,l=!1){super(),this.from=e,this.to=r,this.slice=s,this.structure=l}apply(e){return this.structure&&an(e,this.from,this.to)?ye.fail("Structure replace would overwrite content"):ye.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new j([this.from,this.to-this.from,this.slice.size])}invert(e){return new Pt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return r.deletedAcross&&s.deletedAcross?null:new Pt(r.pos,Math.max(r.pos,s.pos),this.slice)}merge(e){if(!(e instanceof Pt)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let r=this.slice.size+e.slice.size==0?qe.empty:new qe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Pt(e.from,this.to,r,this.structure)}}{let r=this.slice.size+e.slice.size==0?qe.empty:new qe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Pt(this.from,this.to+(e.to-e.from),r,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if("number"!=typeof r.from||"number"!=typeof r.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Pt(r.from,r.to,qe.fromJSON(e,r.slice),!!r.structure)}}Z.jsonID("replace",Pt);class St extends Z{constructor(e,r,s,l,u,f,p=!1){super(),this.from=e,this.to=r,this.gapFrom=s,this.gapTo=l,this.slice=u,this.insert=f,this.structure=p}apply(e){if(this.structure&&(an(e,this.from,this.gapFrom)||an(e,this.gapTo,this.to)))return ye.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return ye.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,r.content);return s?ye.fromReplace(e,this.from,this.to,s):ye.fail("Content does not fit in gap")}getMap(){return new j([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new St(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),s=e.mapResult(this.to,-1),l=e.map(this.gapFrom,-1),u=e.map(this.gapTo,1);return r.deletedAcross&&s.deletedAcross||l<r.pos||u>s.pos?null:new St(r.pos,s.pos,l,u,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if("number"!=typeof r.from||"number"!=typeof r.to||"number"!=typeof r.gapFrom||"number"!=typeof r.gapTo||"number"!=typeof r.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new St(r.from,r.to,r.gapFrom,r.gapTo,qe.fromJSON(e,r.slice),r.insert,!!r.structure)}}function an(o,e,r){let s=o.resolve(e),l=r-e,u=s.depth;for(;l>0&&u>0&&s.indexAfter(u)==s.node(u).childCount;)u--,l--;if(l>0){let f=s.node(u).maybeChild(s.indexAfter(u));for(;l>0;){if(!f||f.isLeaf)return!0;f=f.firstChild,l--}}return!1}function Gn(o,e,r){return(0==e||o.canReplace(e,o.childCount))&&(r==o.childCount||o.canReplace(0,r))}function Wn(o){let r=o.parent.content.cutByIndex(o.startIndex,o.endIndex);for(let s=o.depth;;--s){let l=o.$from.node(s),u=o.$from.index(s),f=o.$to.indexAfter(s);if(s<o.depth&&l.canReplace(u,f,r))return s;if(0==s||l.type.spec.isolating||!Gn(l,u,f))break}return null}function Kn(o,e,r=null,s=o){let l=function br(o,e){let{parent:r,startIndex:s,endIndex:l}=o,u=r.contentMatchAt(s).findWrapping(e);return u&&r.canReplaceWith(s,l,u.length?u[0]:e)?u:null}(o,e),u=l&&function Yr(o,e){let{parent:r,startIndex:s,endIndex:l}=o,u=r.child(s),f=e.contentMatch.findWrapping(u.type);if(!f)return null;let C=(f.length?f[f.length-1]:e).contentMatch;for(let P=s;C&&P<l;P++)C=C.matchType(r.child(P).type);return C&&C.validEnd?f:null}(s,e);return u?l.map(li).concat({type:e,attrs:r}).concat(u.map(li)):null}function li(o){return{type:o,attrs:null}}function ki(o,e,r=1,s){let l=o.resolve(e),u=l.depth-r,f=s&&s[s.length-1]||l.parent;if(u<0||l.parent.type.spec.isolating||!l.parent.canReplace(l.index(),l.parent.childCount)||!f.type.validContent(l.parent.content.cutByIndex(l.index(),l.parent.childCount)))return!1;for(let P=l.depth-1,V=r-2;P>u;P--,V--){let X=l.node(P),se=l.index(P);if(X.type.spec.isolating)return!1;let ce=X.content.cutByIndex(se,X.childCount),Ne=s&&s[V]||X;if(Ne!=X&&(ce=ce.replaceChild(0,Ne.type.create(Ne.attrs))),!X.canReplace(se+1,X.childCount)||!Ne.type.validContent(ce))return!1}let p=l.indexAfter(u),C=s&&s[0];return l.node(u).canReplaceWith(p,p,C?C.type:l.node(u+1).type)}function Rr(o,e){let r=o.resolve(e),s=r.index();return function ar(o,e){return!(!o||!e||o.isLeaf||!o.canAppend(e))}(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(s,s+1)}function Lr(o,e,r=e,s=qe.empty){if(e==r&&!s.size)return null;let l=o.resolve(e),u=o.resolve(r);return Ui(l,u,s)?new Pt(e,r,s):new es(l,u,s).fit()}function Ui(o,e,r){return!r.openStart&&!r.openEnd&&o.start()==e.start()&&o.parent.canReplace(o.index(),e.index(),r.content)}Z.jsonID("replaceAround",St);class es{constructor(e,r,s){this.$from=e,this.$to=r,this.unplaced=s,this.frontier=[],this.placed=fe.empty;for(let l=0;l<=e.depth;l++){let u=e.node(l);this.frontier.push({type:u.type,match:u.contentMatchAt(e.indexAfter(l))})}for(let l=e.depth;l>0;l--)this.placed=fe.from(e.node(l).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let P=this.findFittable();P?this.placeNodes(P):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,s=this.$from,l=this.close(e<0?this.$to:s.doc.resolve(e));if(!l)return null;let u=this.placed,f=s.depth,p=l.depth;for(;f&&p&&1==u.childCount;)u=u.firstChild.content,f--,p--;let C=new qe(u,f,p);return e>-1?new St(s.pos,e,this.$to.pos,this.$to.end(),C,r):C.size||s.pos!=this.$to.pos?new Pt(s.pos,l.pos,C):null}findFittable(){for(let e=1;e<=2;e++)for(let r=this.unplaced.openStart;r>=0;r--){let s,l=null;r?(l=Xs(this.unplaced.content,r-1).firstChild,s=l.content):s=this.unplaced.content;let u=s.firstChild;for(let f=this.depth;f>=0;f--){let P,{type:p,match:C}=this.frontier[f],V=null;if(1==e&&(u?C.matchType(u.type)||(V=C.fillBefore(fe.from(u),!1)):l&&p.compatibleContent(l.type)))return{sliceDepth:r,frontierDepth:f,parent:l,inject:V};if(2==e&&u&&(P=C.findWrapping(u.type)))return{sliceDepth:r,frontierDepth:f,parent:l,wrap:P};if(l&&C.matchType(l.type))break}}}openMore(){let{content:e,openStart:r,openEnd:s}=this.unplaced,l=Xs(e,r);return!(!l.childCount||l.firstChild.isLeaf||(this.unplaced=new qe(e,r+1,Math.max(s,l.size+r>=e.size-s?r+1:0)),0))}dropNode(){let{content:e,openStart:r,openEnd:s}=this.unplaced,l=Xs(e,r);if(l.childCount<=1&&r>0){let u=e.size-r<=r+l.size;this.unplaced=new qe(vi(e,r-1,1),r-1,u?r-1:s)}else this.unplaced=new qe(vi(e,r,1),r,s)}placeNodes({sliceDepth:e,frontierDepth:r,parent:s,inject:l,wrap:u}){for(;this.depth>r;)this.closeFrontierNode();if(u)for(let rt=0;rt<u.length;rt++)this.openFrontierNode(u[rt]);let f=this.unplaced,p=s?s.content:f.content,C=f.openStart-e,P=0,V=[],{match:X,type:se}=this.frontier[r];if(l){for(let rt=0;rt<l.childCount;rt++)V.push(l.child(rt));X=X.matchFragment(l)}let ce=p.size+e-(f.content.size-f.openEnd);for(;P<p.childCount;){let rt=p.child(P),Nt=X.matchType(rt.type);if(!Nt)break;P++,(P>1||0==C||rt.content.size)&&(X=Nt,V.push(ei(rt.mark(se.allowedMarks(rt.marks)),1==P?C:0,P==p.childCount?ce:-1)))}let Ne=P==p.childCount;Ne||(ce=-1),this.placed=yr(this.placed,r,fe.from(V)),this.frontier[r].match=X,Ne&&ce<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let rt=0,Nt=p;rt<ce;rt++){let wn=Nt.lastChild;this.frontier.push({type:wn.type,match:wn.contentMatchAt(wn.childCount)}),Nt=wn.content}this.unplaced=Ne?0==e?qe.empty:new qe(vi(f.content,e-1,1),e-1,ce<0?f.openEnd:e-1):new qe(vi(f.content,e,P),f.openStart,f.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let r,e=this.frontier[this.depth];if(!e.type.isTextblock||!ws(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:s}=this.$to,l=this.$to.after(s);for(;s>1&&l==this.$to.end(--s);)++l;return l}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:s,type:l}=this.frontier[r],u=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),f=ws(e,r,l,s,u);if(f){for(let p=r-1;p>=0;p--){let{match:C,type:P}=this.frontier[p],V=ws(e,p,P,C,!0);if(!V||V.childCount)continue e}return{depth:r,fit:f,move:u?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=yr(this.placed,r.depth,r.fit)),e=r.move;for(let s=r.depth+1;s<=e.depth;s++){let l=e.node(s),u=l.type.contentMatch.fillBefore(l.content,!0,e.index(s));this.openFrontierNode(l.type,l.attrs,u)}return e}openFrontierNode(e,r=null,s){let l=this.frontier[this.depth];l.match=l.match.matchType(e),this.placed=yr(this.placed,this.depth,fe.from(e.create(r,s))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(fe.empty,!0);r.childCount&&(this.placed=yr(this.placed,this.frontier.length,r))}}function vi(o,e,r){return 0==e?o.cutByIndex(r,o.childCount):o.replaceChild(0,o.firstChild.copy(vi(o.firstChild.content,e-1,r)))}function yr(o,e,r){return 0==e?o.append(r):o.replaceChild(o.childCount-1,o.lastChild.copy(yr(o.lastChild.content,e-1,r)))}function Xs(o,e){for(let r=0;r<e;r++)o=o.firstChild.content;return o}function ei(o,e,r){if(e<=0)return o;let s=o.content;return e>1&&(s=s.replaceChild(0,ei(s.firstChild,e-1,1==s.childCount?r-1:0))),e>0&&(s=o.type.contentMatch.fillBefore(s).append(s),r<=0&&(s=s.append(o.type.contentMatch.matchFragment(s).fillBefore(fe.empty,!0)))),o.copy(s)}function ws(o,e,r,s,l){let u=o.node(e),f=l?o.indexAfter(e):o.index(e);if(f==u.childCount&&!r.compatibleContent(u.type))return null;let p=s.fillBefore(u.content,!0,f);return p&&!function eo(o,e,r){for(let s=r;s<e.childCount;s++)if(!o.allowsMarks(e.child(s).marks))return!0;return!1}(r,u.content,f)?p:null}function to(o){return o.spec.defining||o.spec.definingForContent}function ts(o,e,r,s,l){if(e<r){let u=o.firstChild;o=o.replaceChild(0,u.copy(ts(u.content,e+1,r,s,u)))}if(e>s){let u=l.contentMatchAt(0),f=u.fillBefore(o).append(o);o=f.append(u.matchFragment(f).fillBefore(fe.empty,!0))}return o}function _s(o,e){let r=[];for(let l=Math.min(o.depth,e.depth);l>=0;l--){let u=o.start(l);if(u<o.pos-(o.depth-l)||e.end(l)>e.pos+(e.depth-l)||o.node(l).type.spec.isolating||e.node(l).type.spec.isolating)break;(u==e.start(l)||l==o.depth&&l==e.depth&&o.parent.inlineContent&&e.parent.inlineContent&&l&&e.start(l-1)==u-1)&&r.push(l)}return r}class ji extends Z{constructor(e,r,s){super(),this.pos=e,this.attr=r,this.value=s}apply(e){let r=e.nodeAt(this.pos);if(!r)return ye.fail("No node at attribute step's position");let s=Object.create(null);for(let u in r.attrs)s[u]=r.attrs[u];s[this.attr]=this.value;let l=r.type.create(s,null,r.marks);return ye.fromReplace(e,this.pos,this.pos+1,new qe(fe.from(l),0,r.isLeaf?0:1))}getMap(){return j.empty}invert(e){return new ji(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new ji(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if("number"!=typeof r.pos||"string"!=typeof r.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new ji(r.pos,r.attr,r.value)}}Z.jsonID("attr",ji);let Dr=class extends Error{};Dr=function o(e){let r=Error.call(this,e);return r.__proto__=o.prototype,r},(Dr.prototype=Object.create(Error.prototype)).constructor=Dr,Dr.prototype.name="TransformError";const xs=Object.create(null);class cn{constructor(e,r,s){this.$anchor=e,this.$head=r,this.ranges=s||[new no(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=qe.empty){let s=r.content.lastChild,l=null;for(let p=0;p<r.openEnd;p++)l=s,s=s.lastChild;let u=e.steps.length,f=this.ranges;for(let p=0;p<f.length;p++){let{$from:C,$to:P}=f[p],V=e.mapping.slice(u);e.replaceRange(V.map(C.pos),V.map(P.pos),p?qe.empty:r),0==p&&$i(e,u,(s?s.isInline:l&&l.isTextblock)?-1:1)}}replaceWith(e,r){let s=e.steps.length,l=this.ranges;for(let u=0;u<l.length;u++){let{$from:f,$to:p}=l[u],C=e.mapping.slice(s),P=C.map(f.pos),V=C.map(p.pos);u?e.deleteRange(P,V):(e.replaceRangeWith(P,V,r),$i(e,s,r.isInline?-1:1))}}static findFrom(e,r,s=!1){let l=e.parent.inlineContent?new un(e):qr(e.node(0),e.parent,e.pos,e.index(),r,s);if(l)return l;for(let u=e.depth-1;u>=0;u--){let f=r<0?qr(e.node(0),e.node(u),e.before(u+1),e.index(u),r,s):qr(e.node(0),e.node(u),e.after(u+1),e.index(u)+1,r,s);if(f)return f}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Er(e.node(0))}static atStart(e){return qr(e,e,0,0,1)||new Er(e)}static atEnd(e){return qr(e,e,e.content.size,e.childCount,-1)||new Er(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=xs[r.type];if(!s)throw new RangeError(`No selection type ${r.type} defined`);return s.fromJSON(e,r)}static jsonID(e,r){if(e in xs)throw new RangeError("Duplicate use of selection JSON ID "+e);return xs[e]=r,r.prototype.jsonID=e,r}getBookmark(){return un.between(this.$anchor,this.$head).getBookmark()}}cn.prototype.visible=!0;class no{constructor(e,r){this.$from=e,this.$to=r}}let Br=!1;function Cs(o){!Br&&!o.parent.inlineContent&&(Br=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+o.parent.type.name+")"))}class un extends cn{constructor(e,r=e){Cs(e),Cs(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let s=e.resolve(r.map(this.head));if(!s.parent.inlineContent)return cn.near(s);let l=e.resolve(r.map(this.anchor));return new un(l.parent.inlineContent?l:s,s)}replace(e,r=qe.empty){if(super.replace(e,r),r==qe.empty){let s=this.$from.marksAcross(this.$to);s&&e.ensureMarks(s)}}eq(e){return e instanceof un&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ci(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if("number"!=typeof r.anchor||"number"!=typeof r.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new un(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,s=r){let l=e.resolve(r);return new this(l,s==r?l:e.resolve(s))}static between(e,r,s){let l=e.pos-r.pos;if((!s||l)&&(s=l>=0?1:-1),!r.parent.inlineContent){let u=cn.findFrom(r,s,!0)||cn.findFrom(r,-s,!0);if(!u)return cn.near(r,s);r=u.$head}return e.parent.inlineContent||(0==l||(e=(cn.findFrom(e,-s,!0)||cn.findFrom(e,s,!0)).$anchor).pos<r.pos!=l<0)&&(e=r),new un(e,r)}}cn.jsonID("text",un);class ci{constructor(e,r){this.anchor=e,this.head=r}map(e){return new ci(e.map(this.anchor),e.map(this.head))}resolve(e){return un.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ft extends cn{constructor(e){let r=e.nodeAfter,s=e.node(0).resolve(e.pos+r.nodeSize);super(e,s),this.node=r}map(e,r){let{deleted:s,pos:l}=r.mapResult(this.anchor),u=e.resolve(l);return s?cn.near(u):new Ft(u)}content(){return new qe(fe.from(this.node),0,0)}eq(e){return e instanceof Ft&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new bs(this.anchor)}static fromJSON(e,r){if("number"!=typeof r.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ft(e.resolve(r.anchor))}static create(e,r){return new Ft(e.resolve(r))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}Ft.prototype.visible=!1,cn.jsonID("node",Ft);class bs{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:s}=e.mapResult(this.anchor);return r?new ci(s,s):new bs(s)}resolve(e){let r=e.resolve(this.anchor),s=r.nodeAfter;return s&&Ft.isSelectable(s)?new Ft(r):cn.near(r)}}class Er extends cn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=qe.empty){if(r==qe.empty){e.delete(0,e.doc.content.size);let s=cn.atStart(e.doc);s.eq(e.selection)||e.setSelection(s)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Er(e)}map(e){return new Er(e)}eq(e){return e instanceof Er}getBookmark(){return Vr}}cn.jsonID("all",Er);const Vr={map(){return this},resolve:o=>new Er(o)};function qr(o,e,r,s,l,u=!1){if(e.inlineContent)return un.create(o,r);for(let f=s-(l>0?0:1);l>0?f<e.childCount:f>=0;f+=l){let p=e.child(f);if(p.isAtom){if(!u&&Ft.isSelectable(p))return Ft.create(o,r-(l<0?p.nodeSize:0))}else{let C=qr(o,p,r+l,l<0?p.childCount:0,l,u);if(C)return C}r+=p.nodeSize*l}return null}function $i(o,e,r){let s=o.steps.length-1;if(s<e)return;let f,l=o.steps[s];(l instanceof Pt||l instanceof St)&&(o.mapping.maps[s].forEach((p,C,P,V)=>{null==f&&(f=V)}),o.setSelection(cn.near(o.doc.resolve(f),r)))}class Wi extends class ns{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new U}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Dr(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,s=qe.empty){let l=Lr(this.doc,e,r,s);return l&&this.step(l),this}replaceWith(e,r,s){return this.replace(e,r,new qe(fe.from(s),0,0))}delete(e,r){return this.replace(e,r,qe.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,s){return function bi(o,e,r,s){if(!s.size)return o.deleteRange(e,r);let l=o.doc.resolve(e),u=o.doc.resolve(r);if(Ui(l,u,s))return o.step(new Pt(e,r,s));let f=_s(l,o.doc.resolve(r));0==f[f.length-1]&&f.pop();let p=-(l.depth+1);f.unshift(p);for(let se=l.depth,ce=l.pos-1;se>0;se--,ce--){let Ne=l.node(se).type.spec;if(Ne.defining||Ne.definingAsContext||Ne.isolating)break;f.indexOf(se)>-1?p=se:l.before(se)==ce&&f.splice(1,0,-se)}let C=f.indexOf(p),P=[],V=s.openStart;for(let se=s.content,ce=0;;ce++){let Ne=se.firstChild;if(P.push(Ne),ce==s.openStart)break;se=Ne.content}for(let se=V-1;se>=0;se--){let ce=P[se].type,Ne=to(ce);if(Ne&&l.node(C).type!=ce)V=se;else if(Ne||!ce.isTextblock)break}for(let se=s.openStart;se>=0;se--){let ce=(se+V+1)%(s.openStart+1),Ne=P[ce];if(Ne)for(let rt=0;rt<f.length;rt++){let Nt=f[(rt+C)%f.length],wn=!0;Nt<0&&(wn=!1,Nt=-Nt);let ys=l.node(Nt-1),js=l.index(Nt-1);if(ys.canReplaceWith(js,js,Ne.type,Ne.marks))return o.replace(l.before(Nt),wn?u.after(Nt):r,new qe(ts(s.content,0,s.openStart,ce),ce,s.openEnd))}}let X=o.steps.length;for(let se=f.length-1;se>=0&&(o.replace(e,r,s),!(o.steps.length>X));se--){let ce=f[se];ce<0||(e=l.before(ce),r=u.after(ce))}}(this,e,r,s),this}replaceRangeWith(e,r,s){return function Ns(o,e,r,s){if(!s.isInline&&e==r&&o.doc.resolve(e).parent.content.size){let l=function Fr(o,e,r){let s=o.resolve(e);if(s.parent.canReplaceWith(s.index(),s.index(),r))return e;if(0==s.parentOffset)for(let l=s.depth-1;l>=0;l--){let u=s.index(l);if(s.node(l).canReplaceWith(u,u,r))return s.before(l+1);if(u>0)return null}if(s.parentOffset==s.parent.content.size)for(let l=s.depth-1;l>=0;l--){let u=s.indexAfter(l);if(s.node(l).canReplaceWith(u,u,r))return s.after(l+1);if(u<s.node(l).childCount)return null}return null}(o.doc,e,s.type);null!=l&&(e=r=l)}o.replaceRange(e,r,new qe(fe.from(s),0,0))}(this,e,r,s),this}deleteRange(e,r){return function zi(o,e,r){let s=o.doc.resolve(e),l=o.doc.resolve(r),u=_s(s,l);for(let f=0;f<u.length;f++){let p=u[f],C=f==u.length-1;if(C&&0==p||s.node(p).type.contentMatch.validEnd)return o.delete(s.start(p),l.end(p));if(p>0&&(C||s.node(p-1).canReplace(s.index(p-1),l.indexAfter(p-1))))return o.delete(s.before(p),l.after(p))}for(let f=1;f<=s.depth&&f<=l.depth;f++)if(e-s.start(f)==s.depth-f&&r>s.end(f)&&l.end(f)-r!=l.depth-f)return o.delete(s.before(f),r);o.delete(e,r)}(this,e,r),this}lift(e,r){return function Yn(o,e,r){let{$from:s,$to:l,depth:u}=e,f=s.before(u+1),p=l.after(u+1),C=f,P=p,V=fe.empty,X=0;for(let Ne=u,rt=!1;Ne>r;Ne--)rt||s.index(Ne)>0?(rt=!0,V=fe.from(s.node(Ne).copy(V)),X++):C--;let se=fe.empty,ce=0;for(let Ne=u,rt=!1;Ne>r;Ne--)rt||l.after(Ne+1)<l.end(Ne)?(rt=!0,se=fe.from(l.node(Ne).copy(se)),ce++):P++;o.step(new St(C,P,f,p,new qe(V.append(se),X,ce),V.size-X,!0))}(this,e,r),this}join(e,r=1){return function xn(o,e,r){let s=new Pt(e-r,e+r,qe.empty,!0);o.step(s)}(this,e,r),this}wrap(e,r){return function Xi(o,e,r){let s=fe.empty;for(let f=r.length-1;f>=0;f--){if(s.size){let p=r[f].type.contentMatch.matchFragment(s);if(!p||!p.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=fe.from(r[f].type.create(r[f].attrs,s))}let l=e.start,u=e.end;o.step(new St(l,u,l,u,new qe(s,0,0),r.length,!0))}(this,e,r),this}setBlockType(e,r=e,s,l=null){return function vn(o,e,r,s,l){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let u=o.steps.length;o.doc.nodesBetween(e,r,(f,p)=>{if(f.isTextblock&&!f.hasMarkup(s,l)&&function vs(o,e,r){let s=o.resolve(e),l=s.index();return s.parent.canReplaceWith(l,l+1,r)}(o.doc,o.mapping.slice(u).map(p),s)){o.clearIncompatible(o.mapping.slice(u).map(p,1),s);let C=o.mapping.slice(u),P=C.map(p,1),V=C.map(p+f.nodeSize,1);return o.step(new St(P,V,P+1,V-1,new qe(fe.from(s.create(l,null,f.marks)),0,0),1,!0)),!1}})}(this,e,r,s,l),this}setNodeMarkup(e,r,s=null,l=[]){return function Os(o,e,r,s,l){let u=o.doc.nodeAt(e);if(!u)throw new RangeError("No node at given position");r||(r=u.type);let f=r.create(s,null,l||u.marks);if(u.isLeaf)return o.replaceWith(e,e+u.nodeSize,f);if(!r.validContent(u.content))throw new RangeError("Invalid content for node type "+r.name);o.step(new St(e,e+u.nodeSize,e+1,e+u.nodeSize-1,new qe(fe.from(f),0,0),1,!0))}(this,e,r,s,l),this}setNodeAttribute(e,r,s){return this.step(new ji(e,r,s)),this}addNodeMark(e,r){return this.step(new kt(e,r)),this}removeNodeMark(e,r){if(!(r instanceof it)){let s=this.doc.nodeAt(e);if(!s)throw new RangeError("No node at position "+e);if(!(r=r.isInSet(s.marks)))return this}return this.step(new Sn(e,r)),this}split(e,r=1,s){return function Ci(o,e,r=1,s){let l=o.doc.resolve(e),u=fe.empty,f=fe.empty;for(let p=l.depth,C=l.depth-r,P=r-1;p>C;p--,P--){u=fe.from(l.node(p).copy(u));let V=s&&s[P];f=fe.from(V?V.type.create(V.attrs,f):l.node(p).copy(f))}o.step(new Pt(e,e,new qe(u.append(f),r,r),!0))}(this,e,r,s),this}addMark(e,r,s){return function Dt(o,e,r,s){let f,p,l=[],u=[];o.doc.nodesBetween(e,r,(C,P,V)=>{if(!C.isInline)return;let X=C.marks;if(!s.isInSet(X)&&V.type.allowsMarkType(s.type)){let se=Math.max(P,e),ce=Math.min(P+C.nodeSize,r),Ne=s.addToSet(X);for(let rt=0;rt<X.length;rt++)X[rt].isInSet(Ne)||(f&&f.to==se&&f.mark.eq(X[rt])?f.to=ce:l.push(f=new yt(se,ce,X[rt])));p&&p.to==se?p.to=ce:u.push(p=new Xe(se,ce,s))}}),l.forEach(C=>o.step(C)),u.forEach(C=>o.step(C))}(this,e,r,s),this}removeMark(e,r,s){return function nn(o,e,r,s){let l=[],u=0;o.doc.nodesBetween(e,r,(f,p)=>{if(!f.isInline)return;u++;let C=null;if(s instanceof Re){let V,P=f.marks;for(;V=s.isInSet(P);)(C||(C=[])).push(V),P=V.removeFromSet(P)}else s?s.isInSet(f.marks)&&(C=[s]):C=f.marks;if(C&&C.length){let P=Math.min(p+f.nodeSize,r);for(let V=0;V<C.length;V++){let se,X=C[V];for(let ce=0;ce<l.length;ce++){let Ne=l[ce];Ne.step==u-1&&X.eq(l[ce].style)&&(se=Ne)}se?(se.to=P,se.step=u):l.push({style:X,from:Math.max(p,e),to:P,step:u})}}}),l.forEach(f=>o.step(new yt(f.from,f.to,f.style)))}(this,e,r,s),this}clearIncompatible(e,r,s){return function Zt(o,e,r,s=r.contentMatch){let l=o.doc.nodeAt(e),u=[],f=e+1;for(let p=0;p<l.childCount;p++){let C=l.child(p),P=f+C.nodeSize,V=s.matchType(C.type);if(V){s=V;for(let X=0;X<C.marks.length;X++)r.allowsMarkType(C.marks[X].type)||o.step(new yt(f,P,C.marks[X]))}else u.push(new Pt(f,P,qe.empty));f=P}if(!s.validEnd){let p=s.fillBefore(fe.empty,!0);o.replace(f,f,new qe(p,0,0))}for(let p=u.length-1;p>=0;p--)o.step(u[p])}(this,e,r,s),this}}{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return it.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,r){super.addStep(e,r),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let s=this.selection;return r&&(e=e.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||it.none))),s.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,s){let l=this.doc.type.schema;if(null==r)return e?this.replaceSelectionWith(l.text(e),!0):this.deleteSelection();{if(null==s&&(s=r),s=s??r,!e)return this.deleteRange(r,s);let u=this.storedMarks;if(!u){let f=this.doc.resolve(r);u=s==r?f.marks():f.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(r,s,l.text(e,u)),this.selection.empty||this.setSelection(cn.near(this.selection.$to)),this}}setMeta(e,r){return this.meta["string"==typeof e?e:e.key]=r,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function ks(o,e){return e&&o?o.bind(e):o}class wi{constructor(e,r,s){this.name=e,this.init=ks(r.init,s),this.apply=ks(r.apply,s)}}const is=[new wi("doc",{init:o=>o.doc||o.schema.topNodeType.createAndFill(),apply:o=>o.doc}),new wi("selection",{init:(o,e)=>o.selection||cn.atStart(e.doc),apply:o=>o.selection}),new wi("storedMarks",{init:o=>o.storedMarks||null,apply:(o,e,r,s)=>s.selection.$cursor?o.storedMarks:null}),new wi("scrollToSelection",{init:()=>0,apply:(o,e)=>o.scrolledIntoView?e+1:e})];class Ps{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=is.slice(),r&&r.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new wi(s.key,s.spec.state,s))})}}class lr{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=r){let l=this.config.plugins[s];if(l.spec.filterTransaction&&!l.spec.filterTransaction.call(l,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],s=this.applyInner(e),l=null;for(;;){let u=!1;for(let f=0;f<this.config.plugins.length;f++){let p=this.config.plugins[f];if(p.spec.appendTransaction){let C=l?l[f].n:0,P=l?l[f].state:this,V=C<r.length&&p.spec.appendTransaction.call(p,C?r.slice(C):r,P,s);if(V&&s.filterTransaction(V,f)){if(V.setMeta("appendedTransaction",e),!l){l=[];for(let X=0;X<this.config.plugins.length;X++)l.push(X<f?{state:s,n:r.length}:{state:this,n:0})}r.push(V),s=s.applyInner(V),u=!0}l&&(l[f]={state:s,n:r.length})}}if(!u)return{state:s,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new lr(this.config),s=this.config.fields;for(let l=0;l<s.length;l++){let u=s[l];r[u.name]=u.apply(e,this[u.name],this,r)}return r}get tr(){return new Wi(this)}static create(e){let r=new Ps(e.doc?e.doc.type.schema:e.schema,e.plugins),s=new lr(r);for(let l=0;l<r.fields.length;l++)s[r.fields[l].name]=r.fields[l].init(e,s);return s}reconfigure(e){let r=new Ps(this.schema,e.plugins),s=r.fields,l=new lr(r);for(let u=0;u<s.length;u++){let f=s[u].name;l[f]=this.hasOwnProperty(f)?this[f]:s[u].init(e,l)}return l}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(s=>s.toJSON())),e&&"object"==typeof e)for(let s in e){if("doc"==s||"selection"==s)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let l=e[s],u=l.spec.state;u&&u.toJSON&&(r[s]=u.toJSON.call(l,this[l.key]))}return r}static fromJSON(e,r,s){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let l=new Ps(e.schema,e.plugins),u=new lr(l);return l.fields.forEach(f=>{if("doc"==f.name)u.doc=Ze.fromJSON(e.schema,r.doc);else if("selection"==f.name)u.selection=cn.fromJSON(u.doc,r.selection);else if("storedMarks"==f.name)r.storedMarks&&(u.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(s)for(let p in s){let C=s[p],P=C.spec.state;if(C.key==f.name&&P&&P.fromJSON&&Object.prototype.hasOwnProperty.call(r,p))return void(u[f.name]=P.fromJSON.call(C,e,r[p],u))}u[f.name]=f.init(e,u)}}),u}}function Ri(o,e,r){for(let s in o){let l=o[s];l instanceof Function?l=l.bind(e):"handleDOMEvents"==s&&(l=Ri(l,e,{})),r[s]=l}return r}class ti{constructor(e){this.spec=e,this.props={},e.props&&Ri(e.props,this,this.props),this.key=e.key?e.key.key:Rs("plugin")}getState(e){return e[this.key]}}const ui=Object.create(null);function Rs(o){return o in ui?o+"$"+ ++ui[o]:(ui[o]=0,o+"$")}class di{constructor(e="key"){this.key=Rs(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ln=function(o){for(var e=0;;e++)if(!(o=o.previousSibling))return e},ni=function(o){let e=o.assignedSlot||o.parentNode;return e&&11==e.nodeType?e.host:e};let Gs=null;const ri=function(o,e,r){let s=Gs||(Gs=document.createRange());return s.setEnd(o,r??o.nodeValue.length),s.setStart(o,e||0),s},mn=function(o,e,r,s){return r&&(Di(o,e,r,s,-1)||Di(o,e,r,s,1))},lo=/^(img|br|input|textarea|hr)$/i;function Di(o,e,r,s,l){for(;;){if(o==r&&e==s)return!0;if(e==(l<0?0:vr(o))){let u=o.parentNode;if(!u||1!=u.nodeType||Hr(o)||lo.test(o.nodeName)||"false"==o.contentEditable)return!1;e=ln(o)+(l<0?0:1),o=u}else{if(1!=o.nodeType)return!1;if("false"==(o=o.childNodes[e+(l<0?-1:0)]).contentEditable)return!1;e=l<0?vr(o):0}}}function vr(o){return 3==o.nodeType?o.nodeValue.length:o.childNodes.length}function Hr(o){let e;for(let r=o;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==o||e.contentDOM==o)}const ii=function(o){return o.focusNode&&mn(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset)};function Bn(o,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=o,r.key=r.code=e,r}const Mr=typeof navigator<"u"?navigator:null,Ds=typeof document<"u"?document:null,Ot=Mr&&Mr.userAgent||"",ss=/Edge\/(\d+)/.exec(Ot),Ei=/MSIE \d/.exec(Ot),as=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ot),Ur=!!(Ei||as||ss),Zr=Ei?document.documentMode:as?+as[1]:ss?+ss[1]:0,nr=!Ur&&/gecko\/(\d+)/i.test(Ot);nr&&/Firefox\/(\d+)/.exec(Ot);const Fs=!Ur&&/Chrome\/(\d+)/.exec(Ot),Tn=!!Fs,je=Fs?+Fs[1]:0,Lt=!Ur&&!!Mr&&/Apple Computer/.test(Mr.vendor),ls=Lt&&(/Mobile\/\w+/.test(Ot)||!!Mr&&Mr.maxTouchPoints>2),wr=ls||!!Mr&&/Mac/.test(Mr.platform),Dn=/Android \d/.test(Ot),Es=!!Ds&&"webkitFontSmoothing"in Ds.documentElement.style,Mi=Es?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function _i(o){return{left:0,right:o.documentElement.clientWidth,top:0,bottom:o.documentElement.clientHeight}}function N(o,e){return"number"==typeof o?o:o[e]}function I(o){let e=o.getBoundingClientRect();return{left:e.left,right:e.left+o.clientWidth*(e.width/o.offsetWidth||1),top:e.top,bottom:e.top+o.clientHeight*(e.height/o.offsetHeight||1)}}function S(o,e,r){let s=o.someProp("scrollThreshold")||0,l=o.someProp("scrollMargin")||5,u=o.dom.ownerDocument;for(let f=r||o.dom;f;f=ni(f)){if(1!=f.nodeType)continue;let p=f,C=p==u.body,P=C?_i(u):I(p),V=0,X=0;if(e.top<P.top+N(s,"top")?X=-(P.top-e.top+N(l,"top")):e.bottom>P.bottom-N(s,"bottom")&&(X=e.bottom-P.bottom+N(l,"bottom")),e.left<P.left+N(s,"left")?V=-(P.left-e.left+N(l,"left")):e.right>P.right-N(s,"right")&&(V=e.right-P.right+N(l,"right")),V||X)if(C)u.defaultView.scrollBy(V,X);else{let se=p.scrollLeft,ce=p.scrollTop;X&&(p.scrollTop+=X),V&&(p.scrollLeft+=V);let Ne=p.scrollLeft-se,rt=p.scrollTop-ce;e={left:e.left-Ne,top:e.top-rt,right:e.right-Ne,bottom:e.bottom-rt}}if(C)break}}function Ie(o){let e=[],r=o.ownerDocument;for(let s=o;s&&(e.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),o!=r);s=ni(s));return e}function on(o,e){for(let r=0;r<o.length;r++){let{dom:s,top:l,left:u}=o[r];s.scrollTop!=l+e&&(s.scrollTop=l+e),s.scrollLeft!=u&&(s.scrollLeft=u)}}let Fn=null;function Sr(o,e){let r,l,s=2e8,u=0,f=e.top,p=e.top;for(let C=o.firstChild,P=0;C;C=C.nextSibling,P++){let V;if(1==C.nodeType)V=C.getClientRects();else{if(3!=C.nodeType)continue;V=ri(C).getClientRects()}for(let X=0;X<V.length;X++){let se=V[X];if(se.top<=f&&se.bottom>=p){f=Math.max(se.bottom,f),p=Math.min(se.top,p);let ce=se.left>e.left?se.left-e.left:se.right<e.left?e.left-se.right:0;if(ce<s){r=C,s=ce,l=ce&&3==r.nodeType?{left:se.right<e.left?se.right:se.left,top:e.top}:e,1==C.nodeType&&ce&&(u=P+(e.left>=(se.left+se.right)/2?1:0));continue}}!r&&(e.left>=se.right&&e.top>=se.top||e.left>=se.left&&e.top>=se.bottom)&&(u=P+1)}}return r&&3==r.nodeType?function Jr(o,e){let r=o.nodeValue.length,s=document.createRange();for(let l=0;l<r;l++){s.setEnd(o,l+1),s.setStart(o,l);let u=Fi(s,1);if(u.top!=u.bottom&&Ms(e,u))return{node:o,offset:l+(e.left>=(u.left+u.right)/2?1:0)}}return{node:o,offset:0}}(r,l):!r||s&&1==r.nodeType?{node:o,offset:u}:Sr(r,l)}function Ms(o,e){return o.left>=e.left-1&&o.left<=e.right+1&&o.top>=e.top-1&&o.top<=e.bottom+1}function Ws(o,e,r){let s=o.childNodes.length;if(s&&r.top<r.bottom)for(let l=Math.max(0,Math.min(s-1,Math.floor(s*(e.top-r.top)/(r.bottom-r.top))-2)),u=l;;){let f=o.childNodes[u];if(1==f.nodeType){let p=f.getClientRects();for(let C=0;C<p.length;C++){let P=p[C];if(Ms(e,P))return Ws(f,e,P)}}if((u=(u+1)%s)==l)break}return o}function Ys(o,e){let s,r=o.dom.ownerDocument,l=0;if(r.caretPositionFromPoint)try{let C=r.caretPositionFromPoint(e.left,e.top);C&&({offsetNode:s,offset:l}=C)}catch{}if(!s&&r.caretRangeFromPoint){let C=r.caretRangeFromPoint(e.left,e.top);C&&({startContainer:s,startOffset:l}=C)}let f,u=(o.root.elementFromPoint?o.root:r).elementFromPoint(e.left,e.top);if(!u||!o.dom.contains(1!=u.nodeType?u.parentNode:u)){let C=o.dom.getBoundingClientRect();if(!Ms(e,C)||(u=Ws(o.dom,e,C),!u))return null}if(Lt)for(let C=u;s&&C;C=ni(C))C.draggable&&(s=void 0);if(u=function Ls(o,e){let r=o.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<o.getBoundingClientRect().left?r:o}(u,e),s){if(nr&&1==s.nodeType&&(l=Math.min(l,s.childNodes.length),l<s.childNodes.length)){let P,C=s.childNodes[l];"IMG"==C.nodeName&&(P=C.getBoundingClientRect()).right<=e.left&&P.bottom>e.top&&l++}s==o.dom&&l==s.childNodes.length-1&&1==s.lastChild.nodeType&&e.top>s.lastChild.getBoundingClientRect().bottom?f=o.state.doc.content.size:(0==l||1!=s.nodeType||"BR"!=s.childNodes[l-1].nodeName)&&(f=function co(o,e,r,s){let l=-1;for(let u=e;u!=o.dom;){let f=o.docView.nearestDesc(u,!0);if(!f)return null;if(1==f.dom.nodeType&&(f.node.isBlock&&f.parent||!f.contentDOM)){let p=f.dom.getBoundingClientRect();if(f.node.isBlock&&f.parent&&(p.left>s.left||p.top>s.top?l=f.posBefore:(p.right<s.left||p.bottom<s.top)&&(l=f.posAfter)),!f.contentDOM&&l<0)return(f.node.isBlock?s.top<(p.top+p.bottom)/2:s.left<(p.left+p.right)/2)?f.posBefore:f.posAfter}u=f.dom.parentNode}return l>-1?l:o.docView.posFromDOM(e,r,-1)}(o,s,l,e))}null==f&&(f=function Io(o,e,r){let{node:s,offset:l}=Sr(e,r),u=-1;if(1==s.nodeType&&!s.firstChild){let f=s.getBoundingClientRect();u=f.left!=f.right&&r.left>(f.left+f.right)/2?1:-1}return o.docView.posFromDOM(s,l,u)}(o,u,e));let p=o.docView.nearestDesc(u,!0);return{pos:f,inside:p?p.posAtStart-p.border:-1}}function Fi(o,e){let r=o.getClientRects();return r.length?r[e<0?0:r.length-1]:o.getBoundingClientRect()}const Ks=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Bs(o,e,r){let{node:s,offset:l,atom:u}=o.docView.domFromPos(e,r<0?-1:1),f=Es||nr;if(3==s.nodeType){if(!f||!Ks.test(s.nodeValue)&&(r<0?l:l!=s.nodeValue.length)){let C=l,P=l,V=r<0?1:-1;return r<0&&!l?(P++,V=-1):r>=0&&l==s.nodeValue.length?(C--,V=1):r<0?C--:P++,cs(Fi(ri(s,C,P),1),V<0)}{let C=Fi(ri(s,l,l),r);if(nr&&l&&/\s/.test(s.nodeValue[l-1])&&l<s.nodeValue.length){let P=Fi(ri(s,l-1,l-1),-1);if(P.top==C.top){let V=Fi(ri(s,l,l+1),-1);if(V.top!=C.top)return cs(V,V.left<P.left)}}return C}}if(!o.state.doc.resolve(e-(u||0)).parent.inlineContent){if(null==u&&l&&(r<0||l==vr(s))){let C=s.childNodes[l-1];if(1==C.nodeType)return D(C.getBoundingClientRect(),!1)}if(null==u&&l<vr(s)){let C=s.childNodes[l];if(1==C.nodeType)return D(C.getBoundingClientRect(),!0)}return D(s.getBoundingClientRect(),r>=0)}if(null==u&&l&&(r<0||l==vr(s))){let C=s.childNodes[l-1],P=3==C.nodeType?ri(C,vr(C)-(f?0:1)):1!=C.nodeType||"BR"==C.nodeName&&C.nextSibling?null:C;if(P)return cs(Fi(P,1),!1)}if(null==u&&l<vr(s)){let C=s.childNodes[l];for(;C.pmViewDesc&&C.pmViewDesc.ignoreForCoords;)C=C.nextSibling;let P=C?3==C.nodeType?ri(C,0,f?0:1):1==C.nodeType?C:null:null;if(P)return cs(Fi(P,-1),!0)}return cs(Fi(3==s.nodeType?ri(s):s,-r),r>=0)}function cs(o,e){if(0==o.width)return o;let r=e?o.left:o.right;return{top:o.top,bottom:o.bottom,left:r,right:r}}function D(o,e){if(0==o.height)return o;let r=e?o.top:o.bottom;return{top:r,bottom:r,left:o.left,right:o.right}}function B(o,e,r){let s=o.state,l=o.root.activeElement;s!=e&&o.updateState(e),l!=o.dom&&o.focus();try{return r()}finally{s!=e&&o.updateState(s),l!=o.dom&&l&&l.focus()}}const W=/[\u0590-\u08ac]/;let Fe=null,Ge=null,vt=!1;class Cn{constructor(e,r,s,l){this.parent=e,this.children=r,this.dom=s,this.contentDOM=l,this.dirty=0,s.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,s){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,s=this.posAtStart;;r++){let l=this.children[r];if(l==e)return s;s+=l.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,s){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(s<0){let u,f;if(e==this.contentDOM)u=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;u=e.previousSibling}for(;u&&(!(f=u.pmViewDesc)||f.parent!=this);)u=u.previousSibling;return u?this.posBeforeChild(f)+f.size:this.posAtStart}{let u,f;if(e==this.contentDOM)u=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;u=e.nextSibling}for(;u&&(!(f=u.pmViewDesc)||f.parent!=this);)u=u.nextSibling;return u?this.posBeforeChild(f):this.posAtEnd}}let l;if(e==this.dom&&this.contentDOM)l=r>ln(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))l=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==r)for(let u=e;;u=u.parentNode){if(u==this.dom){l=!1;break}if(u.previousSibling)break}if(null==l&&r==e.childNodes.length)for(let u=e;;u=u.parentNode){if(u==this.dom){l=!0;break}if(u.nextSibling)break}}return l??s>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let s=!0,l=e;l;l=l.parentNode){let f,u=this.getDesc(l);if(u&&(!r||u.node)){if(!s||!(f=u.nodeDOM)||(1==f.nodeType?f.contains(1==e.nodeType?e:e.parentNode):f==e))return u;s=!1}}}getDesc(e){let r=e.pmViewDesc;for(let s=r;s;s=s.parent)if(s==this)return r}posFromDOM(e,r,s){for(let l=e;l;l=l.parentNode){let u=this.getDesc(l);if(u)return u.localPosFromDOM(e,r,s)}return-1}descAt(e){for(let r=0,s=0;r<this.children.length;r++){let l=this.children[r],u=s+l.size;if(s==e&&u!=s){for(;!l.border&&l.children.length;)l=l.children[0];return l}if(e<u)return l.descAt(e-s-l.border);s=u}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let u,s=0,l=0;for(let u=0;s<this.children.length;s++){let f=this.children[s],p=u+f.size;if(p>e||f instanceof R){l=e-u;break}u=p}if(l)return this.children[s].domFromPos(l-this.children[s].border,r);for(;s&&!(u=this.children[s-1]).size&&u instanceof _r&&u.side>=0;s--);if(r<=0){let u,f=!0;for(;u=s?this.children[s-1]:null,u&&u.dom.parentNode!=this.contentDOM;s--,f=!1);return u&&r&&f&&!u.border&&!u.domAtom?u.domFromPos(u.size,r):{node:this.contentDOM,offset:u?ln(u.dom)+1:0}}{let u,f=!0;for(;u=s<this.children.length?this.children[s]:null,u&&u.dom.parentNode!=this.contentDOM;s++,f=!1);return u&&f&&!u.border&&!u.domAtom?u.domFromPos(0,r):{node:this.contentDOM,offset:u?ln(u.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,s=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let l=-1,u=-1;for(let f=s,p=0;;p++){let C=this.children[p],P=f+C.size;if(-1==l&&e<=P){let V=f+C.border;if(e>=V&&r<=P-C.border&&C.node&&C.contentDOM&&this.contentDOM.contains(C.contentDOM))return C.parseRange(e,r,V);e=f;for(let X=p;X>0;X--){let se=this.children[X-1];if(se.size&&se.dom.parentNode==this.contentDOM&&!se.emptyChildAt(1)){l=ln(se.dom)+1;break}e-=se.size}-1==l&&(l=0)}if(l>-1&&(P>r||p==this.children.length-1)){r=P;for(let V=p+1;V<this.children.length;V++){let X=this.children[V];if(X.size&&X.dom.parentNode==this.contentDOM&&!X.emptyChildAt(-1)){u=ln(X.dom);break}r+=X.size}-1==u&&(u=this.contentDOM.childNodes.length);break}f=P}return{node:this.contentDOM,from:e,to:r,fromOffset:l,toOffset:u}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return 0==r.size||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:s}=this.domFromPos(e,0);if(1!=r.nodeType||s==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[s]}setSelection(e,r,s,l=!1){let u=Math.min(e,r),f=Math.max(e,r);for(let se=0,ce=0;se<this.children.length;se++){let Ne=this.children[se],rt=ce+Ne.size;if(u>ce&&f<rt)return Ne.setSelection(e-ce-Ne.border,r-ce-Ne.border,s,l);ce=rt}let p=this.domFromPos(e,e?-1:1),C=r==e?p:this.domFromPos(r,r?-1:1),P=s.getSelection(),V=!1;if((nr||Lt)&&e==r){let{node:se,offset:ce}=p;if(3==se.nodeType){if(V=!(!ce||"\n"!=se.nodeValue[ce-1]),V&&ce==se.nodeValue.length)for(let rt,Ne=se;Ne;Ne=Ne.parentNode){if(rt=Ne.nextSibling){"BR"==rt.nodeName&&(p=C={node:rt.parentNode,offset:ln(rt)+1});break}let Nt=Ne.pmViewDesc;if(Nt&&Nt.node&&Nt.node.isBlock)break}}else{let Ne=se.childNodes[ce-1];V=Ne&&("BR"==Ne.nodeName||"false"==Ne.contentEditable)}}if(nr&&P.focusNode&&P.focusNode!=C.node&&1==P.focusNode.nodeType){let se=P.focusNode.childNodes[P.focusOffset];se&&"false"==se.contentEditable&&(l=!0)}if(!(l||V&&Lt)&&mn(p.node,p.offset,P.anchorNode,P.anchorOffset)&&mn(C.node,C.offset,P.focusNode,P.focusOffset))return;let X=!1;if((P.extend||e==r)&&!V){P.collapse(p.node,p.offset);try{e!=r&&P.extend(C.node,C.offset),X=!0}catch{}}if(!X){if(e>r){let ce=p;p=C,C=ce}let se=document.createRange();se.setEnd(C.node,C.offset),se.setStart(p.node,p.offset),P.removeAllRanges(),P.addRange(se)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let s=0,l=0;l<this.children.length;l++){let u=this.children[l],f=s+u.size;if(s==f?e<=f&&r>=s:e<f&&r>s){let p=s+u.border,C=f-u.border;if(e>=p&&r<=C)return this.dirty=e==s||r==f?2:1,void(e!=p||r!=C||!u.contentLost&&u.dom.parentNode==this.contentDOM?u.markDirty(e-p,r-p):u.dirty=3);u.dirty=u.dom!=u.contentDOM||u.dom.parentNode!=this.contentDOM||u.children.length?3:2}s=f}this.dirty=2}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let s=1==e?2:1;r.dirty<s&&(r.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class _r extends Cn{constructor(e,r,s,l){let u,f=r.type.toDOM;if("function"==typeof f&&(f=f(s,()=>u?u.parent?u.parent.posBeforeChild(u):void 0:l)),!r.type.spec.raw){if(1!=f.nodeType){let p=document.createElement("span");p.appendChild(f),f=p}f.contentEditable="false",f.classList.add("ProseMirror-widget")}super(e,[],f,null),this.widget=r,this.widget=r,u=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return!!r&&r(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class us extends Cn{constructor(e,r,s,l){super(e,[],r,null),this.textDOM=s,this.text=l}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class cr extends Cn{constructor(e,r,s,l){super(e,[],s,l),this.mark=r}static create(e,r,s,l){let u=l.nodeViews[r.type.name],f=u&&u(r,l,s);return(!f||!f.dom)&&(f=Vn.renderSpec(document,r.type.spec.toDOM(r,s))),new cr(e,r,f.dom,f.contentDOM||f.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),0!=this.dirty){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=0}}slice(e,r,s){let l=cr.create(this.parent,this.mark,!0,s),u=this.children,f=this.size;r<f&&(u=qn(u,r,f,s)),e>0&&(u=qn(u,0,e,s));for(let p=0;p<u.length;p++)u[p].parent=l;return l.children=u,l}}class Tr extends Cn{constructor(e,r,s,l,u,f,p,C,P){super(e,[],u,f),this.node=r,this.outerDeco=s,this.innerDeco=l,this.nodeDOM=p,f&&this.updateChildren(C,P)}static create(e,r,s,l,u,f){let C,p=u.nodeViews[r.type.name],P=p&&p(r,u,()=>C?C.parent?C.parent.posBeforeChild(C):void 0:f,s,l),V=P&&P.dom,X=P&&P.contentDOM;if(r.isText)if(V){if(3!=V.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else V=document.createTextNode(r.text);else V||({dom:V,contentDOM:X}=Vn.renderSpec(document,r.type.spec.toDOM(r)));!X&&!r.isText&&"BR"!=V.nodeName&&(V.hasAttribute("contenteditable")||(V.contentEditable="false"),r.type.spec.draggable&&(V.draggable=!0));let se=V;return V=Me(V,s,r),P?C=new m(e,r,s,l,V,X||null,se,P,u,f+1):r.isText?new Ti(e,r,s,l,V,se,u):new Tr(e,r,s,l,V,X||null,se,u,f+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let r=this.children.length-1;r>=0;r--){let s=this.children[r];if(this.dom.contains(s.dom.parentNode)){e.contentElement=s.dom.parentNode;break}}e.contentElement||(e.getContent=()=>fe.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,r,s){return 0==this.dirty&&e.eq(this.node)&&ze(r,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let s=this.node.inlineContent,l=r,u=e.composing?this.localCompositionInfo(e,r):null,f=u&&u.pos>-1?u:null,p=u&&u.pos<0,C=new Et(this,f&&f.node,e);(function $t(o,e,r,s){let l=e.locals(o),u=0;if(0==l.length){for(let P=0;P<o.childCount;P++){let V=o.child(P);s(V,l,e.forChild(u,V),P),u+=V.nodeSize}return}let f=0,p=[],C=null;for(let P=0;;){if(f<l.length&&l[f].to==u){let rt,Ne=l[f++];for(;f<l.length&&l[f].to==u;)(rt||(rt=[Ne])).push(l[f++]);if(rt){rt.sort(tn);for(let Nt=0;Nt<rt.length;Nt++)r(rt[Nt],P,!!C)}else r(Ne,P,!!C)}let V,X;if(C)X=-1,V=C,C=null;else{if(!(P<o.childCount))break;X=P,V=o.child(P++)}for(let Ne=0;Ne<p.length;Ne++)p[Ne].to<=u&&p.splice(Ne--,1);for(;f<l.length&&l[f].from<=u&&l[f].to>u;)p.push(l[f++]);let se=u+V.nodeSize;if(V.isText){let Ne=se;f<l.length&&l[f].from<Ne&&(Ne=l[f].from);for(let rt=0;rt<p.length;rt++)p[rt].to<Ne&&(Ne=p[rt].to);Ne<se&&(C=V.cut(Ne-u),V=V.cut(0,Ne-u),se=Ne,X=-1)}s(V,V.isInline&&!V.isLeaf?p.filter(Ne=>!Ne.inline):p.slice(),e.forChild(u,V),X),u=se}})(this.node,this.innerDeco,(P,V,X)=>{P.spec.marks?C.syncToMarks(P.spec.marks,s,e):P.type.side>=0&&!X&&C.syncToMarks(V==this.node.childCount?it.none:this.node.child(V).marks,s,e),C.placeWidget(P,e,l)},(P,V,X,se)=>{let ce;C.syncToMarks(P.marks,s,e),C.findNodeMatch(P,V,X,se)||p&&e.state.selection.from>l&&e.state.selection.to<l+P.nodeSize&&(ce=C.findIndexWithChild(u.node))>-1&&C.updateNodeAt(P,V,X,ce,e)||C.updateNextNode(P,V,X,e,se)||C.addNode(P,V,X,e,l),l+=P.nodeSize}),C.syncToMarks([],s,e),this.node.isTextblock&&C.addTextblockHacks(),C.destroyRest(),(C.changed||2==this.dirty)&&(f&&this.protectLocalComposition(e,f),v(this.contentDOM,this.children,e),ls&&function Qt(o){if("UL"==o.nodeName||"OL"==o.nodeName){let e=o.style.cssText;o.style.cssText=e+"; list-style: square !important",window.getComputedStyle(o),o.style.cssText=e}}(this.dom))}localCompositionInfo(e,r){let{from:s,to:l}=e.state.selection;if(!(e.state.selection instanceof un)||s<r||l>r+this.node.content.size)return null;let u=e.domSelectionRange(),f=function bn(o,e){for(;;){if(3==o.nodeType)return o;if(1==o.nodeType&&e>0){if(o.childNodes.length>e&&3==o.childNodes[e].nodeType)return o.childNodes[e];e=vr(o=o.childNodes[e-1])}else{if(!(1==o.nodeType&&e<o.childNodes.length))return null;o=o.childNodes[e],e=0}}}(u.focusNode,u.focusOffset);if(!f||!this.dom.contains(f.parentNode))return null;if(this.node.inlineContent){let p=f.nodeValue,C=function Nn(o,e,r,s){for(let l=0,u=0;l<o.childCount&&u<=s;){let f=o.child(l++),p=u;if(u+=f.nodeSize,!f.isText)continue;let C=f.text;for(;l<o.childCount;){let P=o.child(l++);if(u+=P.nodeSize,!P.isText)break;C+=P.text}if(u>=r){let P=p<s?C.lastIndexOf(e,s-p-1):-1;if(P>=0&&P+e.length+p>=r)return p+P;if(r==s&&C.length>=s+e.length-p&&C.slice(s-p,s-p+e.length)==e)return s}}return-1}(this.node.content,p,s-r,l-r);return C<0?null:{node:f,pos:C,text:p}}return{node:f,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:s,text:l}){if(this.getDesc(r))return;let u=r;for(;u.parentNode!=this.contentDOM;u=u.parentNode){for(;u.previousSibling;)u.parentNode.removeChild(u.previousSibling);for(;u.nextSibling;)u.parentNode.removeChild(u.nextSibling);u.pmViewDesc&&(u.pmViewDesc=void 0)}let f=new us(this,u,r,l);e.input.compositionNodes.push(f),this.children=qn(this.children,s,s+l.length,e,f)}update(e,r,s,l){return!(3==this.dirty||!e.sameMarkup(this.node)||(this.updateInner(e,r,s,l),0))}updateInner(e,r,s,l){this.updateOuterDeco(r),this.node=e,this.innerDeco=s,this.contentDOM&&this.updateChildren(l,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(ze(e,this.outerDeco))return;let r=1!=this.nodeDOM.nodeType,s=this.dom;this.dom=oe(this.dom,this.nodeDOM,q(this.outerDeco,this.node,r),q(e,this.node,r)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function fi(o,e,r,s,l){return Me(s,e,o),new Tr(void 0,o,e,r,s,s,s,l,0)}class Ti extends Tr{constructor(e,r,s,l,u,f,p){super(e,r,s,l,u,null,f,p,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,s,l){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(r),(0!=this.dirty||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,l.trackWrites==this.nodeDOM&&(l.trackWrites=null)),this.node=e,this.dirty=0,0))}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,s){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,s)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,r,s){let l=this.node.cut(e,r),u=document.createTextNode(l.text);return new Ti(this.parent,l,this.outerDeco,this.innerDeco,u,u,s)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(0==e||r==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}}class R extends Cn{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class m extends Tr{constructor(e,r,s,l,u,f,p,C,P,V){super(e,r,s,l,u,f,p,P,V),this.spec=C}update(e,r,s,l){if(3==this.dirty)return!1;if(this.spec.update){let u=this.spec.update(e,r,s);return u&&this.updateInner(e,r,s,l),u}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,r,s,l)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,s,l){this.spec.setSelection?this.spec.setSelection(e,r,s):super.setSelection(e,r,s,l)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function v(o,e,r){let s=o.firstChild,l=!1;for(let u=0;u<e.length;u++){let f=e[u],p=f.dom;if(p.parentNode==o){for(;p!=s;)s=gt(s),l=!0;s=s.nextSibling}else l=!0,o.insertBefore(p,s);if(f instanceof cr){let C=s?s.previousSibling:o.lastChild;v(f.contentDOM,f.children,r),s=C?C.nextSibling:o.firstChild}}for(;s;)s=gt(s),l=!0;l&&r.trackWrites==o&&(r.trackWrites=null)}const M=function(o){o&&(this.nodeName=o)};M.prototype=Object.create(null);const H=[new M];function q(o,e,r){if(0==o.length)return H;let s=r?H[0]:new M,l=[s];for(let u=0;u<o.length;u++){let f=o[u].type.attrs;if(f){f.nodeName&&l.push(s=new M(f.nodeName));for(let p in f){let C=f[p];null!=C&&(r&&1==l.length&&l.push(s=new M(e.isInline?"span":"div")),"class"==p?s.class=(s.class?s.class+" ":"")+C:"style"==p?s.style=(s.style?s.style+";":"")+C:"nodeName"!=p&&(s[p]=C))}}}return l}function oe(o,e,r,s){if(r==H&&s==H)return e;let l=e;for(let u=0;u<s.length;u++){let f=s[u],p=r[u];if(u){let C;p&&p.nodeName==f.nodeName&&l!=o&&(C=l.parentNode)&&C.nodeName.toLowerCase()==f.nodeName||(C=document.createElement(f.nodeName),C.pmIsDeco=!0,C.appendChild(l),p=H[0]),l=C}ae(l,p||H[0],f)}return l}function ae(o,e,r){for(let s in e)"class"!=s&&"style"!=s&&"nodeName"!=s&&!(s in r)&&o.removeAttribute(s);for(let s in r)"class"!=s&&"style"!=s&&"nodeName"!=s&&r[s]!=e[s]&&o.setAttribute(s,r[s]);if(e.class!=r.class){let s=e.class?e.class.split(" ").filter(Boolean):[],l=r.class?r.class.split(" ").filter(Boolean):[];for(let u=0;u<s.length;u++)-1==l.indexOf(s[u])&&o.classList.remove(s[u]);for(let u=0;u<l.length;u++)-1==s.indexOf(l[u])&&o.classList.add(l[u]);0==o.classList.length&&o.removeAttribute("class")}if(e.style!=r.style){if(e.style){let l,s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;l=s.exec(e.style);)o.style.removeProperty(l[1])}r.style&&(o.style.cssText+=r.style)}}function Me(o,e,r){return oe(o,o,H,q(e,r,1!=o.nodeType))}function ze(o,e){if(o.length!=e.length)return!1;for(let r=0;r<o.length;r++)if(!o[r].type.eq(e[r].type))return!1;return!0}function gt(o){let e=o.nextSibling;return o.parentNode.removeChild(o),e}class Et{constructor(e,r,s){this.lock=r,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function yn(o,e){let r=e,s=r.children.length,l=o.childCount,u=new Map,f=[];e:for(;l>0;){let p;for(;;)if(s){let P=r.children[s-1];if(!(P instanceof cr)){p=P,s--;break}r=P,s=P.children.length}else{if(r==e)break e;s=r.parent.children.indexOf(r),r=r.parent}let C=p.node;if(C){if(C!=o.child(l-1))break;--l,u.set(p,l),f.push(p)}}return{index:l,matched:u,matches:f.reverse()}}(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let s=e;s<r;s++)this.top.children[s].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,s){let l=0,u=this.stack.length>>1,f=Math.min(u,e.length);for(;l<f&&(l==u-1?this.top:this.stack[l+1<<1]).matchesMark(e[l])&&!1!==e[l].type.spec.spanning;)l++;for(;l<u;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),u--;for(;u<e.length;){this.stack.push(this.top,this.index+1);let p=-1;for(let C=this.index;C<Math.min(this.index+3,this.top.children.length);C++){let P=this.top.children[C];if(P.matchesMark(e[u])&&!this.isLocked(P.dom)){p=C;break}}if(p>-1)p>this.index&&(this.changed=!0,this.destroyBetween(this.index,p)),this.top=this.top.children[this.index];else{let C=cr.create(this.top,e[u],r,s);this.top.children.splice(this.index,0,C),this.top=C,this.changed=!0}this.index=0,u++}}findNodeMatch(e,r,s,l){let f,u=-1;if(l>=this.preMatch.index&&(f=this.preMatch.matches[l-this.preMatch.index]).parent==this.top&&f.matchesNode(e,r,s))u=this.top.children.indexOf(f,this.index);else for(let p=this.index,C=Math.min(this.top.children.length,p+5);p<C;p++){let P=this.top.children[p];if(P.matchesNode(e,r,s)&&!this.preMatch.matched.has(P)){u=p;break}}return!(u<0||(this.destroyBetween(this.index,u),this.index++,0))}updateNodeAt(e,r,s,l,u){let f=this.top.children[l];return 3==f.dirty&&f.dom==f.contentDOM&&(f.dirty=2),!!f.update(e,r,s,u)&&(this.destroyBetween(this.index,l),this.index++,!0)}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let s=e.pmViewDesc;if(s)for(let l=this.index;l<this.top.children.length;l++)if(this.top.children[l]==s)return l;return-1}e=r}}updateNextNode(e,r,s,l,u){for(let f=this.index;f<this.top.children.length;f++){let p=this.top.children[f];if(p instanceof Tr){let C=this.preMatch.matched.get(p);if(null!=C&&C!=u)return!1;let P=p.dom;if((!this.isLocked(P)||e.isText&&p.node&&p.node.isText&&p.nodeDOM.nodeValue==e.text&&3!=p.dirty&&ze(r,p.outerDeco))&&p.update(e,r,s,l))return this.destroyBetween(this.index,f),p.dom!=P&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,r,s,l,u){this.top.children.splice(this.index++,0,Tr.create(this.top,e,r,s,l,u)),this.changed=!0}placeWidget(e,r,s){let l=this.index<this.top.children.length?this.top.children[this.index]:null;if(!l||!l.matchesWidget(e)||e!=l.widget&&l.widget.type.toDOM.parentNode){let u=new _r(this.top,e,r,s);this.top.children.splice(this.index++,0,u),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof cr;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof Ti)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Lt||Tn)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let s=document.createElement(e);"IMG"==e&&(s.className="ProseMirror-separator",s.alt=""),"BR"==e&&(s.className="ProseMirror-trailingBreak");let l=new R(this.top,[],s,null);r!=this.top?r.children.push(l):r.children.splice(this.index++,0,l),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function tn(o,e){return o.type.side-e.type.side}function qn(o,e,r,s,l){let u=[];for(let f=0,p=0;f<o.length;f++){let C=o[f],P=p,V=p+=C.size;P>=r||V<=e?u.push(C):(P<e&&u.push(C.slice(0,e-P,s)),l&&(u.push(l),l=void 0),V>r&&u.push(C.slice(r-P,C.size,s)))}return u}function Zn(o,e=null){let r=o.domSelectionRange(),s=o.state.doc;if(!r.focusNode)return null;let l=o.docView.nearestDesc(r.focusNode),u=l&&0==l.size,f=o.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(f<0)return null;let C,P,p=s.resolve(f);if(ii(r)){for(C=p;l&&!l.node;)l=l.parent;let V=l.node;if(l&&V.isAtom&&Ft.isSelectable(V)&&l.parent&&(!V.isInline||!function fr(o,e,r){for(let s=0==e,l=e==vr(o);s||l;){if(o==r)return!0;let u=ln(o);if(!(o=o.parentNode))return!1;s=s&&0==u,l=l&&u==vr(o)}}(r.focusNode,r.focusOffset,l.dom))){let X=l.posBefore;P=new Ft(f==X?p:s.resolve(X))}}else{let V=o.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(V<0)return null;C=s.resolve(V)}return P||(P=Vs(o,C,p,"pointer"==e||o.state.selection.head<p.pos&&!u?1:-1)),P}function pr(o){return o.editable?o.hasFocus():Ct(o)&&document.activeElement&&document.activeElement.contains(o.dom)}function zr(o,e=!1){let r=o.state.selection;if(Qr(o,r),pr(o)){if(!e&&o.input.mouseDown&&o.input.mouseDown.allowDefault&&Tn){let s=o.domSelectionRange(),l=o.domObserver.currentSelection;if(s.anchorNode&&l.anchorNode&&mn(s.anchorNode,s.anchorOffset,l.anchorNode,l.anchorOffset))return o.input.mouseDown.delayedSelectionSync=!0,void o.domObserver.setCurSelection()}if(o.domObserver.disconnectSelection(),o.cursorWrapper)!function Oo(o){let e=o.domSelection(),r=document.createRange(),s=o.cursorWrapper.dom,l="IMG"==s.nodeName;l?r.setEnd(s.parentNode,ln(s)+1):r.setEnd(s,0),r.collapse(!1),e.removeAllRanges(),e.addRange(r),!l&&!o.state.selection.visible&&Ur&&Zr<=11&&(s.disabled=!0,s.disabled=!1)}(o);else{let u,f,{anchor:s,head:l}=r;Ai&&!(r instanceof un)&&(r.$from.parent.inlineContent||(u=Ar(o,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(f=Ar(o,r.to))),o.docView.setSelection(s,l,o.root,e),Ai&&(u&&Yi(u),f&&Yi(f)),r.visible?o.dom.classList.remove("ProseMirror-hideselection"):(o.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function Ii(o){let e=o.dom.ownerDocument;e.removeEventListener("selectionchange",o.input.hideSelectionGuard);let r=o.domSelectionRange(),s=r.anchorNode,l=r.anchorOffset;e.addEventListener("selectionchange",o.input.hideSelectionGuard=()=>{(r.anchorNode!=s||r.anchorOffset!=l)&&(e.removeEventListener("selectionchange",o.input.hideSelectionGuard),setTimeout(()=>{(!pr(o)||o.state.selection.visible)&&o.dom.classList.remove("ProseMirror-hideselection")},20))})}(o))}o.domObserver.setCurSelection(),o.domObserver.connectSelection()}}const Ai=Lt||Tn&&je<63;function Ar(o,e){let{node:r,offset:s}=o.docView.domFromPos(e,0),l=s<r.childNodes.length?r.childNodes[s]:null,u=s?r.childNodes[s-1]:null;if(Lt&&l&&"false"==l.contentEditable)return ds(l);if(!(l&&"false"!=l.contentEditable||u&&"false"!=u.contentEditable)){if(l)return ds(l);if(u)return ds(u)}}function ds(o){return o.contentEditable="true",Lt&&o.draggable&&(o.draggable=!1,o.wasDraggable=!0),o}function Yi(o){o.contentEditable="false",o.wasDraggable&&(o.draggable=!0,o.wasDraggable=null)}function Qr(o,e){if(e instanceof Ft){let r=o.docView.descAt(e.from);r!=o.lastSelectedViewDesc&&(hs(o),r&&r.selectNode(),o.lastSelectedViewDesc=r)}else hs(o)}function hs(o){o.lastSelectedViewDesc&&(o.lastSelectedViewDesc.parent&&o.lastSelectedViewDesc.deselectNode(),o.lastSelectedViewDesc=void 0)}function Vs(o,e,r,s){return o.someProp("createSelectionBetween",l=>l(o,e,r))||un.between(e,r,s)}function uo(o){return!(o.editable&&!o.hasFocus())&&Ct(o)}function Ct(o){let e=o.domSelectionRange();if(!e.anchorNode)return!1;try{return o.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(o.editable||o.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function zt(o,e){let{$anchor:r,$head:s}=o.selection,l=e>0?r.max(s):r.min(s),u=l.parent.inlineContent?l.depth?o.doc.resolve(e>0?l.after():l.before()):null:l;return u&&cn.findFrom(u,e)}function fn(o,e){return o.dispatch(o.state.tr.setSelection(e).scrollIntoView()),!0}function xr(o,e,r){let s=o.state.selection;if(!(s instanceof un)){if(s instanceof Ft&&s.node.isInline)return fn(o,new un(e>0?s.$to:s.$from));{let l=zt(o.state,e);return!!l&&fn(o,l)}}if(!s.empty||r.indexOf("s")>-1)return!1;if(o.endOfTextblock(e>0?"right":"left")){let l=zt(o.state,e);return!!(l&&l instanceof Ft)&&fn(o,l)}if(!(wr&&r.indexOf("m")>-1)){let f,l=s.$head,u=l.textOffset?null:e<0?l.nodeBefore:l.nodeAfter;if(!u||u.isText)return!1;let p=e<0?l.pos-u.nodeSize:l.pos;return!!(u.isAtom||(f=o.docView.descAt(p))&&!f.contentDOM)&&(Ft.isSelectable(u)?fn(o,new Ft(e<0?o.state.doc.resolve(l.pos-u.nodeSize):l)):!!Es&&fn(o,new un(o.state.doc.resolve(e<0?p:p+u.nodeSize))))}}function xi(o){return 3==o.nodeType?o.nodeValue.length:o.childNodes.length}function Ir(o){let e=o.pmViewDesc;return e&&0==e.size&&(o.nextSibling||"BR"!=o.nodeName)}function Ln(o){let e=o.domSelectionRange(),r=e.focusNode,s=e.focusOffset;if(!r)return;let l,u,f=!1;for(nr&&1==r.nodeType&&s<xi(r)&&Ir(r.childNodes[s])&&(f=!0);;)if(s>0){if(1!=r.nodeType)break;{let p=r.childNodes[s-1];if(Ir(p))l=r,u=--s;else{if(3!=p.nodeType)break;r=p,s=r.nodeValue.length}}}else{if(qs(r))break;{let p=r.previousSibling;for(;p&&Ir(p);)l=r.parentNode,u=ln(p),p=p.previousSibling;if(p)r=p,s=xi(r);else{if(r=r.parentNode,r==o.dom)break;s=0}}}f?fs(o,r,s):l&&fs(o,l,u)}function jn(o){let e=o.domSelectionRange(),r=e.focusNode,s=e.focusOffset;if(!r)return;let u,f,l=xi(r);for(;;)if(s<l){if(1!=r.nodeType)break;if(!Ir(r.childNodes[s]))break;u=r,f=++s}else{if(qs(r))break;{let p=r.nextSibling;for(;p&&Ir(p);)u=p.parentNode,f=ln(p)+1,p=p.nextSibling;if(p)r=p,s=0,l=xi(r);else{if(r=r.parentNode,r==o.dom)break;s=l=0}}}u&&fs(o,u,f)}function qs(o){let e=o.pmViewDesc;return e&&e.node&&e.node.isBlock}function fs(o,e,r){let s=o.domSelection();if(ii(s)){let u=document.createRange();u.setEnd(e,r),u.setStart(e,r),s.removeAllRanges(),s.addRange(u)}else s.extend&&s.extend(e,r);o.domObserver.setCurSelection();let{state:l}=o;setTimeout(()=>{o.state==l&&zr(o)},50)}function Or(o,e,r){let s=o.state.selection;if(s instanceof un&&!s.empty||r.indexOf("s")>-1||wr&&r.indexOf("m")>-1)return!1;let{$from:l,$to:u}=s;if(!l.parent.inlineContent||o.endOfTextblock(e<0?"up":"down")){let f=zt(o.state,e);if(f&&f instanceof Ft)return fn(o,f)}if(!l.parent.inlineContent){let f=e<0?l:u,p=s instanceof Er?cn.near(f,e):cn.findFrom(f,e);return!!p&&fn(o,p)}return!1}function Ss(o,e){if(!(o.state.selection instanceof un))return!0;let{$head:r,$anchor:s,empty:l}=o.state.selection;if(!r.sameParent(s))return!0;if(!l)return!1;if(o.endOfTextblock(e>0?"forward":"backward"))return!0;let u=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(u&&!u.isText){let f=o.state.tr;return e<0?f.delete(r.pos-u.nodeSize,r.pos):f.delete(r.pos,r.pos+u.nodeSize),o.dispatch(f),!0}return!1}function Oi(o,e,r){o.domObserver.stop(),e.contentEditable=r,o.domObserver.start()}function oa(o,e){o.someProp("transformCopied",ce=>{e=ce(e,o)});let r=[],{content:s,openStart:l,openEnd:u}=e;for(;l>1&&u>1&&1==s.childCount&&1==s.firstChild.childCount;){l--,u--;let ce=s.firstChild;r.push(ce.type.name,ce.attrs!=ce.type.defaultAttrs?ce.attrs:null),s=ce.content}let f=o.someProp("clipboardSerializer")||Vn.fromSchema(o.state.schema),p=la(),C=p.createElement("div");C.appendChild(f.serializeFragment(s,{document:p}));let V,P=C.firstChild,X=0;for(;P&&1==P.nodeType&&(V=fo[P.nodeName.toLowerCase()]);){for(let ce=V.length-1;ce>=0;ce--){let Ne=p.createElement(V[ce]);for(;C.firstChild;)Ne.appendChild(C.firstChild);C.appendChild(Ne),X++}P=C.firstChild}return P&&1==P.nodeType&&P.setAttribute("data-pm-slice",`${l} ${u}${X?` -${X}`:""} ${JSON.stringify(r)}`),{dom:C,text:o.someProp("clipboardTextSerializer",ce=>ce(e,o))||e.content.textBetween(0,e.content.size,"\n\n")}}function aa(o,e,r,s,l){let f,p,u=l.parent.type.spec.code;if(!r&&!e)return null;let C=e&&(s||u||!r);if(C){if(o.someProp("transformPastedText",se=>{e=se(e,u||s,o)}),u)return e?new qe(fe.from(o.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):qe.empty;let X=o.someProp("clipboardTextParser",se=>se(e,l,s,o));if(X)p=X;else{let se=l.marks(),{schema:ce}=o.state,Ne=Vn.fromSchema(ce);f=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(rt=>{let Nt=f.appendChild(document.createElement("p"));rt&&Nt.appendChild(Ne.serializeNode(ce.text(rt,se)))})}}else o.someProp("transformPastedHTML",X=>{r=X(r,o)}),f=function Jn(o){let e=/^(\s*<meta [^>]*>)*/.exec(o);e&&(o=o.slice(e[0].length));let l,r=la().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(o);if((l=s&&fo[s[1].toLowerCase()])&&(o=l.map(u=>"<"+u+">").join("")+o+l.map(u=>"</"+u+">").reverse().join("")),r.innerHTML=o,l)for(let u=0;u<l.length;u++)r=r.querySelector(l[u])||r;return r}(r),Es&&function du(o){let e=o.querySelectorAll(Tn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let s=e[r];1==s.childNodes.length&&"\xa0"==s.textContent&&s.parentNode&&s.parentNode.replaceChild(o.ownerDocument.createTextNode(" "),s)}}(f);let P=f&&f.querySelector("[data-pm-slice]"),V=P&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(P.getAttribute("data-pm-slice")||"");if(V&&V[3])for(let X=+V[3];X>0;X--){let se=f.firstChild;for(;se&&1!=se.nodeType;)se=se.nextSibling;if(!se)break;f=se}if(p||(p=(o.someProp("clipboardParser")||o.someProp("domParser")||Oe.fromSchema(o.state.schema)).parseSlice(f,{preserveWhitespace:!(!C&&!V),context:l,ruleFromNode:se=>"BR"!=se.nodeName||se.nextSibling||!se.parentNode||Oa.test(se.parentNode.nodeName)?null:{ignore:!0}})),V)p=function hu(o,e){if(!o.size)return o;let s,r=o.content.firstChild.type.schema;try{s=JSON.parse(e)}catch{return o}let{content:l,openStart:u,openEnd:f}=o;for(let p=s.length-2;p>=0;p-=2){let C=r.nodes[s[p]];if(!C||C.hasRequiredAttrs())break;l=fe.from(C.create(s[p+1],l)),u++,f++}return new qe(l,u,f)}(Na(p,+V[1],+V[2]),V[4]);else if(p=qe.maxOpen(function No(o,e){if(o.childCount<2)return o;for(let r=e.depth;r>=0;r--){let u,l=e.node(r).contentMatchAt(e.index(r)),f=[];if(o.forEach(p=>{if(!f)return;let P,C=l.findWrapping(p.type);if(!C)return f=null;if(P=f.length&&u.length&&ho(C,u,p,f[f.length-1],0))f[f.length-1]=P;else{f.length&&(f[f.length-1]=As(f[f.length-1],u.length));let V=ko(p,C);f.push(V),l=l.matchType(V.type),u=C}}),f)return fe.from(f)}return o}(p.content,l),!0),p.openStart||p.openEnd){let X=0,se=0;for(let ce=p.content.firstChild;X<p.openStart&&!ce.type.spec.isolating;X++,ce=ce.firstChild);for(let ce=p.content.lastChild;se<p.openEnd&&!ce.type.spec.isolating;se++,ce=ce.lastChild);p=Na(p,X,se)}return o.someProp("transformPasted",X=>{p=X(p,o)}),p}const Oa=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ko(o,e,r=0){for(let s=e.length-1;s>=r;s--)o=e[s].create(null,fe.from(o));return o}function ho(o,e,r,s,l){if(l<o.length&&l<e.length&&o[l]==e[l]){let u=ho(o,e,r,s.lastChild,l+1);if(u)return s.copy(s.content.replaceChild(s.childCount-1,u));if(s.contentMatchAt(s.childCount).matchType(l==o.length-1?r.type:o[l+1]))return s.copy(s.content.append(fe.from(ko(r,o,l+1))))}}function As(o,e){if(0==e)return o;let r=o.content.replaceChild(o.childCount-1,As(o.lastChild,e-1)),s=o.contentMatchAt(o.childCount).fillBefore(fe.empty,!0);return o.copy(r.append(s))}function Po(o,e,r,s,l,u){let f=e<0?o.firstChild:o.lastChild,p=f.content;return l<s-1&&(p=Po(p,e,r,s,l+1,u)),l>=r&&(p=e<0?f.contentMatchAt(0).fillBefore(p,o.childCount>1||u<=l).append(p):p.append(f.contentMatchAt(f.childCount).fillBefore(fe.empty,!0))),o.replaceChild(e<0?0:o.childCount-1,f.copy(p))}function Na(o,e,r){return e<o.openStart&&(o=new qe(Po(o.content,-1,e,o.openStart,0,o.openEnd),e,o.openEnd)),r<o.openEnd&&(o=new qe(Po(o.content,1,r,o.openEnd,0,0),o.openStart,r)),o}const fo={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let tl=null;function la(){return tl||(tl=document.implementation.createHTMLDocument("title"))}const Li={},Ki={},Dh={touchstart:!0,touchmove:!0};class ka{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ps(o,e){o.input.lastSelectionOrigin=e,o.input.lastSelectionTime=Date.now()}function nl(o){o.someProp("handleDOMEvents",e=>{for(let r in e)o.input.eventHandlers[r]||o.dom.addEventListener(r,o.input.eventHandlers[r]=s=>jr(o,s))})}function jr(o,e){return o.someProp("handleDOMEvents",r=>{let s=r[e.type];return!!s&&(s(o,e)||e.defaultPrevented)})}function Pa(o,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=o.dom;r=r.parentNode)if(!r||11==r.nodeType||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function Ra(o){return{left:o.clientX,top:o.clientY}}function Bi(o,e,r,s,l){if(-1==s)return!1;let u=o.state.doc.resolve(s);for(let f=u.depth+1;f>0;f--)if(o.someProp(e,p=>f>u.depth?p(o,r,u.nodeAfter,u.before(f),l,!0):p(o,r,u.node(f),u.before(f),l,!1)))return!0;return!1}function Vi(o,e,r){o.focused||o.focus();let s=o.state.tr.setSelection(e);"pointer"==r&&s.setMeta("pointer",!0),o.dispatch(s)}function _(o,e,r,s){return Bi(o,"handleDoubleClickOn",e,r,s)||o.someProp("handleDoubleClick",l=>l(o,e,s))}function y(o,e,r,s){return Bi(o,"handleTripleClickOn",e,r,s)||o.someProp("handleTripleClick",l=>l(o,e,s))||function E(o,e,r){if(0!=r.button)return!1;let s=o.state.doc;if(-1==e)return!!s.inlineContent&&(Vi(o,un.create(s,0,s.content.size),"pointer"),!0);let l=s.resolve(e);for(let u=l.depth+1;u>0;u--){let f=u>l.depth?l.nodeAfter:l.node(u),p=l.before(u);if(f.inlineContent)Vi(o,un.create(s,p+1,p+1+f.content.size),"pointer");else{if(!Ft.isSelectable(f))continue;Vi(o,Ft.create(s,p),"pointer")}return!0}}(o,r,s)}function O(o){return kn(o)}Ki.keydown=(o,e)=>{let r=e;if(o.input.shiftKey=16==r.keyCode||r.shiftKey,!ne(o,r)&&(o.input.lastKeyCode=r.keyCode,o.input.lastKeyCodeTime=Date.now(),!Dn||!Tn||13!=r.keyCode))if(229!=r.keyCode&&o.domObserver.forceFlush(),!ls||13!=r.keyCode||r.ctrlKey||r.altKey||r.metaKey)o.someProp("handleKeyDown",s=>s(o,r))||function ql(o,e){let r=e.keyCode,s=function sa(o){let e="";return o.ctrlKey&&(e+="c"),o.metaKey&&(e+="m"),o.altKey&&(e+="a"),o.shiftKey&&(e+="s"),e}(e);return 8==r||wr&&72==r&&"c"==s?Ss(o,-1)||Ln(o):46==r||wr&&68==r&&"c"==s?Ss(o,1)||jn(o):13==r||27==r||(37==r||wr&&66==r&&"c"==s?xr(o,-1,s)||Ln(o):39==r||wr&&70==r&&"c"==s?xr(o,1,s)||jn(o):38==r||wr&&80==r&&"c"==s?Or(o,-1,s)||Ln(o):40==r||wr&&78==r&&"c"==s?function Ts(o){if(!Lt||o.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=o.domSelectionRange();if(e&&1==e.nodeType&&0==r&&e.firstChild&&"false"==e.firstChild.contentEditable){let s=e.firstChild;Oi(o,s,"true"),setTimeout(()=>Oi(o,s,"false"),20)}return!1}(o)||Or(o,1,s)||jn(o):s==(wr?"m":"c")&&(66==r||73==r||89==r||90==r))}(o,r)?r.preventDefault():ps(o,"key");else{let s=Date.now();o.input.lastIOSEnter=s,o.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{o.input.lastIOSEnter==s&&(o.someProp("handleKeyDown",l=>l(o,Bn(13,"Enter"))),o.input.lastIOSEnter=0)},200)}},Ki.keyup=(o,e)=>{16==e.keyCode&&(o.input.shiftKey=!1)},Ki.keypress=(o,e)=>{let r=e;if(ne(o,r)||!r.charCode||r.ctrlKey&&!r.altKey||wr&&r.metaKey)return;if(o.someProp("handleKeyPress",l=>l(o,r)))return void r.preventDefault();let s=o.state.selection;if(!(s instanceof un&&s.$from.sameParent(s.$to))){let l=String.fromCharCode(r.charCode);!/[\r\n]/.test(l)&&!o.someProp("handleTextInput",u=>u(o,s.$from.pos,s.$to.pos,l))&&o.dispatch(o.state.tr.insertText(l).scrollIntoView()),r.preventDefault()}};const $=wr?"metaKey":"ctrlKey";Li.mousedown=(o,e)=>{let r=e;o.input.shiftKey=r.shiftKey;let s=O(o),l=Date.now(),u="singleClick";l-o.input.lastClick.time<500&&function Zl(o,e){let r=e.x-o.clientX,s=e.y-o.clientY;return r*r+s*s<100}(r,o.input.lastClick)&&!r[$]&&("singleClick"==o.input.lastClick.type?u="doubleClick":"doubleClick"==o.input.lastClick.type&&(u="tripleClick")),o.input.lastClick={time:l,x:r.clientX,y:r.clientY,type:u};let f=o.posAtCoords(Ra(r));!f||("singleClick"==u?(o.input.mouseDown&&o.input.mouseDown.done(),o.input.mouseDown=new Q(o,f,r,!!s)):("doubleClick"==u?_:y)(o,f.pos,f.inside,r)?r.preventDefault():ps(o,"pointer"))};class Q{constructor(e,r,s,l){let u,f;if(this.view=e,this.pos=r,this.event=s,this.flushed=l,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!s[$],this.allowDefault=s.shiftKey,r.inside>-1)u=e.state.doc.nodeAt(r.inside),f=r.inside;else{let V=e.state.doc.resolve(r.pos);u=V.parent,f=V.depth?V.before():0}const p=l?null:s.target,C=p?e.docView.nearestDesc(p,!0):null;this.target=C?C.dom:null;let{selection:P}=e.state;(0==s.button&&u.type.spec.draggable&&!1!==u.type.spec.selectable||P instanceof Ft&&P.from<=f&&P.to>f)&&(this.mightDrag={node:u,pos:f,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!nr||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ps(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>zr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Ra(e))),this.updateAllowDefault(e),this.allowDefault||!r?ps(this.view,"pointer"):function w(o,e,r,s,l){return Bi(o,"handleClickOn",e,r,s)||o.someProp("handleClick",u=>u(o,e,s))||(l?function Fa(o,e){if(-1==e)return!1;let s,l,r=o.state.selection;r instanceof Ft&&(s=r.node);let u=o.state.doc.resolve(e);for(let f=u.depth+1;f>0;f--){let p=f>u.depth?u.nodeAfter:u.node(f);if(Ft.isSelectable(p)){l=s&&r.$from.depth>0&&f>=r.$from.depth&&u.before(r.$from.depth+1)==r.$from.pos?u.before(r.$from.depth):u.before(f);break}}return null!=l&&(Vi(o,Ft.create(o.state.doc,l),"pointer"),!0)}(o,r):function rl(o,e){if(-1==e)return!1;let r=o.state.doc.resolve(e),s=r.nodeAfter;return!!(s&&s.isAtom&&Ft.isSelectable(s))&&(Vi(o,new Ft(r),"pointer"),!0)}(o,r))}(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||Lt&&this.mightDrag&&!this.mightDrag.node.isAtom||Tn&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Vi(this.view,cn.near(this.view.state.doc.resolve(r.pos)),"pointer"),e.preventDefault()):ps(this.view,"pointer")}move(e){this.updateAllowDefault(e),ps(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function ne(o,e){return!!o.composing||!!(Lt&&Math.abs(e.timeStamp-o.input.compositionEndedAt)<500)&&(o.input.compositionEndedAt=-2e8,!0)}Li.touchstart=o=>{o.input.lastTouch=Date.now(),O(o),ps(o,"pointer")},Li.touchmove=o=>{o.input.lastTouch=Date.now(),ps(o,"pointer")},Li.contextmenu=o=>O(o);const He=Dn?5e3:-1;function ht(o,e){clearTimeout(o.input.composingTimeout),e>-1&&(o.input.composingTimeout=setTimeout(()=>kn(o),e))}function dn(o){for(o.composing&&(o.input.composing=!1,o.input.compositionEndedAt=function bt(){let o=document.createEvent("Event");return o.initEvent("event",!0,!0),o.timeStamp}());o.input.compositionNodes.length>0;)o.input.compositionNodes.pop().markParentsDirty()}function kn(o,e=!1){if(!(Dn&&o.domObserver.flushingSoon>=0)){if(o.domObserver.forceFlush(),dn(o),e||o.docView&&o.docView.dirty){let r=Zn(o);return r&&!r.eq(o.state.selection)?o.dispatch(o.state.tr.setSelection(r)):o.updateState(o.state),!0}return!1}}Ki.compositionstart=Ki.compositionupdate=o=>{if(!o.composing){o.domObserver.flush();let{state:e}=o,r=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(s=>!1===s.type.spec.inclusive)))o.markCursor=o.state.storedMarks||r.marks(),kn(o,!0),o.markCursor=null;else if(kn(o),nr&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let s=o.domSelectionRange();for(let l=s.focusNode,u=s.focusOffset;l&&1==l.nodeType&&0!=u;){let f=u<0?l.lastChild:l.childNodes[u-1];if(!f)break;if(3==f.nodeType){o.domSelection().collapse(f,f.nodeValue.length);break}l=f,u=-1}}o.input.composing=!0}ht(o,He)},Ki.compositionend=(o,e)=>{o.composing&&(o.input.composing=!1,o.input.compositionEndedAt=e.timeStamp,ht(o,20))};const Zi=Ur&&Zr<15||ls&&Mi<604;function Ro(o,e,r,s,l){let u=aa(o,e,r,s,o.state.selection.$from);if(o.someProp("handlePaste",C=>C(o,l,u||qe.empty)))return!0;if(!u)return!1;let f=function _o(o){return 0==o.openStart&&0==o.openEnd&&1==o.content.childCount?o.content.firstChild:null}(u),p=f?o.state.tr.replaceSelectionWith(f,o.input.shiftKey):o.state.tr.replaceSelection(u);return o.dispatch(p.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Li.copy=Ki.cut=(o,e)=>{let r=e,s=o.state.selection,l="cut"==r.type;if(s.empty)return;let u=Zi?null:r.clipboardData,f=s.content(),{dom:p,text:C}=oa(o,f);u?(r.preventDefault(),u.clearData(),u.setData("text/html",p.innerHTML),u.setData("text/plain",C)):function qi(o,e){if(!o.dom.parentNode)return;let r=o.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),l=document.createRange();l.selectNodeContents(e),o.dom.blur(),s.removeAllRanges(),s.addRange(l),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),o.focus()},50)}(o,p),l&&o.dispatch(o.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Ki.paste=(o,e)=>{let r=e;if(o.composing&&!Dn)return;let s=Zi?null:r.clipboardData;s&&Ro(o,s.getData("text/plain"),s.getData("text/html"),o.input.shiftKey,r)?r.preventDefault():function Hs(o,e){if(!o.dom.parentNode)return;let r=o.input.shiftKey||o.state.selection.$from.parent.type.spec.code,s=o.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus(),setTimeout(()=>{o.focus(),s.parentNode&&s.parentNode.removeChild(s),r?Ro(o,s.value,null,o.input.shiftKey,e):Ro(o,s.textContent,s.innerHTML,o.input.shiftKey,e)},50)}(o,r)};class xo{constructor(e,r){this.slice=e,this.move=r}}const Go=wr?"altKey":"ctrlKey";Li.dragstart=(o,e)=>{let r=e,s=o.input.mouseDown;if(s&&s.done(),!r.dataTransfer)return;let l=o.state.selection,u=l.empty?null:o.posAtCoords(Ra(r));if(!(u&&u.pos>=l.from&&u.pos<=(l instanceof Ft?l.to-1:l.to)))if(s&&s.mightDrag)o.dispatch(o.state.tr.setSelection(Ft.create(o.state.doc,s.mightDrag.pos)));else if(r.target&&1==r.target.nodeType){let P=o.docView.nearestDesc(r.target,!0);P&&P.node.type.spec.draggable&&P!=o.docView&&o.dispatch(o.state.tr.setSelection(Ft.create(o.state.doc,P.posBefore)))}let f=o.state.selection.content(),{dom:p,text:C}=oa(o,f);r.dataTransfer.clearData(),r.dataTransfer.setData(Zi?"Text":"text/html",p.innerHTML),r.dataTransfer.effectAllowed="copyMove",Zi||r.dataTransfer.setData("text/plain",C),o.dragging=new xo(f,!r[Go])},Li.dragend=o=>{let e=o.dragging;window.setTimeout(()=>{o.dragging==e&&(o.dragging=null)},50)},Ki.dragover=Ki.dragenter=(o,e)=>e.preventDefault(),Ki.drop=(o,e)=>{let r=e,s=o.dragging;if(o.dragging=null,!r.dataTransfer)return;let l=o.posAtCoords(Ra(r));if(!l)return;let u=o.state.doc.resolve(l.pos),f=s&&s.slice;f?o.someProp("transformPasted",Ne=>{f=Ne(f,o)}):f=aa(o,r.dataTransfer.getData(Zi?"Text":"text/plain"),Zi?null:r.dataTransfer.getData("text/html"),!1,u);let p=!(!s||r[Go]);if(o.someProp("handleDrop",Ne=>Ne(o,r,f||qe.empty,p)))return void r.preventDefault();if(!f)return;r.preventDefault();let C=f?function mr(o,e,r){let s=o.resolve(e);if(!r.content.size)return e;let l=r.content;for(let u=0;u<r.openStart;u++)l=l.firstChild.content;for(let u=1;u<=(0==r.openStart&&r.size?2:1);u++)for(let f=s.depth;f>=0;f--){let p=f==s.depth?0:s.pos<=(s.start(f+1)+s.end(f+1))/2?-1:1,C=s.index(f)+(p>0?1:0),P=s.node(f),V=!1;if(1==u)V=P.canReplace(C,C,l);else{let X=P.contentMatchAt(C).findWrapping(l.firstChild.type);V=X&&P.canReplaceWith(C,C,X[0])}if(V)return 0==p?s.pos:p<0?s.before(f+1):s.after(f+1)}return null}(o.state.doc,u.pos,f):u.pos;null==C&&(C=u.pos);let P=o.state.tr;p&&P.deleteSelection();let V=P.mapping.map(C),X=0==f.openStart&&0==f.openEnd&&1==f.content.childCount,se=P.doc;if(X?P.replaceRangeWith(V,V,f.content.firstChild):P.replaceRange(V,V,f),P.doc.eq(se))return;let ce=P.doc.resolve(V);if(X&&Ft.isSelectable(f.content.firstChild)&&ce.nodeAfter&&ce.nodeAfter.sameMarkup(f.content.firstChild))P.setSelection(new Ft(ce));else{let Ne=P.mapping.map(C);P.mapping.maps[P.mapping.maps.length-1].forEach((rt,Nt,wn,ys)=>Ne=ys),P.setSelection(Vs(o,ce,P.doc.resolve(Ne)))}o.focus(),o.dispatch(P.setMeta("uiEvent","drop"))},Li.focus=o=>{o.input.lastFocus=Date.now(),o.focused||(o.domObserver.stop(),o.dom.classList.add("ProseMirror-focused"),o.domObserver.start(),o.focused=!0,setTimeout(()=>{o.docView&&o.hasFocus()&&!o.domObserver.currentSelection.eq(o.domSelectionRange())&&zr(o)},20))},Li.blur=(o,e)=>{let r=e;o.focused&&(o.domObserver.stop(),o.dom.classList.remove("ProseMirror-focused"),o.domObserver.start(),r.relatedTarget&&o.dom.contains(r.relatedTarget)&&o.domObserver.currentSelection.clear(),o.focused=!1)},Li.beforeinput=(o,e)=>{if(Tn&&Dn&&"deleteContentBackward"==e.inputType){o.domObserver.flushSoon();let{domChangeCount:s}=o.input;setTimeout(()=>{if(o.input.domChangeCount!=s||(o.dom.blur(),o.focus(),o.someProp("handleKeyDown",u=>u(o,Bn(8,"Backspace")))))return;let{$cursor:l}=o.state.selection;l&&l.pos>0&&o.dispatch(o.state.tr.delete(l.pos-1,l.pos).scrollIntoView())},50)}};for(let o in Ki)Li[o]=Ki[o];function il(o,e){if(o==e)return!0;for(let r in o)if(o[r]!==e[r])return!1;for(let r in e)if(!(r in o))return!1;return!0}class Wo{constructor(e,r){this.toDOM=e,this.spec=r||Yo,this.side=this.spec.side||0}map(e,r,s,l){let{pos:u,deleted:f}=e.mapResult(r.from+l,this.side<0?-1:1);return f?null:new Zs(u-s,u-s,this)}valid(){return!0}eq(e){return this==e||e instanceof Wo&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&il(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class po{constructor(e,r){this.attrs=e,this.spec=r||Yo}map(e,r,s,l){let u=e.map(r.from+l,this.spec.inclusiveStart?-1:1)-s,f=e.map(r.to+l,this.spec.inclusiveEnd?1:-1)-s;return u>=f?null:new Zs(u,f,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof po&&il(this.attrs,e.attrs)&&il(this.spec,e.spec)}static is(e){return e.type instanceof po}destroy(){}}class ca{constructor(e,r){this.attrs=e,this.spec=r||Yo}map(e,r,s,l){let u=e.mapResult(r.from+l,1);if(u.deleted)return null;let f=e.mapResult(r.to+l,-1);return f.deleted||f.pos<=u.pos?null:new Zs(u.pos-s,f.pos-s,this)}valid(e,r){let u,{index:s,offset:l}=e.content.findIndex(r.from);return l==r.from&&!(u=e.child(s)).isText&&l+u.nodeSize==r.to}eq(e){return this==e||e instanceof ca&&il(this.attrs,e.attrs)&&il(this.spec,e.spec)}destroy(){}}class Zs{constructor(e,r,s){this.from=e,this.to=r,this.type=s}copy(e,r){return new Zs(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,s){return this.type.map(e,this,r,s)}static widget(e,r,s){return new Zs(e,e,new Wo(r,s))}static inline(e,r,s,l){return new Zs(e,r,new po(s,l))}static node(e,r,s,l){return new Zs(e,r,new ca(s,l))}get spec(){return this.type.spec}get inline(){return this.type instanceof po}}const ua=[],Yo={};class si{constructor(e,r){this.local=e.length?e:ua,this.children=r.length?r:ua}static create(e,r){return r.length?Fo(r,e,0,Yo):pi}find(e,r,s){let l=[];return this.findInner(e??0,r??1e9,l,0,s),l}findInner(e,r,s,l,u){for(let f=0;f<this.local.length;f++){let p=this.local[f];p.from<=r&&p.to>=e&&(!u||u(p.spec))&&s.push(p.copy(p.from+l,p.to+l))}for(let f=0;f<this.children.length;f+=3)if(this.children[f]<r&&this.children[f+1]>e){let p=this.children[f]+1;this.children[f+2].findInner(e-p,r-p,s,l+p,u)}}map(e,r,s){return this==pi||0==e.maps.length?this:this.mapInner(e,r,0,0,s||Yo)}mapInner(e,r,s,l,u){let f;for(let p=0;p<this.local.length;p++){let C=this.local[p].map(e,s,l);C&&C.type.valid(r,C)?(f||(f=[])).push(C):u.onRemove&&u.onRemove(this.local[p].spec)}return this.children.length?function Mh(o,e,r,s,l,u,f){let p=o.slice();for(let P=0,V=u;P<r.maps.length;P++){let X=0;r.maps[P].forEach((se,ce,Ne,rt)=>{let Nt=rt-Ne-(ce-se);for(let wn=0;wn<p.length;wn+=3){let ys=p[wn+1];if(ys<0||se>ys+V-X)continue;let js=p[wn]+V-X;ce>=js?p[wn+1]=se<=js?-2:-1:Ne>=l&&Nt&&(p[wn]+=Nt,p[wn+1]+=Nt)}X+=Nt}),V=r.maps[P].map(V,-1)}let C=!1;for(let P=0;P<p.length;P+=3)if(p[P+1]<0){if(-2==p[P+1]){C=!0,p[P+1]=-1;continue}let V=r.map(o[P]+u),X=V-l;if(X<0||X>=s.content.size){C=!0;continue}let ce=r.map(o[P+1]+u,-1)-l,{index:Ne,offset:rt}=s.content.findIndex(X),Nt=s.maybeChild(Ne);if(Nt&&rt==X&&rt+Nt.nodeSize==ce){let wn=p[P+2].mapInner(r,Nt,V+1,o[P]+u+1,f);wn!=pi?(p[P]=X,p[P+1]=ce,p[P+2]=wn):(p[P+1]=-2,C=!0)}else C=!0}if(C){let P=function pu(o,e,r,s,l,u,f){function p(C,P){for(let V=0;V<C.local.length;V++){let X=C.local[V].map(s,l,P);X?r.push(X):f.onRemove&&f.onRemove(C.local[V].spec)}for(let V=0;V<C.children.length;V+=3)p(C.children[V+2],C.children[V]+P+1)}for(let C=0;C<o.length;C+=3)-1==o[C+1]&&p(o[C+2],e[C]+u+1);return r}(p,o,e,r,l,u,f),V=Fo(P,s,0,f);e=V.local;for(let X=0;X<p.length;X+=3)p[X+1]<0&&(p.splice(X,3),X-=3);for(let X=0,se=0;X<V.children.length;X+=3){let ce=V.children[X];for(;se<p.length&&p[se]<ce;)se+=3;p.splice(se,0,V.children[X],V.children[X+1],V.children[X+2])}}return new si(e.sort(Ko),p)}(this.children,f||[],e,r,s,l,u):f?new si(f.sort(Ko),ua):pi}add(e,r){return r.length?this==pi?si.create(e,r):this.addInner(e,r,0):this}addInner(e,r,s){let l,u=0;e.forEach((p,C)=>{let V,P=C+s;if(V=Jl(r,p,P)){for(l||(l=this.children.slice());u<l.length&&l[u]<C;)u+=3;l[u]==C?l[u+2]=l[u+2].addInner(p,V,P+1):l.splice(u,0,C,C+p.nodeSize,Fo(V,p,P+1,Yo)),u+=3}});let f=oi(u?sl(r):r,-s);for(let p=0;p<f.length;p++)f[p].type.valid(e,f[p])||f.splice(p--,1);return new si(f.length?this.local.concat(f).sort(Ko):this.local,l||this.children)}remove(e){return 0==e.length||this==pi?this:this.removeInner(e,0)}removeInner(e,r){let s=this.children,l=this.local;for(let u=0;u<s.length;u+=3){let f,p=s[u]+r,C=s[u+1]+r;for(let X,V=0;V<e.length;V++)(X=e[V])&&X.from>p&&X.to<C&&(e[V]=null,(f||(f=[])).push(X));if(!f)continue;s==this.children&&(s=this.children.slice());let P=s[u+2].removeInner(f,p+1);P!=pi?s[u+2]=P:(s.splice(u,3),u-=3)}if(l.length)for(let f,u=0;u<e.length;u++)if(f=e[u])for(let p=0;p<l.length;p++)l[p].eq(f,r)&&(l==this.local&&(l=this.local.slice()),l.splice(p--,1));return s==this.children&&l==this.local?this:l.length||s.length?new si(l,s):pi}forChild(e,r){if(this==pi)return this;if(r.isLeaf)return si.empty;let s,l;for(let p=0;p<this.children.length;p+=3)if(this.children[p]>=e){this.children[p]==e&&(s=this.children[p+2]);break}let u=e+1,f=u+r.content.size;for(let p=0;p<this.local.length;p++){let C=this.local[p];if(C.from<f&&C.to>u&&C.type instanceof po){let P=Math.max(u,C.from)-u,V=Math.min(f,C.to)-u;P<V&&(l||(l=[])).push(C.copy(P,V))}}if(l){let p=new si(l.sort(Ko),ua);return s?new Us([p,s]):p}return s||pi}eq(e){if(this==e)return!0;if(!(e instanceof si)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return Ql(this.localsInner(e))}localsInner(e){if(this==pi)return ua;if(e.inlineContent||!this.local.some(po.is))return this.local;let r=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof po||r.push(this.local[s]);return r}}si.empty=new si([],[]),si.removeOverlap=Ql;const pi=si.empty;class Us{constructor(e){this.members=e}map(e,r){const s=this.members.map(l=>l.map(e,r,Yo));return Us.from(s)}forChild(e,r){if(r.isLeaf)return si.empty;let s=[];for(let l=0;l<this.members.length;l++){let u=this.members[l].forChild(e,r);u!=pi&&(u instanceof Us?s=s.concat(u.members):s.push(u))}return Us.from(s)}eq(e){if(!(e instanceof Us)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,s=!0;for(let l=0;l<this.members.length;l++){let u=this.members[l].localsInner(e);if(u.length)if(r){s&&(r=r.slice(),s=!1);for(let f=0;f<u.length;f++)r.push(u[f])}else r=u}return r?Ql(s?r:r.sort(Ko)):ua}static from(e){switch(e.length){case 0:return pi;case 1:return e[0];default:return new Us(e.every(r=>r instanceof si)?e:e.reduce((r,s)=>r.concat(s instanceof si?s:s.members),[]))}}}function oi(o,e){if(!e||!o.length)return o;let r=[];for(let s=0;s<o.length;s++){let l=o[s];r.push(new Zs(l.from+e,l.to+e,l.type))}return r}function Jl(o,e,r){if(e.isLeaf)return null;let s=r+e.nodeSize,l=null;for(let f,u=0;u<o.length;u++)(f=o[u])&&f.from>r&&f.to<s&&((l||(l=[])).push(f),o[u]=null);return l}function sl(o){let e=[];for(let r=0;r<o.length;r++)null!=o[r]&&e.push(o[r]);return e}function Fo(o,e,r,s){let l=[],u=!1;e.forEach((p,C)=>{let P=Jl(o,p,C+r);if(P){u=!0;let V=Fo(P,p,r+C+1,s);V!=pi&&l.push(C,C+p.nodeSize,V)}});let f=oi(u?sl(o):o,-r).sort(Ko);for(let p=0;p<f.length;p++)f[p].type.valid(e,f[p])||(s.onRemove&&s.onRemove(f[p].spec),f.splice(p--,1));return f.length||l.length?new si(f,l):pi}function Ko(o,e){return o.from-e.from||o.to-e.to}function Ql(o){let e=o;for(let r=0;r<e.length-1;r++){let s=e[r];if(s.from!=s.to)for(let l=r+1;l<e.length;l++){let u=e[l];if(u.from!=s.from){u.from<s.to&&(e==o&&(e=o.slice()),e[r]=s.copy(s.from,u.from),gu(e,l,s.copy(u.from,s.to)));break}u.to!=s.to&&(e==o&&(e=o.slice()),e[l]=u.copy(u.from,s.to),gu(e,l+1,u.copy(s.to,u.to)))}}return e}function gu(o,e,r){for(;e<o.length&&Ko(r,o[e])>0;)e++;o.splice(e,0,r)}function La(o){let e=[];return o.someProp("decorations",r=>{let s=r(o.state);s&&s!=pi&&e.push(s)}),o.cursorWrapper&&e.push(si.create(o.state.doc,[o.cursorWrapper.deco])),Us.from(e)}const Ba={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},mu=Ur&&Zr<=11;class Va{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Sh{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Va,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let l=0;l<s.length;l++)this.queue.push(s[l]);Ur&&Zr<=11&&s.some(l=>"childList"==l.type&&l.removedNodes.length||"characterData"==l.type&&l.oldValue.length>l.target.nodeValue.length)?this.flushSoon():this.flush()}),mu&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Ba)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(uo(this.view)){if(this.suppressingSelectionUpdates)return zr(this.view);if(Ur&&Zr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&mn(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let s,r=new Set;for(let u=e.focusNode;u;u=ni(u))r.add(u);for(let u=e.anchorNode;u;u=ni(u))if(r.has(u)){s=u;break}let l=s&&this.view.docView.nearestDesc(s);return l&&l.ignoreMutation({type:"selection",target:3==s.nodeType?s.parentNode:s})?(this.setCurSelection(),!0):void 0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.observer?this.observer.takeRecords():[];this.queue.length&&(r=this.queue.concat(r),this.queue.length=0);let s=e.domSelectionRange(),l=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&uo(e)&&!this.ignoreSelectionChange(s),u=-1,f=-1,p=!1,C=[];if(e.editable)for(let V=0;V<r.length;V++){let X=this.registerMutation(r[V],C);X&&(u=u<0?X.from:Math.min(X.from,u),f=f<0?X.to:Math.max(X.to,f),X.typeOver&&(p=!0))}if(nr&&C.length>1){let V=C.filter(X=>"BR"==X.nodeName);if(2==V.length){let X=V[0],se=V[1];X.parentNode&&X.parentNode.parentNode==se.parentNode?se.remove():X.remove()}}let P=null;u<0&&l&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ii(s)&&(P=Zn(e))&&P.eq(cn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,zr(e),this.currentSelection.set(s),e.scrollToSelection()):(u>-1||l)&&(u>-1&&(e.docView.markDirty(u,f),function ol(o){if(!Xl.has(o)&&(Xl.set(o,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(o.dom).whiteSpace))){if(o.requiresGeckoHackNode=nr,da)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),da=!0}}(e)),this.handleDOMChange(u,f,p,C),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(s)||zr(e),this.currentSelection.set(s))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let s=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(s==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style"))||!s||s.ignoreMutation(e))return null;if("childList"==e.type){for(let V=0;V<e.addedNodes.length;V++)r.push(e.addedNodes[V]);if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(e.target))return{from:s.posBefore,to:s.posAfter};let l=e.previousSibling,u=e.nextSibling;if(Ur&&Zr<=11&&e.addedNodes.length)for(let V=0;V<e.addedNodes.length;V++){let{previousSibling:X,nextSibling:se}=e.addedNodes[V];(!X||Array.prototype.indexOf.call(e.addedNodes,X)<0)&&(l=X),(!se||Array.prototype.indexOf.call(e.addedNodes,se)<0)&&(u=se)}let f=l&&l.parentNode==e.target?ln(l)+1:0,p=s.localPosFromDOM(e.target,f,-1),C=u&&u.parentNode==e.target?ln(u):e.target.childNodes.length;return{from:p,to:s.localPosFromDOM(e.target,C,1)}}return"attributes"==e.type?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:{from:s.posAtStart,to:s.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Xl=new WeakMap,da=!1;function Ah(o){let e=o.pmViewDesc;if(e)return e.parseRule();if("BR"==o.nodeName&&o.parentNode){if(Lt&&/^(ul|ol)$/i.test(o.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}if(o.parentNode.lastChild==o||Lt&&/^(tr|table)$/i.test(o.parentNode.nodeName))return{ignore:!0}}else if("IMG"==o.nodeName&&o.getAttribute("mark-placeholder"))return{ignore:!0};return null}function fa(o,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:Vs(o,e.resolve(r.anchor),e.resolve(r.head))}function al(o,e,r){let s=o.depth,l=e?o.end():o.pos;for(;s>0&&(e||o.indexAfter(s)==o.node(s).childCount);)s--,l++,e=!1;if(r){let u=o.node(s).maybeChild(o.indexAfter(s));for(;u&&!u.isLeaf;)u=u.firstChild,l++}return l}class Nh{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ka,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(Ph),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=vu(this),ec(this),this.nodeViews=kh(this),this.docView=fi(this.state.doc,Ha(this),La(this),this.dom,this),this.domObserver=new Sh(this,(s,l,u,f)=>function ha(o,e,r,s,l){if(e<0){let In=o.input.lastSelectionTime>Date.now()-50?o.input.lastSelectionOrigin:null,Ol=Zn(o,In);if(Ol&&!o.state.selection.eq(Ol)){if(Tn&&Dn&&13===o.input.lastKeyCode&&Date.now()-100<o.input.lastKeyCodeTime&&o.someProp("handleKeyDown",dm=>dm(o,Bn(13,"Enter"))))return;let Yd=o.state.tr.setSelection(Ol);"pointer"==In?Yd.setMeta("pointer",!0):"key"==In&&Yd.scrollIntoView(),o.dispatch(Yd)}return}let u=o.state.doc.resolve(e),f=u.sharedDepth(r);e=u.before(f+1),r=o.state.doc.resolve(r).after(f+1);let X,se,p=o.state.selection,C=function Th(o,e,r){let P,{node:s,fromOffset:l,toOffset:u,from:f,to:p}=o.docView.parseRange(e,r),C=o.domSelectionRange(),V=C.anchorNode;if(V&&o.dom.contains(1==V.nodeType?V:V.parentNode)&&(P=[{node:V,offset:C.anchorOffset}],ii(C)||P.push({node:C.focusNode,offset:C.focusOffset})),Tn&&8===o.input.lastKeyCode)for(let Nt=u;Nt>l;Nt--){let wn=s.childNodes[Nt-1],ys=wn.pmViewDesc;if("BR"==wn.nodeName&&!ys){u=Nt;break}if(!ys||ys.size)break}let X=o.state.doc,se=o.someProp("domParser")||Oe.fromSchema(o.state.schema),ce=X.resolve(f),Ne=null,rt=se.parse(s,{topNode:ce.parent,topMatch:ce.parent.contentMatchAt(ce.index()),topOpen:!0,from:l,to:u,preserveWhitespace:"pre"!=ce.parent.type.whitespace||"full",findPositions:P,ruleFromNode:Ah,context:ce});if(P&&null!=P[0].pos){let Nt=P[0].pos,wn=P[1]&&P[1].pos;null==wn&&(wn=Nt),Ne={anchor:Nt+f,head:wn+f}}return{doc:rt,sel:Ne,from:f,to:p}}(o,e,r),P=o.state.doc,V=P.slice(C.from,C.to);8===o.input.lastKeyCode&&Date.now()-100<o.input.lastKeyCodeTime?(X=o.state.selection.to,se="end"):(X=o.state.selection.from,se="start"),o.input.lastKeyCode=null;let ce=function Oh(o,e,r,s,l){let u=o.findDiffStart(e,r);if(null==u)return null;let{a:f,b:p}=o.findDiffEnd(e,r+o.size,r+e.size);return"end"==l&&(s-=f+Math.max(0,u-Math.min(f,p))-u),f<u&&o.size<e.size?(u-=s<=u&&s>=f?u-s:0,p=u+(p-f),f=u):p<u&&(u-=s<=u&&s>=p?u-s:0,f=u+(f-p),p=u),{start:u,endA:f,endB:p}}(V.content,C.doc.content,C.from,X,se);if((ls&&o.input.lastIOSEnter>Date.now()-225||Dn)&&l.some(In=>"DIV"==In.nodeName||"P"==In.nodeName||"LI"==In.nodeName)&&(!ce||ce.endA>=ce.endB)&&o.someProp("handleKeyDown",In=>In(o,Bn(13,"Enter"))))return void(o.input.lastIOSEnter=0);if(!ce){if(!(s&&p instanceof un&&!p.empty&&p.$head.sameParent(p.$anchor))||o.composing||C.sel&&C.sel.anchor!=C.sel.head){if(C.sel){let In=fa(o,o.state.doc,C.sel);In&&!In.eq(o.state.selection)&&o.dispatch(o.state.tr.setSelection(In))}return}ce={start:p.from,endA:p.to,endB:p.to}}if(Tn&&o.cursorWrapper&&C.sel&&C.sel.anchor==o.cursorWrapper.deco.from&&C.sel.head==C.sel.anchor){let In=ce.endB-ce.start;C.sel={anchor:C.sel.anchor+In,head:C.sel.anchor+In}}o.input.domChangeCount++,o.state.selection.from<o.state.selection.to&&ce.start==ce.endB&&o.state.selection instanceof un&&(ce.start>o.state.selection.from&&ce.start<=o.state.selection.from+2&&o.state.selection.from>=C.from?ce.start=o.state.selection.from:ce.endA<o.state.selection.to&&ce.endA>=o.state.selection.to-2&&o.state.selection.to<=C.to&&(ce.endB+=o.state.selection.to-ce.endA,ce.endA=o.state.selection.to)),Ur&&Zr<=11&&ce.endB==ce.start+1&&ce.endA==ce.start&&ce.start>C.from&&" \xa0"==C.doc.textBetween(ce.start-C.from-1,ce.start-C.from+1)&&(ce.start--,ce.endA--,ce.endB--);let ys,Ne=C.doc.resolveNoCache(ce.start-C.from),rt=C.doc.resolveNoCache(ce.endB-C.from),Nt=P.resolve(ce.start),wn=Ne.sameParent(rt)&&Ne.parent.inlineContent&&Nt.end()>=ce.endA;if((ls&&o.input.lastIOSEnter>Date.now()-225&&(!wn||l.some(In=>"DIV"==In.nodeName||"P"==In.nodeName))||!wn&&Ne.pos<C.doc.content.size&&(ys=cn.findFrom(C.doc.resolve(Ne.pos+1),1,!0))&&ys.head==rt.pos)&&o.someProp("handleKeyDown",In=>In(o,Bn(13,"Enter"))))return void(o.input.lastIOSEnter=0);if(o.state.selection.anchor>ce.start&&function Rg(o,e,r,s,l){if(!s.parent.isTextblock||r-e<=l.pos-s.pos||al(s,!0,!1)<l.pos)return!1;let u=o.resolve(e);if(u.parentOffset<u.parent.content.size||!u.parent.isTextblock)return!1;let f=o.resolve(al(u,!0,!0));return!(!f.parent.isTextblock||f.pos>r||al(f,!0,!1)<r)&&s.parent.content.cut(s.parentOffset).eq(f.parent.content)}(P,ce.start,ce.endA,Ne,rt)&&o.someProp("handleKeyDown",In=>In(o,Bn(8,"Backspace"))))return void(Dn&&Tn&&o.domObserver.suppressSelectionUpdates());Tn&&Dn&&ce.endB==ce.start&&(o.input.lastAndroidDelete=Date.now()),Dn&&!wn&&Ne.start()!=rt.start()&&0==rt.parentOffset&&Ne.depth==rt.depth&&C.sel&&C.sel.anchor==C.sel.head&&C.sel.head==ce.endA&&(ce.endB-=2,rt=C.doc.resolveNoCache(ce.endB-C.from),setTimeout(()=>{o.someProp("handleKeyDown",function(In){return In(o,Bn(13,"Enter"))})},20));let oo,Wd,Zc,js=ce.start,Sa=ce.endA;if(wn)if(Ne.pos==rt.pos)Ur&&Zr<=11&&0==Ne.parentOffset&&(o.domObserver.suppressSelectionUpdates(),setTimeout(()=>zr(o),20)),oo=o.state.tr.delete(js,Sa),Wd=P.resolve(ce.start).marksAcross(P.resolve(ce.endA));else if(ce.endA==ce.endB&&(Zc=function Ih(o,e){let f,p,C,r=o.firstChild.marks,s=e.firstChild.marks,l=r,u=s;for(let V=0;V<s.length;V++)l=s[V].removeFromSet(l);for(let V=0;V<r.length;V++)u=r[V].removeFromSet(u);if(1==l.length&&0==u.length)p=l[0],f="add",C=V=>V.mark(p.addToSet(V.marks));else{if(0!=l.length||1!=u.length)return null;p=u[0],f="remove",C=V=>V.mark(p.removeFromSet(V.marks))}let P=[];for(let V=0;V<e.childCount;V++)P.push(C(e.child(V)));if(fe.from(P).eq(o))return{mark:p,type:f}}(Ne.parent.content.cut(Ne.parentOffset,rt.parentOffset),Nt.parent.content.cut(Nt.parentOffset,ce.endA-Nt.start()))))oo=o.state.tr,"add"==Zc.type?oo.addMark(js,Sa,Zc.mark):oo.removeMark(js,Sa,Zc.mark);else if(Ne.parent.child(Ne.index()).isText&&Ne.index()==rt.index()-(rt.textOffset?0:1)){let In=Ne.parent.textBetween(Ne.parentOffset,rt.parentOffset);if(o.someProp("handleTextInput",Ol=>Ol(o,js,Sa,In)))return;oo=o.state.tr.insertText(In,js,Sa)}if(oo||(oo=o.state.tr.replace(js,Sa,C.doc.slice(ce.start-C.from,ce.endB-C.from))),C.sel){let In=fa(o,oo.doc,C.sel);In&&!(Tn&&Dn&&o.composing&&In.empty&&(ce.start!=ce.endB||o.input.lastAndroidDelete<Date.now()-100)&&(In.head==js||In.head==oo.mapping.map(Sa)-1)||Ur&&In.empty&&In.head==js)&&oo.setSelection(In)}Wd&&oo.ensureMarks(Wd),o.dispatch(oo.scrollIntoView())}(this,s,l,u,f)),this.domObserver.start(),function Eh(o){for(let e in Li){let r=Li[e];o.dom.addEventListener(e,o.input.eventHandlers[e]=s=>{Pa(o,s)&&!jr(o,s)&&(o.editable||!(s.type in Ki))&&r(o,s)},Dh[e]?{passive:!0}:void 0)}Lt&&o.dom.addEventListener("input",()=>null),nl(o)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&nl(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Ph),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let s in this._props)r[s]=this._props[s];r.state=this.state;for(let s in e)r[s]=e[s];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){let s=this.state,l=!1,u=!1;e.storedMarks&&this.composing&&(dn(this),u=!0),this.state=e;let f=s.plugins!=e.plugins||this._props.plugins!=r.plugins;if(f||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let se=kh(this);(function _u(o,e){let r=0,s=0;for(let l in o){if(o[l]!=e[l])return!0;r++}for(let l in e)s++;return r!=s})(se,this.nodeViews)&&(this.nodeViews=se,l=!0)}(f||r.handleDOMEvents!=this._props.handleDOMEvents)&&nl(this),this.editable=vu(this),ec(this);let p=La(this),C=Ha(this),P=s.plugins==e.plugins||s.doc.eq(e.doc)?e.scrollToSelection>s.scrollToSelection?"to selection":"preserve":"reset",V=l||!this.docView.matchesNode(e.doc,C,p);(V||!e.selection.eq(s.selection))&&(u=!0);let X="preserve"==P&&u&&null==this.dom.style.overflowAnchor&&function Y(o){let s,l,e=o.dom.getBoundingClientRect(),r=Math.max(0,e.top);for(let u=(e.left+e.right)/2,f=r+1;f<Math.min(innerHeight,e.bottom);f+=5){let p=o.root.elementFromPoint(u,f);if(!p||p==o.dom||!o.dom.contains(p))continue;let C=p.getBoundingClientRect();if(C.top>=r-20){s=p,l=C.top;break}}return{refDOM:s,refTop:l,stack:Ie(o.dom)}}(this);if(u){this.domObserver.stop();let se=V&&(Ur||Tn)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&function wu(o,e){let r=Math.min(o.$anchor.sharedDepth(o.head),e.$anchor.sharedDepth(e.head));return o.$anchor.start(r)!=e.$anchor.start(r)}(s.selection,e.selection);if(V){let ce=Tn?this.trackWrites=this.domSelectionRange().focusNode:null;(l||!this.docView.update(e.doc,C,p,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=fi(e.doc,C,p,this.dom,this)),ce&&!this.trackWrites&&(se=!0)}se||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function Bt(o){let e=o.docView.domFromPos(o.state.selection.anchor,0),r=o.domSelectionRange();return mn(e.node,e.offset,r.anchorNode,r.anchorOffset)}(this))?zr(this,se):(Qr(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),"reset"==P?this.dom.scrollTop=0:"to selection"==P?this.scrollToSelection():X&&function wt({refDOM:o,refTop:e,stack:r}){let s=o?o.getBoundingClientRect().top:0;on(r,0==s?0:s-e)}(X)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Ft){let r=this.docView.domAfterPos(this.state.selection.from);1==r.nodeType&&S(this,r.getBoundingClientRect(),e)}else S(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let r=0;r<this.pluginViews.length;r++){let s=this.pluginViews[r];s.update&&s.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let s=this.directPlugins[r];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let s=this.state.plugins[r];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}}someProp(e,r){let l,s=this._props&&this._props[e];if(null!=s&&(l=r?r(s):s))return l;for(let f=0;f<this.directPlugins.length;f++){let p=this.directPlugins[f].props[e];if(null!=p&&(l=r?r(p):p))return l}let u=this.state.plugins;if(u)for(let f=0;f<u.length;f++){let p=u[f].props[e];if(null!=p&&(l=r?r(p):p))return l}}hasFocus(){if(Ur){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function Si(o){if(o.setActive)return o.setActive();if(Fn)return o.focus(Fn);let e=Ie(o);o.focus(null==Fn?{get preventScroll(){return Fn={preventScroll:!0},!0}}:void 0),Fn||(Fn=!1,on(e,0))}(this.dom),zr(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let r=this.dom.parentNode;r;r=r.parentNode)if(9==r.nodeType||11==r.nodeType&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r;return e||document}posAtCoords(e){return Ys(this,e)}coordsAtPos(e,r=1){return Bs(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,s=-1){let l=this.docView.posFromDOM(e,r,s);if(null==l)throw new RangeError("DOM position not inside the editor");return l}endOfTextblock(e,r){return function Kt(o,e,r){return Fe==e&&Ge==r?vt:(Fe=e,Ge=r,vt="up"==r||"down"==r?function A(o,e,r){let s=e.selection,l="up"==r?s.$from:s.$to;return B(o,e,()=>{let{node:u}=o.docView.domFromPos(l.pos,"up"==r?-1:1);for(;;){let p=o.docView.nearestDesc(u,!0);if(!p)break;if(p.node.isBlock){u=p.contentDOM||p.dom;break}u=p.dom.parentNode}let f=Bs(o,l.pos,1);for(let p=u.firstChild;p;p=p.nextSibling){let C;if(1==p.nodeType)C=p.getClientRects();else{if(3!=p.nodeType)continue;C=ri(p,0,p.nodeValue.length).getClientRects()}for(let P=0;P<C.length;P++){let V=C[P];if(V.bottom>V.top+1&&("up"==r?f.top-V.top>2*(V.bottom-f.top):V.bottom-f.bottom>2*(f.bottom-V.top)))return!1}}return!0})}(o,e,r):function ie(o,e,r){let{$head:s}=e.selection;if(!s.parent.isTextblock)return!1;let l=s.parentOffset,u=!l,f=l==s.parent.content.size,p=o.domSelection();return W.test(s.parent.textContent)&&p.modify?B(o,e,()=>{let{focusNode:C,focusOffset:P,anchorNode:V,anchorOffset:X}=o.domSelectionRange(),se=p.caretBidiLevel;p.modify("move",r,"character");let ce=s.depth?o.docView.domAfterPos(s.before()):o.dom,{focusNode:Ne,focusOffset:rt}=o.domSelectionRange(),Nt=Ne&&!ce.contains(1==Ne.nodeType?Ne:Ne.parentNode)||C==Ne&&P==rt;try{p.collapse(V,X),C&&(C!=V||P!=X)&&p.extend&&p.extend(C,P)}catch{}return null!=se&&(p.caretBidiLevel=se),Nt}):"left"==r||"backward"==r?u:f}(o,e,r))}(this,r||this.state,e)}pasteHTML(e,r){return Ro(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return Ro(this,e,null,!0,r||new ClipboardEvent("paste"))}destroy(){!this.docView||(function fu(o){o.domObserver.stop();for(let e in o.input.eventHandlers)o.dom.removeEventListener(e,o.input.eventHandlers[e]);clearTimeout(o.input.composingTimeout),clearTimeout(o.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],La(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function $o(o,e){!jr(o,e)&&Li[e.type]&&(o.editable||!(e.type in Ki))&&Li[e.type](o,e)}(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Lt&&11===this.root.nodeType&&function hi(o){let e=o.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom?function yu(o){let e;function r(C){C.preventDefault(),C.stopImmediatePropagation(),e=C.getTargetRanges()[0]}o.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),o.dom.removeEventListener("beforeinput",r,!0);let s=e.startContainer,l=e.startOffset,u=e.endContainer,f=e.endOffset,p=o.domAtPos(o.state.selection.anchor);return mn(p.node,p.offset,u,f)&&([s,l,u,f]=[u,f,s,l]),{anchorNode:s,anchorOffset:l,focusNode:u,focusOffset:f}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Ha(o){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(o.editable),e.translate="no",o.someProp("attributes",r=>{if("function"==typeof r&&(r=r(o.state)),r)for(let s in r)"class"==s&&(e.class+=" "+r[s]),"style"==s?e.style=(e.style?e.style+";":"")+r[s]:!e[s]&&"contenteditable"!=s&&"nodeName"!=s&&(e[s]=String(r[s]))}),[Zs.node(0,o.state.doc.content.size,e)]}function ec(o){if(o.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),o.cursorWrapper={dom:e,deco:Zs.widget(o.state.selection.head,e,{raw:!0,marks:o.markCursor})}}else o.cursorWrapper=null}function vu(o){return!o.someProp("editable",e=>!1===e(o.state))}function kh(o){let e=Object.create(null);function r(s){for(let l in s)Object.prototype.hasOwnProperty.call(e,l)||(e[l]=s[l])}return o.someProp("nodeViews",r),o.someProp("markViews",r),e}function Ph(o){if(o.spec.state||o.spec.filterTransaction||o.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var gi=z(6895);const Rh=["ol",0],xu=["ul",0],ll=["li",0];function bu(o){return function(e,r){let{$from:s,$to:l,node:u}=e.selection;if(u&&u.isBlock||s.depth<2||!s.sameParent(l))return!1;let f=s.node(-1);if(f.type!=o)return!1;if(0==s.parent.content.size&&s.node(-1).childCount==s.indexAfter(-1)){if(3==s.depth||s.node(-3).type!=o||s.index(-2)!=s.node(-2).childCount-1)return!1;if(r){let V=fe.empty,X=s.index(-1)?1:s.index(-2)?2:3;for(let Nt=s.depth-X;Nt>=s.depth-3;Nt--)V=fe.from(s.node(Nt).copy(V));let se=s.indexAfter(-1)<s.node(-2).childCount?1:s.indexAfter(-2)<s.node(-3).childCount?2:3;V=V.append(fe.from(o.createAndFill()));let ce=s.before(s.depth-(X-1)),Ne=e.tr.replace(ce,s.after(-se),new qe(V,4-X,0)),rt=-1;Ne.doc.nodesBetween(ce,Ne.doc.content.size,(Nt,wn)=>{if(rt>-1)return!1;Nt.isTextblock&&0==Nt.content.size&&(rt=wn+1)}),rt>-1&&Ne.setSelection(cn.near(Ne.doc.resolve(rt))),r(Ne.scrollIntoView())}return!0}let p=l.pos==s.end()?f.contentMatchAt(0).defaultType:null,C=e.tr.delete(s.pos,l.pos),P=p?[null,{type:p}]:void 0;return!!ki(C.doc,s.pos,2,P)&&(r&&r(C.split(s.pos,2,P).scrollIntoView()),!0)}}function rc(o){return function(e,r){let{$from:s,$to:l}=e.selection,u=s.blockRange(l,f=>f.childCount>0&&f.firstChild.type==o);return!!u&&(!r||(s.node(u.depth-1).type==o?function Du(o,e,r,s){let l=o.tr,u=s.end,f=s.$to.end(s.depth);u<f&&(l.step(new St(u-1,f,u,f,new qe(fe.from(r.create(null,s.parent.copy())),1,0),1,!0)),s=new Rt(l.doc.resolve(s.$from.pos),l.doc.resolve(f),s.depth));const p=Wn(s);if(null==p)return!1;l.lift(s,p);let C=l.mapping.map(u,-1)-1;return Rr(l.doc,C)&&l.join(C),e(l.scrollIntoView()),!0}(e,r,o,u):function Zo(o,e,r){let s=o.tr,l=r.parent;for(let ce=r.end,Ne=r.endIndex-1,rt=r.startIndex;Ne>rt;Ne--)ce-=l.child(Ne).nodeSize,s.delete(ce-1,ce+1);let u=s.doc.resolve(r.start),f=u.nodeAfter;if(s.mapping.map(r.end)!=r.start+u.nodeAfter.nodeSize)return!1;let p=0==r.startIndex,C=r.endIndex==l.childCount,P=u.node(-1),V=u.index(-1);if(!P.canReplace(V+(p?0:1),V+1,f.content.append(C?fe.empty:fe.from(l))))return!1;let X=u.pos,se=X+f.nodeSize;return s.step(new St(X-(p?1:0),se+(C?1:0),X+1,se-1,new qe((p?fe.empty:fe.from(l.copy(fe.empty))).append(C?fe.empty:fe.from(l.copy(fe.empty))),p?0:1,C?0:1),p?0:1)),e(s.scrollIntoView()),!0}(e,r,u)))}}function Eu(o){return function(e,r){let{$from:s,$to:l}=e.selection,u=s.blockRange(l,P=>P.childCount>0&&P.firstChild.type==o);if(!u)return!1;let f=u.startIndex;if(0==f)return!1;let p=u.parent,C=p.child(f-1);if(C.type!=o)return!1;if(r){let P=C.lastChild&&C.lastChild.type==p.type,V=fe.from(P?o.create():null),X=new qe(fe.from(o.create(null,fe.from(p.type.create(null,V)))),P?3:1,0),se=u.start,ce=u.end;r(e.tr.step(new St(se-(P?3:1),ce,se,ce,X,1,!0)).scrollIntoView())}return!0}}const Fh={link:{attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:o=>({href:o.getAttribute("href"),title:o.getAttribute("title"),target:o.getAttribute("target")})}],toDOM(o){const{href:e,title:r,target:s}=o.attrs;return["a",{href:e,title:r,target:s},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:o=>"normal"!==o.style.fontWeight&&null},{style:"font-weight",getAttrs:o=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(o)&&null}],toDOM:()=>["strong",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},u:{parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM:()=>["u",0]},s:{parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM:()=>["s",0]},text_color:{attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:o=>({color:o})}],toDOM(o){const{color:e}=o.attrs;return["span",{style:`color:${e};`},0]}},text_background_color:{attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:o=>({backgroundColor:o})}],toDOM(o){const{backgroundColor:e}=o.attrs;return["span",{style:`background-color:${e};`},0]}}},Tu={doc:{content:"block+"},text:{group:"inline"},paragraph:{content:"inline*",group:"block",attrs:{align:{default:null}},parseDOM:[{tag:"p",getAttrs(o){const{textAlign:e}=o.style;return{align:o.getAttribute("align")||e||null}}}],toDOM(o){const{align:e}=o.attrs;return["p",{style:Be({textAlign:"left"!==e?e:null})||null},0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},heading:{attrs:{level:{default:1},align:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(o){const{textAlign:e}=o.style;return{level:1,align:o.getAttribute("align")||e||null}}},{tag:"h2",getAttrs(o){const{textAlign:e}=o.style;return{level:2,align:o.getAttribute("align")||e||null}}},{tag:"h3",getAttrs(o){const{textAlign:e}=o.style;return{level:3,align:o.getAttribute("align")||e||null}}},{tag:"h4",getAttrs(o){const{textAlign:e}=o.style;return{level:4,align:o.getAttribute("align")||e||null}}},{tag:"h5",getAttrs(o){const{textAlign:e}=o.style;return{level:5,align:o.getAttribute("align")||e||null}}},{tag:"h6",getAttrs(o){const{textAlign:e}=o.style;return{level:6,align:o.getAttribute("align")||e||null}}}],toDOM(o){const{level:e,align:r}=o.attrs;return[`h${e}`,{style:Be({textAlign:"left"!==r?r:null})||null},0]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:o=>({src:o.getAttribute("src"),title:o.getAttribute("title"),alt:o.getAttribute("alt"),width:o.getAttribute("width")})}],toDOM(o){const{src:e,alt:r,title:s,width:l}=o.attrs;return["img",{src:e,alt:r,title:s,width:l}]}},list_item:{...{parseDOM:[{tag:"li"}],toDOM:()=>ll,defining:!0},content:"paragraph block*"},ordered_list:{...{attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:o=>({order:o.hasAttribute("start")?+o.getAttribute("start"):1})}],toDOM:o=>1==o.attrs.order?Rh:["ol",{start:o.attrs.order},0]},content:"list_item+",group:"block"},bullet_list:{...{parseDOM:[{tag:"ul"}],toDOM:()=>xu},content:"list_item+",group:"block"}},ja=new class re{constructor(e){this.cached=Object.create(null);let r=this.spec={};for(let l in e)r[l]=e[l];r.nodes=Se.from(e.nodes),r.marks=Se.from(e.marks||{}),this.nodes=Gr.compile(this.spec.nodes,this),this.marks=Re.compile(this.spec.marks,this);let s=Object.create(null);for(let l in this.nodes){if(l in this.marks)throw new RangeError(l+" can not be both a node and a mark");let u=this.nodes[l],f=u.spec.content||"",p=u.spec.marks;u.contentMatch=s[f]||(s[f]=Pe.parse(f,this.nodes)),u.inlineContent=u.contentMatch.inlineContent,u.markSet="_"==p?null:p?te(this,p.split(" ")):""!=p&&u.inlineContent?null:[]}for(let l in this.marks){let u=this.marks[l],f=u.spec.excludes;u.excluded=null==f?[u]:""==f?[]:te(this,f.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,s,l){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof Gr))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(r,s,l)}text(e,r){let s=this.nodes.text;return new Ye(s,s.defaultAttrs,e,it.setFrom(r))}mark(e,r){return"string"==typeof e&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return Ze.fromJSON(this,e)}markFromJSON(e){return it.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}({marks:Fh,nodes:Tu}),$h=(o,e)=>!o.selection.empty&&(e&&e(o.tr.deleteSelection().scrollIntoView()),!0);function $a(o,e,r=!1){for(let s=o;s;s="start"==e?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(r&&1!=s.childCount)return!1}return!1}function ic(o){if(!o.parent.type.spec.isolating)for(let e=o.depth-1;e>=0;e--){if(o.index(e)>0)return o.doc.resolve(o.before(e+1));if(o.node(e).type.spec.isolating)break}return null}function hl(o){if(!o.parent.type.spec.isolating)for(let e=o.depth-1;e>=0;e--){let r=o.node(e);if(o.index(e)+1<r.childCount)return o.doc.resolve(o.after(e+1));if(r.type.spec.isolating)break}return null}const ku=(o,e)=>{let{$head:r,$anchor:s}=o.selection;return!(!r.parent.type.spec.code||!r.sameParent(s)||(e&&e(o.tr.insertText("\n").scrollIntoView()),0))};function $r(o){for(let e=0;e<o.edgeCount;e++){let{type:r}=o.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const ac=(o,e)=>{let{$head:r,$anchor:s}=o.selection;if(!r.parent.type.spec.code||!r.sameParent(s))return!1;let l=r.node(-1),u=r.indexAfter(-1),f=$r(l.contentMatchAt(u));if(!f||!l.canReplaceWith(u,u,f))return!1;if(e){let p=r.after(),C=o.tr.replaceWith(p,p,f.createAndFill());C.setSelection(cn.near(C.doc.resolve(p),1)),e(C.scrollIntoView())}return!0},Pu=(o,e)=>{let r=o.selection,{$from:s,$to:l}=r;if(r instanceof Er||s.parent.inlineContent||l.parent.inlineContent)return!1;let u=$r(l.parent.contentMatchAt(l.indexAfter()));if(!u||!u.isTextblock)return!1;if(e){let f=(!s.parentOffset&&l.index()<l.parent.childCount?s:l).pos,p=o.tr.insert(f,u.createAndFill());p.setSelection(un.create(p.doc,f+1)),e(p.scrollIntoView())}return!0},fl=(o,e)=>{let{$cursor:r}=o.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let u=r.before();if(ki(o.doc,u))return e&&e(o.tr.split(u).scrollIntoView()),!0}let s=r.blockRange(),l=s&&Wn(s);return null!=l&&(e&&e(o.tr.lift(s,l).scrollIntoView()),!0)},lc=function Ru(o){return(e,r)=>{let{$from:s,$to:l}=e.selection;if(e.selection instanceof Ft&&e.selection.node.isBlock)return!(!s.parentOffset||!ki(e.doc,s.pos)||(r&&r(e.tr.split(s.pos).scrollIntoView()),0));if(!s.parent.isBlock)return!1;if(r){let u=l.parentOffset==l.parent.content.size,f=e.tr;(e.selection instanceof un||e.selection instanceof Er)&&f.deleteSelection();let p=0==s.depth?null:$r(s.node(-1).contentMatchAt(s.indexAfter(-1))),C=o&&o(l.parent,u),P=C?[C]:u&&p?[{type:p}]:void 0,V=ki(f.doc,f.mapping.map(s.pos),1,P);if(!P&&!V&&ki(f.doc,f.mapping.map(s.pos),1,p?[{type:p}]:void 0)&&(p&&(P=[{type:p}]),V=!0),V&&(f.split(f.mapping.map(s.pos),1,P),!u&&!s.parentOffset&&s.parent.type!=p)){let X=f.mapping.map(s.before()),se=f.doc.resolve(X);p&&s.node(-1).canReplaceWith(se.index(),se.index()+1,p)&&f.setNodeMarkup(f.mapping.map(s.before()),p)}r(f.scrollIntoView())}return!0}}();function Qh(o,e,r){let u,f,s=e.nodeBefore,l=e.nodeAfter;if(s.type.spec.isolating||l.type.spec.isolating)return!1;if(function Jh(o,e,r){let s=e.nodeBefore,l=e.nodeAfter,u=e.index();return!(!(s&&l&&s.type.compatibleContent(l.type))||(!s.content.size&&e.parent.canReplace(u-1,u)?(r&&r(o.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(u,u+1)||!l.isTextblock&&!Rr(o.doc,e.pos)||(r&&r(o.tr.clearIncompatible(e.pos,s.type,s.contentMatchAt(s.childCount)).join(e.pos).scrollIntoView()),0)))}(o,e,r))return!0;let p=e.parent.canReplace(e.index(),e.index()+1);if(p&&(u=(f=s.contentMatchAt(s.childCount)).findWrapping(l.type))&&f.matchType(u[0]||l.type).validEnd){if(r){let X=e.pos+l.nodeSize,se=fe.empty;for(let rt=u.length-1;rt>=0;rt--)se=fe.from(u[rt].create(null,se));se=fe.from(s.copy(se));let ce=o.tr.step(new St(e.pos-1,X,e.pos,X,new qe(se,1,0),u.length,!0)),Ne=X+2*u.length;Rr(ce.doc,Ne)&&ce.join(Ne),r(ce.scrollIntoView())}return!0}let C=cn.findFrom(e,1),P=C&&C.$from.blockRange(C.$to),V=P&&Wn(P);if(null!=V&&V>=e.depth)return r&&r(o.tr.lift(P,V).scrollIntoView()),!0;if(p&&$a(l,"start",!0)&&$a(s,"end")){let X=s,se=[];for(;se.push(X),!X.isTextblock;)X=X.lastChild;let ce=l,Ne=1;for(;!ce.isTextblock;ce=ce.firstChild)Ne++;if(X.canReplace(X.childCount,X.childCount,ce.content)){if(r){let rt=fe.empty;for(let wn=se.length-1;wn>=0;wn--)rt=fe.from(se[wn].copy(rt));r(o.tr.step(new St(e.pos-se.length,e.pos+l.nodeSize,e.pos+Ne,e.pos+l.nodeSize-Ne,new qe(rt,se.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function Xh(o){return function(e,r){let s=e.selection,l=o<0?s.$from:s.$to,u=l.depth;for(;l.node(u).isInline;){if(!u)return!1;u--}return!!l.node(u).isTextblock&&(r&&r(e.tr.setSelection(un.create(e.doc,o<0?l.start(u):l.end(u)))),!0)}}const Ga=Xh(-1),cc=Xh(1);function pl(o,e=null){return function(r,s){let l=!1;for(let u=0;u<r.selection.ranges.length&&!l;u++){let{$from:{pos:f},$to:{pos:p}}=r.selection.ranges[u];r.doc.nodesBetween(f,p,(C,P)=>{if(l)return!1;if(C.isTextblock&&!C.hasMarkup(o,e))if(C.type==o)l=!0;else{let V=r.doc.resolve(P),X=V.index();l=V.parent.canReplaceWith(X,X+1,o)}})}if(!l)return!1;if(s){let u=r.tr;for(let f=0;f<r.selection.ranges.length;f++){let{$from:{pos:p},$to:{pos:C}}=r.selection.ranges[f];u.setBlockType(p,C,o,e)}s(u.scrollIntoView())}return!0}}function pa(o,e=null){return function(r,s){let{empty:l,$cursor:u,ranges:f}=r.selection;if(l&&!u||!function Lu(o,e,r){for(let s=0;s<e.length;s++){let{$from:l,$to:u}=e[s],f=0==l.depth&&o.inlineContent&&o.type.allowsMarkType(r);if(o.nodesBetween(l.pos,u.pos,p=>{if(f)return!1;f=p.inlineContent&&p.type.allowsMarkType(r)}),f)return!0}return!1}(r.doc,f,o))return!1;if(s)if(u)o.isInSet(r.storedMarks||u.marks())?s(r.tr.removeStoredMark(o)):s(r.tr.addStoredMark(o.create(e)));else{let p=!1,C=r.tr;for(let P=0;!p&&P<f.length;P++){let{$from:V,$to:X}=f[P];p=r.doc.rangeHasMark(V.pos,X.pos,o)}for(let P=0;P<f.length;P++){let{$from:V,$to:X}=f[P];if(p)C.removeMark(V.pos,X.pos,o);else{let se=V.pos,ce=X.pos,Ne=V.nodeAfter,rt=X.nodeBefore,Nt=Ne&&Ne.isText?/^\s*/.exec(Ne.text)[0].length:0,wn=rt&&rt.isText?/\s*$/.exec(rt.text)[0].length:0;se+Nt<ce&&(se+=Nt,ce-=wn),C.addMark(se,ce,o.create(e))}}s(C.scrollIntoView())}return!0}}function Jo(...o){return function(e,r,s){for(let l=0;l<o.length;l++)if(o[l](e,r,s))return!0;return!1}}let Vu=Jo($h,(o,e,r)=>{let s=function Gh(o,e){let{$cursor:r}=o.selection;return!r||(e?!e.endOfTextblock("backward",o):r.parentOffset>0)?null:r}(o,r);if(!s)return!1;let l=ic(s);if(!l){let f=s.blockRange(),p=f&&Wn(f);return null!=p&&(e&&e(o.tr.lift(f,p).scrollIntoView()),!0)}let u=l.nodeBefore;if(!u.type.spec.isolating&&Qh(o,l,e))return!0;if(0==s.parent.content.size&&($a(u,"end")||Ft.isSelectable(u))){let f=Lr(o.doc,s.before(),s.after(),qe.empty);if(f&&f.slice.size<f.to-f.from){if(e){let p=o.tr.step(f);p.setSelection($a(u,"end")?cn.findFrom(p.doc.resolve(p.mapping.map(l.pos,-1)),-1):Ft.create(p.doc,l.pos-u.nodeSize)),e(p.scrollIntoView())}return!0}}return!(!u.isAtom||l.depth!=s.depth-1||(e&&e(o.tr.delete(l.pos-u.nodeSize,l.pos).scrollIntoView()),0))},(o,e,r)=>{let{$head:s,empty:l}=o.selection,u=s;if(!l)return!1;if(s.parent.isTextblock){if(r?!r.endOfTextblock("backward",o):s.parentOffset>0)return!1;u=ic(s)}let f=u&&u.nodeBefore;return!(!f||!Ft.isSelectable(f)||(e&&e(o.tr.setSelection(Ft.create(o.doc,u.pos-f.nodeSize)).scrollIntoView()),0))}),Hu=Jo($h,(o,e,r)=>{let s=function Nu(o,e){let{$cursor:r}=o.selection;return!r||(e?!e.endOfTextblock("forward",o):r.parentOffset<r.parent.content.size)?null:r}(o,r);if(!s)return!1;let l=hl(s);if(!l)return!1;let u=l.nodeAfter;if(Qh(o,l,e))return!0;if(0==s.parent.content.size&&($a(u,"start")||Ft.isSelectable(u))){let f=Lr(o.doc,s.before(),s.after(),qe.empty);if(f&&f.slice.size<f.to-f.from){if(e){let p=o.tr.step(f);p.setSelection($a(u,"start")?cn.findFrom(p.doc.resolve(p.mapping.map(l.pos)),1):Ft.create(p.doc,p.mapping.map(l.pos))),e(p.scrollIntoView())}return!0}}return!(!u.isAtom||l.depth!=s.depth-1||(e&&e(o.tr.delete(l.pos,l.pos+u.nodeSize).scrollIntoView()),0))},(o,e,r)=>{let{$head:s,empty:l}=o.selection,u=s;if(!l)return!1;if(s.parent.isTextblock){if(r?!r.endOfTextblock("forward",o):s.parentOffset<s.parent.content.size)return!1;u=hl(s)}let f=u&&u.nodeAfter;return!(!f||!Ft.isSelectable(f)||(e&&e(o.tr.setSelection(Ft.create(o.doc,u.pos)).scrollIntoView()),0))});const ro={Enter:Jo(ku,Pu,fl,lc),"Mod-Enter":ac,Backspace:Vu,"Mod-Backspace":Vu,"Shift-Backspace":Vu,Delete:Hu,"Mod-Delete":Hu,"Mod-a":(o,e)=>(e&&e(o.tr.setSelection(new Er(o.doc))),!0)},uc={"Ctrl-h":ro.Backspace,"Alt-Backspace":ro["Mod-Backspace"],"Ctrl-d":ro.Delete,"Ctrl-Alt-Backspace":ro["Mod-Delete"],"Alt-Delete":ro["Mod-Delete"],"Alt-d":ro["Mod-Delete"],"Ctrl-a":Ga,"Ctrl-e":cc};for(let o in ro)uc[o]=ro[o];const Qo=(typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&"darwin"==os.platform())?uc:ro;class bo{constructor(e,r){this.match=e,this.match=e,this.handler="string"==typeof r?function dc(o){return function(e,r,s,l){let u=o;if(r[1]){let f=r[0].lastIndexOf(r[1]);u+=r[0].slice(f+r[1].length);let p=(s+=f)-l;p>0&&(u=r[0].slice(f-p,f)+u,s=l)}return e.tr.insertText(u,s,l)}}(r):r}}function ml(o,e,r,s,l,u){if(o.composing)return!1;let f=o.state,p=f.doc.resolve(e);if(p.parent.type.spec.code)return!1;let C=p.parent.textBetween(Math.max(0,p.parentOffset-500),p.parentOffset,null,"\ufffc")+s;for(let P=0;P<l.length;P++){let V=l[P].match.exec(C),X=V&&l[P].handler(f,V,e-(V[0].length-s.length),r);if(X)return o.dispatch(X.setMeta(u,{transform:X,from:e,to:r,text:s})),!0}return!1}const Xo=new bo(/--$/,"\u2014"),Uu=new bo(/\.\.\.$/,"\u2026"),ga=[new bo(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new bo(/"$/,"\u201d"),new bo(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new bo(/'$/,"\u2019")];function pc(o,e,r=null,s){return new bo(o,(l,u,f,p)=>{let C=r instanceof Function?r(u):r,P=l.tr.delete(f,p),X=P.doc.resolve(f).blockRange(),se=X&&Kn(X,e,C);if(!se)return null;P.wrap(X,se);let ce=P.doc.resolve(f-1).nodeBefore;return ce&&ce.type==e&&Rr(P.doc,f-1)&&(!s||s(u,ce))&&P.join(f-1),P})}function ju(o,e,r=null){return new bo(o,(s,l,u,f)=>{let p=s.doc.resolve(u),C=r instanceof Function?r(l):r;return p.node(-1).canReplaceWith(p.index(-1),p.indexAfter(-1),e)?s.tr.delete(u,f).setBlockType(u,u,e,C):null})}const gc=(o,e)=>{const{from:r,$from:s,to:l,empty:u}=o.selection;return u?Boolean(e.isInSet(o.storedMarks||s.marks())):o.doc.rangeHasMark(r,l,e)},yl=(o,e,r={})=>{const{selection:s}=o,{$from:l,to:u}=s,f=((o,e)=>{for(let r=e.depth;r>0;r-=1)if(e.node(r).type===o)return e.node(r).type;return null})(e,l);return Object.entries(r).length&&f?u<=l.end()&&l.parent.hasMarkup(e,r):Boolean(f)},mc=o=>{const e=[],{selection:{from:r,to:s}}=o;return o.doc.nodesBetween(r,s,l=>{e.push(l)}),e},$u=(o,e,r)=>{for(const s of e){const{$from:l,$to:u}=s;let f=0===l.depth&&o.type.allowsMarkType(r);if(o.nodesBetween(l.pos,u.pos,p=>!f&&(f=p.inlineContent&&p.type.allowsMarkType(r),!0)),f)return!0}return!1},yc=(o,e,r)=>new bo(o,(s,l,u,f)=>{const{tr:p}=s,C=u;let P=f;if(l[2]){const V=u+l[0].indexOf(l[2]),X=V+l[2].length;X<f&&p.delete(X,f),V>u&&p.delete(u,V),P=u+l[2].length}return p.addMark(C,P,e.create(r))}),ma=(o,e={})=>(r,s)=>{const{tr:l,selection:u}=r,{empty:f,ranges:p,$from:C,$to:P}=u;if(f&&u instanceof un){const{$cursor:V}=u;if(!V||!$u(r.doc,p,o)||(l.addStoredMark(o.create(e)),!l.storedMarksSet))return!1;s?.(l)}else{if(l.addMark(C.pos,P.pos,o.create(e)),!l.docChanged)return!1;s?.(l.scrollIntoView())}return!0};for(var ya=z(1481),Js={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},vl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},df=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),ff=(typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent),typeof navigator<"u"&&/Mac/.test(navigator.platform)),pf=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),gf=ff||df&&+df[1]<57,Ni=0;Ni<10;Ni++)Js[48+Ni]=Js[96+Ni]=String(Ni);for(Ni=1;Ni<=24;Ni++)Js[Ni+111]="F"+Ni;for(Ni=65;Ni<=90;Ni++)Js[Ni]=String.fromCharCode(Ni+32),vl[Ni]=String.fromCharCode(Ni);for(var vc in Js)vl.hasOwnProperty(vc)||(vl[vc]=Js[vc]);const mf=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function yf(o){let s,l,u,f,e=o.split(/-(?!$)/),r=e[e.length-1];"Space"==r&&(r=" ");for(let p=0;p<e.length-1;p++){let C=e[p];if(/^(cmd|meta|m)$/i.test(C))f=!0;else if(/^a(lt)?$/i.test(C))s=!0;else if(/^(c|ctrl|control)$/i.test(C))l=!0;else if(/^s(hift)?$/i.test(C))u=!0;else{if(!/^mod$/i.test(C))throw new Error("Unrecognized modifier name: "+C);mf?f=!0:l=!0}}return s&&(r="Alt-"+r),l&&(r="Ctrl-"+r),f&&(r="Meta-"+r),u&&(r="Shift-"+r),r}function Gu(o,e,r){return e.altKey&&(o="Alt-"+o),e.ctrlKey&&(o="Ctrl-"+o),e.metaKey&&(o="Meta-"+o),!1!==r&&e.shiftKey&&(o="Shift-"+o),o}function xc(o){return new ti({props:{handleKeyDown:Cc(o)}})}function Cc(o){let e=function _c(o){let e=Object.create(null);for(let r in o)e[yf(r)]=o[r];return e}(o);return function(r,s){let f,l=function wc(o){var r=!(gf&&(o.ctrlKey||o.altKey||o.metaKey)||pf&&o.shiftKey&&o.key&&1==o.key.length||"Unidentified"==o.key)&&o.key||(o.shiftKey?vl:Js)[o.keyCode]||o.key||"Unidentified";return"Esc"==r&&(r="Escape"),"Del"==r&&(r="Delete"),"Left"==r&&(r="ArrowLeft"),"Up"==r&&(r="ArrowUp"),"Right"==r&&(r="ArrowRight"),"Down"==r&&(r="ArrowDown"),r}(s),u=1==l.length&&" "!=l,p=e[Gu(l,s,!u)];if(p&&p(r.state,r.dispatch,r))return!0;if(u&&(s.shiftKey||s.altKey||s.metaKey||l.charCodeAt(0)>127)&&(f=Js[s.keyCode])&&f!=l){let C=e[Gu(f,s,!0)];if(C&&C(r.state,r.dispatch,r))return!0}else if(u&&s.shiftKey){let C=e[Gu(l,s,!0)];if(C&&C(r.state,r.dispatch,r))return!0}return!1}}var Ji=function(){};Ji.prototype.append=function(e){return e.length?(e=Ji.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},Ji.prototype.prepend=function(e){return e.length?Ji.from(e).append(this):this},Ji.prototype.appendInner=function(e){return new Kg(this,e)},Ji.prototype.slice=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=this.length),e>=r?Ji.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))},Ji.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Ji.prototype.forEach=function(e,r,s){void 0===r&&(r=0),void 0===s&&(s=this.length),r<=s?this.forEachInner(e,r,s,0):this.forEachInvertedInner(e,r,s,0)},Ji.prototype.map=function(e,r,s){void 0===r&&(r=0),void 0===s&&(s=this.length);var l=[];return this.forEach(function(u,f){return l.push(e(u,f))},r,s),l},Ji.from=function(e){return e instanceof Ji?e:e&&e.length?new vf(e):Ji.empty};var vf=function(o){function e(s){o.call(this),this.values=s}o&&(e.__proto__=o),(e.prototype=Object.create(o&&o.prototype)).constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(l,u){return 0==l&&u==this.length?this:new e(this.values.slice(l,u))},e.prototype.getInner=function(l){return this.values[l]},e.prototype.forEachInner=function(l,u,f,p){for(var C=u;C<f;C++)if(!1===l(this.values[C],p+C))return!1},e.prototype.forEachInvertedInner=function(l,u,f,p){for(var C=u-1;C>=f;C--)if(!1===l(this.values[C],p+C))return!1},e.prototype.leafAppend=function(l){if(this.length+l.length<=200)return new e(this.values.concat(l.flatten()))},e.prototype.leafPrepend=function(l){if(this.length+l.length<=200)return new e(l.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(Ji);Ji.empty=new vf([]);var Kg=function(o){function e(r,s){o.call(this),this.left=r,this.right=s,this.length=r.length+s.length,this.depth=Math.max(r.depth,s.depth)+1}return o&&(e.__proto__=o),(e.prototype=Object.create(o&&o.prototype)).constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,l,u,f){var p=this.left.length;if(l<p&&!1===this.left.forEachInner(s,l,Math.min(u,p),f)||u>p&&!1===this.right.forEachInner(s,Math.max(l-p,0),Math.min(this.length,u)-p,f+p))return!1},e.prototype.forEachInvertedInner=function(s,l,u,f){var p=this.left.length;if(l>p&&!1===this.right.forEachInvertedInner(s,l-p,Math.max(u,p)-p,f+p)||u<p&&!1===this.left.forEachInvertedInner(s,Math.min(l,p),u,f))return!1},e.prototype.sliceInner=function(s,l){if(0==s&&l==this.length)return this;var u=this.left.length;return l<=u?this.left.slice(s,l):s>=u?this.right.slice(s-u,l-u):this.left.slice(s,u).append(this.right.slice(0,l-u))},e.prototype.leafAppend=function(s){var l=this.right.leafAppend(s);if(l)return new e(this.left,l)},e.prototype.leafPrepend=function(s){var l=this.left.leafPrepend(s);if(l)return new e(l,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e}(Ji);const Wu=Ji;class zs{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(0==this.eventCount)return null;let l,u,s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}r&&(l=this.remapping(s,this.items.length),u=l.maps.length);let p,C,f=e.tr,P=[],V=[];return this.items.forEach((X,se)=>{if(!X.step)return l||(l=this.remapping(s,se+1),u=l.maps.length),u--,void V.push(X);if(l){V.push(new io(X.map));let Ne,ce=X.step.map(l.slice(u));ce&&f.maybeStep(ce).doc&&(Ne=f.mapping.maps[f.mapping.maps.length-1],P.push(new io(Ne,void 0,void 0,P.length+V.length))),u--,Ne&&l.appendMap(Ne,u)}else f.maybeStep(X.step);return X.selection?(p=l?X.selection.map(l.slice(u)):X.selection,C=new zs(this.items.slice(0,s).append(V.reverse().concat(P)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:C,transform:f,selection:p}}addTransform(e,r,s,l){let u=[],f=this.eventCount,p=this.items,C=!l&&p.length?p.get(p.length-1):null;for(let V=0;V<e.steps.length;V++){let ce,X=e.steps[V].invert(e.docs[V]),se=new io(e.mapping.maps[V],X,r);(ce=C&&C.merge(se))&&(se=ce,V?u.pop():p=p.slice(0,p.length-1)),u.push(se),r&&(f++,r=void 0),l||(C=se)}let P=f-s.depth;return P>Dc&&(p=function Ku(o,e){let r;return o.forEach((s,l)=>{if(s.selection&&0==e--)return r=l,!1}),o.slice(r)}(p,P),f-=P),new zs(p.append(u),f)}remapping(e,r){let s=new U;return this.items.forEach((l,u)=>{s.appendMap(l.map,null!=l.mirrorOffset&&u-l.mirrorOffset>=e?s.maps.length-l.mirrorOffset:void 0)},e,r),s}addMaps(e){return 0==this.eventCount?this:new zs(this.items.append(e.map(r=>new io(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let s=[],l=Math.max(0,this.items.length-r),u=e.mapping,f=e.steps.length,p=this.eventCount;this.items.forEach(se=>{se.selection&&p--},l);let C=r;this.items.forEach(se=>{let ce=u.getMirror(--C);if(null==ce)return;f=Math.min(f,ce);let Ne=u.maps[ce];if(se.step){let rt=e.steps[ce].invert(e.docs[ce]),Nt=se.selection&&se.selection.map(u.slice(C+1,ce));Nt&&p++,s.push(new io(Ne,rt,Nt))}else s.push(new io(Ne))},l);let P=[];for(let se=r;se<f;se++)P.push(new io(u.maps[se]));let V=this.items.slice(0,l).append(P).append(s),X=new zs(V,p);return X.emptyItemCount()>500&&(X=X.compress(this.items.length-s.length)),X}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),s=r.maps.length,l=[],u=0;return this.items.forEach((f,p)=>{if(p>=e)l.push(f),f.selection&&u++;else if(f.step){let C=f.step.map(r.slice(s)),P=C&&C.getMap();if(s--,P&&r.appendMap(P,s),C){let V=f.selection&&f.selection.map(r.slice(s));V&&u++;let se,X=new io(P.invert(),C,V),ce=l.length-1;(se=l.length&&l[ce].merge(X))?l[ce]=se:l.push(X)}}else f.map&&s--},this.items.length,0),new zs(Wu.from(l.reverse()),u)}}zs.empty=new zs(Wu.empty,0);class io{constructor(e,r,s,l){this.map=e,this.step=r,this.selection=s,this.mirrorOffset=l}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new io(r.getMap().invert(),r,this.selection)}}}class Do{constructor(e,r,s,l){this.done=e,this.undone=r,this.prevRanges=s,this.prevTime=l}}const Dc=20;function va(o){let e=[];return o.forEach((r,s,l,u)=>e.push(l,u)),e}function Mc(o,e){if(!o)return null;let r=[];for(let s=0;s<o.length;s+=2){let l=e.map(o[s],1),u=e.map(o[s+1],-1);l<=u&&r.push(l,u)}return r}function qu(o,e,r,s){let l=wl(e),u=go.get(e).spec.config,f=(s?o.undone:o.done).popEvent(e,l);if(!f)return;let p=f.selection.resolve(f.transform.doc),C=(s?o.done:o.undone).addTransform(f.transform,e.selection.getBookmark(),u,l),P=new Do(s?C:f.remaining,s?f.remaining:C,null,0);r(f.transform.setSelection(p).setMeta(go,{redo:s,historyState:P}).scrollIntoView())}let Sc=!1,Tc=null;function wl(o){let e=o.plugins;if(Tc!=e){Sc=!1,Tc=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){Sc=!0;break}}return Sc}const go=new di("history"),Zu=new di("closeHistory");const Ju=(o,e)=>{let r=go.getState(o);return!(!r||0==r.done.eventCount||(e&&qu(r,o,e,!1),0))},Ic=(o,e)=>{let r=go.getState(o);return!(!r||0==r.undone.eventCount||(e&&qu(r,o,e,!0),0))},xf=["imgEl"];function Cf(o,e){if(1&o){const r=d.EpF();d.TgZ(0,"span",4)(1,"span",5),d.NdJ("mousedown",function(l){d.CHM(r);const u=d.oxw();return d.KtG(u.startResizing(l,"left"))}),d.qZA(),d.TgZ(2,"span",6),d.NdJ("mousedown",function(l){d.CHM(r);const u=d.oxw();return d.KtG(u.startResizing(l,"right"))}),d.qZA(),d.TgZ(3,"span",7),d.NdJ("mousedown",function(l){d.CHM(r);const u=d.oxw();return d.KtG(u.startResizing(l,"left"))}),d.qZA(),d.TgZ(4,"span",8),d.NdJ("mousedown",function(l){d.CHM(r);const u=d.oxw();return d.KtG(u.startResizing(l,"right"))}),d.qZA()()}}const gs=function(o){return{"NgxEditor__Resizer--Active":o}},Oc=["ngxEditor"],Qu=["*"];function Nc(o,e){if(1&o&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&o){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.href.errors?null:r.href.errors.pattern)&&"Please enter valid url."," ")}}function Qi(o,e){if(1&o&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&o){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.text.errors?null:r.text.errors.required)&&"This is required"," ")}}function Wa(o,e){if(1&o){const r=d.EpF();d.TgZ(0,"div",2)(1,"form",3),d.NdJ("ngSubmit",function(l){d.CHM(r);const u=d.oxw();return d.KtG(u.insertLink(l))}),d.TgZ(2,"div",4)(3,"div",5)(4,"label",6),d._uU(5),d.qZA(),d._UZ(6,"input",7),d.YNc(7,Nc,2,1,"div",8),d.qZA()(),d.TgZ(8,"div",4)(9,"div",5)(10,"label",6),d._uU(11),d.qZA(),d._UZ(12,"input",9),d.YNc(13,Qi,2,1,"div",8),d.qZA()(),d.TgZ(14,"div",4)(15,"div",5)(16,"label"),d._UZ(17,"input",10),d._uU(18),d.qZA()()(),d.TgZ(19,"button",11),d._uU(20),d.qZA()()()}if(2&o){const r=d.oxw();d.xp6(1),d.Q6J("formGroup",r.form),d.xp6(4),d.Oqu(r.getLabel("url")),d.xp6(2),d.Q6J("ngIf",r.href.touched&&r.href.invalid),d.xp6(4),d.Oqu(r.getLabel("text")),d.xp6(2),d.Q6J("ngIf",r.text.touched&&r.text.invalid),d.xp6(5),d.hij(" ",r.getLabel("openInNewTab")," "),d.xp6(1),d.Q6J("disabled",!r.form.valid),d.xp6(1),d.Oqu(r.getLabel("insert"))}}const Xu=function(o,e){return{"NgxEditor__Dropdown--Active":o,"NgxEditor--Disabled":e}};function bf(o,e){if(1&o){const r=d.EpF();d.TgZ(0,"div",4),d.NdJ("mousedown",function(l){const f=d.CHM(r).$implicit,p=d.oxw(2);return d.KtG(p.onClick(l,f))}),d._uU(1),d.qZA()}if(2&o){const r=e.$implicit,s=d.oxw(2);d.Q6J("ngClass",d.WLB(2,Xu,r===s.activeItem,s.disabledItems.includes(r))),d.xp6(1),d.hij(" ",s.getName(r)," ")}}function Df(o,e){if(1&o&&(d.TgZ(0,"div",2),d.YNc(1,bf,2,5,"div",3),d.qZA()),2&o){const r=d.oxw();d.xp6(1),d.Q6J("ngForOf",r.items)("ngForTrackBy",r.trackByIndex)}}function ed(o,e){if(1&o&&(d.TgZ(0,"div",12),d._uU(1),d.qZA()),2&o){const r=d.oxw(2);d.xp6(1),d.hij(" ",(null==r.src.errors?null:r.src.errors.pattern)&&"Please enter valid url."," ")}}function Ef(o,e){if(1&o){const r=d.EpF();d.TgZ(0,"div",2)(1,"form",3),d.NdJ("ngSubmit",function(l){d.CHM(r);const u=d.oxw();return d.KtG(u.insertLink(l))}),d.TgZ(2,"div",4)(3,"div",5)(4,"label",6),d._uU(5),d.qZA(),d._UZ(6,"input",7),d.YNc(7,ed,2,1,"div",8),d.qZA()(),d.TgZ(8,"div",4)(9,"div",5)(10,"label",6),d._uU(11),d.qZA(),d._UZ(12,"input",9),d.qZA()(),d.TgZ(13,"div",4)(14,"div",5)(15,"label",6),d._uU(16),d.qZA(),d._UZ(17,"input",10),d.qZA()(),d.TgZ(18,"button",11),d._uU(19),d.qZA()()()}if(2&o){const r=d.oxw();d.xp6(1),d.Q6J("formGroup",r.form),d.xp6(4),d.Oqu(r.getLabel("url")),d.xp6(2),d.Q6J("ngIf",r.src.touched&&r.src.invalid),d.xp6(4),d.Oqu(r.getLabel("altText")),d.xp6(5),d.Oqu(r.getLabel("title")),d.xp6(2),d.Q6J("disabled",!r.form.valid||!r.form.dirty),d.xp6(1),d.Oqu(r.getLabel("insert"))}}const td=function(o,e){return{backgroundColor:o,color:e}},Mf=function(o){return{"NgxEditor__Color--Active":o}};function nd(o,e){if(1&o){const r=d.EpF();d.TgZ(0,"button",7),d.NdJ("mousedown",function(l){const f=d.CHM(r).$implicit,p=d.oxw(3);return d.KtG(p.onColorSelect(l,f))}),d.qZA()}if(2&o){const r=e.$implicit,s=d.oxw(3);d.Q6J("ngStyle",d.WLB(3,td,r,s.getContrastYIQ(r)))("title",r)("ngClass",d.VKq(6,Mf,s.activeColors.includes(r)))}}function Sf(o,e){if(1&o&&(d.TgZ(0,"div",5),d.YNc(1,nd,1,8,"button",6),d.qZA()),2&o){const r=e.$implicit,s=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",r)("ngForTrackBy",s.trackByIndex)}}function Tf(o,e){if(1&o){const r=d.EpF();d.TgZ(0,"div",2),d.YNc(1,Sf,2,2,"div",3),d.TgZ(2,"button",4),d.NdJ("mousedown",function(l){d.CHM(r);const u=d.oxw();return d.KtG(u.remove(l))}),d._uU(3),d.qZA()()}if(2&o){const r=d.oxw();d.xp6(1),d.Q6J("ngForOf",r.presets)("ngForTrackBy",r.trackByIndex),d.xp6(1),d.Q6J("disabled",!r.isActive),d.xp6(1),d.hij(" ",r.getLabel("remove")," ")}}function rd(o,e){if(1&o&&d._UZ(0,"ngx-toggle-command",7),2&o){const r=d.oxw().$implicit,s=d.oxw(2);d.Tol(s.iconContainerClass),d.Q6J("toolbarItem",r)}}function id(o,e){if(1&o&&d._UZ(0,"ngx-insert-command",7),2&o){const r=d.oxw().$implicit,s=d.oxw(2);d.Tol(s.iconContainerClass),d.Q6J("toolbarItem",r)}}function Af(o,e){if(1&o&&d._UZ(0,"ngx-link"),2&o){const r=d.oxw(3);d.Tol(r.iconContainerClass)}}function wa(o,e){if(1&o&&d._UZ(0,"ngx-image"),2&o){const r=d.oxw(3);d.Tol(r.iconContainerClass)}}function Eo(o,e){if(1&o&&d._UZ(0,"ngx-dropdown",9),2&o){const r=e.$implicit,s=d.oxw(4);d.Tol(s.dropdownContainerClass),d.Q6J("group",r.key)("items",r.value)}}function If(o,e){if(1&o&&(d.ynx(0),d.YNc(1,Eo,1,4,"ngx-dropdown",8),d.ALo(2,"keyvalue"),d.BQk()),2&o){const r=d.oxw().$implicit,s=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",d.lcZ(2,2,s.getDropdownItems(r)))("ngForTrackBy",s.trackByIndex)}}function Of(o,e){if(1&o&&d._UZ(0,"ngx-color-picker",10),2&o){const r=d.oxw(3);d.Tol(r.iconContainerClass),d.Q6J("presets",r.presets)}}function Qg(o,e){if(1&o&&d._UZ(0,"ngx-color-picker",11),2&o){const r=d.oxw(3);d.Tol(r.iconContainerClass),d.Q6J("presets",r.presets)}}function Xg(o,e){if(1&o&&d._UZ(0,"div"),2&o){const r=d.oxw(3);d.Tol(r.seperatorClass)}}function sd(o,e){if(1&o&&(d.ynx(0),d.YNc(1,rd,1,3,"ngx-toggle-command",3),d.YNc(2,id,1,3,"ngx-insert-command",3),d.YNc(3,Af,1,2,"ngx-link",4),d.YNc(4,wa,1,2,"ngx-image",4),d.YNc(5,If,3,4,"ng-container",2),d.YNc(6,Of,1,3,"ngx-color-picker",5),d.YNc(7,Qg,1,3,"ngx-color-picker",6),d.YNc(8,Xg,1,2,"div",4),d.BQk()),2&o){const r=e.$implicit,s=e.last,l=d.oxw().last,u=d.oxw();d.xp6(1),d.Q6J("ngIf",u.toggleCommands.includes(r)),d.xp6(1),d.Q6J("ngIf",u.insertCommands.includes(r)),d.xp6(1),d.Q6J("ngIf","link"===r),d.xp6(1),d.Q6J("ngIf","image"===r),d.xp6(1),d.Q6J("ngIf",u.isDropDown(r)),d.xp6(1),d.Q6J("ngIf","text_color"===r),d.xp6(1),d.Q6J("ngIf","background_color"===r),d.xp6(1),d.Q6J("ngIf",s&&!l)}}function em(o,e){if(1&o&&(d.ynx(0),d.YNc(1,sd,9,8,"ng-container",1),d.BQk()),2&o){const r=e.$implicit,s=d.oxw();d.xp6(1),d.Q6J("ngForOf",r)("ngForTrackBy",s.trackByIndex)}}function mo(o,e){if(1&o&&(d.ynx(0),d.GkF(1,12),d.BQk()),2&o){const r=d.oxw();d.xp6(1),d.Q6J("ngTemplateOutlet",r.customMenuRef)}}const kc=function(o,e){return{"NgxEditor--Disabled":o,"NgxEditor__MenuBar--Reverse":e}},Pf=(o=!0)=>new ti({key:new di("editable"),state:{init:()=>o,apply:(e,r)=>e.getMeta("UPDATE_EDITABLE")??r},props:{editable(e){return this.getState(e)},attributes(e){return this.getState(e)?null:{class:"NgxEditor__Content--Disabled"}}}}),Fc=o=>new ti({key:new di("placeholder"),state:{init:()=>o??"",apply:(e,r)=>e.getMeta("UPDATE_PLACEHOLDER")??r},props:{decorations(e){const{doc:r}=e,{textContent:s,childCount:l}=r,u=this.getState(e);if(!u||l>1)return si.empty;const f=[];return r.descendants((C,P)=>{if(C.type.isBlock&&0===C.childCount&&0===s.length){const se=Zs.node(P,P+C.nodeSize,{class:"NgxEditor__Placeholder","data-placeholder":u,"data-align":C.attrs.align??null});f.push(se)}return!1}),si.create(r,f)}}});let Lc=(()=>{class o{constructor(){this.alt="",this.title="",this.outerWidth="",this.selected=!1,this.imageResize=new d.vpe}startResizing(r,s){r.preventDefault(),this.resizeImage(r,s)}resizeImage(r,s){const l=r.pageX,u=this.imgEl.nativeElement.clientWidth,f="left"===s,{width:p}=window.getComputedStyle(this.view.dom),C=parseInt(p,10),P=X=>{const ce=X.pageX-l,Ne=f?u-ce:u+ce;Ne>C||Ne<20||(this.outerWidth=`${Ne}px`)},V=X=>{X.preventDefault(),document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",V),this.imageResize.emit()};document.addEventListener("mousemove",P),document.addEventListener("mouseup",V)}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-image-view"]],viewQuery:function(r,s){if(1&r&&d.Gf(xf,7),2&r){let l;d.iGM(l=d.CRH())&&(s.imgEl=l.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],["imgEl",""],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(r,s){1&r&&(d.TgZ(0,"span",0),d.YNc(1,Cf,5,0,"span",1),d._UZ(2,"img",2,3),d.qZA()),2&r&&(d.Udp("width",s.outerWidth),d.Q6J("ngClass",d.VKq(7,gs,s.selected)),d.xp6(1),d.Q6J("ngIf",s.selected),d.xp6(1),d.Q6J("src",s.src,d.LSH)("alt",s.alt)("title",s.title))},dependencies:[gi.mk,gi.O5],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]}),o})();class ld{constructor(e,r,s,l){this.updating=!1,this.handleResize=()=>{if(this.updating)return;const{state:u,dispatch:f}=this.view,{tr:p}=u,C=p.setNodeMarkup(this.getPos(),void 0,{...this.node.attrs,width:this.imageComponentRef.instance.outerWidth}),P=C.doc.resolve(this.getPos()),V=new Ft(P);C.setSelection(V),f(C)},this.applicationRef=l.get(d.z2F),this.imageComponentRef=(0,d.LMc)(Lc,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(e.attrs),this.imageComponentRef.instance.view=r,this.dom=this.imageComponentRef.location.nativeElement,this.view=r,this.node=e,this.getPos=s,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(e,r){return JSON.stringify(e)===JSON.stringify(r)}setNodeAttributes(e){this.imageComponentRef.instance.src=e.src,this.imageComponentRef.instance.alt=e.alt,this.imageComponentRef.instance.title=e.title,this.imageComponentRef.instance.outerWidth=e.width}update(e){return e.type===this.node.type&&(this.node=e,this.computeChanges(this.node.attrs,e.attrs)&&(this.updating=!0,this.setNodeAttributes(e.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}}const Bc=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,cd=o=>{const e=[];return o.forEach(r=>{if(r.isText){const s=r.text;let l=0;const u=Bc.exec(s);if(u){const f=u.index,p=f+u[0].length,{link:C}=r.type.schema.marks;f>0&&e.push(r.cut(l,f));const P=s.slice(f,p);e.push(r.cut(f,p).mark(C.create({href:P}).addToSet(r.marks))),l=p}l<s.length&&e.push(r.cut(l))}else e.push(r.copy(cd(r.content)))}),fe.fromArray(e)},Lf={type:"doc",content:[{type:"paragraph"}]},Ya=(o,e)=>{if(!o)return e.nodeFromJSON(Lf);if("string"!=typeof o)return e.nodeFromJSON(o);const r=((o,e)=>{const r=e??ja,s=document.createElement("div");return s.innerHTML=o,Oe.fromSchema(r).parse(s).toJSON()})(o,e);return e.nodeFromJSON(r)};let ud=(()=>{class o{constructor(r,s,l){this.renderer=r,this.injector=s,this.elementRef=l,this.placeholder="Type Here...",this.focusOut=new d.vpe,this.focusIn=new d.vpe,this.unsubscribe=new ue.x,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){!this.outputFormat&&"string"==typeof r&&(this.outputFormat="html"),this.editor.setContent(r??"")}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.setMeta("UPDATE_EDITABLE",!r),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",r)}handleChange(r){if("html"!==this.outputFormat)this.onChange(r);else{const s=((o,e)=>{const r=this.editor.schema??ja,s=r.nodeFromJSON(o),l=Vn.fromSchema(r).serializeFragment(s.content),u=document.createElement("div");return u.appendChild(l),u.innerHTML})(r);this.onChange(s)}}setMeta(r,s){const{dispatch:l,state:{tr:u}}=this.editor.view;l(u.setMeta(r,s))}setPlaceholder(r){this.setMeta("UPDATE_PLACEHOLDER",r)}registerPlugins(){this.editor.registerPlugin(Pf()),this.editor.registerPlugin(Fc(this.placeholder)),this.editor.registerPlugin(((o={})=>new ti({key:new di("attributes"),props:{attributes:o}}))({class:"NgxEditor__Content"})),this.editor.registerPlugin((o=>new ti({key:new di("focus"),props:{handleDOMEvents:{focus:()=>(o(),!1)}}}))(()=>{this.focusIn.emit()})),this.editor.registerPlugin((o=>new ti({key:new di("blur"),props:{handleDOMEvents:{blur:()=>(o(),!1)}}}))(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin((o=>new ti({key:new di("image-resize"),props:{nodeViews:{image:(e,r,s)=>new ld(e,r,s,o)}}}))(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(new ti({key:new di("linkify"),props:{transformPasted:o=>new qe(cd(o.content),o.openStart,o.openEnd)}}))}ngOnInit(){if(!this.editor)throw new De("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe((0,ve.R)(this.unsubscribe)).subscribe(r=>{this.handleChange(r)})}ngOnChanges(r){r.placeholder&&!r.placeholder.isFirstChange()&&this.setPlaceholder(r.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(d.Qsj),d.Y36(d.zs3),d.Y36(d.SBq))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-editor"]],viewQuery:function(r,s){if(1&r&&d.Gf(Oc,7),2&r){let l;d.iGM(l=d.CRH())&&(s.ngxEditor=l.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[d._Bn([{provide:T.JU,useExisting:(0,d.Gpc)(()=>o),multi:!0}]),d.TTD],ngContentSelectors:Qu,decls:3,vars:0,consts:[[1,"NgxEditor"],["ngxEditor",""]],template:function(r,s){1&r&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA())},styles:['.NgxEditor{background:white;color:#000;background-clip:padding-box;border-radius:4px;border:1px solid rgba(0,0,0,.2);position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder:before{color:#6c757d;opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0,none}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:3px solid #ddd;margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid rgba(0,0,0,.4);border-radius:4px}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:3px;cursor:default;background-color:#fff}.NgxEditor__MenuItem{border-radius:2px;display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:30px;width:30px;transition:.3s ease-in-out}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:#e8f0fe;color:#1a73e8}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;width:100%;top:32px}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:#1a73e8;background-color:#e8f0fe}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:32px}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:32px}.NgxEditor__Popup{position:absolute;top:32px;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}\n'],encapsulation:2}),o})(),yo=(()=>{class o{constructor(){this.customMenuRefChange=new ue.x}setCustomMenuRef(r){this.customMenuRefChange.next(r)}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275prov=d.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class ea{constructor(e){this.name=e}apply(){return(e,r)=>{const{schema:s}=e,l=s.marks[this.name];return!!l&&ma(l)(e,r)}}toggle(){return(e,r)=>{const{schema:s}=e,l=s.marks[this.name];return!!l&&pa(l)(e,r)}}isActive(e){const{schema:r}=e,s=r.marks[this.name];return!!s&&gc(e,s)}canExecute(e){return this.toggle()(e)}}class xl{constructor(e=!1){this.isBulletList=!1,this.isBulletList=e}getType(e){return this.isBulletList?e.nodes.bullet_list:e.nodes.ordered_list}toggle(){return(e,r)=>{const{schema:s}=e,l=this.getType(s);return!!l&&(this.isActive(e)?rc(s.nodes.list_item)(e,r):function ul(o,e=null){return function(r,s){let{$from:l,$to:u}=r.selection,f=l.blockRange(u),p=!1,C=f;if(!f)return!1;if(f.depth>=2&&l.node(f.depth-1).type.compatibleContent(o)&&0==f.startIndex){if(0==l.index(f.depth-1))return!1;let V=r.doc.resolve(f.start-2);C=new Rt(V,V,f.depth),f.endIndex<f.parent.childCount&&(f=new Rt(l,r.doc.resolve(u.end(f.depth)),f.depth)),p=!0}let P=Kn(C,o,e,f);return!!P&&(s&&s(function nc(o,e,r,s,l){let u=fe.empty;for(let V=r.length-1;V>=0;V--)u=fe.from(r[V].type.create(r[V].attrs,u));o.step(new St(e.start-(s?2:0),e.end,e.start,e.end,new qe(u,0,0),r.length,!0));let f=0;for(let V=0;V<r.length;V++)r[V].type==l&&(f=V+1);let p=r.length-f,C=e.start+r.length-(s?2:0),P=e.parent;for(let V=e.startIndex,X=e.endIndex,se=!0;V<X;V++,se=!1)!se&&ki(o.doc,C,p)&&(o.split(C,p),C+=2*p),C+=P.child(V).nodeSize;return o}(r.tr,f,P,p,o).scrollIntoView()),!0)}}(l)(e,r))}}isActive(e){const{schema:r}=e,s=this.getType(r);return!!s&&yl(e,s)}canExecute(e){return this.toggle()(e)}}class Bo{constructor(e){this.level=e}apply(){return(e,r)=>{const{schema:s}=e,l=s.nodes.heading;return!!l&&pl(l)(e,r)}}toggle(){return(e,r)=>{const{schema:s,selection:l,doc:u}=e,f=s.nodes.heading;if(!f)return!1;const p=l.$from.before(1),P=u.nodeAt(p)?.attrs??{};return this.isActive(e)?pl(s.nodes.paragraph,P)(e,r):pl(f,{...P,level:this.level})(e,r)}}isActive(e){const{schema:r}=e,s=mc(e),l=r.nodes.heading;if(!l)return!1;const u=[l,r.nodes.text,r.nodes.blockquote],p=s.filter(C=>u.includes(C.type)).find(C=>C.attrs.level===this.level);return Boolean(p)}canExecute(e){return this.toggle()(e)}}class xa{constructor(e){this.align=e}toggle(){return(e,r)=>{const{doc:s,selection:l,tr:u,schema:f}=e,{from:p,to:C}=l;let P=!1;return s.nodesBetween(p,C,(V,X)=>{const se=V.type;return[f.nodes.paragraph,f.nodes.heading].includes(se)&&(P=!0,u.setNodeMarkup(X,se,{...V.attrs,align:this.align})),!0}),!!P&&(u.docChanged&&r?.(u),!0)}}isActive(e){const s=mc(e).find(l=>l.attrs.align===this.align);return Boolean(s)}canExecute(e){return this.toggle()(e)}}const ta={strict:!0};class Cl{update(e){return(r,s)=>{const{schema:l,selection:u}=r,f=l.marks.link;return!(!f||u.empty)&&pa(f,e)(r,s)}}insert(e,r){return(s,l)=>{const{schema:u,tr:f}=s;if(!u.marks.link)return!1;const P=u.text(e,[u.marks.link.create({href:r.href,title:r.title??e,target:r.target??"_blank"})]);return f.replaceSelectionWith(P,!1).scrollIntoView(),!!f.docChanged&&(l?.(f),!0)}}isActive(e,r=ta){if(r.strict)return!0;const{schema:s}=e,l=s.marks.link;return!!l&&gc(e,l)}remove(e,r){return((o,e)=>{const{doc:r,selection:s,tr:l}=o,{$head:{pos:u},from:f,to:p}=s;if(f===p){const C=r.resolve(u),P=u-C.textOffset,V=P+C.parent.child(C.index()).nodeSize;l.removeMark(P,V)}else l.removeMark(f,p);return!!l.docChanged&&(e?.(l),!0)})(e,r)}canExecute(e){const r={href:""};return this.insert("Exec",r)(e)||this.update(r)(e)}}class Hc{insert(e,r){return(s,l)=>{const{schema:u,tr:f,selection:p}=s,C=u.nodes.image;if(!C)return!1;const P={width:null,src:e,...r};!P.width&&p instanceof Ft&&p.node.type===C&&(P.width=p.node.attrs.width),f.replaceSelectionWith(C.createAndFill(P));const V=f.doc.resolve(f.selection.anchor-f.selection.$anchor.nodeBefore.nodeSize);return f.setSelection(new Ft(V)).scrollIntoView(),!!f.docChanged&&(l?.(f),!0)}}isActive(e){const{selection:r}=e;return r instanceof Ft&&"image"===r.node.type.name}}class Ca{constructor(e,r="color"){this.name=e,this.attrName=r}apply(e){return(r,s)=>{const{schema:l,selection:u,doc:f}=r,p=l.marks[this.name];if(!p)return!1;const{from:C,to:P,empty:V}=u;if(!V&&C+1===P){const X=f.nodeAt(C);if(X?.isAtom&&!X.isText&&X.isLeaf)return!1}return ma(p,e)(r,s)}}isActive(e){const{schema:r}=e,s=r.marks[this.name];return!!s&&gc(e,s)}getActiveColors(e){if(!this.isActive(e))return[];const{schema:r}=e;return(o=>{let e=[];const{selection:r,storedMarks:s}=o,{from:l,to:u,empty:f,$from:p}=r;return f?e=s||p.marks():o.doc.nodesBetween(l,u,C=>{e=[...e,...C.marks]}),e})(e).filter(u=>u.type===r.marks[this.name]).map(u=>u.attrs[this.attrName]).filter(Boolean)}remove(){return(e,r)=>{const{schema:s}=e,l=s.marks[this.name];return!!l&&(o=l,(e,r)=>{const{tr:s,selection:l,storedMarks:u,doc:f}=e,{empty:p,ranges:C}=l;if(p&&l instanceof un){const{$cursor:P}=l;if(!P||!$u(e.doc,C,o))return!1;if(o.isInSet(u||P.marks()))return s.removeStoredMark(o),r?.(s),!0}else{for(const P of C){const{$from:V,$to:X}=P;f.rangeHasMark(V.pos,X.pos,o)&&s.removeMark(V.pos,X.pos,o)}if(!s.docChanged)return!1;r?.(s.scrollIntoView())}return!1})(e,r);var o}}canExecute(e){return this.apply("text_color"===this.name?{color:""}:{backgroundColor:""})(e)}}const rm=["link"],Uf=new ea("strong"),dd=new ea("em"),hd=new ea("code"),fd=new ea("u"),Uc=new ea("s"),pd=new class Vc{toggle(){return(e,r)=>{const{schema:s}=e,l=s.nodes.blockquote;return!!l&&(this.isActive(e)?((o,e)=>{let{$from:r,$to:s}=o.selection,l=r.blockRange(s),u=l&&Wn(l);return null!=u&&(e&&e(o.tr.lift(l,u).scrollIntoView()),!0)})(e,r):function Fu(o,e=null){return function(r,s){let{$from:l,$to:u}=r.selection,f=l.blockRange(u),p=f&&Kn(f,o,e);return!!p&&(s&&s(r.tr.wrap(f,p).scrollIntoView()),!0)}}(l)(e,r))}}isActive(e){const{schema:r}=e,s=r.nodes.blockquote;return!!s&&yl(e,s)}canExecute(e){return this.toggle()(e)}},Dl=new class Hf{insert(){return(e,r)=>{const{schema:s,tr:l}=e,u=s.nodes.horizontal_rule;return!!u&&(r(l.replaceSelectionWith(u.create()).scrollIntoView()),!0)}}canExecute(e){return((o,e)=>{const{$from:r}=o.selection;for(let s=r.depth;s>=0;s-=1){const l=r.index(s);if(r.node(s).canReplaceWith(l,l,e))return!0}return!1})(e,e.schema.nodes.horizontal_rule)}},El=new class bl{insert(){return(e,r)=>{const{tr:s}=e,{ranges:l,empty:u}=s.selection;return u||(Object.entries(e.schema.marks).forEach(([f,p])=>{rm.includes(f)||l.forEach(C=>{s.removeMark(C.$from.pos,C.$to.pos,p)})}),r(s)),!0}}canExecute(){return!0}},gd=new xl(!0),zc=new xl(!1),md=new Bo(1),jc=new Bo(2),Ka=new Bo(3),zf=new Bo(4),yd=new Bo(5),jf=new Bo(6),$f=new xa("left"),vd=new xa("center"),$c=new xa("right"),wd=new xa("justify"),im=new Cl,_d=new Hc,Gf=new Ca("text_color","color"),xd=new Ca("text_background_color","backgroundColor"),Ml={bold:Uf,italic:dd,code:hd,underline:fd,strike:Uc,blockquote:pd,bullet_list:gd,ordered_list:zc,h1:md,h2:jc,h3:Ka,h4:zf,h5:yd,h6:jf,align_left:$f,align_center:vd,align_right:$c,align_justify:wd},Cd={horizontal_rule:Dl,format_clear:El},ms=im,bd=_d,Dd=Gf,Wf=xd,Gc={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"};class Yf{constructor(e={}){this.locals=Gc,this.get=r=>this.locals[r]??"",this.locals={...Gc,...e}}}const Sl={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n',italic:'\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',underline:'\n<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>\n',strike:'\n<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n',bullet_list:'\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',blockquote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n',link:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>\n',unlink:'\n<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>\n',image:'\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>\n',align_left:'\n<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n',align_center:'\n<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n',align_right:'\n<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n',align_justify:'\n<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>\n',text_color:'\n<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>\n',color_fill:'\n<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>\n',horizontal_rule:'\n  <g>\n    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>\n    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>\n  </g>\n',format_clear:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>\n',path:"<path></path>"};class kd{static get(e,r="currentColor"){const s=Sl[e];return s&&(s.includes("<path")||s.includes("<g"))?`\n        <svg\n          xmlns="http://www.w3.org/2000/svg"\n          viewBox="0 0 24 24"\n          fill=${r}\n          height=20\n          width=20\n        >\n          ${s}\n        </svg>\n      `:s}}let Pd=(()=>{class o{constructor(){this.locals={},this.icons={}}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275prov=d.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),ba=(()=>{class o{constructor(r){this.config=r}get locals(){return new Yf(this.config.locals)}getIcon(r){return this.config.icons[r]?this.config.icons[r]:kd.get(r)}}return o.\u0275fac=function(r){return new(r||o)(d.LFG(Pd,8))},o.\u0275prov=d.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const ip=o=>({locals:o.locals??{},icons:o.icons??{}});let Da=(()=>{class o{constructor(r){this.sanitizer=r}transform(r){return this.sanitizer.bypassSecurityTrustHtml(r)}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(ya.H7,16))},o.\u0275pipe=d.Yjl({name:"sanitizeHtml",type:o,pure:!0}),o})(),Rd=(()=>{class o{constructor(r,s){this.ngxeService=r,this.menuService=s,this.isActive=!1,this.disabled=!1,this.update=l=>{const{state:u}=l,f=Ml[this.name];this.isActive=f.isActive(u),this.disabled=!f.canExecute(u)}}get name(){return this.toolbarItem}toggle(r){if(r.preventDefault(),0!==r.button)return;const{state:s,dispatch:l}=this.editorView;Ml[this.name].toggle()(s,l)}getTitle(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(ba),d.Y36(yo))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:2,vars:8,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(r,s){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(u){return s.toggle(u)}),d.ALo(1,"sanitizeHtml"),d.qZA()),2&r&&(d.ekj("NgxEditor__MenuItem--Active",s.isActive)("NgxEditor--Disabled",s.disabled),d.Q6J("innerHTML",d.lcZ(1,6,s.html),d.oJD)("title",s.getTitle(s.name)))},dependencies:[Da]}),o})(),om=(()=>{class o{constructor(r,s){this.ngxeService=r,this.menuService=s,this.disabled=!1,this.update=l=>{const{state:u}=l;this.disabled=!Cd[this.name].canExecute(u)}}get name(){return this.toolbarItem}insert(r){if(r.preventDefault(),0!==r.button)return;const{state:s,dispatch:l}=this.editorView;Cd[this.name].insert()(s,l)}getTitle(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.html=kd.get(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(ba),d.Y36(yo))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:2,vars:6,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(r,s){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(u){return s.insert(u)}),d.ALo(1,"sanitizeHtml"),d.qZA()),2&r&&(d.ekj("NgxEditor--Disabled",s.disabled),d.Q6J("innerHTML",d.lcZ(1,4,s.html),d.oJD)("title",s.getTitle(s.name)))},dependencies:[Da]}),o})(),sp=(()=>{class o{constructor(r,s,l){this.el=r,this.ngxeService=s,this.menuService=l,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.setText=()=>{const{state:{selection:u,doc:f}}=this.editorView,{empty:p,from:C,to:P}=u,V=p?"":f.textBetween(C,P);V&&(this.text.patchValue(V),this.text.disable())},this.update=u=>{const{state:f}=u;this.isActive=ms.isActive(f,{strict:!1}),this.canExecute=ms.canExecute(f)}}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hideForm()}getLabel(r){return this.ngxeService.locals.get(r)}hideForm(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}onMouseDown(r){if(0!==r.button)return;const{state:s,dispatch:l}=this.editorView;this.isActive?ms.remove(s,l):(this.showPopup=!this.showPopup,this.showPopup&&this.setText())}insertLink(r){r.preventDefault();const{text:s,href:l,openInNewTab:u}=this.form.getRawValue(),{dispatch:f,state:p}=this.editorView,{selection:C}=p,P={title:l,href:l,target:u?"_blank":"_self"};C.empty?(ms.insert(s,P)(p,f),this.editorView.focus()):ms.update(P)(p,f),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new T.cw({href:new T.NI("",[T.kI.required,T.kI.pattern(this.menuService.editor.linkValidationPattern)]),text:new T.NI("",[T.kI.required]),openInNewTab:new T.NI(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(d.SBq),d.Y36(ba),d.Y36(yo))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-link"]],hostBindings:function(r,s){1&r&&d.NdJ("mousedown",function(u){return s.onDocumentClick(u)},!1,d.evT)},decls:3,vars:9,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","href","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off"],["type","checkbox","formControlName","openInNewTab"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(r,s){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(u){return s.onMouseDown(u)}),d.ALo(1,"sanitizeHtml"),d.qZA(),d.YNc(2,Wa,21,8,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",s.isActive||s.showPopup)("NgxEditor--Disabled",!s.canExecute),d.Q6J("innerHTML",d.lcZ(1,7,s.icon),d.oJD)("title",s.title),d.xp6(2),d.Q6J("ngIf",s.showPopup))},dependencies:[gi.O5,T._Y,T.Fj,T.Wl,T.JJ,T.JL,T.sg,T.u,Da]}),o})(),Ea=(()=>{class o{constructor(r,s,l){this.ngxeService=r,this.menuService=s,this.el=l,this.isDropdownOpen=!1,this.disabledItems=[],this.update=u=>{const{state:f}=u;this.disabledItems=[];const p=[];this.items.forEach(C=>{const P=Ml[C];P.isActive(f)&&p.push(C),P.canExecute(f)||this.disabledItems.push(C)}),1===p.length?[this.activeItem]=p:this.activeItem=null}}get isSelected(){return Boolean(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(r){!this.el.nativeElement.contains(r)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(r){return this.ngxeService.locals.get(r)}toggleDropdown(r){r.preventDefault(),this.isDropdownOpen=!this.isDropdownOpen}trackByIndex(r){return r}onClick(r,s){if(r.preventDefault(),0!==r.button)return;const l=Ml[s],{state:u,dispatch:f}=this.editorView;l.toggle()(u,f),this.isDropdownOpen=!1}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(ba),d.Y36(yo),d.Y36(d.SBq))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-dropdown"]],hostBindings:function(r,s){1&r&&d.NdJ("mousedown",function(u){return s.onDocumentClick(u.target)},!1,d.evT)},inputs:{group:"group",items:"items"},decls:3,vars:6,consts:[[1,"NgxEditor__Dropdown--Text",3,"mousedown"],["class","NgxEditor__Dropdown--DropdownMenu",4,"ngIf"],[1,"NgxEditor__Dropdown--DropdownMenu"],["class","NgxEditor__Dropdown--Item",3,"ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Dropdown--Item",3,"ngClass","mousedown"]],template:function(r,s){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(u){return s.toggleDropdown(u)}),d._uU(1),d.qZA(),d.YNc(2,Df,2,2,"div",1)),2&r&&(d.ekj("NgxEditor__Dropdown--Selected",s.isSelected)("NgxEditor--Disabled",s.isDropdownDisabled),d.xp6(1),d.hij(" ",s.getName(s.activeItem||s.group),"\n"),d.xp6(1),d.Q6J("ngIf",s.isDropdownOpen))},dependencies:[gi.mk,gi.sg,gi.O5]}),o})(),op=(()=>{class o{constructor(r,s,l){this.el=r,this.ngxeService=s,this.menuService=l,this.showPopup=!1,this.isActive=!1,this.form=new T.cw({src:new T.NI("",[T.kI.required,T.kI.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)")]),alt:new T.NI(""),title:new T.NI("")}),this.update=u=>{const{state:f}=u;this.isActive=bd.isActive(f)}}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hideForm()}getLabel(r){return this.ngxeService.locals.get(r)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}onMouseDown(r){0===r.button&&(this.showPopup=!this.showPopup,this.showPopup&&this.fillForm())}fillForm(){const{state:r}=this.editorView,{selection:s}=r;if(s instanceof Ft&&this.isActive){const{src:l,alt:u="",title:f=""}=s.node.attrs;this.form.setValue({src:l,alt:u,title:f})}}insertLink(r){r.preventDefault();const{src:s,alt:l,title:u}=this.form.getRawValue(),{dispatch:f,state:p}=this.editorView;bd.insert(s,{alt:l,title:u})(p,f),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(d.SBq),d.Y36(ba),d.Y36(yo))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-image"]],hostBindings:function(r,s){1&r&&d.NdJ("mousedown",function(u){return s.onDocumentClick(u)},!1,d.evT)},decls:3,vars:7,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label"],["type","href","id","href","formControlName","src","autofocus","","autocomplete","off"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off"],["type","text","formControlName","title","autocomplete","off"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(r,s){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(u){return s.onMouseDown(u)}),d.ALo(1,"sanitizeHtml"),d.qZA(),d.YNc(2,Ef,20,7,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",s.isActive||s.showPopup),d.Q6J("innerHTML",d.lcZ(1,5,s.icon),d.oJD)("title",s.getLabel("insertImage")),d.xp6(2),d.Q6J("ngIf",s.showPopup))},dependencies:[gi.O5,T._Y,T.Fj,T.JJ,T.JL,T.sg,T.u,Da]}),o})(),Fd=(()=>{class o{constructor(r,s,l){this.el=r,this.menuService=s,this.ngxeService=l,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=u=>{const{state:f}=u;this.canExecute=this.command.canExecute(f),this.isActive=this.command.isActive(f),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(f))}}get title(){return this.getLabel("text_color"===this.type?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon("text_color"===this.type?"text_color":"color_fill")}get command(){return"text_color"===this.type?Dd:Wf}getContrastYIQ(r){const s=r.replace("#","");return(299*parseInt(s.substring(0,2),16)+587*parseInt(s.substring(2,4),16)+114*parseInt(s.substring(4,6),16))/1e3>=128?"black":"white"}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(r){r.preventDefault(),0===r.button&&(this.showPopup=!this.showPopup)}remove(r){r.preventDefault();const{state:s,dispatch:l}=this.editorView;this.command.remove()(s,l),this.hidePopup()}trackByIndex(r){return r}onColorSelect(r,s){if(r.preventDefault(),0!==r.button)return;const{state:l,dispatch:u}=this.editorView;"text_color"===this.type?this.command.apply({color:s})(l,u):this.command.apply({backgroundColor:s})(l,u),this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}getLabel(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(d.SBq),d.Y36(yo),d.Y36(ba))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-color-picker"]],hostBindings:function(r,s){1&r&&d.NdJ("mousedown",function(u){return s.onDocumentClick(u)},!1,d.evT)},inputs:{presets:"presets",type:"type"},decls:3,vars:9,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"disabled","mousedown"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown"]],template:function(r,s){1&r&&(d.TgZ(0,"div",0),d.NdJ("mousedown",function(u){return s.togglePopup(u)}),d.ALo(1,"sanitizeHtml"),d.qZA(),d.YNc(2,Tf,4,4,"div",1)),2&r&&(d.ekj("NgxEditor__MenuItem--Active",s.isActive||s.showPopup)("NgxEditor--Disabled",!s.canExecute),d.Q6J("innerHTML",d.lcZ(1,7,s.icon),d.oJD)("title",s.title),d.xp6(2),d.Q6J("ngIf",s.showPopup))},dependencies:[gi.mk,gi.sg,gi.O5,gi.PC,Da],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']}),o})();const ap=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]],cp=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"];let up=(()=>{class o{constructor(r){this.menuService=r,this.toolbar=ap,this.colorPresets=cp,this.disabled=!1,this.customMenuRef=null,this.dropdownPlacement="bottom",this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify"],this.insertCommands=["horizontal_rule","format_clear"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--Icon"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}get presets(){const s=[];return this.colorPresets.forEach((l,u)=>{const f=Math.floor(u/8);s[f]||s.push([]),s[f].push(l)}),s}trackByIndex(r){return r}isDropDown(r){return!!r?.heading}getDropdownItems(r){return r}ngOnInit(){if(!this.editor)throw new De("Required editor instance to initialize menu component");this.menuService.editor=this.editor}}return o.\u0275fac=function(r){return new(r||o)(d.Y36(yo))},o.\u0275cmp=d.Xpm({type:o,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[d._Bn([yo])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(r,s){1&r&&(d.TgZ(0,"div",0),d.YNc(1,em,2,2,"ng-container",1),d.YNc(2,mo,2,1,"ng-container",2),d.qZA()),2&r&&(d.Q6J("ngClass",d.WLB(4,kc,s.disabled,"top"===s.dropdownPlacement)),d.xp6(1),d.Q6J("ngForOf",s.toolbar)("ngForTrackBy",s.trackByIndex),d.xp6(1),d.Q6J("ngIf",s.customMenuRef))},dependencies:[gi.mk,gi.sg,gi.O5,gi.tP,Rd,om,sp,Ea,op,Fd,gi.Nd]}),o})(),dp=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=d.oAB({type:o}),o.\u0275inj=d.cJS({providers:[Da],imports:[gi.ez,T.UX]}),o})();const qa=new d.OlP("NgxEditorConfig"),Ld={locals:Gc,icons:Sl};let Bd=(()=>{class o{static forRoot(r=Ld){return{ngModule:o,providers:[{provide:qa,useValue:r},{provide:Pd,useFactory:ip,deps:[qa]}]}}static forChild(r=Ld){return{ngModule:o,providers:[{provide:qa,useValue:r},{provide:Pd,useFactory:ip,deps:[qa]},ba]}}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=d.oAB({type:o}),o.\u0275inj=d.cJS({imports:[gi.ez,dp]}),o})();const Qs=(o,e=!1)=>(r,s)=>{const l=new ea(o);return e?l.toggle()(r,s):l.apply()(r,s)};class um{constructor(e){if(this.applyTrx=r=>{this.state=this.state.apply(r??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=r=>{this.applyTrx(r)},!e)throw new De("Required view to initialize commands.");this.view=e,this.state=e.state,this.tr=this.view.state.tr}exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;const e=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);const r=this.tr.setMeta("FORCE_EMIT",e);return this.view.dispatch(r),!0}focus(e="end"){const r="start"===e?cn.atStart(this.state.doc):cn.atEnd(this.state.doc);return this.tr.setSelection(r),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(e){return this.tr.insertText(e),this.applyTrx(),this}insertNewLine(){return Jo(ku,Pu,fl,lc)(this.state,this.dispatch),this}applyMark(e){return Qs(e,!1)(this.state,this.dispatch),this}toggleMark(e){return Qs(e,!0)(this.state,this.dispatch),this}bold(){return Qs("strong")(this.state,this.dispatch),this}toggleBold(){return Qs("strong",!0)(this.state,this.dispatch),this}italics(){return Qs("em")(this.state,this.dispatch),this}toggleItalics(){return Qs("em",!0)(this.state,this.dispatch),this}underline(){return Qs("u")(this.state,this.dispatch),this}toggleUnderline(){return Qs("u",!0)(this.state,this.dispatch),this}strike(){return Qs("s")(this.state,this.dispatch),this}toggleStrike(){return Qs("s",!0)(this.state,this.dispatch),this}code(){return Qs("code")(this.state,this.dispatch),this}toggleCode(){return Qs("code",!0)(this.state,this.dispatch),this}toggleOrderedList(){return new xl(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new xl(!0).toggle()(this.state,this.dispatch),this}toggleHeading(e){return new Bo(e).toggle()(this.state,this.dispatch),this}insertLink(e,r){return(new Cl).insert(e,r)(this.state,this.dispatch),this}updateLink(e){return(new Cl).update(e)(this.state,this.dispatch),this}insertImage(e,r={}){return(new Hc).insert(e,r)(this.state,this.dispatch),this}textColor(e){return new Ca("text_color").apply({color:e})(this.state,this.dispatch),this}backgroundColor(e){return new Ca("text_background_color").apply({backgroundColor:e})(this.state,this.dispatch),this}removeTextColor(){return new Ca("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new Ca("text_background_color").remove()(this.state,this.dispatch),this}align(e){return new xa(e).toggle()(this.state,this.dispatch),this}insertHTML(e){const{selection:r,schema:s,tr:l}=this.state,{from:u,to:f}=r,p=document.createElement("div");p.innerHTML=e.trim();const C=Oe.fromSchema(s).parseSlice(p),P=l.replaceRange(u,f,C);return this.applyTrx(P),this}}const Ma=typeof navigator<"u"&&/Mac/.test(navigator.platform),Mo=o=>{const e=ga.concat(Uu,Xo);return e.push((o=>yc(/(?:^|\s)(?:(?:\*\*|__)(?:(?:[^*_]+))(?:\*\*|__))$/,o))(o.marks.strong)),e.push((o=>yc(/(?:^|\s)(?:(?:\*|_)(?:(?:[^*_]+))(?:\*|_))$/,o))(o.marks.em)),e.push((o=>pc(/^\s*>\s$/,o))(o.nodes.blockquote)),e.push((o=>pc(/^(?:\d+)\.\s$/,o,e=>({order:Number(e[1])}),(e,r)=>r.childCount+r.attrs.order===Number(e[1])))(o.nodes.ordered_list)),e.push((o=>pc(/^\s*(?:[-+*])\s$/,o))(o.nodes.bullet_list)),e.push((o=>ju(/^```$/,o))(o.nodes.code_block)),e.push(((o,e)=>ju(new RegExp("^(#{1,6})\\s$"),o,r=>({level:r[1].length})))(o.nodes.heading)),function nf({rules:o}){let e=new ti({state:{init:()=>null,apply(r,s){return r.getMeta(this)||(r.selectionSet||r.docChanged?null:s)}},props:{handleTextInput:(r,s,l,u)=>ml(r,s,l,u,o,e),handleDOMEvents:{compositionend:r=>{setTimeout(()=>{let{$cursor:s}=r.state.selection;s&&ml(r,s.pos,s.pos,"",o,e)})}}},isInputRules:!0});return e}({rules:e})},$d=(o,e)=>{const r=[];return e.keyboardShortcuts&&r.push(...((o,e)=>{const r={};r["Mod-z"]=Ju,Ma?r["Shift-Mod-z"]=Ic:r["Mod-y"]=Ic;const s=[xc({"Mod-b":pa(o.marks.strong),"Mod-i":pa(o.marks.em),"Mod-u":pa(o.marks.u),"Mod-`":pa(o.marks.code)}),xc({Enter:bu(o.nodes.list_item),"Shift-Enter":Jo(ac,(l,u)=>{const{tr:f}=l;return u(f.replaceSelectionWith(o.nodes.hard_break.create()).scrollIntoView()),!0}),"Mod-[":rc(o.nodes.list_item),"Mod-]":Eu(o.nodes.list_item),Tab:Eu(o.nodes.list_item)}),xc(Qo)];return e.history&&s.push(xc(r)),s})(o,{history:e.history})),e.history&&r.push(function Ac(o={}){return new ti({key:go,state:{init:()=>new Do(zs.empty,zs.empty,null,0),apply:(e,r,s)=>function wf(o,e,r,s){let u,l=r.getMeta(go);if(l)return l.historyState;r.getMeta(Zu)&&(o=new Do(o.done,o.undone,null,0));let f=r.getMeta("appendedTransaction");if(0==r.steps.length)return o;if(f&&f.getMeta(go))return f.getMeta(go).redo?new Do(o.done.addTransform(r,void 0,s,wl(e)),o.undone,va(r.mapping.maps[r.steps.length-1]),o.prevTime):new Do(o.done,o.undone.addTransform(r,void 0,s,wl(e)),null,o.prevTime);if(!1===r.getMeta("addToHistory")||f&&!1===f.getMeta("addToHistory"))return(u=r.getMeta("rebased"))?new Do(o.done.rebased(r,u),o.undone.rebased(r,u),Mc(o.prevRanges,r.mapping),o.prevTime):new Do(o.done.addMaps(r.mapping.maps),o.undone.addMaps(r.mapping.maps),Mc(o.prevRanges,r.mapping),o.prevTime);{let p=0==o.prevTime||!f&&(o.prevTime<(r.time||0)-s.newGroupDelay||!function Ec(o,e){if(!e)return!1;if(!o.docChanged)return!0;let r=!1;return o.mapping.maps[0].forEach((s,l)=>{for(let u=0;u<e.length;u+=2)s<=e[u+1]&&l>=e[u]&&(r=!0)}),r}(r,o.prevRanges)),C=f?Mc(o.prevRanges,r.mapping):va(r.mapping.maps[r.steps.length-1]);return new Do(o.done.addTransform(r,p?e.selection.getBookmark():void 0,s,wl(e)),zs.empty,C,r.time)}}(r,s,e,o)},config:o={depth:o.depth||100,newGroupDelay:o.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(e,r){let s=r.inputType,l="historyUndo"==s?Ju:"historyRedo"==s?Ic:null;return!!l&&(r.preventDefault(),l(e.state,e.dispatch))}}}})}()),e.inputRules&&r.push(Mo(o)),r},Il={linkOnPaste:!0,resizeImage:!0},fp={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:ja,plugins:[],nodeViews:{},attributes:{},features:Il,handleScrollToSelection:null,linkValidationPattern:"(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)|(mailto:.*[@].*)"};class Gd{constructor(e=fp){this.valueChangesSubject=new ue.x,this.updateSubject=new ue.x,this.options={...fp,...e},this.createEditor()}get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||ja}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new um(this.view)}get features(){return{...Il,...this.options.features}}handleTransactions(e){const r=this.view.state.apply(e);if(this.view.updateState(r),this.updateSubject.next(this.view),!e.docChanged&&!e.getMeta("FORCE_EMIT"))return;const s=r.doc.toJSON();this.valueChangesSubject.next(s)}createEditor(){const{options:e,schema:r}=this,{content:s=null,nodeViews:l}=e,{history:u=!0,keyboardShortcuts:f=!0,inputRules:p=!0}=e,C=Ya(s,r),P=e.plugins??[],V=e.attributes??{},X=$d(r,{history:u,keyboardShortcuts:f,inputRules:p});this.view=new Nh(null,{state:lr.create({doc:C,schema:r,plugins:[...X,...P]}),nodeViews:l,dispatchTransaction:this.handleTransactions.bind(this),attributes:V,handleScrollToSelection:e.handleScrollToSelection})}setContent(e){if(typeof(o=e)>"u"||null===o)return;var o;const{state:r}=this.view,{tr:s,doc:l}=r,u=Ya(e,this.schema);s.replaceWith(0,r.doc.content.size,u),!l.eq(s.doc)&&(!s.docChanged||this.view.dispatch(s))}registerPlugin(e){const{state:r}=this.view,s=[...r.plugins,e],l=r.reconfigure({plugins:s});this.view.updateState(l)}destroy(){this.view.destroy()}}},7185:(_t,Le,z)=>{z.d(Le,{Rh:()=>Vt,_W:()=>be});var d=z(1571),T=z(7340),ue=z(7579),ve=z(6895),_e=z(1481);const Ae=["toast-component",""];function we(Ze,Ye){if(1&Ze){const pe=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){d.CHM(pe);const dt=d.oxw();return d.KtG(dt.remove())}),d.TgZ(1,"span",6),d._uU(2,"\xd7"),d.qZA()()}}function Be(Ze,Ye){if(1&Ze&&(d.ynx(0),d._uU(1),d.BQk()),2&Ze){const pe=d.oxw(2);d.xp6(1),d.hij("[",pe.duplicatesCount+1,"]")}}function De(Ze,Ye){if(1&Ze&&(d.TgZ(0,"div"),d._uU(1),d.YNc(2,Be,2,1,"ng-container",4),d.qZA()),2&Ze){const pe=d.oxw();d.Tol(pe.options.titleClass),d.uIk("aria-label",pe.title),d.xp6(1),d.hij(" ",pe.title," "),d.xp6(1),d.Q6J("ngIf",pe.duplicatesCount)}}function me(Ze,Ye){if(1&Ze&&d._UZ(0,"div",7),2&Ze){const pe=d.oxw();d.Tol(pe.options.messageClass),d.Q6J("innerHTML",pe.message,d.oJD)}}function Se(Ze,Ye){if(1&Ze&&(d.TgZ(0,"div",8),d._uU(1),d.qZA()),2&Ze){const pe=d.oxw();d.Tol(pe.options.messageClass),d.uIk("aria-label",pe.message),d.xp6(1),d.hij(" ",pe.message," ")}}function ge(Ze,Ye){if(1&Ze&&(d.TgZ(0,"div"),d._UZ(1,"div",9),d.qZA()),2&Ze){const pe=d.oxw();d.xp6(1),d.Udp("width",pe.width+"%")}}class de{constructor(Ye,pe){this.component=Ye,this.injector=pe}attach(Ye,pe){return this._attachedHost=Ye,Ye.attach(this,pe)}detach(){const Ye=this._attachedHost;if(Ye)return this._attachedHost=void 0,Ye.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ye){this._attachedHost=Ye}}class tt{constructor(Ye){this._overlayRef=Ye,this.duplicatesCount=0,this._afterClosed=new ue.x,this._activate=new ue.x,this._manualClose=new ue.x,this._resetTimeout=new ue.x,this._countDuplicate=new ue.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Ye,pe){Ye&&this._resetTimeout.next(),pe&&this._countDuplicate.next(++this.duplicatesCount)}}class It{constructor(Ye,pe,Pe,dt,qt,mt){this.toastId=Ye,this.config=pe,this.message=Pe,this.title=dt,this.toastType=qt,this.toastRef=mt,this._onTap=new ue.x,this._onAction=new ue.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Ye){this._onAction.next(Ye)}onAction(){return this._onAction.asObservable()}}const We=new d.OlP("ToastConfig");class et extends class le{attach(Ye,pe){return this._attachedPortal=Ye,this.attachComponentPortal(Ye,pe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Ye){this._disposeFn=Ye}}{constructor(Ye,pe,Pe){super(),this._hostDomElement=Ye,this._componentFactoryResolver=pe,this._appRef=Pe}attachComponentPortal(Ye,pe){const Pe=this._componentFactoryResolver.resolveComponentFactory(Ye.component);let dt;return dt=Pe.create(Ye.injector),this._appRef.attachView(dt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(dt.hostView),dt.destroy()}),pe?this._hostDomElement.insertBefore(this._getComponentRootNode(dt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(dt)),dt}_getComponentRootNode(Ye){return Ye.hostView.rootNodes[0]}}class xe{constructor(Ye){this._portalHost=Ye}attach(Ye,pe=!0){return this._portalHost.attach(Ye,pe)}detach(){return this._portalHost.detach()}}let Ce=(()=>{class Ze{constructor(pe){this._document=pe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const pe=this._document.createElement("div");pe.classList.add("overlay-container"),pe.setAttribute("aria-live","polite"),this._document.body.appendChild(pe),this._containerElement=pe}}return Ze.\u0275fac=function(pe){return new(pe||Ze)(d.LFG(ve.K0))},Ze.\u0275prov=d.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})(),Ve=(()=>{class Ze{constructor(pe,Pe,dt,qt){this._overlayContainer=pe,this._componentFactoryResolver=Pe,this._appRef=dt,this._document=qt,this._paneElements=new Map}create(pe,Pe){return this._createOverlayRef(this.getPaneElement(pe,Pe))}getPaneElement(pe="",Pe){return this._paneElements.get(Pe)||this._paneElements.set(Pe,{}),this._paneElements.get(Pe)[pe]||(this._paneElements.get(Pe)[pe]=this._createPaneElement(pe,Pe)),this._paneElements.get(Pe)[pe]}_createPaneElement(pe,Pe){const dt=this._document.createElement("div");return dt.id="toast-container",dt.classList.add(pe),dt.classList.add("toast-container"),Pe?Pe.getContainerElement().appendChild(dt):this._overlayContainer.getContainerElement().appendChild(dt),dt}_createPortalHost(pe){return new et(pe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(pe){return new xe(this._createPortalHost(pe))}}return Ze.\u0275fac=function(pe){return new(pe||Ze)(d.LFG(Ce),d.LFG(d._Vd),d.LFG(d.z2F),d.LFG(ve.K0))},Ze.\u0275prov=d.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})(),be=(()=>{class Ze{constructor(pe,Pe,dt,qt,mt){this.overlay=Pe,this._injector=dt,this.sanitizer=qt,this.ngZone=mt,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...pe.default,...pe.config},pe.config.iconClasses&&(this.toastrConfig.iconClasses={...pe.default.iconClasses,...pe.config.iconClasses})}show(pe,Pe,dt={},qt=""){return this._preBuildNotification(qt,pe,Pe,this.applyConfig(dt))}success(pe,Pe,dt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",pe,Pe,this.applyConfig(dt))}error(pe,Pe,dt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",pe,Pe,this.applyConfig(dt))}info(pe,Pe,dt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",pe,Pe,this.applyConfig(dt))}warning(pe,Pe,dt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",pe,Pe,this.applyConfig(dt))}clear(pe){for(const Pe of this.toasts)if(void 0!==pe){if(Pe.toastId===pe)return void Pe.toastRef.manualClose()}else Pe.toastRef.manualClose()}remove(pe){const Pe=this._findToast(pe);if(!Pe||(Pe.activeToast.toastRef.close(),this.toasts.splice(Pe.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const dt=this.toasts[this.currentlyActive].toastRef;dt.isInactive()||(this.currentlyActive=this.currentlyActive+1,dt.activate())}return!0}findDuplicate(pe="",Pe="",dt,qt){const{includeTitleDuplicates:mt}=this.toastrConfig;for(const $n of this.toasts){const Un=mt&&$n.title===pe;if((!mt||Un)&&$n.message===Pe)return $n.toastRef.onDuplicate(dt,qt),$n}return null}applyConfig(pe={}){return{...this.toastrConfig,...pe}}_findToast(pe){for(let Pe=0;Pe<this.toasts.length;Pe++)if(this.toasts[Pe].toastId===pe)return{index:Pe,activeToast:this.toasts[Pe]};return null}_preBuildNotification(pe,Pe,dt,qt){return qt.onActivateTick?this.ngZone.run(()=>this._buildNotification(pe,Pe,dt,qt)):this._buildNotification(pe,Pe,dt,qt)}_buildNotification(pe,Pe,dt,qt){if(!qt.toastComponent)throw new Error("toastComponent required");const mt=this.findDuplicate(dt,Pe,this.toastrConfig.resetTimeoutOnDuplicate&&qt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&dt||Pe)&&this.toastrConfig.preventDuplicates&&null!==mt)return mt;this.previousToastMessage=Pe;let $n=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&($n=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Un=this.overlay.create(qt.positionClass,this.overlayContainer);this.index=this.index+1;let zn=Pe;Pe&&qt.enableHtml&&(zn=this.sanitizer.sanitize(d.q3G.HTML,Pe));const rr=new tt(Un),Xn=new It(this.index,qt,zn,dt,pe,rr),Cr=d.zs3.create({providers:[{provide:It,useValue:Xn}],parent:this._injector}),gr=new de(qt.toastComponent,Cr),Mn=Un.attach(gr,qt.newestOnTop);rr.componentInstance=Mn.instance;const ir={toastId:this.index,title:dt||"",message:Pe||"",toastRef:rr,onShown:rr.afterActivate(),onHidden:rr.afterClosed(),onTap:Xn.onTap(),onAction:Xn.onAction(),portal:Mn};return $n||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ir.toastRef.activate()})),this.toasts.push(ir),ir}}return Ze.\u0275fac=function(pe){return new(pe||Ze)(d.LFG(We),d.LFG(Ve),d.LFG(d.zs3),d.LFG(_e.H7),d.LFG(d.R0b))},Ze.\u0275prov=d.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();const Qe={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class Ze{constructor(pe,Pe,dt){this.toastrService=pe,this.toastPackage=Pe,this.ngZone=dt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Pe.message,this.title=Pe.title,this.options=Pe.config,this.originalTimeout=Pe.config.timeOut,this.toastClasses=`${Pe.toastType} ${Pe.config.toastClass}`,this.sub=Pe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Pe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Pe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Pe.toastRef.countDuplicate().subscribe(qt=>{this.duplicatesCount=qt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const pe=(new Date).getTime();this.width=(this.hideTime-pe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(pe,Pe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(pe),Pe)):this.timeout=setTimeout(()=>pe(),Pe)}outsideInterval(pe,Pe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(pe),Pe)):this.intervalId=setInterval(()=>pe(),Pe)}runInsideAngular(pe){this.ngZone?this.ngZone.run(()=>pe()):pe()}}return Ze.\u0275fac=function(pe){return new(pe||Ze)(d.Y36(be),d.Y36(It),d.Y36(d.R0b))},Ze.\u0275cmp=d.Xpm({type:Ze,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(pe,Pe){1&pe&&d.NdJ("click",function(){return Pe.tapToast()})("mouseenter",function(){return Pe.stickAround()})("mouseleave",function(){return Pe.delayedHideToast()}),2&pe&&(d.d8E("@flyInOut",Pe.state),d.Tol(Pe.toastClasses),d.Udp("display",Pe.displayStyle))},attrs:Ae,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(pe,Pe){1&pe&&(d.YNc(0,we,3,0,"button",0),d.YNc(1,De,3,5,"div",1),d.YNc(2,me,1,3,"div",2),d.YNc(3,Se,2,4,"div",3),d.YNc(4,ge,2,2,"div",4)),2&pe&&(d.Q6J("ngIf",Pe.options.closeButton),d.xp6(1),d.Q6J("ngIf",Pe.title),d.xp6(1),d.Q6J("ngIf",Pe.message&&Pe.options.enableHtml),d.xp6(1),d.Q6J("ngIf",Pe.message&&!Pe.options.enableHtml),d.xp6(1),d.Q6J("ngIf",Pe.options.progressBar))},dependencies:[ve.O5],encapsulation:2,data:{animation:[(0,T.X$)("flyInOut",[(0,T.SB)("inactive",(0,T.oB)({opacity:0})),(0,T.SB)("active",(0,T.oB)({opacity:1})),(0,T.SB)("removed",(0,T.oB)({opacity:0})),(0,T.eR)("inactive => active",(0,T.jt)("{{ easeTime }}ms {{ easing }}")),(0,T.eR)("active => removed",(0,T.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Ze})()};let Vt=(()=>{class Ze{static forRoot(pe={}){return{ngModule:Ze,providers:[{provide:We,useValue:{default:Qe,config:pe}}]}}}return Ze.\u0275fac=function(pe){return new(pe||Ze)},Ze.\u0275mod=d.oAB({type:Ze}),Ze.\u0275inj=d.cJS({imports:[ve.ez]}),Ze})()}},_t=>{_t(_t.s=8315)}]);