"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[2578],{72578:(I,F,u)=>{u.r(F),u.d(F,{AddproductModule:()=>xt});var p=u(96814),Z=u(74408),a=u(56223),A=u(33360),U=u(30143),t=u(19212),C=u(44293),k=u(58763),g=u(74104),v=u(30617);const y=["tabGroup"];function _(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Enter Product Name "),t.qZA())}function x(n,s){if(1&n&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.title," ")}}function T(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Select category "),t.qZA())}function q(n,s){if(1&n&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.title," ")}}function M(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Select Subcategory Group "),t.qZA())}function J(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Subcategory Group not available "),t.qZA())}function z(n,s){if(1&n&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.title,"")}}function P(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Select Sub Category "),t.qZA())}function Q(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Subcategory not available "),t.qZA())}function G(n,s){if(1&n&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.title," ")}}function B(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Select Brand "),t.qZA())}function L(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Brands not available "),t.qZA())}const d=n=>({"is-invalid":n});function D(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"a",77)(2,"input",78),t.NdJ("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onCheckColor(o))})("change",function(){const i=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onCheckColors(i.title,i.id))}),t.qZA(),t.TgZ(3,"label",79),t.NdJ("click",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onLabelClick(o))}),t._uU(4),t.qZA()()()}if(2&n){const e=s.$implicit,r=s.index,o=t.oxw();t.xp6(2),t.Q6J("value",e.id)("checked",o.selectedColorId.includes(e.id))("ngClass",t.VKq(6,d,o.f.color.touched&&o.f.color.invalid))("id","checkbox-"+r),t.xp6(1),t.Q6J("for","checkbox-"+r),t.xp6(1),t.Oqu(e.title)}}function V(n,s){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.selectedColor+" Colors Selected")}}function E(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1," Select Color "),t.qZA())}function Y(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",77)(1,"input",80),t.NdJ("change",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onCheckSize(o))})("change",function(){const i=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onCheckSizes(i.title,i.id))}),t.qZA(),t.TgZ(2,"label",79),t.NdJ("click",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onLabelClick(o))}),t._uU(3),t.qZA()()}if(2&n){const e=s.$implicit,r=s.index,o=t.oxw();t.xp6(1),t.Q6J("value",e.id)("checked",o.selectedSizeId.includes(e.id))("ngClass",t.VKq(6,d,o.f.size.touched&&o.f.size.invalid))("id","checkboxSize-"+r),t.xp6(1),t.Q6J("for","checkboxSize-"+r),t.xp6(1),t.Oqu(e.title)}}function K(n,s){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.selectedSize+" Size Selected")}}function $(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Select Size "),t.qZA())}function H(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Select Product Store "),t.qZA())}function R(n,s){if(1&n&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij("",e.title," ")}}function j(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Select Unit "),t.qZA())}function W(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Select Product or Service "),t.qZA())}function X(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Enter Return Time"),t.qZA())}function tt(n,s){if(1&n&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(null==e?null:e.slab_title)}}function et(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Select Sale Tax"),t.qZA())}function ot(n,s){if(1&n&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(null==e?null:e.slab_title)}}function rt(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Select Purchase Tax"),t.qZA())}function nt(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Enter Description "),t.qZA())}function it(n,s){if(1&n&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.title," ")}}function at(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",81)(2,"td",82)(3,"div",83)(4,"div",84),t._UZ(5,"input",85),t.TgZ(6,"label"),t._uU(7),t.qZA()(),t.TgZ(8,"div",86)(9,"select",87)(10,"option",20),t._uU(11,"Select Feature"),t.qZA(),t.YNc(12,it,2,2,"option",21),t.qZA()()()()(),t.BQk()),2&n){const e=s.index,r=t.oxw();t.xp6(1),t.Q6J("formGroupName",e),t.xp6(4),t.Q6J("readonly",!0),t.xp6(2),t.Oqu(r.featureGrpBysubcatGroupList.feature_group[e].title),t.xp6(5),t.Q6J("ngForOf",r.featureList[e])}}function st(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Enter Variant name"),t.qZA())}function ct(n,s){1&n&&(t.TgZ(0,"span",75),t._uU(1,"Enter Variant size"),t.qZA())}function ut(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",81)(2,"td",67),t._UZ(3,"input",88),t.qZA(),t.TgZ(4,"td"),t._UZ(5,"input",89),t.qZA(),t.YNc(6,st,2,0,"span",17),t.TgZ(7,"td"),t._UZ(8,"input",90),t.qZA(),t.TgZ(9,"td"),t._UZ(10,"input",90)(11,"br"),t.YNc(12,ct,2,0,"span",17),t.qZA(),t.TgZ(13,"td"),t._UZ(14,"input",91),t.qZA(),t.TgZ(15,"td"),t.O4$(),t.TgZ(16,"svg",92),t.NdJ("click",function(){const i=t.CHM(e).index,c=t.oxw();return t.KtG(c.removeVariant(i))}),t._UZ(17,"path",93)(18,"path",94),t.qZA()()(),t.BQk()}if(2&n){const e=s.index,r=t.oxw();let o,i;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(2),t.Q6J("ngModel",r.productNamme)("readonly",!0),t.xp6(2),t.Q6J("readonly",!0),t.xp6(1),t.Q6J("ngIf",(null==(o=r.getvariant_name(e))?null:o.invalid)&&(null==(o=r.getvariant_name(e))?null:o.touched)),t.xp6(2),t.Q6J("value",void 0!==r.varntColor[e]?r.varntColor[e]:"")("readonly",!0),t.xp6(2),t.Q6J("value",void 0!==r.varntSize[e]?r.varntSize[e]:"")("readonly",!0),t.xp6(2),t.Q6J("ngIf",(null==(i=r.getvariant_size(e))?null:i.invalid)&&(null==(i=r.getvariant_size(e))?null:i.touched))}}function lt(n,s){if(1&n&&(t.TgZ(0,"option",76),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij("",e.title," ")}}function dt(n,s){1&n&&(t.O4$(),t.TgZ(0,"svg",107),t._UZ(1,"path",108)(2,"path",109),t.qZA())}function pt(n,s){if(1&n&&t._UZ(0,"img",110),2&n){const e=t.oxw().index,r=t.oxw();t.Q6J("src",r.url[e],t.LSH)}}function gt(n,s){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",81)(2,"td")(3,"select",95)(4,"option",20),t._uU(5,"Select Color"),t.qZA(),t.YNc(6,lt,2,2,"option",21),t.qZA()(),t.TgZ(7,"td")(8,"div",96),t.YNc(9,dt,3,0,"svg",97)(10,pt,1,1,"img",98),t.TgZ(11,"div",99)(12,"input",100),t.NdJ("change",function(o){const c=t.CHM(e).index,l=t.oxw();return t.KtG(l.onImageSelected(o,c))}),t.qZA(),t.TgZ(13,"div",101)(14,"h4",102),t._uU(15,"Upload"),t.qZA(),t.O4$(),t.TgZ(16,"svg",103),t._UZ(17,"path",104)(18,"path",105),t.qZA()()()()(),t.kcU(),t.TgZ(19,"td")(20,"div",96)(21,"button",106),t.NdJ("click",function(){const i=t.CHM(e).index,c=t.oxw();return t.KtG(c.removeProductImage(i))}),t._uU(22,"Clear"),t.qZA(),t.TgZ(23,"button",62),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addproductImage())}),t._uU(24,"Add"),t.qZA()()()(),t.BQk()}if(2&n){const e=s.index,r=t.oxw();t.xp6(1),t.Q6J("formGroupName",e),t.xp6(5),t.Q6J("ngForOf",r.currentColors),t.xp6(1),t.Akn("width:30%"),t.xp6(2),t.Q6J("ngIf",!r.url[e]),t.xp6(1),t.Q6J("ngIf",r.url[e])}}function _t(n,s){1&n&&(t.TgZ(0,"button",111),t._uU(1,"Save & Create New"),t.qZA())}function ht(n,s){1&n&&(t.TgZ(0,"button",112),t._UZ(1,"span",113),t._uU(2," \xa0 Save & Create New"),t.qZA())}const N=()=>({standalone:!0});let mt=(()=>{class n{selectTab(e){this.tabGroup.selectedIndex=e}get doc(){return this.productForm.get("description")}get f(){return this.productForm.controls}constructor(e,r,o,i,c){this.coreService=e,this.router=r,this.fb=o,this.toastr=i,this.location=c,this.name="abc",this.disable=!0,this.measurable=!1,this.editordoc=U.Z,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["align_left","align_center","align_right","align_justify"]],this.imgUrl="https://pv.greatfuturetechno.com",this.colorList=[],this.searchColor="",this.sizeList=[],this.searchSize="",this.featureList=[],this.selectedColor=0,this.selectedColorId=[],this.selectedSize=0,this.selectedTaxes={},this.selectedSizeId=[],this.selectedVariant=0,this.loader=!1,this.currentSizes=[],this.currentColors=[],this.currentVariants=[],this.selectSize=[],this.selectColor=[],this.varntColor=[],this.varntSize=[],this.p_img=[],this.url=[],this.imgValue=[],this.Show=!0}ngOnInit(){this.editor=new A.ML,this.productForm=this.fb.group({title:new a.NI("",[a.kI.required]),category:new a.NI("",[a.kI.required]),subcategory_group:new a.NI("",[a.kI.required]),subcategory:new a.NI("",[a.kI.required]),brand:new a.NI("",[a.kI.required]),color:new a.Oe([],[a.kI.required]),size:new a.Oe([],[a.kI.required]),product_store:new a.NI("",[a.kI.required]),unit:new a.NI("",[a.kI.required]),purchase_tax_including:new a.NI(""),is_measurable:new a.NI(""),sale_tax_including:new a.NI(""),is_active:new a.NI(""),description:new a.NI(""),return_time:new a.NI("",[a.kI.required,a.kI.pattern(/^[0-9]*$/)]),cod_available:new a.NI("",[a.kI.required]),product_or_service:new a.NI("",[a.kI.required]),sale_tax:new a.NI("",[a.kI.required]),purchase_tax:new a.NI("",[a.kI.required]),product_features:this.fb.array([]),variant_product:this.fb.array([]),product_images:this.fb.array([])}),this.addproductImage(),this.getCategory(),this.getSubCategory(),this.getBrand(),this.getFeatureSubCat(),this.getSubcatGroup(),this.getColor(),this.getSize(),this.getUnit(),this.getUnitConversion(),this.getTaxSlab(),this.getFeatureData(),this.getFeatureGroup()}features(){return this.fb.group({feature_group:"",feature:""})}getFeature(){return this.productForm.get("product_features")}addFeature(){this.getFeature().push(this.features())}removeAmount(e){this.getFeature().removeAt(e)}variants(){return this.fb.group({product_title:"",variant_name:new a.NI("",[a.kI.required]),variant_size:new a.NI("",[a.kI.required]),variant_color:"",sku:new a.NI("")})}getVarinatsForm(){return this.productForm.get("variant_product")}addVariant(){this.getVarinatsForm().push(this.variants())}removeVariant(e){this.getVarinatsForm().removeAt(e)}productImage(){return this.fb.group({product_colour:"",image:""})}getproductImage(){return this.productForm.get("product_images")}addproductImage(){this.getproductImage().push(this.productImage())}removeProductImage(e){this.getproductImage().removeAt(e)}getCategory(){this.coreService.getCategory().subscribe(e=>{this.categoryList=e})}getTaxSlab(){this.coreService.getTaxSlab().subscribe(e=>{this.taxSlabList=e})}getSubCategory(){this.coreService.getSubcategory().subscribe(e=>{this.subcatList=e})}getBrand(){this.coreService.getBrand().subscribe(e=>{this.brandList=e})}getFeatureSubCat(){this.coreService.getFuature_groupD().subscribe(e=>{this.featureSubCatList=e})}getSubcatGroup(){this.coreService.getSubcategoryGroup().subscribe(e=>{this.subcatGroupList=e})}getColor(){this.coreService.getColor().subscribe(e=>{this.colorList=e,this.filteredColorData=this.colorList.slice(),this.filterColorData()})}filterColorData(){let e=this.colorList.slice();if(this.searchColor){const r=this.searchColor.toLowerCase();e=e.filter(o=>(o?.title.toLowerCase()).includes(r))}this.filteredColorData=e}getSize(){this.coreService.getSize().subscribe(e=>{this.sizeList=e,this.filteredSizeData=this.sizeList.slice(),this.filterSizeData()})}filterSizeData(){let e=this.sizeList.slice();if(this.searchSize){const r=this.searchSize.toLowerCase();e=e.filter(o=>(o?.title.toLowerCase()).includes(r))}this.filteredSizeData=e}getVariant(){this.coreService.getVariantd().subscribe(e=>{this.varantList=e})}getUnit(){this.coreService.getUnit().subscribe(e=>{this.unitList=e})}getSubcategoryGroupByCategory(e){this.coreService.getSubcatGraoupByCategory(e).subscribe(r=>{this.subcatGroupByCategory=r})}getSubcategoryBySubcategoryGroup(e){this.coreService.getSubcategoryBySubcatGroup(e).subscribe(r=>{this.subcatbySubCategoryGroup=r.subcategories})}getUnitConversion(){this.coreService.getunitconversion().subscribe(e=>{this.unitConversionList=e})}getBrandBySubcategory(e){this.coreService.getBrandBySubcategory(e).subscribe(r=>{this.brandBySubcat=r})}getFeatureData(){this.coreService.getfeature().subscribe(e=>{})}getFeatureGroup(){this.coreService.getFeatureGroup().subscribe(e=>{this.featureGroupList=e})}getFeatureByFeaturegroup(e,r){this.coreService.getFeatureByFeaturegroup(e).subscribe(o=>{this.featureList[r]=o,console.log(this.featureList[r])})}getHsncodeBySubcategory(e){this.coreService.getHsncodeBySubcategory(e).subscribe(r=>{this.hsncodeBysubcatList=r})}getTaxslabBySubcategory(e){this.coreService.getTaxslabBySubcategory(e).subscribe(r=>{this.taxSlabBysubcatList=r})}getFeaturegroupBySubcategory(e){this.coreService.getFeaturegroupBySubcategoryGroup(e).subscribe(r=>{this.featureGrpBysubcatGroupList=r,this.productForm.get("product_features").clear();for(let i=0;i<this.featureGrpBysubcatGroupList.feature_group.length;i++)this.addFeature(),this.getFeatureByFeaturegroup(this.featureGrpBysubcatGroupList.feature_group[i].id,i);this.featureGrpBysubcatGroupList.feature_group.forEach((i,c)=>{this.productForm.get("product_features").at(c).patchValue({feature_group:i.id})})})}oncheck(e){this.getSubcategoryBySubcategoryGroup(e),this.getFeaturegroupBySubcategory(e)}checkSubact(e){this.getBrandBySubcategory(e)}onCheckColor(e){const r=this.productForm.get("color");if(e.target.checked)r.push(new a.NI(parseInt(e.target.value))),this.check=r,this.selectedColor++,this.selectedColorId=r.value;else{let o=0;r.controls.forEach(i=>{if(i.value==e.target.value)return r.removeAt(o),void this.selectedColor--;o++})}}onCheckSize(e){const r=this.productForm.get("size");if(e.target.checked)r.push(new a.NI(parseInt(e.target.value))),this.check=r,this.selectedSize++,this.selectedSizeId=r.value;else{let o=1;r.controls.forEach(i=>{if(i.value==e.target.value)return r.removeAt(o),void this.selectedSize--;o++})}}onCheckVariant(e){const r=this.productForm.get("variant");if(e.target.checked)r.push(new a.NI(parseInt(e.target.value))),this.check=r,this.selectedVariant++;else{let o=0;r.controls.forEach(i=>{if(i.value==e.target.value)return r.removeAt(o),void this.selectedVariant--;o++})}}submit(){let e=new FormData;e.append("title",this.productForm.get("title")?.value),e.append("category",this.productForm.get("category")?.value),e.append("subcategory",this.productForm.get("subcategory")?.value),e.append("brand",this.productForm.get("brand")?.value),e.append("subcategory_group",this.productForm.get("subcategory_group")?.value),e.append("unit",this.productForm.get("unit")?.value),e.append("description",this.productForm.get("description")?.value),e.append("product_store",this.productForm.get("product_store")?.value),e.append("color",JSON.stringify(this.productForm.get("color")?.value)),e.append("size",JSON.stringify(this.productForm.get("size")?.value)),e.append("is_measurable",this.productForm.get("is_measurable")?.value),e.append("purchase_tax_including",this.productForm.get("purchase_tax_including")?.value),e.append("sale_tax_including",this.productForm.get("sale_tax_including")?.value),e.append("is_active",this.productForm.get("is_active")?.value),e.append("return_time",this.productForm.get("return_time")?.value),e.append("cod_available",this.productForm.get("cod_available")?.value),e.append("product_or_service",this.productForm.get("product_or_service")?.value),e.append("sale_tax",this.productForm.get("sale_tax")?.value),e.append("purchase_tax",this.productForm.get("purchase_tax")?.value);const r=this.productForm.get("variant_product"),o=[];r.controls.forEach(h=>{const m=h,f={};Object.keys(m.controls).forEach(b=>{f[b]=m.controls[b].value}),o.push(f)}),e.append("variant_product",JSON.stringify(o));const i=this.productForm.get("product_features"),c=[];i.controls.forEach(h=>{const m=h,f={};Object.keys(m.controls).forEach(b=>{f[b]=m.controls[b].value}),c.push(f)}),e.append("product_features",JSON.stringify(c));const l=this.productForm.get("product_images"),w=[];l.controls.forEach(h=>{const m=h,f={};Object.keys(m.controls).forEach(b=>{f[b]=m.controls[b].value}),w.push(f)});const Tt=JSON.stringify(w);e.append("product_images",Tt),this.productForm.valid?(this.loader=!0,this.coreService.addProduct(e).subscribe(h=>{h.success&&(this.loader=!1,this.toastr.success(h.msg),this.router.navigate(["//product/productlist"]))})):(this.productForm.markAllAsTouched(),this.toastr.error("Please select all the required fields"))}get title(){return this.productForm.get("title")}get category(){return this.productForm.get("category")}get subcategory(){return this.productForm.get("subcategory")}get brand(){return this.productForm.get("brand")}get features_subcategory(){return this.productForm.get("features_subcategory")}get subcategory_group(){return this.productForm.get("subcategory_group")}get unit(){return this.productForm.get("unit")}get unit_conversion(){return this.productForm.get("unit_conversion")}get description(){return this.productForm.get("description")}get product_store(){return this.productForm.get("product_store")}get color(){return this.productForm.get("color")}get size(){return this.productForm.get("size")}get variant(){return this.productForm.get("variant")}get style_code(){return this.productForm.get("style_code")}get is_measurable(){return this.productForm.get("is_measurable")}get tax_slab(){return this.productForm.get("tax_slab")}get return_time(){return this.productForm.get("return_time")}get product_or_service(){return this.productForm.get("product_or_service")}get purchase_tax(){return this.productForm.get("purchase_tax")}get sale_tax(){return this.productForm.get("sale_tax")}getvariant_name(e){return this.getVarinatsForm().controls[e].get("variant_name")}getvariant_size(e){return this.getVarinatsForm().controls[e].get("variant_size")}onCheckSizes(e,r){if(0===this.currentSizes.length)this.currentSizes.push({id:r,title:e}),this.selectSize.push({id:r,title:e});else{const o=this.currentSizes.find(i=>i.id===r&&i.title===e);o?(this.currentSizes=this.currentSizes.filter(i=>i!==o),this.selectSize=this.selectSize.filter(i=>i!==o)):(this.currentSizes.push({id:r,title:e}),this.selectSize.push({id:r,title:e}))}this.variantCheck()}onCheckColors(e,r){if(0===this.currentColors.length)this.currentColors.push({id:r,title:e}),this.selectColor.push({id:r,title:e});else{const o=this.currentColors.find(i=>i.id===r&&i.title===e);o?(this.currentColors=this.currentColors.filter(i=>i!==o),this.selectColor=this.selectColor.filter(i=>i!==o)):(this.currentColors.push({id:r,title:e}),this.selectColor.push({id:r,title:e}))}this.variantCheck()}variantCheck(){if(this.currentVariants=[],this.currentColors.length>0&&0==this.currentSizes.length)for(let r=0;r<this.currentColors.length;r++)this.currentVariants.push({color:this.currentColors[r]}),this.productColor=this.currentColors[r];else if(this.currentSizes.length>0&&0==this.currentColors.length)for(let r=0;r<this.currentSizes.length;r++)this.currentVariants.push({size:this.currentSizes[r]});else for(let r=0;r<this.currentSizes.length;r++)for(let o=0;o<this.currentColors.length;o++)this.currentVariants.push({size:this.currentSizes[r],color:this.currentColors[o]});this.variantForm();const e=this.productForm.get("variant_product");this.currentVariants.map((r,o)=>{e.at(o).patchValue({variant_name:null==r.color?.title?r.size?.title:null==r.size?.title?r.color?.title:`${r.color?.title} - ${r.size?.title}`,variant_color:null==r.color?.id?r.color?.id:`${r.color?.id}`,variant_size:null==r.size?.id?r.size?.id:`${r.size?.id}`})}),this.currentVariants.forEach((r,o)=>{this.varntColor[o]=null==r?.color.title?r?.color.title:`${r?.color.title}`}),this.currentVariants.forEach((r,o)=>{this.varntSize[o]=null==r?.size?.title?r?.size?.title:`${r?.size?.title}`})}variantForm(){this.productForm.get("variant_product").clear();for(let r=0;r<this.currentVariants.length;r++)this.getVarinatsForm().push(this.variants())}selectImg(e){const r=e.target.files[0],i=this.productForm.get("product_images").at(0);i.patchValue({image:r}),i.get("image")?.updateValueAndValidity()}onImageSelected(e,r){const o=e.target.files[0],i=new FileReader;if(o){this.Show=!1;const l=new FileReader;l.readAsDataURL(o),l.onload=()=>{this.url[r]=l.result}}const c=this.productForm.get("product_images").at(r);i.onload=()=>{const l=i.result.toString().split(",")[1];this.imgValue=l,c.patchValue({image:l})},i.readAsDataURL(o),c.get("file")?.updateValueAndValidity()}saveAndNext(){this.isFormValid()?this.tabGroup.selectedIndex=1:this.toastr.error("Please fill in all required fields before proceeding.")}isFormValid(){return this.productForm.markAllAsTouched(),this.productForm.valid}goBack(){this.location.back()}onLabelClick(e){e.stopPropagation()}clearForm(){this.productForm.reset(),this.ngOnInit()}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(C.p),t.Y36(Z.F0),t.Y36(a.qu),t.Y36(k._W),t.Y36(p.Ye))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-addproduct"]],viewQuery:function(r,o){if(1&r&&t.Gf(y,5),2&r){let i;t.iGM(i=t.CRH())&&(o.tabGroup=i.first)}},decls:241,vars:95,consts:[[1,"row","bg"],[1,"card"],[1,"card-body"],[1,"page-header"],[1,"page-title"],[1,"subhead-color",3,"click"],[2,"vertical-align","middle"],[1,"company-details-card","card"],[1,"sub-card","row"],[3,"formGroup","ngSubmit"],["animationDuration","0ms"],["tabGroup",""],["label","General Details"],[1,"row","mt-3"],[1,"col-lg-6","col-sm-6","col-12"],[1,"form-group"],["type","text","placeholder","Product Name","formControlName","title",3,"ngClass","ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["formControlName","category",1,"form-select",3,"ngClass","change"],["categoryValue",""],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","subcategory_group",1,"form-select",3,"ngClass","change"],["subCategoryGroupValue",""],["formControlName","subcategory",1,"form-select",3,"ngClass","change"],["subcatValue",""],["formControlName","brand",1,"form-select",3,"ngClass"],[1,"dropdown"],["type","button","type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","button"],[1,"dropdown-menu",2,"width","100%","max-height","300px","overflow-y","auto"],["type","text","placeholder","search color",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","placeholder","search size",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["class","dropdown-item",4,"ngFor","ngForOf"],["formControlName","product_store",1,"form-select",3,"ngClass"],["value","Online"],["value","Store"],["value","Both"],["formControlName","unit",1,"form-select",3,"ngClass"],[1,"d_flex"],["type","checkbox","formControlName","is_active",3,"id","ngModel"],[1,"d_flex",2,"margin-bottom","0","margin-left","5px",3,"for"],[1,"d-flex"],["type","checkbox","formControlName","is_measurable",3,"id"],["type","checkbox","formControlName","cod_available",3,"id","ngModel"],["type","checkbox","formControlName","sale_tax_including",3,"id","ngModel"],["type","checkbox","formControlName","purchase_tax_including",3,"id","ngModel"],["formControlName","product_or_service",1,"form-select",3,"ngClass"],["value","Product"],["value","Service"],["type","text","formControlName","return_time","placeholder","Return Time",3,"ngClass"],["formControlName","sale_tax",1,"form-select",3,"ngClass"],["formControlName","purchase_tax",1,"form-select",3,"ngClass"],[1,"col-lg-12"],[3,"editor","toolbar"],["formControlName","description","id","slug",3,"editor","ngClass"],[1,"col-sm-5"],[1,"table","amt-table"],["formArrayName","product_features"],[1,"col-lg-12","text-center","my-5"],[1,"btn","btn-cancel",3,"click"],["type","button",1,"btn","btn-submit","me-2",3,"click"],["label","Variants"],[1,"container","table-responsive","table-bg"],[1,"titl","mx-1","my-1"],["datatable","",1,"table"],[2,"display","none"],["formArrayName","variant_product"],["label","Image"],[1,"table","amt-table","third-table"],[2,"width","20%"],["formArrayName","product_images"],["class","btn btn-submit me-2",4,"ngIf"],["class","btn btn-submit me-2","type","submit","disabled","",4,"ngIf"],[1,"text-danger"],[3,"value"],[1,"dropdown-item"],["type","checkbox","formArrayName","color",2,"margin-right","5px",3,"value","checked","ngClass","id","change"],[2,"margin-bottom","0",3,"for","click"],["type","checkbox","formArrayName","size",2,"margin-right","5px",3,"value","checked","ngClass","id","change"],[3,"formGroupName"],["colspan","5"],[1,"row"],[1,"col-sm-4"],["type","text","formControlName","feature_group",1,"feature-input",2,"display","none",3,"readonly"],[1,"col-sm-8"],["formControlName","feature",1,"inp"],["type","text","formControlName","product_title",1,"inp",3,"ngModel","readonly"],["type","text","formControlName","variant_name",1,"inp",3,"readonly"],["type","text",1,"inp",3,"value","readonly"],["type","text","placeholder","0","formControlName","sku",1,"inp"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-circle",2,"color","red",3,"click"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],["formControlName","product_colour",1,"variant_color"],[1,"d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","class","bi bi-image mx-5 svg","viewBox","0 0 16 16",4,"ngIf"],["alt","","class","p-img mx-5",3,"src",4,"ngIf"],[1,"image-upload"],["type","file","formControlName","image",3,"change"],[1,"image-uploads"],[1,"d-inline","me-2"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-cloud-upload"],["fill-rule","evenodd","d","M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383z"],["fill-rule","evenodd","d","M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3z"],[1,"btn","btn-cancel","me-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-image","mx-5","svg"],["d","M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],["d","M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"],["alt","",1,"p-img","mx-5",3,"src"],[1,"btn","btn-submit","me-2"],["type","submit","disabled","",1,"btn","btn-submit","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(r,o){if(1&r){const i=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6",5),t.NdJ("click",function(){return o.goBack()}),t.TgZ(6,"mat-icon",6),t._uU(7,"keyboard_backspace"),t.qZA(),t._uU(8," Back to products"),t.qZA(),t.TgZ(9,"h4"),t._uU(10,"New Product"),t.qZA()()(),t.TgZ(11,"div",7)(12,"div",8)(13,"form",9),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(14,"mat-tab-group",10,11)(16,"mat-tab",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"label"),t._uU(21,"Product Name*"),t.qZA(),t.TgZ(22,"input",16),t.NdJ("ngModelChange",function(l){return o.productNamme=l}),t.qZA(),t.YNc(23,_,2,0,"span",17),t.qZA()(),t.TgZ(24,"div",14)(25,"div",15)(26,"label"),t._uU(27,"Category*"),t.qZA(),t.TgZ(28,"select",18,19),t.NdJ("change",function(){t.CHM(i);const l=t.MAs(29);return t.KtG(o.getSubcategoryGroupByCategory(l.value))}),t.TgZ(30,"option",20),t._uU(31,"Select Category"),t.qZA(),t.YNc(32,x,2,2,"option",21),t.qZA(),t.YNc(33,T,2,0,"span",17),t.qZA()(),t.TgZ(34,"div",14)(35,"div",15)(36,"label"),t._uU(37,"Subcategory Group*"),t.qZA(),t.TgZ(38,"select",22,23),t.NdJ("change",function(){t.CHM(i);const l=t.MAs(39);return t.KtG(o.oncheck(l.value))}),t.TgZ(40,"option",20),t._uU(41,"Select Subcategory Group"),t.qZA(),t.YNc(42,q,2,2,"option",21),t.qZA(),t.YNc(43,M,2,0,"span",17)(44,J,2,0,"span",17),t.qZA()(),t.TgZ(45,"div",14)(46,"div",15)(47,"label"),t._uU(48,"Sub Category*"),t.qZA(),t.TgZ(49,"select",24,25),t.NdJ("change",function(){t.CHM(i);const l=t.MAs(50);return t.KtG(o.checkSubact(l.value))}),t.TgZ(51,"option",20),t._uU(52,"Select Sub Category"),t.qZA(),t.YNc(53,z,2,2,"option",21),t.qZA(),t.YNc(54,P,2,0,"span",17)(55,Q,2,0,"span",17),t.qZA()(),t.TgZ(56,"div",14)(57,"div",15)(58,"label"),t._uU(59,"Brands"),t.qZA(),t.TgZ(60,"select",26)(61,"option",20),t._uU(62,"Select Brand"),t.qZA(),t.YNc(63,G,2,2,"option",21),t.qZA(),t.YNc(64,B,2,0,"span",17)(65,L,2,0,"span",17),t.qZA()(),t.TgZ(66,"div",14)(67,"div",15)(68,"label"),t._uU(69,"Colors"),t.qZA(),t.TgZ(70,"div",27)(71,"button",28),t._uU(72,"Select Color"),t.qZA(),t.TgZ(73,"ul",29)(74,"li")(75,"input",30),t.NdJ("ngModelChange",function(l){return o.searchColor=l})("ngModelChange",function(){return o.filterColorData()}),t.qZA()(),t.YNc(76,D,5,8,"li",31),t.qZA()(),t.YNc(77,V,2,1,"p",32)(78,E,2,0,"span",17),t.qZA()(),t.TgZ(79,"div",14)(80,"div",15)(81,"label"),t._uU(82,"Size*"),t.qZA(),t.TgZ(83,"div",27)(84,"button",28),t._uU(85,"Select Size"),t.qZA(),t.TgZ(86,"ul",29)(87,"li")(88,"input",33),t.NdJ("ngModelChange",function(l){return o.searchSize=l})("ngModelChange",function(){return o.filterSizeData()}),t.qZA()(),t.TgZ(89,"li"),t.YNc(90,Y,4,8,"a",34),t.qZA()()(),t.YNc(91,K,2,1,"p",32)(92,$,2,0,"span",17),t.qZA()(),t.TgZ(93,"div",14)(94,"div",15)(95,"label"),t._uU(96,"Store*"),t.qZA(),t.TgZ(97,"select",35)(98,"option",20),t._uU(99,"Select Product Store"),t.qZA(),t.TgZ(100,"option",36),t._uU(101,"Online"),t.qZA(),t.TgZ(102,"option",37),t._uU(103,"Store"),t.qZA(),t.TgZ(104,"option",38),t._uU(105,"Both"),t.qZA()(),t.YNc(106,H,2,0,"span",17),t.qZA()(),t.TgZ(107,"div",14)(108,"div",15)(109,"label"),t._uU(110,"Unit*"),t.qZA(),t.TgZ(111,"select",39)(112,"option",20),t._uU(113,"Select unit"),t.qZA(),t.YNc(114,R,2,2,"option",21),t.qZA(),t.YNc(115,j,2,0,"span",17),t.qZA()(),t.TgZ(116,"div",14)(117,"div",15)(118,"div",40)(119,"div",40),t._UZ(120,"input",41),t.TgZ(121,"label",42),t._uU(122,"Active"),t.qZA()(),t.TgZ(123,"div",43),t._UZ(124,"input",44),t.TgZ(125,"label",42),t._uU(126,"Is Measurable"),t.qZA()(),t.TgZ(127,"div",43),t._UZ(128,"input",45),t.TgZ(129,"label",42),t._uU(130,"Is Cod Available"),t.qZA()()(),t.TgZ(131,"div",40)(132,"div",43),t._UZ(133,"input",46),t.TgZ(134,"label",42),t._uU(135,"Sales Tax Including"),t.qZA()(),t.TgZ(136,"div",43),t._UZ(137,"input",47),t.TgZ(138,"label",42),t._uU(139,"Purchase Tax Including"),t.qZA()()()()(),t.TgZ(140,"div",14)(141,"div",15)(142,"label"),t._uU(143,"Product or Service*"),t.qZA(),t.TgZ(144,"select",48)(145,"option",20),t._uU(146,"Select Product or Service"),t.qZA(),t.TgZ(147,"option",49),t._uU(148,"Product"),t.qZA(),t.TgZ(149,"option",50),t._uU(150,"Service"),t.qZA()(),t.YNc(151,W,2,0,"span",17),t.qZA()(),t.TgZ(152,"div",14)(153,"div",15)(154,"label"),t._uU(155,"Return Time*"),t.qZA(),t._UZ(156,"input",51),t.YNc(157,X,2,0,"span",17),t.qZA()(),t.TgZ(158,"div",14)(159,"div",15)(160,"label"),t._uU(161,"Sale Tax*"),t.qZA(),t.TgZ(162,"select",52)(163,"option",20),t._uU(164,"Select Sale Tax"),t.qZA(),t.YNc(165,tt,2,2,"option",21),t.qZA(),t.YNc(166,et,2,0,"span",17),t.qZA()(),t.TgZ(167,"div",14)(168,"div",15)(169,"label"),t._uU(170,"Purchase Tax*"),t.qZA(),t.TgZ(171,"select",53)(172,"option",20),t._uU(173,"Select Sale Tax"),t.qZA(),t.YNc(174,ot,2,2,"option",21),t.qZA(),t.YNc(175,rt,2,0,"span",17),t.qZA()(),t.TgZ(176,"div",54)(177,"div",15)(178,"label"),t._uU(179,"Description"),t.qZA(),t._UZ(180,"ngx-editor-menu",55)(181,"ngx-editor",56),t.YNc(182,nt,2,0,"span",17),t.qZA()(),t.TgZ(183,"div",57)(184,"table",58)(185,"thead")(186,"tr")(187,"th"),t._uU(188,"Features"),t.qZA()()(),t.TgZ(189,"tbody"),t.ynx(190,59),t.YNc(191,at,13,4,"ng-container",31),t.BQk(),t.qZA()()(),t.TgZ(192,"div",60)(193,"a",61),t.NdJ("click",function(){return o.clearForm()}),t._uU(194,"Clear"),t.qZA(),t.TgZ(195,"button",62),t.NdJ("click",function(){return o.saveAndNext()}),t._uU(196,"Save & Next"),t.qZA()()()(),t.TgZ(197,"mat-tab",63)(198,"div",64)(199,"p",65),t._uU(200),t.qZA(),t.TgZ(201,"table",66)(202,"thead")(203,"tr")(204,"th",67),t._uU(205,"Product "),t.qZA(),t.TgZ(206,"th"),t._uU(207,"Variant "),t.qZA(),t.TgZ(208,"th"),t._uU(209,"Color"),t.qZA(),t.TgZ(210,"th"),t._uU(211,"Size"),t.qZA(),t.TgZ(212,"th"),t._uU(213,"Barcode/SKU"),t.qZA(),t._UZ(214,"th"),t.qZA()(),t.TgZ(215,"tbody"),t.ynx(216,68),t.YNc(217,ut,19,10,"ng-container",31),t.BQk(),t.qZA()()(),t.TgZ(218,"div",60)(219,"a",61),t.NdJ("click",function(){return o.clearForm()}),t._uU(220,"Clear"),t.qZA(),t.TgZ(221,"button",62),t.NdJ("click",function(){return o.selectTab(2)}),t._uU(222,"Save & Create New"),t.qZA()()(),t.TgZ(223,"mat-tab",69)(224,"table",70)(225,"thead")(226,"tr")(227,"th",71),t._uU(228,"Colors"),t.qZA(),t.TgZ(229,"th"),t._uU(230,"Image"),t.qZA(),t.TgZ(231,"th"),t._uU(232,"\xa0"),t.qZA()()(),t.TgZ(233,"tbody"),t.ynx(234,72),t.YNc(235,gt,25,6,"ng-container",31),t.BQk(),t.qZA()(),t.TgZ(236,"div",60)(237,"a",61),t.NdJ("click",function(){return o.clearForm()}),t._uU(238,"Clear"),t.qZA(),t.YNc(239,_t,2,0,"button",73)(240,ht,3,0,"button",74),t.qZA()()()()()()()()()}2&r&&(t.xp6(13),t.Q6J("formGroup",o.productForm),t.xp6(9),t.Q6J("ngClass",t.VKq(69,d,o.f.title.touched&&o.f.title.invalid))("ngModel",o.productNamme),t.xp6(1),t.Q6J("ngIf",o.title&&o.title.invalid&&o.title.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(71,d,o.f.category.touched&&o.f.category.invalid)),t.xp6(4),t.Q6J("ngForOf",o.categoryList),t.xp6(1),t.Q6J("ngIf",o.category&&o.category.invalid&&o.category.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(73,d,o.f.subcategory_group.touched&&o.f.subcategory_group.invalid)),t.xp6(4),t.Q6J("ngForOf",o.subcatGroupByCategory),t.xp6(1),t.Q6J("ngIf",o.subcategory_group&&o.subcategory_group.invalid&&o.subcategory_group.touched&&(null==o.subcatGroupByCategory?null:o.subcatGroupByCategory.length)>0),t.xp6(1),t.Q6J("ngIf",o.category&&o.category.touched&&(null==o.subcatGroupByCategory?null:o.subcatGroupByCategory.length)<=0),t.xp6(5),t.Q6J("ngClass",t.VKq(75,d,o.f.subcategory.touched&&o.f.subcategory.invalid)),t.xp6(4),t.Q6J("ngForOf",o.subcatbySubCategoryGroup),t.xp6(1),t.Q6J("ngIf",o.subcategory&&o.subcategory.invalid&&o.subcategory.touched&&(null==o.subcatbySubCategoryGroup?null:o.subcatbySubCategoryGroup.length)>0),t.xp6(1),t.Q6J("ngIf",o.subcategory_group&&o.subcategory_group.touched&&(null==o.subcatbySubCategoryGroup?null:o.subcatbySubCategoryGroup.length)<=0),t.xp6(5),t.Q6J("ngClass",t.VKq(77,d,o.f.brand.touched&&o.f.brand.invalid)),t.xp6(3),t.Q6J("ngForOf",o.brandBySubcat),t.xp6(1),t.Q6J("ngIf",o.brand&&o.brand.invalid&&o.brand.touched&&(null==o.brandBySubcat?null:o.brandBySubcat.length)>0),t.xp6(1),t.Q6J("ngIf",o.subcategory&&o.subcategory.touched&&(null==o.brandBySubcat?null:o.brandBySubcat.length)<=0),t.xp6(10),t.Q6J("ngModel",o.searchColor)("ngModelOptions",t.DdM(79,N)),t.xp6(1),t.Q6J("ngForOf",o.filteredColorData),t.xp6(1),t.Q6J("ngIf",o.selectedColor>0),t.xp6(1),t.Q6J("ngIf",o.color&&o.color.invalid&&o.color.touched),t.xp6(10),t.Q6J("ngModel",o.searchSize)("ngModelOptions",t.DdM(80,N)),t.xp6(2),t.Q6J("ngForOf",o.filteredSizeData),t.xp6(1),t.Q6J("ngIf",o.selectedSize>0),t.xp6(1),t.Q6J("ngIf",o.size&&o.size.invalid&&o.size.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(81,d,o.f.product_store.touched&&o.f.product_store.invalid)),t.xp6(9),t.Q6J("ngIf",o.product_store&&o.product_store.invalid&&o.product_store.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(83,d,o.f.unit.touched&&o.f.unit.invalid)),t.xp6(3),t.Q6J("ngForOf",o.unitList),t.xp6(1),t.Q6J("ngIf",o.unit&&o.unit.invalid&&o.unit.touched),t.xp6(5),t.Q6J("id","checkboxActive-")("ngModel",!0),t.xp6(1),t.Q6J("for","checkboxActive-"),t.xp6(3),t.Q6J("id","checkboxMeasure-"),t.xp6(1),t.Q6J("for","checkboxMeasure-"),t.xp6(3),t.Q6J("id","checkboxcod-")("ngModel",!0),t.xp6(1),t.Q6J("for","checkboxcod-"),t.xp6(4),t.Q6J("id","checkboxSale-")("ngModel",!0),t.xp6(1),t.Q6J("for","checkboxSale-"),t.xp6(3),t.Q6J("id","checkboxTax-")("ngModel",!0),t.xp6(1),t.Q6J("for","checkboxTax-"),t.xp6(6),t.Q6J("ngClass",t.VKq(85,d,o.f.product_or_service.touched&&o.f.product_or_service.invalid)),t.xp6(7),t.Q6J("ngIf",o.product_or_service&&o.product_or_service.invalid&&o.product_or_service.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(87,d,o.f.return_time.touched&&o.f.return_time.invalid)),t.xp6(1),t.Q6J("ngIf",o.return_time&&o.return_time.invalid&&o.return_time.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(89,d,o.f.sale_tax.touched&&o.f.sale_tax.invalid)),t.xp6(3),t.Q6J("ngForOf",o.taxSlabList),t.xp6(1),t.Q6J("ngIf",o.sale_tax&&o.sale_tax.invalid&&o.sale_tax.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(91,d,o.f.purchase_tax.touched&&o.f.purchase_tax.invalid)),t.xp6(3),t.Q6J("ngForOf",o.taxSlabList),t.xp6(1),t.Q6J("ngIf",o.purchase_tax&&o.purchase_tax.invalid&&o.purchase_tax.touched),t.xp6(5),t.Q6J("editor",o.editor)("toolbar",o.toolbar),t.xp6(1),t.Q6J("editor",o.editor)("ngClass",t.VKq(93,d,o.f.description.touched&&o.f.description.invalid)),t.xp6(1),t.Q6J("ngIf",o.description&&o.description.invalid&&o.description.touched),t.xp6(9),t.Q6J("ngForOf",o.getFeature().controls),t.xp6(9),t.Oqu(o.productNamme),t.xp6(17),t.Q6J("ngForOf",o.getVarinatsForm().controls),t.xp6(18),t.Q6J("ngForOf",o.getproductImage().controls),t.xp6(4),t.Q6J("ngIf",!o.loader),t.xp6(1),t.Q6J("ngIf",o.loader))},dependencies:[p.mk,p.sg,p.O5,a._Y,a.YN,a.Kr,a.Fj,a.Wl,a.EJ,a.JJ,a.JL,a.On,a.sg,a.u,a.x0,a.CE,A.tP,A.Mn,g.uX,g.SP,v.Hw],styles:[".ng-dirty.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=button][_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}.button[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;display:flex;padding:10px 15px;border-radius:5px;justify-content:space-between;align-items:center;background:white}.bg[_ngcontent-%COMP%]{background-color:#f2f3f9;border:none}.company-details-card[_ngcontent-%COMP%]{padding:30px 50px;border:1px solid #D4DAF7;border-radius:6px}.amt-table[_ngcontent-%COMP%]{border:1px solid #D4DAF7}.amt-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#eef0f8}.amt-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#FAFBFE;border:1px solid #D4DAF7}.amt-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #D4DAF7;padding:5px 10px}.amt-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{align-items:center}.amt-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-sm-8[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#FFFFFF;border:1px solid #D4DAF7;border-radius:3px;height:36px;padding:0}.amt-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-sm-4[_ngcontent-%COMP%]{color:#3b3b3b}.d_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.d_flex[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:50%;font-size:18px;color:#000;margin-bottom:10px}.btn-cancel[_ngcontent-%COMP%]{background:#FFFFFF;border:1px solid #D4DAF7;border-radius:8px;color:#000;margin-right:10px}.table-bg[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#EEF0F8;border:1px solid #fff;padding:15px;color:#3b3b3b;font-weight:400}.inp[_ngcontent-%COMP%]{border:1px solid #9C9C9C;border-radius:4px;height:32px;width:100px;padding:0 5px}.table-bg[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#f2f4f3;border:1px solid #fff;padding:15px}.bi-image[_ngcontent-%COMP%]{width:45px;height:45px;margin-right:15px;color:#9c9c9c}.bi-cloud-upload[_ngcontent-%COMP%]{height:20px;width:20px}.third-table[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{height:36px;padding:0 10px;font-weight:400}.third-table[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{height:36px;padding:0 10px;font-weight:400;display:flex;align-items:center;justify-content:center}.feature-input[_ngcontent-%COMP%]{margin:0;font-family:inherit;font-size:inherit;line-height:inherit;border:none}.image-upload[_ngcontent-%COMP%]{background:#FF9F43;color:#fff;font-size:14px;width:120px;margin-bottom:0}.image-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{height:36px}.image-upload[_ngcontent-%COMP%]   .image-uploads[_ngcontent-%COMP%]{color:#fff;padding:0;height:36px;display:flex;align-items:center;justify-content:center}.image-uploads[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff}.p-img[_ngcontent-%COMP%]{width:20%;border:2px solid gray;border-radius:20%;margin-right:20px}.svg[_ngcontent-%COMP%]{width:20%;height:20%}.titl[_ngcontent-%COMP%]{color:#201e1f;font-size:18px;font-weight:500;margin-bottom:0}.t-row[_ngcontent-%COMP%]{background-color:#f2f4f3;border:1px solid #fff;text-align:-webkit-center;font-weight:500}.variant_color[_ngcontent-%COMP%], .variant_size[_ngcontent-%COMP%]{width:100px;height:40px;border:1px solid rgba(145,158,171,.32)}"]})}return n})();var ft=u(1971);const O=JSON.parse(localStorage.getItem("auth"));let bt;O&&O.map(s=>{"product"===s.content_type.app_label&&"product"===s.content_type.model&&"add_product"==s.codename&&(bt=s.codename)});const Ct=[{path:"",component:mt,canActivate:[ft.l],data:{allowedRoles:["add_product"]}}];let vt=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[Z.Bz.forChild(Ct),Z.Bz]})}return n})();var Zt=u(98525),At=u(75986),yt=u(27003);let xt=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[p.ez,vt,a.u5,a.UX,A.FP,g.Nh,v.Ps,Zt.LD,At.p9,yt.ZQ]})}return n})()},1971:(I,F,u)=>{u.d(F,{l:()=>t});var p=u(19212),Z=u(74408),a=u(58763),A=u(41789),U=u(44293);let t=(()=>{class C{constructor(g,v,y,_,x){this.router=g,this.Arout=v,this.toastr=y,this.profileService=_,this.coreService=x}canActivate(g,v){const y=JSON.parse(localStorage.getItem("auth"));if(this.profileService.userDetails$.subscribe(_=>{this.userDetails=_,this.permissions=this.userDetails?.permission}),y){const _=g.data.allowedRoles;console.log(_,"allowedRoles");const x=y.some(T=>_.includes(T.codename));if(console.log(x),this.coreService.getProfile().subscribe(T=>{this.userDetails=T,this.profileService.setUserDetails(this.userDetails);const q=T?.permission,M=this.profileService.getUserDetails();(!M||M.length!==q.length)&&(this.profileService.setUserPermission(q),window.location.reload())}),x)return!0}return this.toastr.error("User have Not Permission to Access This page"),this.router.navigate(["/dashboard"]),!1}static#t=this.\u0275fac=function(v){return new(v||C)(p.LFG(Z.F0),p.LFG(Z.gz),p.LFG(a._W),p.LFG(A.J),p.LFG(U.p))};static#e=this.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()}}]);