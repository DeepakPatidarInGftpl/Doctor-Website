"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[2336],{22336:(I,Z,l)=>{l.r(Z),l.d(Z,{IncentiveLedgerEmployeeModule:()=>ee});var c=l(36895),g=l(89299),a=l(24006),x=l(68675),T=l(54004),e=l(94650),d=l(72266),C=l(25062),u=l(73162),f=l(54333),m=l(3848),s=l(59549),v=l(3238),p=l(47957),h=l(44144),y=l(54040);function U(o,r){1&o&&(e.TgZ(0,"span",22),e._uU(1,"Select From Date"),e.qZA())}function E(o,r){1&o&&(e.TgZ(0,"span",22),e._uU(1,"Select To Date"),e.qZA())}function q(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"mat-option",24),e.NdJ("onSelectionChange",function(){e.CHM(t);const i=e.oxw().$implicit,_=e.oxw();return e.KtG(_.onCheck(i.id))}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw().$implicit;e.Q6J("value",null==t?null:t.name),e.xp6(1),e.Oqu(null==t?null:t.name)}}function J(o,r){if(1&o&&(e.ynx(0),e.YNc(1,q,2,2,"mat-option",23),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.is_active)}}function M(o,r){1&o&&(e.TgZ(0,"mat-option",27)(1,"a",28),e._uU(2,"+ Add Employee"),e.qZA()()),2&o&&e.Q6J("value","No data found")}function N(o,r){1&o&&(e.TgZ(0,"mat-option",29),e._uU(1,"Please Enter 1 or more characters"),e.qZA())}function P(o,r){if(1&o&&(e.ynx(0),e.YNc(1,M,3,1,"mat-option",25),e.YNc(2,N,2,0,"mat-option",26),e.BQk()),2&o){const t=r.ngIf,n=e.oxw();e.xp6(1),e.Q6J("ngIf",0===t.length),e.xp6(1),e.Q6J("ngIf",(null==n.employeeControl.value?null:n.employeeControl.value.length)<3)}}function S(o,r){1&o&&(e.TgZ(0,"span",22),e._uU(1,"Select Employee "),e.qZA())}function w(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td",60),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.sort("id"))}),e._uU(3),e.qZA(),e.TgZ(4,"td",60),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.sort("id"))}),e._uU(5),e.qZA(),e.TgZ(6,"td",60),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.sort("id"))}),e._uU(7),e.qZA(),e.TgZ(8,"td",60),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.sort("id"))}),e._uU(9),e.qZA(),e.TgZ(10,"td",60),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.sort("id"))}),e._uU(11),e.qZA(),e.TgZ(12,"td",60),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.sort("id"))}),e._uU(13),e.qZA(),e.TgZ(14,"td",60),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.sort("id"))}),e._uU(15),e.qZA(),e.TgZ(16,"td",60),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.sort("id"))}),e._uU(17),e.qZA()(),e.BQk()}if(2&o){const t=r.$implicit,n=r.index;e.xp6(3),e.Oqu(n+1),e.xp6(2),e.Oqu(null==t?null:t.created_date),e.xp6(2),e.Oqu(null==t?null:t.voucher_number),e.xp6(2),e.Oqu(null==t?null:t.transaction_type),e.xp6(2),e.Oqu(null==t?null:t.voucher_number),e.xp6(2),e.Oqu(null==t?null:t.points),e.xp6(2),e.Oqu(null==t?null:t.amount),e.xp6(2),e.Oqu(null==t?null:t.total_amount)}}function O(o,r){1&o&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",61)(3,"p",62),e._uU(4,"Data not available"),e.qZA()()()())}function D(o,r){1&o&&e._UZ(0,"mat-progress-bar",63)}const A=function(o,r){return{itemsPerPage:o,currentPage:r}};function k(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"mat-tab",41)(1,"div",1)(2,"div",4)(3,"div",35)(4,"table",42)(5,"thead")(6,"tr")(7,"th",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sort("id"))}),e._uU(8,"# "),e._UZ(9,"i",44),e.qZA(),e.TgZ(10,"th",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sort("id"))}),e._uU(11,"Created Date"),e._UZ(12,"i",44),e.qZA(),e.TgZ(13,"th",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sort("id"))}),e._uU(14,"Voucher Number"),e._UZ(15,"i",44),e.qZA(),e.TgZ(16,"th",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sort("id"))}),e._uU(17,"Transaction Type"),e._UZ(18,"i",44),e.qZA(),e.TgZ(19,"th",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sort("id"))}),e._uU(20,"Points"),e._UZ(21,"i",44),e.qZA(),e.TgZ(22,"th",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sort("id"))}),e._uU(23,"Amount"),e._UZ(24,"i",44),e.qZA(),e.TgZ(25,"th",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sort("id"))}),e._uU(26,"Total Amount"),e._UZ(27,"i",44),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,w,18,8,"ng-container",17),e.ALo(30,"paginate"),e.ALo(31,"orderBy"),e.qZA(),e.YNc(32,O,5,0,"tbody",18),e.qZA(),e.TgZ(33,"div",45),e.YNc(34,D,1,0,"mat-progress-bar",46),e.qZA(),e.TgZ(35,"div",6)(36,"div",47)(37,"div",48),e._uU(38," Show per page "),e.TgZ(39,"select",49),e.NdJ("ngModelChange",function(i){e.CHM(t);const _=e.oxw(2);return e.KtG(_.itemsPerPage=i)}),e.TgZ(40,"option",50),e._uU(41,"10"),e.qZA(),e.TgZ(42,"option",51),e._uU(43,"20"),e.qZA(),e.TgZ(44,"option",52),e._uU(45,"30"),e.qZA(),e.TgZ(46,"option",53),e._uU(47,"50"),e.qZA(),e.TgZ(48,"option",54),e._uU(49,"100"),e.qZA(),e.TgZ(50,"option",55),e._uU(51,"All"),e.qZA()()()(),e.TgZ(52,"div",56)(53,"div",57)(54,"pagination-controls",58),e.NdJ("pageChange",function(i){e.CHM(t);const _=e.oxw(2);return e.KtG(_.p=i)}),e.qZA(),e.TgZ(55,"div",59),e._uU(56),e.qZA()()()()()()()()}if(2&o){const t=e.oxw(2);e.xp6(29),e.Q6J("ngForOf",e.xi3(30,7,e.Dn7(31,10,null==t.productDetail?null:t.productDetail.SaleBills,t.key,t.reverse),e.WLB(14,A,t.itemsPerPage,t.p))),e.xp6(3),e.Q6J("ngIf",0==(null==t.productDetail?null:t.productDetail.SaleBills)),e.xp6(2),e.Q6J("ngIf",t.loader),e.xp6(5),e.Q6J("ngModel",t.itemsPerPage),e.xp6(17),e.lnq("Showing ",t.itemsPerPage," to ",t.itemsPerPage," of ",t.itemsPerPage," entries")}}function F(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",38),e._uU(3),e.qZA(),e.TgZ(4,"td",38),e._uU(5),e.qZA(),e.TgZ(6,"td",38),e._uU(7),e.qZA(),e.TgZ(8,"td",38),e._uU(9),e.qZA(),e.TgZ(10,"td",38),e._uU(11),e.qZA(),e.TgZ(12,"td",38),e._uU(13),e.qZA(),e.TgZ(14,"td",38),e._uU(15),e.qZA(),e.TgZ(16,"td",38),e._uU(17),e.qZA()(),e.BQk()),2&o){const t=r.index,n=e.oxw(3);e.xp6(3),e.Oqu(t+1),e.xp6(2),e.Oqu(null==n.salebill?null:n.salebill.created_date),e.xp6(2),e.Oqu(null==n.salebill?null:n.salebill.voucher_number),e.xp6(2),e.Oqu(null==n.salebill?null:n.salebill.transaction_type),e.xp6(2),e.Oqu(null==n.salebill?null:n.salebill.voucher_number),e.xp6(2),e.Oqu(null==n.salebill?null:n.salebill.points),e.xp6(2),e.Oqu(null==n.salebill?null:n.salebill.amount),e.xp6(2),e.Oqu(null==n.salebill?null:n.salebill.total_amount)}}function G(o,r){1&o&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",61)(3,"p",62),e._uU(4,"Data not available"),e.qZA()()()())}function K(o,r){1&o&&e._UZ(0,"mat-progress-bar",63)}function Q(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"mat-tab",64)(1,"div",1)(2,"div",4)(3,"div",35)(4,"table",42)(5,"thead")(6,"tr")(7,"th",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sortt("id"))}),e._uU(8,"# "),e._UZ(9,"i",44),e.qZA(),e.TgZ(10,"th",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sortt("id"))}),e._uU(11,"Created Date"),e._UZ(12,"i",44),e.qZA(),e.TgZ(13,"th",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sortt("id"))}),e._uU(14,"Voucher Number"),e._UZ(15,"i",44),e.qZA(),e.TgZ(16,"th",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sortt("id"))}),e._uU(17,"Transaction Type"),e._UZ(18,"i",44),e.qZA(),e.TgZ(19,"th",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sortt("id"))}),e._uU(20,"Points"),e._UZ(21,"i",44),e.qZA(),e.TgZ(22,"th",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sortt("id"))}),e._uU(23,"Amount"),e._UZ(24,"i",44),e.qZA(),e.TgZ(25,"th",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sortt("id"))}),e._uU(26,"Total Amount"),e._UZ(27,"i",44),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,F,18,8,"ng-container",17),e.ALo(30,"paginate"),e.ALo(31,"orderBy"),e.qZA(),e.YNc(32,G,5,0,"tbody",18),e.qZA(),e.TgZ(33,"div",45),e.YNc(34,K,1,0,"mat-progress-bar",46),e.qZA(),e.TgZ(35,"div",6)(36,"div",47)(37,"div",48),e._uU(38," Show per page "),e.TgZ(39,"select",49),e.NdJ("ngModelChange",function(i){e.CHM(t);const _=e.oxw(2);return e.KtG(_.itemsPerPage2=i)}),e.TgZ(40,"option",50),e._uU(41,"10"),e.qZA(),e.TgZ(42,"option",51),e._uU(43,"20"),e.qZA(),e.TgZ(44,"option",52),e._uU(45,"30"),e.qZA(),e.TgZ(46,"option",53),e._uU(47,"50"),e.qZA(),e.TgZ(48,"option",54),e._uU(49,"100"),e.qZA(),e.TgZ(50,"option",55),e._uU(51,"All"),e.qZA()()()(),e.TgZ(52,"div",56)(53,"div",57)(54,"pagination-controls",58),e.NdJ("pageChange",function(i){e.CHM(t);const _=e.oxw(2);return e.KtG(_.p=i)}),e.qZA(),e.TgZ(55,"div",59),e._uU(56),e.qZA()()()()()()()()}if(2&o){const t=e.oxw(2);e.xp6(29),e.Q6J("ngForOf",e.xi3(30,7,e.Dn7(31,10,null==t.productDetail?null:t.productDetail.SaleReturn,t.key,t.reversee),e.WLB(14,A,t.itemsPerPage2,t.pp))),e.xp6(3),e.Q6J("ngIf",0==(null==t.productDetail?null:t.productDetail.SaleReturn)),e.xp6(2),e.Q6J("ngIf",t.loader),e.xp6(5),e.Q6J("ngModel",t.itemsPerPage2),e.xp6(17),e.lnq("Showing ",t.itemsPerPage2," to ",t.itemsPerPage2," of ",t.pp," entries")}}function H(o,r){if(1&o&&(e.TgZ(0,"div",30)(1,"div",31)(2,"mat-tab-group",32,33)(4,"mat-tab",34)(5,"div",35)(6,"table",36)(7,"tbody")(8,"tr")(9,"td",37),e._uU(10,"Incentive"),e.qZA(),e.TgZ(11,"td",38),e._uU(12),e.qZA()(),e.TgZ(13,"tr")(14,"td",37),e._uU(15,"Credit Amount"),e.qZA(),e.TgZ(16,"td",38),e._uU(17),e.qZA()(),e.TgZ(18,"tr")(19,"td",37),e._uU(20,"Debit Amount"),e.qZA(),e.TgZ(21,"td",38),e._uU(22),e.qZA()(),e.TgZ(23,"tr")(24,"td",37),e._uU(25,"Wages"),e.qZA(),e.TgZ(26,"td",38),e._uU(27),e.qZA()()()()()(),e.YNc(28,k,57,17,"mat-tab",39),e.YNc(29,Q,57,17,"mat-tab",40),e.qZA()()()),2&o){const t=e.oxw();e.xp6(12),e.Oqu(null==t.incentiveList?null:t.incentiveList.incentive),e.xp6(5),e.Oqu(null==t.incentiveList?null:t.incentiveList.credit_amount),e.xp6(5),e.Oqu(null==t.incentiveList?null:t.incentiveList.debit_amount),e.xp6(5),e.Oqu(null==t.incentiveList?null:t.incentiveList.wages),e.xp6(1),e.Q6J("ngIf",(null==t.productDetail||null==t.productDetail.SaleBills?null:t.productDetail.SaleBills.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t.productDetail||null==t.productDetail.SaleReturn?null:t.productDetail.SaleReturn.length)>0)}}const L=function(o){return{"is-invalid":o}},R=[{path:"",component:(()=>{class o{constructor(t,n,i){this.hrmService=t,this.fb=n,this.contactService=i,this.employeeControl=new a.NI,this.employeeList=[],this.p=1,this.itemsPerPage=10,this.key="id",this.reverse=!1,this.pp=1,this.itemsPerPage2=10,this.keyy="id",this.reversee=!1}get f(){return this.filterForm.controls}ngOnInit(){this.getEmployee(),this.filterForm=this.fb.group({from_date:new a.NI("",[a.kI.required]),to_date:new a.NI("",[a.kI.required]),employee_id:new a.NI("",[a.kI.required])}),this.filteredemployee=this.employeeControl.valueChanges.pipe((0,x.O)(""),(0,T.U)(t=>this._filter(t,!0)))}_filter(t,n){const i="string"==typeof t?t.toLowerCase():t.toString().toLowerCase(),_=this.employeeList.filter(n?b=>b.name.toLowerCase().includes(i):b=>!b.name.toLowerCase().includes(i));return!n&&0===_.length&&_.push({name:"No data found"}),_}getIncentiveLedger(t,n,i){this.hrmService.getIncentiveLedgerEmployee(t,n,i).subscribe(_=>{this.incentiveList=_,console.warn(this.incentiveList),console.log(this.incentiveList?.SaleBills)})}getEmployee(){this.contactService.getEmployee().subscribe(t=>{this.employeeList=t})}onCheck(t){console.log(t,"employeeId"),this.filterForm.get("employee_id").patchValue(t)}submit(){if(console.log(this.filterForm.value),this.filterForm.valid){let t=this.filterForm.value,n=t?.employee_id,i=t?.to_date,_=t?.from_date;this.getIncentiveLedger(n,i,_)}else this.filterForm.markAllAsTouched()}sort(t){this.key=t,this.reverse=!this.reverse}sortt(t){this.keyy=t,this.reversee=!this.reversee}get from_date(){return this.filterForm.get("from_date")}get to_date(){return this.filterForm.get("to_date")}get employee_id(){return this.filterForm.get("employee_id")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.z),e.Y36(a.qu),e.Y36(C.y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-incentive-ledger-employee"]],decls:39,vars:19,consts:[[1,"row","bg"],[1,"card"],[1,"page-header"],[1,"page-title"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-3","col-sm-4","col-12"],[1,"form-group"],["type","date","formControlName","from_date","id","from_date",3,"ngClass"],["class","text-danger",4,"ngIf"],["type","date","formControlName","to_date","id","to_date",3,"ngClass"],[2,"padding-left","12px"],[1,"search-input","mx-3",2,"width","100%"],[1,"w-100",2,"padding","0","width","100%","min-width","100%","border-top","none"],["type","text","placeholder","Search Employee","aria-label","Employee","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-lg-3","col-sm-4","col-12","mt-3","text-center"],[1,"btn","btn-submit"],["class","company-details-card card",4,"ngIf"],[1,"text-danger"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngIf"],[2,"color","#FF9F43",3,"value","onSelectionChange"],[3,"value",4,"ngIf"],["class","is-loading",4,"ngIf"],[3,"value"],["routerLink","//contacts/addEmployee",2,"color","#FF9F43"],[1,"is-loading"],[1,"company-details-card","card"],[1,"sub-card","row"],["animationDuration","0ms"],["tabGroup",""],["label","General Details"],[1,"table-responsive"],[1,"table"],[1,"th"],[1,"td"],["label","Sale Bills",4,"ngIf"],["label","Sale Return",4,"ngIf"],["label","Sale Bills"],[1,"table","datanew"],[1,"th",3,"click"],[1,"fa","fa-sort"],[1,"progressbar"],["mode","indeterminate","class","progressbar",4,"ngIf"],[1,"col-lg-4","col-sm-4","col-12","mt-2"],[1,"entries"],[1,"pagination",3,"ngModel","ngModelChange"],["value","10"],["value","20"],["value","30"],["value","50"],["value","100"],["value","-1"],[1,"col-lg-8","col-sm-8","col-12","mt-2"],[1,"f-right"],[3,"pageChange"],[1,"entries","f-right"],[1,"td",3,"click"],["colspan","10"],[1,"center-textt"],["mode","indeterminate",1,"progressbar"],["label","Sale Return"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),e._uU(5,"Incentive Ledger Employee"),e.qZA()()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.submit()}),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"label"),e._uU(12,"Start Date"),e.qZA(),e._UZ(13,"input",9),e.YNc(14,U,2,0,"span",10),e.qZA()(),e.TgZ(15,"div",7)(16,"div",8)(17,"label"),e._uU(18,"To Date*"),e.qZA(),e._UZ(19,"input",11),e.YNc(20,E,2,0,"span",10),e.qZA()(),e.TgZ(21,"div",7)(22,"div",8)(23,"label",12),e._uU(24,"Select Employee"),e.qZA(),e.TgZ(25,"div",13)(26,"mat-form-field",14),e._UZ(27,"input",15),e.TgZ(28,"mat-autocomplete",null,16),e.YNc(30,J,2,1,"ng-container",17),e.ALo(31,"async"),e.YNc(32,P,3,2,"ng-container",18),e.ALo(33,"async"),e.qZA()(),e.YNc(34,S,2,0,"span",10),e.qZA()()(),e.TgZ(35,"div",19)(36,"button",20),e._uU(37,"Apply Filter"),e.qZA()()()(),e.YNc(38,H,30,6,"div",21),e.qZA()()()),2&t){const i=e.MAs(29);e.xp6(7),e.Q6J("formGroup",n.filterForm),e.xp6(6),e.Q6J("ngClass",e.VKq(15,L,n.f.from_date.touched&&n.f.from_date.invalid)),e.xp6(1),e.Q6J("ngIf",n.from_date&&n.from_date.invalid&&n.from_date.touched),e.xp6(5),e.Q6J("ngClass",e.VKq(17,L,n.f.to_date.touched&&n.f.to_date.invalid)),e.xp6(1),e.Q6J("ngIf",n.to_date&&n.to_date.invalid&&n.to_date.touched),e.xp6(7),e.Q6J("formControl",n.employeeControl)("matAutocomplete",i),e.xp6(3),e.Q6J("ngForOf",e.lcZ(31,11,n.filteredemployee)),e.xp6(2),e.Q6J("ngIf",e.lcZ(33,13,n.filteredemployee)),e.xp6(2),e.Q6J("ngIf",n.employee_id&&n.employee_id.invalid&&n.employee_id.touched),e.xp6(4),e.Q6J("ngIf",n.incentiveList)}},dependencies:[c.mk,c.sg,c.O5,g.yS,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.On,a.oH,a.sg,a.u,u.pW,f.LS,m.SP,m.uX,s.KE,v.ey,p.XC,p.ZL,h.Nt,c.Ov,f._s,y.T],styles:[".th[_ngcontent-%COMP%]{background:#EEF0F8;font-family:Poppins;font-style:normal;font-weight:500;font-size:18px;line-height:140%;color:#3b3b3b;border-right:2px solid white;border-bottom:2px solid white}.td[_ngcontent-%COMP%]{background-color:#f2f4f3;font-family:Poppins;font-style:normal;font-weight:400;font-size:16px;line-height:140%;color:#3b3b3b;border-right:2px solid white;border-bottom:2px solid white}.ng-dirty.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%], .mat-autocomplete-trigger.mat-input-element.mat-form-field-autofill-control.ng-tns-c114-0.ng-untouched.ng-pristine.ng-valid.cdk-text-field-autofill-monitored.is-invalid[_ngcontent-%COMP%]{border:1px solid red}select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=button][_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}"]}),o})(),canActivate:[l(30597).l],data:{allowedRoles:["view_incentiveledger"]}}];let W=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(R),g.Bz]}),o})();var z=l(8468),V=l(97392),$=l(95113),X=l(56709),j=l(90455);let ee=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.ez,W,z.I,m.Nh,V.Ps,$.LD,X.p9,j.rP,a.u5,a.UX,p.Bb,s.lN,h.c]}),o})()},30597:(I,Z,l)=>{l.d(Z,{l:()=>e});var c=l(94650),g=l(89299),a=l(97185),x=l(42917),T=l(80927);let e=(()=>{class d{constructor(u,f,m,s,v){this.router=u,this.Arout=f,this.toastr=m,this.profileService=s,this.coreService=v}canActivate(u,f){const m=JSON.parse(localStorage.getItem("auth"));if(this.profileService.userDetails$.subscribe(s=>{this.userDetails=s,this.permissions=this.userDetails?.permission}),m){const s=u.data.allowedRoles;console.log(s,"allowedRoles");const v=m.some(p=>s.includes(p.codename));if(console.log(v),this.coreService.getProfile().subscribe(p=>{this.userDetails=p,this.profileService.setUserDetails(this.userDetails);const h=p?.permission,y=this.profileService.getUserDetails();(!y||y.length!==h.length)&&(this.profileService.setUserPermission(h),window.location.reload())}),v)return!0}return this.toastr.error("User have Not Permission to Access This page"),this.router.navigate(["/dashboard"]),!1}}return d.\u0275fac=function(u){return new(u||d)(c.LFG(g.F0),c.LFG(g.gz),c.LFG(a._W),c.LFG(x.J),c.LFG(T.p))},d.\u0275prov=c.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);