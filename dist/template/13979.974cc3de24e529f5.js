"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[13979],{25062:(x,v,s)=>{s.d(v,{y:()=>U});var l=s(92340),d=s(94650),i=s(80529);let U=(()=>{class u{constructor(t){this.http=t,this.apiUrl=`${l.N.api}`}UpdateDefaultAddress(t){return this.http.post(this.apiUrl+"/pv-api/make_default_address/",t)}GetUsedPoints(t){return this.http.get(`${this.apiUrl+"/pv-api/total_use_point/?user_id="}${t}`)}getSupplier(){return this.http.get(this.apiUrl+"/pv-api/supplier/")}getSupplierById(t){return this.http.get(`${this.apiUrl+"/pv-api/supplier/?id="}${t}`)}SupplierIsActive(t,e){return this.http.patch(`${this.apiUrl+"/pv-api/supplier/?id="}${t}`,e)}addSupplier(t){return this.http.post(this.apiUrl+"/pv-api/supplier/",t)}updateSupplier(t,e){return this.http.put(`${this.apiUrl+"/pv-api/supplier/?id="}${e}`,t)}deleteSupplier(t){return this.http.delete(`${this.apiUrl+"/pv-api/supplier/?id="}${t}`)}getVendor(){return this.http.get(this.apiUrl+"/pv-api/vendor/")}getVendorById(t){return this.http.get(`${this.apiUrl+"/pv-api/vendor/?id="}${t}`)}VendorIsActive(t,e){return this.http.patch(`${this.apiUrl+"/pv-api/vendor/?id="}${t}`,e)}addVendor(t){return this.http.post(this.apiUrl+"/pv-api/vendor/",t)}updateVendor(t,e){return this.http.put(`${this.apiUrl+"/pv-api/vendor/?id="}${e}`,t)}deleteVendor(t){return this.http.delete(`${this.apiUrl+"/pv-api/vendor/?id="}${t}`)}getPaymentTerms(){return this.http.get(this.apiUrl+"/pv-api/payment_terms/")}getPaymentTermsById(t){return this.http.get(`${this.apiUrl+"/pv-api/payment_terms/?id="}${t}`)}PaymentTermsIsActive(t,e){return this.http.patch(`${this.apiUrl+"/pv-api/payment_terms/?id="}${t}`,e)}addPaymentTerms(t){return this.http.post(this.apiUrl+"/pv-api/payment_terms/",t)}updatePaymentTerms(t,e){return this.http.put(`${this.apiUrl+"/pv-api/payment_terms/?id="}${e}`,t)}deletePaymentTerms(t){return this.http.delete(`${this.apiUrl+"/pv-api/payment_terms/?id="}${t}`)}getTypeOfGst(){return this.http.get(this.apiUrl+"/pv-api/types_of_gst/")}getTransport(){return this.http.get(this.apiUrl+"/pv-api/transport/")}getTransportById(t){return this.http.get(`${this.apiUrl+"/pv-api/transport/?id="}${t}`)}TransportIsActive(t,e){return this.http.patch(`${this.apiUrl+"/pv-api/transport/?id="}${t}`,e)}addTransport(t){return this.http.post(this.apiUrl+"/pv-api/transport/",t)}updateTransport(t,e){return this.http.put(`${this.apiUrl+"/pv-api/transport/?id="}${e}`,t)}deleteTransport(t){return this.http.delete(`${this.apiUrl+"/pv-api/transport/?id="}${t}`)}getEmployee(){return this.http.get(this.apiUrl+"/pv-api/employee/")}getEmployeeById(t){return this.http.get(`${this.apiUrl+"/pv-api/employee/?id="}${t}`)}EmployeeIsActive(t,e){return this.http.patch(`${this.apiUrl+"/pv-api/employee/?id="}${t}`,e)}addEmployee(t){return this.http.post(this.apiUrl+"/pv-api/employee/",t)}updateEmployee(t,e){return this.http.put(`${this.apiUrl+"/pv-api/employee/?id="}${e}`,t)}deleteEmployee(t){return this.http.delete(`${this.apiUrl+"/pv-api/employee/?id="}${t}`)}getPermission(){return this.http.get(this.apiUrl+"/pv-api/permissions/")}getCustomer(){return this.http.get(this.apiUrl+"/pv-api/customer/")}getCustomerById(t){return this.http.get(`${this.apiUrl+"/pv-api/customer/?id="}${t}`)}CustomerIsActive(t,e){return this.http.patch(`${this.apiUrl+"/pv-api/customer/?id="}${t}`,e)}addCustomer(t){return this.http.post(this.apiUrl+"/pv-api/customer/",t)}updateCustomer(t,e){return this.http.put(`${this.apiUrl+"/pv-api/customer/?id="}${e}`,t)}deleteCustomer(t){return this.http.delete(`${this.apiUrl+"/pv-api/customer/?id="}${t}`)}getUser(){return this.http.get(this.apiUrl+"/pv-api/user/")}getUserById(t){return this.http.get(`${this.apiUrl+"/pv-api/user/?id="}${t}`)}UserIsActive(t,e){return this.http.patch(`${this.apiUrl+"/pv-api/user/?id="}${t}`,e)}addUser(t){return this.http.post(this.apiUrl+"/pv-api/user/",t)}updateUser(t,e){return this.http.put(`${this.apiUrl+"/pv-api/user/?id="}${e}`,t)}deleteUser(t){return this.http.delete(`${this.apiUrl+"/pv-api/user/?id="}${t}`)}getPermissionGroup(){return this.http.get(this.apiUrl+"/pv-api/group/")}getPermissionGroupById(t){return this.http.get(`${this.apiUrl+"/pv-api/group/?id="}${t}`)}addPermissionGroup(t){return this.http.post(this.apiUrl+"/pv-api/group/",t)}updatePermissionGroup(t,e){return this.http.put(`${this.apiUrl+"/pv-api/group/?group_id="}${e}`,t)}deletePermissionGroup(t){return this.http.delete(`${this.apiUrl+"/pv-api/group/?group_id="}${t}`)}getDealer(){return this.http.get(this.apiUrl+"/pv-api/dealer/")}getDealerById(t){return this.http.get(`${this.apiUrl+"/pv-api/dealer/?id="}${t}`)}DealerIsActive(t,e){return this.http.patch(`${this.apiUrl+"/pv-api/dealer/?id="}${t}`,e)}addDealer(t){return this.http.post(this.apiUrl+"/pv-api/dealer/",t)}updateDealer(t,e){return this.http.put(`${this.apiUrl+"/pv-api/dealer/?id="}${e}`,t)}deleteDealer(t){return this.http.delete(`${this.apiUrl+"/pv-api/dealer/?id="}${t}`)}getBranch(){return this.http.get(this.apiUrl+"/pv-api/branch/")}productVariant(){return this.http.get(this.apiUrl+"/pv-api/product_variant/")}searchProduct(t){return this.http.get(this.apiUrl+"/pv-api/variant-search/?search="+t)}getTerms(){return this.http.get(this.apiUrl+"/pv-api/terms/")}getTermsById(t){return this.http.get(`${this.apiUrl+"/pv-api/terms/?id="}${t}`)}TermsIsActive(t,e){return this.http.patch(`${this.apiUrl+"/pv-api/terms/?id="}${t}`,e)}addTerms(t){return this.http.post(this.apiUrl+"/pv-api/terms/",t)}updateTerms(t,e){return this.http.put(`${this.apiUrl+"/pv-api/terms/?id="}${e}`,t)}deleteTerms(t){return this.http.delete(`${this.apiUrl+"/pv-api/terms/?id="}${t}`)}getVoucherType(){return this.http.get(this.apiUrl+"/pv-api/voucher-type/")}getDepartment(){return this.http.get(this.apiUrl+"/pv-api/department/")}getDepartmentById(t){return this.http.get(`${this.apiUrl+"/pv-api/department/?id="}${t}`)}DepartmentIsActive(t,e){return this.http.patch(`${this.apiUrl+"/pv-api/department/?id="}${t}`,e)}addDepartment(t){return this.http.post(this.apiUrl+"/pv-api/department/",t)}updateDepartment(t,e){return this.http.put(`${this.apiUrl+"/pv-api/department/?id="}${e}`,t)}deleteDepartment(t){return this.http.delete(`${this.apiUrl+"/pv-api/department/?id="}${t}`)}getCreditLimitByUserId(t){return this.http.get(`${this.apiUrl+"/pv-api/get_credit_limit/?user_by_credit_id="}${t}`)}}return u.\u0275fac=function(t){return new(t||u)(d.LFG(i.eN))},u.\u0275prov=d.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},13979:(x,v,s)=>{s.r(v),s.d(v,{DetailsPermissionGroupModule:()=>O});var l=s(36895),d=s(4392),i=s(94650),U=s(25062),u=s(24006),$=s(97185),t=s(97392);function e(a,n){1&a&&(i.TgZ(0,"mat-icon",32),i._uU(1,"cancel"),i.qZA())}function r(a,n){1&a&&(i.TgZ(0,"mat-icon",33),i._uU(1,"check"),i.qZA())}function P(a,n){if(1&a&&(i.TgZ(0,"div")(1,"div",28),i.YNc(2,e,2,0,"mat-icon",29),i.YNc(3,r,2,0,"mat-icon",30),i.TgZ(4,"label",31),i._uU(5),i.qZA()()()),2&a){const o=n.$implicit,p=i.oxw(3);i.xp6(2),i.Q6J("ngIf",!p.permissions.includes(o.id)),i.xp6(1),i.Q6J("ngIf",p.permissions.includes(o.id)),i.xp6(1),i.Q6J("for","permission_"+(null==o?null:o.id)),i.xp6(1),i.Oqu(null==o?null:o.name)}}function f(a,n){if(1&a&&(i.TgZ(0,"div",25)(1,"h4",26),i._uU(2),i.qZA(),i.YNc(3,P,6,4,"div",27),i.qZA()),2&a){const o=n.$implicit;i.xp6(2),i.Oqu(null==o?null:o.model_name),i.xp6(1),i.Q6J("ngForOf",null==o?null:o.permissions)}}function c(a,n){if(1&a&&(i.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"h2",20)(4,"button",21),i._uU(5),i.ALo(6,"titlecase"),i.qZA()(),i.TgZ(7,"div",22)(8,"div",23),i.YNc(9,f,4,2,"div",24),i.qZA()()()()()),2&a){const o=n.$implicit,p=n.index;i.xp6(4),i.uIk("data-bs-target","#collapse"+p)("aria-expanded",!1)("aria-controls","collapse"+p)("id","heading"+p),i.xp6(1),i.Oqu(i.lcZ(6,8,o.content_type.app_label)),i.xp6(2),i.Q6J("id","collapse"+p),i.uIk("aria-labelledby","heading"+p),i.xp6(2),i.Q6J("ngForOf",null==o?null:o.model)}}const g=[{path:"",component:(()=>{class a{constructor(o,p,_,C){this.contactService=o,this.fb=p,this.toastr=_,this.Arout=C,this.data=[{content_type:{id:3,app_label:"Places"},model:[{id:13,selected_group:"city",model_name:"city",permissions:[{id:109,name:"Can add City",codename:"add_city"},{id:110,name:"Can change City",codename:"change_city"},{id:111,name:"Can delete City",codename:"delete_city"},{id:112,name:"Can view City",codename:"view_city"}]},{id:13,selected_group:"city",model_name:"country",permissions:[{id:113,name:"Can add Country",codename:"add_country"},{id:114,name:"Can change Country",codename:"change_country"},{id:115,name:"Can delete Country",codename:"delete_country"},{id:116,name:"Can view Country",codename:"view_country"}]}]},{content_type:{id:3,app_label:"Contacts"},model:[{id:13,selected_group:"country",model_name:"amount",permissions:[{id:113,name:"Can add amount",codename:"add_amount"},{id:114,name:"Can change amount",codename:"change_amount"},{id:115,name:"Can delete amount",codename:"delete_amount"},{id:116,name:"Can view amount",codename:"view_amount"}]}]},{content_type:{id:3,app_label:"Product"},model:[{id:13,selected_group:"city",model_name:"color",permissions:[{id:113,name:"Can add color",codename:"add_color"},{id:114,name:"Can change color",codename:"change_color"}]}]}],this.permissions=[],this.isCheck=!1,this.notCheck=!0}ngOnInit(){this.id=this.Arout.snapshot.paramMap.get("id"),this.getPermissionGroup(),this.contactService.getPermissionGroupById(this.id).subscribe(o=>{this.modelName=function y(a){if(!a)return"";const n=a.toLowerCase().split(" ");for(let o=0;o<n.length;o++)n[o]=n[o][0].toUpperCase()+n[o].substring(1);return n.join(" ")}(o.Group),this.permissions=[],o.data.forEach(p=>{p.model.forEach(_=>{_.permissions.forEach(C=>{this.permissions.push(C.id)})})})})}getPermissionGroup(){this.contactService.getPermission().subscribe(o=>{this.groupList=o?.data,this.groupList.forEach(p=>{let _=[];_=p?.model,_.forEach(C=>{C.permissions.map(M=>{this.permissions.includes(M.id)&&(this.isCheck=!0,this.notCheck=!1)})})})})}}return a.\u0275fac=function(o){return new(o||a)(i.Y36(U.y),i.Y36(u.qu),i.Y36($._W),i.Y36(d.gz))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-details-permission-group"]],decls:28,vars:4,consts:[[1,"page-header"],[1,"page-title"],[1,"card"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-start"],[3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"],["id","pills-tab","role","tablist",1,"nav","nav-pills","mb-4","mt-3"],["role","presentation",1,"nav-item"],["id","pills-home-tab","data-bs-toggle","pill","data-bs-target","#pills-home","type","button","role","tab","aria-controls","pills-home","aria-selected","true",1,"nav-link","active"],["id","pills-profile-tab","data-bs-toggle","pill","data-bs-target","#pills-profile","type","button","role","tab","aria-controls","pills-profile","aria-selected","false",1,"nav-link"],["id","pills-tabContent",1,"tab-content"],["id","pills-home","role","tabpanel","aria-labelledby","pills-home-tab",1,"tab-pane","fade","show","active"],["class","heading",4,"ngFor","ngForOf"],["id","pills-profile","role","tabpanel","aria-labelledby","pills-profile-tab",1,"tab-pane","fade"],[1,"heading"],["id","accordionExample",1,"accordion"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse",1,"accordion-button","collapsed"],["data-bs-parent","#accordionExample",1,"accordion-collapse","collapse",3,"id"],[1,"row","w-100","m-0"],["class","col-sm-3 mb-3",4,"ngFor","ngForOf"],[1,"col-sm-3","mb-3"],[1,"f-18","mb-2"],[4,"ngFor","ngForOf"],[1,"form-check"],["style","color: red;padding-top: 5px; font-size: 20px;",4,"ngIf"],["style","color: green;padding-top: 5px; font-size: 20px;",4,"ngIf"],[1,"form-check-label",3,"for"],[2,"color","red","padding-top","5px","font-size","20px"],[2,"color","green","padding-top","5px","font-size","20px"]],template:function(o,p){1&o&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h4"),i._uU(3),i.qZA(),i.TgZ(4,"h6"),i._uU(5,"Manage your User Roles"),i.qZA()()(),i.TgZ(6,"div",2)(7,"div",3)(8,"div",4)(9,"strong"),i._uU(10),i.qZA(),i.TgZ(11,"a",5),i.O4$(),i.TgZ(12,"svg",6),i._UZ(13,"path",7)(14,"path",8),i.qZA(),i._uU(15," Edit Permission Group "),i.qZA()(),i.kcU(),i.TgZ(16,"ul",9)(17,"li",10)(18,"button",11),i._uU(19,"User Role Details"),i.qZA()(),i.TgZ(20,"li",10)(21,"button",12),i._uU(22,"Report Details"),i.qZA()()(),i.TgZ(23,"div",13)(24,"div",14)(25,"div"),i.YNc(26,c,10,10,"div",15),i.qZA()(),i._UZ(27,"div",16),i.qZA()()()),2&o&&(i.xp6(3),i.Oqu(p.modelName),i.xp6(7),i.hij("User Role Name : ",p.modelName,""),i.xp6(1),i.MGl("routerLink","//settings/updatePermissionGroup/",p.id,""),i.xp6(15),i.Q6J("ngForOf",p.groupList))},dependencies:[l.sg,l.O5,d.yS,t.Hw,l.rS],styles:[".w-30[_ngcontent-%COMP%]{width:20%}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:transparent;color:#f63;font-weight:500;border-bottom:2px solid #ff6633;border-radius:0;font-size:16px}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:16px;color:#f63}.orangeb-btn[_ngcontent-%COMP%]{padding:5px 10px;border:2px solid #ff6633;background:transparent;color:#f63;border-radius:5px;font-weight:500}.orangeb-btn[_ngcontent-%COMP%]:hover{background-color:#f63;color:#fff;transition:.3s}.accordion-item[_ngcontent-%COMP%]{border:1px solid #EEEEEE}.accordion-button[_ngcontent-%COMP%]{font-size:17px;font-weight:500;padding:15px 20px}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){background-color:#f9d9cc;color:#f63}.accordion-button.collapsed[_ngcontent-%COMP%]:after{width:30px;background-repeat:no-repeat;height:30px;background-size:auto}.accordion-button[_ngcontent-%COMP%]:not(.collapsed):after{transform:rotate(-180deg);width:30px;background-repeat:no-repeat;height:30px;background-size:auto}.accordion-body[_ngcontent-%COMP%]{color:#201e1f;font-size:20px}.accordion[_ngcontent-%COMP%]{margin-bottom:30px}.text-p[_ngcontent-%COMP%]{color:#483d53;font-size:15px;font-weight:400}.form-control[_ngcontent-%COMP%]:focus{border-color:#faddd1;outline:0;box-shadow:0 0 0 .25rem #ff8e5f63}.btn-close[_ngcontent-%COMP%]:focus{border-color:#faddd1;outline:0;box-shadow:0 0 0 .25rem #ff8e5f63}.form-check-input[_ngcontent-%COMP%]:focus{border-color:#faddd1;box-shadow:0 0 0 .25rem #ff8e5f63}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#f63;border-color:#f63}.accordion-button[_ngcontent-%COMP%]:focus{border-color:#faddd1;box-shadow:0 0 0 .25rem #ff8e5f63}.accordion-collapse[_ngcontent-%COMP%]{padding:15px}.f-18[_ngcontent-%COMP%]{font-size:18px;font-weight:500}@media (max-width: 765px){.purple-text[_ngcontent-%COMP%]{font-size:15px}.accordion-button[_ngcontent-%COMP%]{padding:10px 15px}.text-p[_ngcontent-%COMP%]{font-size:11px}.heading[_ngcontent-%COMP%]{width:100%}.accordion-button[_ngcontent-%COMP%], .accordion-body[_ngcontent-%COMP%]{font-size:12px}.accordion-button[_ngcontent-%COMP%]:not(.collapsed):after{width:20px;height:20px}.accordion-button.collapsed[_ngcontent-%COMP%]:after{width:20px;height:20px}}"]}),a})(),canActivate:[s(30597).l],data:{allowedRoles:["view_group"]}}];let b=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[d.Bz.forChild(g),d.Bz]}),a})();var D=s(8468);let O=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[l.ez,b,D.I,t.Ps]}),a})()},30597:(x,v,s)=>{s.d(v,{l:()=>$});var l=s(94650),d=s(4392),i=s(97185),U=s(42917),u=s(80927);let $=(()=>{class t{constructor(r,P,f,c,y){this.router=r,this.Arout=P,this.toastr=f,this.profileService=c,this.coreService=y}canActivate(r,P){const f=JSON.parse(localStorage.getItem("auth"));if(this.profileService.userDetails$.subscribe(c=>{this.userDetails=c,this.permissions=this.userDetails?.permission}),f){const c=r.data.allowedRoles,y=f.some(h=>c.includes(h.codename));let m=this.coreService.profileData$.value;if(m&&m.username){this.userDetails=m,this.profileService.setUserDetails(this.userDetails),this.profileService.ProfileData$.next(m);const h=m?.permission,g=this.profileService.getUserDetails();(!g||g.length!==h.length)&&(this.profileService.setUserPermission(h),window.location.reload())}else this.coreService.getProfile().subscribe(h=>{this.userDetails=h,this.profileService.setUserDetails(this.userDetails),this.profileService.ProfileData$.next(h);const g=h?.permission,b=this.profileService.getUserDetails();(!b||b.length!==g.length)&&(this.profileService.setUserPermission(g),window.location.reload())});if(y)return!0}return this.toastr.error("User have Not Permission to Access This page"),this.router.navigate(["/dashboard"]),!1}}return t.\u0275fac=function(r){return new(r||t)(l.LFG(d.F0),l.LFG(d.gz),l.LFG(i._W),l.LFG(U.J),l.LFG(u.p))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);