"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[4313],{14313:(bt,u,s)=>{s.r(u),s.d(u,{TargetGraphModule:()=>xt});var _=s(36895),h=s(89299),q=s(96166),M=s(12983),w=s.n(M),m=s(80574),N=s(94327),f=s(68675),T=s(54004),p=s(24006),t=s(94650),J=s(72266),S=s(25062),O=s(73162),Z=s(54333),x=s(59549),F=s(3238),d=s(47957),v=s(44144),C=s(6205),D=s(54040);const E=["chart"];function P(a,r){1&a&&(t.TgZ(0,"span",27),t._uU(1,"Select From Date"),t.qZA())}function Q(a,r){1&a&&(t.TgZ(0,"span",27),t._uU(1,"Select To Date"),t.qZA())}function k(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-option",29),t.NdJ("onSelectionChange",function(){t.CHM(e);const o=t.oxw().$implicit,i=t.oxw();return t.KtG(i.onCheck(o.id))}),t._uU(1),t.qZA()}if(2&a){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.name),t.xp6(1),t.Oqu(null==e?null:e.name)}}function I(a,r){if(1&a&&(t.ynx(0),t.YNc(1,k,2,2,"mat-option",28),t.BQk()),2&a){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active)}}function H(a,r){1&a&&(t.TgZ(0,"mat-option",32)(1,"a",33),t._uU(2,"+ Add Employee"),t.qZA()()),2&a&&t.Q6J("value","No data found")}function Y(a,r){1&a&&(t.TgZ(0,"mat-option",34),t._uU(1,"Please Enter 1 or more characters"),t.qZA())}function K(a,r){if(1&a&&(t.ynx(0),t.YNc(1,H,3,1,"mat-option",30),t.YNc(2,Y,2,0,"mat-option",31),t.BQk()),2&a){const e=r.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.employeeControl.value?null:n.employeeControl.value.length)<3)}}function B(a,r){1&a&&(t.TgZ(0,"span",27),t._uU(1,"Select Employee "),t.qZA())}function z(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-option",29),t.NdJ("onSelectionChange",function(){t.CHM(e);const o=t.oxw().$implicit,i=t.oxw();return t.KtG(i.onCheck2(o.id))}),t._uU(1),t.qZA()}if(2&a){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.title),t.xp6(1),t.Oqu(null==e?null:e.title)}}function $(a,r){if(1&a&&(t.ynx(0),t.YNc(1,z,2,2,"mat-option",28),t.BQk()),2&a){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active)}}function V(a,r){1&a&&(t.TgZ(0,"mat-option",32)(1,"a",35),t._uU(2,"+ Add Department"),t.qZA()()),2&a&&t.Q6J("value","No data found")}function R(a,r){1&a&&(t.TgZ(0,"mat-option",34),t._uU(1,"Please Enter 1 or more characters"),t.qZA())}function j(a,r){if(1&a&&(t.ynx(0),t.YNc(1,V,3,1,"mat-option",30),t.YNc(2,R,2,0,"mat-option",31),t.BQk()),2&a){const e=r.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.departmentControl.value?null:n.departmentControl.value.length)<3)}}function W(a,r){1&a&&(t.TgZ(0,"span",27),t._uU(1,"Select Department "),t.qZA())}function X(a,r){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",61)(4,"a",62),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA()()),2&a){const e=r.$implicit,n=r.index;t.xp6(2),t.Oqu(n+1),t.xp6(3),t.Oqu(null==e?null:e.employee_name),t.xp6(2),t.Oqu(null==e?null:e.department),t.xp6(2),t.Oqu(null==e?null:e.assigned_target),t.xp6(2),t.Oqu(null==e?null:e.achieved_target),t.xp6(2),t.Oqu(null==e?null:e["%_achieved"])}}const y=function(a,r){return{itemsPerPage:a,currentPage:r}};function tt(a,r){if(1&a&&(t.TgZ(0,"tbody"),t.ynx(1),t.YNc(2,X,14,6,"tr",18),t.ALo(3,"paginate"),t.ALo(4,"orderBy"),t.BQk(),t.qZA()),2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",t.xi3(3,1,t.Dn7(4,4,e.graphList,e.key,e.reverse),t.WLB(8,y,e.itemsPerPage,e.p)))}}function et(a,r){1&a&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",63)(3,"p",64),t._uU(4,"Data not available"),t.qZA()()()())}function nt(a,r){1&a&&t._UZ(0,"mat-progress-bar",65)}function ot(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",66)(2,"div",67),t._uU(3," Show per page "),t.TgZ(4,"select",68),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.itemsPerPage=o)}),t.TgZ(5,"option",69),t._uU(6,"10"),t.qZA(),t.TgZ(7,"option",70),t._uU(8,"20"),t.qZA(),t.TgZ(9,"option",71),t._uU(10,"30"),t.qZA(),t.TgZ(11,"option",72),t._uU(12,"50"),t.qZA(),t.TgZ(13,"option",73),t._uU(14,"100"),t.qZA(),t.TgZ(15,"option",74),t._uU(16,"All"),t.qZA()()()(),t.TgZ(17,"div",75)(18,"div",76)(19,"pagination-controls",77),t.NdJ("pageChange",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.p=o)}),t.qZA(),t.TgZ(20,"div",78),t._uU(21),t.qZA()()()()}if(2&a){const e=t.oxw(2);t.xp6(4),t.Q6J("ngModel",e.itemsPerPage),t.xp6(17),t.lnq("Showing ",e.itemsPerPage," to ",e.itemsPerPage," of ",e.itemsPerPage," entries")}}function at(a,r){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",36)(2,"div",37)(3,"div",38)(4,"a",39),t._UZ(5,"img",40),t.TgZ(6,"span"),t._UZ(7,"img",41),t.qZA()()(),t.TgZ(8,"div",42)(9,"a",43),t._UZ(10,"img",44),t.qZA(),t.TgZ(11,"div",45)(12,"label")(13,"input",46),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.titlee=o)})("ngModelChange",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.search())}),t.qZA()()()()(),t.TgZ(14,"div",47)(15,"ul")(16,"li")(17,"a",48),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.generatePDF())}),t._UZ(18,"img",49),t.qZA()(),t.TgZ(19,"li")(20,"a",50),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.exportToExcel())}),t._UZ(21,"img",51),t.qZA()(),t.TgZ(22,"li")(23,"a",52),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.printTable())}),t._UZ(24,"img",53),t.qZA()()()()(),t.TgZ(25,"div",54)(26,"table",55)(27,"thead")(28,"tr")(29,"th",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sort("id"))}),t._uU(30,"Sr.No."),t._UZ(31,"i",57),t.qZA(),t.TgZ(32,"th",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sort("id"))}),t._uU(33,"Employee Name"),t._UZ(34,"i",57),t.qZA(),t.TgZ(35,"th",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sort("id"))}),t._uU(36,"Department"),t._UZ(37,"i",57),t.qZA(),t.TgZ(38,"th",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sort("id"))}),t._uU(39,"Assigned Target"),t._UZ(40,"i",57),t.qZA(),t.TgZ(41,"th",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sort("id"))}),t._uU(42,"Achieved Target"),t._UZ(43,"i",57),t.qZA(),t.TgZ(44,"th",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sort("id"))}),t._uU(45,"Achieved (%)"),t._UZ(46,"i",57),t.qZA()()(),t.YNc(47,tt,5,11,"tbody",19),t.YNc(48,et,5,0,"tbody",19),t.qZA(),t.TgZ(49,"div",58),t.YNc(50,nt,1,0,"mat-progress-bar",59),t.qZA(),t.YNc(51,ot,22,4,"div",60),t.qZA(),t.BQk()}if(2&a){const e=t.oxw();t.xp6(13),t.Q6J("ngModel",e.titlee),t.xp6(34),t.Q6J("ngIf",(null==e.graphList?null:e.graphList.length)>=0),t.xp6(1),t.Q6J("ngIf",0===(null==e.graphList?null:e.graphList.length)&&!e.loader),t.xp6(2),t.Q6J("ngIf",e.loader),t.xp6(1),t.Q6J("ngIf",!e.loader)}}function it(a,r){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",61)(4,"a",62),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA()()),2&a){const e=r.$implicit,n=r.index;t.xp6(2),t.Oqu(n+1),t.xp6(3),t.Oqu(null==e?null:e.employee_name),t.xp6(2),t.Oqu(null==e?null:e.department),t.xp6(2),t.Oqu(null==e?null:e.assigned_target),t.xp6(2),t.Oqu(null==e?null:e.achieved_target),t.xp6(2),t.Oqu(null==e?null:e["%_achieved"])}}function rt(a,r){if(1&a&&(t.TgZ(0,"tbody"),t.ynx(1),t.YNc(2,it,14,6,"tr",18),t.ALo(3,"paginate"),t.ALo(4,"orderBy"),t.BQk(),t.qZA()),2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",t.xi3(3,1,t.Dn7(4,4,e.targetGraphList,e.key,e.reverse),t.WLB(8,y,e.itemsPerPage,e.p)))}}function lt(a,r){1&a&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",63)(3,"p",64),t._uU(4,"Data not available"),t.qZA()()()())}function st(a,r){1&a&&t._UZ(0,"mat-progress-bar",65)}function ct(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",66)(2,"div",67),t._uU(3," Show per page "),t.TgZ(4,"select",68),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.itemsPerPage=o)}),t.TgZ(5,"option",69),t._uU(6,"10"),t.qZA(),t.TgZ(7,"option",70),t._uU(8,"20"),t.qZA(),t.TgZ(9,"option",71),t._uU(10,"30"),t.qZA(),t.TgZ(11,"option",72),t._uU(12,"50"),t.qZA(),t.TgZ(13,"option",73),t._uU(14,"100"),t.qZA(),t.TgZ(15,"option",74),t._uU(16,"All"),t.qZA()()()(),t.TgZ(17,"div",75)(18,"div",76)(19,"pagination-controls",77),t.NdJ("pageChange",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.p=o)}),t.qZA(),t.TgZ(20,"div",78),t._uU(21),t.qZA()()()()}if(2&a){const e=t.oxw(2);t.xp6(4),t.Q6J("ngModel",e.itemsPerPage),t.xp6(17),t.lnq("Showing ",e.itemsPerPage," to ",e.itemsPerPage," of ",e.itemsPerPage," entries")}}function pt(a,r){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",36)(2,"div",37)(3,"div",38)(4,"a",39),t._UZ(5,"img",40),t.TgZ(6,"span"),t._UZ(7,"img",41),t.qZA()()(),t.TgZ(8,"div",42)(9,"a",43),t._UZ(10,"img",44),t.qZA(),t.TgZ(11,"div",45)(12,"label")(13,"input",46),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.titlee=o)})("ngModelChange",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.search())}),t.qZA()()()()(),t.TgZ(14,"div",47)(15,"ul")(16,"li")(17,"a",48),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.generatePDF())}),t._UZ(18,"img",49),t.qZA()(),t.TgZ(19,"li")(20,"a",50),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.exportToExcel())}),t._UZ(21,"img",51),t.qZA()(),t.TgZ(22,"li")(23,"a",52),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.printTable())}),t._UZ(24,"img",53),t.qZA()()()()(),t.TgZ(25,"div",54)(26,"table",55)(27,"thead")(28,"tr")(29,"th",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sort("id"))}),t._uU(30,"Sr.No."),t._UZ(31,"i",57),t.qZA(),t.TgZ(32,"th",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sort("id"))}),t._uU(33,"Employee Name"),t._UZ(34,"i",57),t.qZA(),t.TgZ(35,"th",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sort("id"))}),t._uU(36,"Department"),t._UZ(37,"i",57),t.qZA(),t.TgZ(38,"th",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sort("id"))}),t._uU(39,"Assigned Target"),t._UZ(40,"i",57),t.qZA(),t.TgZ(41,"th",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sort("id"))}),t._uU(42,"Achieved Target"),t._UZ(43,"i",57),t.qZA(),t.TgZ(44,"th",56),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sort("id"))}),t._uU(45,"Achieved (%)"),t._UZ(46,"i",57),t.qZA()()(),t.YNc(47,rt,5,11,"tbody",19),t.YNc(48,lt,5,0,"tbody",19),t.qZA(),t.TgZ(49,"div",58),t.YNc(50,st,1,0,"mat-progress-bar",59),t.qZA(),t.YNc(51,ct,22,4,"div",60),t.qZA(),t.BQk()}if(2&a){const e=t.oxw();t.xp6(13),t.Q6J("ngModel",e.titlee),t.xp6(34),t.Q6J("ngIf",(null==e.targetGraphList?null:e.targetGraphList.length)>=0),t.xp6(1),t.Q6J("ngIf",0===(null==e.targetGraphList?null:e.targetGraphList.length)&&!e.loader),t.xp6(2),t.Q6J("ngIf",e.loader),t.xp6(1),t.Q6J("ngIf",!e.loader)}}const b=function(a){return{"is-invalid":a}},gt=[{path:"",component:(()=>{class a{constructor(e,n,o,i){this.router=e,this.hrmService=n,this.fb=o,this.contactService=i,this.chartSeries=[40,32,20,55,10,40,5],this.chartDetails={type:"pie",toolbar:{show:!0}},this.chartLabels=["apple","hp","dell","MI","Redmi","Microsoft","window"],this.chartTitle={text:"Loading Companies",align:"center"},this.chartDataLabel={enabled:!1},this.barChartOptions={scales:{xAxes:[{type:"category",labels:[]}],yAxes:[{ticks:{max:100,beginAtZero:!0,callback:function(l,c,g){return l.toLocaleString()}}}]},responsive:!0,maintainAspectRatio:!1,barThickness:20},this.dtOptions={},this.initChecked=!1,this.p=1,this.pageSize=10,this.itemsPerPage=10,this.row=!1,this.employeeControl=new p.NI,this.departmentControl=new p.NI,this.loader=!0,this.barChartLabels=[],this.barChartType="bar",this.barChartLegend=!0,this.barChartData=[],this.targetGraphList=[],this.graphList=[],this.employeeList=[],this.departmentList=[],this.isFilterData=!1,this.isEmployeeAvailable=!1,this.isDepartmentAvailable=!1,this.allSelected=!1,this.key="id",this.reverse=!1}get f(){return this.filterForm.controls}ngOnInit(){const e=(new Date).toISOString().split("T")[0],n=new Date,o=n.getMonth();n.setDate(1),n.setMonth(o-1),n.toISOString().split("T");const l=new Date(n.getFullYear(),n.getMonth()-1,1).toISOString().split("T")[0];this.filterForm=this.fb.group({from_date:new p.NI(e,[p.kI.required]),to_date:new p.NI(l,[p.kI.required]),employee_id:new p.NI(""),department_id:new p.NI("")}),this.submit(),this.filteredemployee=this.employeeControl.valueChanges.pipe((0,f.O)(""),(0,T.U)(c=>this._filter(c,!0))),this.filtereddepartment=this.departmentControl.valueChanges.pipe((0,f.O)(""),(0,T.U)(c=>this._filter2(c,!0))),this.getEmployee(),this.getDepartment()}formatDate(e){return`${e.getFullYear()}-${("0"+(e.getMonth()+1)).slice(-2)}-${("0"+e.getDate()).slice(-2)}`}_filter(e,n){const o="string"==typeof e?e.toLowerCase():e.toString().toLowerCase(),i=this.employeeList.filter(n?l=>l.name.toLowerCase().includes(o):l=>!l.name.toLowerCase().includes(o));return!n&&0===i.length&&i.push({name:"No data found"}),i}_filter2(e,n){const o="string"==typeof e?e.toLowerCase():e.toString().toLowerCase(),i=this.departmentList.filter(n?l=>l.title.toLowerCase().includes(o):l=>!l.title.toLowerCase().includes(o));return!n&&0===i.length&&i.push({title:"No data found"}),i}getTargetGraph(e,n,o,i){this.isEmployeeAvailable?this.hrmService.getTargetGraph(e,n,o,i).subscribe(l=>{this.targetGraphList=l,console.warn(this.targetGraphList),this.loader=!1}):this.isDepartmentAvailable?this.hrmService.getTargetGraph(e,n,o,i).subscribe(l=>{this.targetGraphList=l?.employees,console.warn(this.targetGraphList),this.graphList=this.targetGraphList,this.loader=!1,this.barChartLabels=this.targetGraphList.map(c=>c?.employee_name),this.barChartData=this.targetGraphList.map(c=>({data:[Math.min(c["%_achieved"],100)],label:c.employee_name}))}):this.isEmployeeAvailable&&this.isDepartmentAvailable?this.hrmService.getTargetGraph(e,n,o,i).subscribe(l=>{this.targetGraphList=l,console.warn(this.targetGraphList),this.loader=!1}):this.hrmService.getTargetGraph(e,n,o,i).subscribe(l=>{this.targetGraphList=l?.all_departments_data,console.warn(this.targetGraphList),this.graphList=[],this.targetGraphList.forEach(c=>{this.graphList=this.graphList.concat(c?.employees_data),this.loader=!1}),this.chartOptions={series:[{name:"",data:this.graphList.map(c=>c["%_achieved"])}],chart:{height:350,type:"bar"},plotOptions:{bar:{dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(c){return c+"%"},offsetY:-20,style:{fontSize:"12px",colors:["#304758"]}},xaxis:{categories:this.graphList.map(c=>c.employee_name),crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}}},tooltip:{enabled:!0,offsetY:-35}},fill:{type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[50,0,100,100]}},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1,formatter:function(c){return c+"%"}}}}})}getEmployee(){this.contactService.getEmployee().subscribe(e=>{this.employeeList=e})}getDepartment(){this.contactService.getDepartment().subscribe(e=>{this.departmentList=e})}onCheck(e){console.log(e,"employeeId"),this.filterForm.get("employee_id").patchValue(e)}onCheck2(e){console.log(e,"departmentId"),this.filterForm.get("department_id").patchValue(e)}submit(){if(console.log(this.filterForm.value),this.filterForm.valid){let e=this.filterForm.value,n=e?.employee_id,o=e?.department_id,i=e?.to_date,l=e?.from_date;this.isFilterData=!0,n&&o?(this.isEmployee=n,this.isDepartment=o,this.isEmployeeAvailable=!0,this.isDepartmentAvailable=!0):o?(this.isDepartment=o,this.isDepartmentAvailable=!0):n&&(this.isEmployee=n,this.isEmployeeAvailable=!0),this.getTargetGraph(n,o,i,l)}else this.filterForm.markAllAsTouched()}selectAlll(){this.selectedRows.fill(this.allSelected)}selectAll(e){this.tableData.forEach(e?n=>{n.isSelected=!1}:n=>{n.isSelected=!0})}search(){if(""==this.titlee)this.ngOnInit();else{const e=this.titlee.toLocaleLowerCase();this.graphList=this.graphList.filter(n=>{const o=n?.employee_name.toLocaleLowerCase(),i=n?.department.toLocaleLowerCase();return!!o.match(e)||!!i.match(e)})}}sort(e){this.key=e,this.reverse=!this.reverse}generatePDF(){const e=new q.default;e.setFontSize(15),e.setTextColor(33,43,54),e.text("Tax Slab List",10,10),w()(e,{html:"#mytable",theme:"grid",headStyles:{fillColor:[255,159,67]},columns:[{header:"Sr No."},{header:"Department"},{header:"Start Date"},{header:"End Date"},{header:"Target Value"},{header:"Is Active"}]}),e.save("target.pdf")}getVisibleDataFromTable(){const e=[],n=document.getElementById("mytable"),o=n.querySelector("thead tr"),i=n.querySelectorAll("tbody tr"),l=[];return o.querySelectorAll("th").forEach(c=>{const g=c.textContent.trim();"Is Active"!==g&&"Action"!==g&&l.push(g)}),e.push(l),i.forEach(c=>{const g=[];c.querySelectorAll("td").forEach(A=>{g.push(A.textContent.trim())}),e.push(g)}),e}exportToExcel(){const e=this.getVisibleDataFromTable(),n=m.P6.aoa_to_sheet(e),o=m.P6.book_new();m.P6.book_append_sheet(o,n,"Sheet1");const i=m.cW(o,{bookType:"xlsx",type:"array"}),l=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,N.saveAs)(l,"target.xlsx")}printTable(){const e=document.getElementById("mytable"),i=document.querySelector(".titl").outerHTML,l=e.cloneNode(!0),c=l.querySelector("th.thone:nth-child(7)");c&&c.remove();const g=l.querySelector("th.thone:last-child");g&&g.remove(),l.querySelectorAll("tr").forEach(G=>{const L=G.querySelector("td:nth-child(7)");L&&L.remove();const U=G.querySelector("td:last-child");U&&U.remove()});const vt=l.outerHTML,Ct="<style>.spaced-title { margin-top: 80px; }</style>"+i.replace("titl","spaced-title")+vt,yt=document.body.innerHTML;document.body.innerHTML=Ct,window.print(),document.body.innerHTML=yt}get from_date(){return this.filterForm.get("from_date")}get to_date(){return this.filterForm.get("to_date")}get employee_id(){return this.filterForm.get("employee_id")}get department_id(){return this.filterForm.get("department_id")}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(h.F0),t.Y36(J.z),t.Y36(p.qu),t.Y36(S.y))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-target-graph"]],viewQuery:function(e,n){if(1&e&&t.Gf(E,5),2&e){let o;t.iGM(o=t.CRH())&&(n.chart=o.first)}},decls:60,vars:37,consts:[[1,"page-header"],[1,"page-title"],[1,"titl"],[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-3","col-sm-4","col-12"],[1,"form-group"],["type","date","formControlName","from_date","id","from_date",3,"ngClass"],["class","text-danger",4,"ngIf"],["type","date","formControlName","to_date","id","to_date",3,"ngClass"],[1,"col-lg-4","col-sm-4","col-12"],[2,"padding-left","12px"],[1,"search-input","mx-3",2,"width","100%"],[1,"w-100",2,"padding","0","width","100%","min-width","100%","border-top","none"],["type","text","placeholder","Search Employee","aria-label","Employee","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","placeholder","Search Department","aria-label","Department","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete"],["autos","matAutocomplete"],[1,"col-lg-3","col-sm-4","col-12","mt-3","text-center"],[1,"btn","btn-submit"],[1,"container"],["id","chart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","fill","title"],[1,"text-danger"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngIf"],[2,"color","#FF9F43",3,"value","onSelectionChange"],[3,"value",4,"ngIf"],["class","is-loading",4,"ngIf"],[3,"value"],["routerLink","//contacts/addEmployee",2,"color","#FF9F43"],[1,"is-loading"],["routerLink","//hrm/department",2,"color","#FF9F43"],[1,"table-top"],[1,"search-set"],[1,"search-path"],["id","filter_search",1,"btn","btn-filter"],["src","assets/img/icons/filter.svg","alt","img"],["src","assets/img/icons/closes.svg","alt","img"],[1,"search-input"],[1,"btn","btn-searchset"],["src","assets/img/icons/search-white.svg","alt","img"],[1,"dataTables_filter"],["type","search","placeholder","Search Department/Employee",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"wordset"],["data-bs-toggle","tooltip","data-bs-placement","top","title","pdf",3,"click"],["src","assets/img/icons/pdf.svg","alt","img"],["data-bs-toggle","tooltip","data-bs-placement","top","title","excel",3,"click"],["src","assets/img/icons/excel.svg","alt","img"],["data-bs-toggle","tooltip","data-bs-placement","top","title","print",3,"click"],["src","assets/img/icons/printer.svg","alt","img"],[1,"table-responsive"],["id","mytable",1,"table","datanew"],[1,"thone",3,"click"],[1,"fa","fa-sort"],[1,"progressbar"],["mode","indeterminate","class","progressbar",4,"ngIf"],["class","row",4,"ngIf"],[1,"productimgname"],[2,"line-height","3"],["colspan","10"],[1,"center-textt"],["mode","indeterminate",1,"progressbar"],[1,"col-lg-4","col-sm-4","col-12","mt-2"],[1,"entries"],[1,"pagination",3,"ngModel","ngModelChange"],["value","10"],["value","20"],["value","30"],["value","50"],["value","100"],["value","-1"],[1,"col-lg-8","col-sm-8","col-12","mt-2"],[1,"f-right"],[3,"pageChange"],[1,"entries","f-right"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),t._uU(3,"Target Graph"),t.qZA(),t.TgZ(4,"h6"),t._uU(5,"View/Search Target Graph"),t.qZA()()(),t.TgZ(6,"div",3)(7,"div",4)(8,"form",5),t.NdJ("ngSubmit",function(){return n.submit()}),t.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"label"),t._uU(13,"From Date*"),t.qZA(),t._UZ(14,"input",9),t.YNc(15,P,2,0,"span",10),t.qZA()(),t.TgZ(16,"div",7)(17,"div",8)(18,"label"),t._uU(19,"To Date*"),t.qZA(),t._UZ(20,"input",11),t.YNc(21,Q,2,0,"span",10),t.qZA()(),t.TgZ(22,"div",12)(23,"div",8)(24,"label",13),t._uU(25,"Select Employee"),t.qZA(),t.TgZ(26,"div",14)(27,"mat-form-field",15),t._UZ(28,"input",16),t.TgZ(29,"mat-autocomplete",null,17),t.YNc(31,I,2,1,"ng-container",18),t.ALo(32,"async"),t.YNc(33,K,3,2,"ng-container",19),t.ALo(34,"async"),t.qZA()(),t.YNc(35,B,2,0,"span",10),t.qZA()()(),t.TgZ(36,"div",12)(37,"div",8)(38,"label",13),t._uU(39,"Select Department"),t.qZA(),t.TgZ(40,"div",14)(41,"mat-form-field",15),t._UZ(42,"input",20),t.TgZ(43,"mat-autocomplete",null,21),t.YNc(45,$,2,1,"ng-container",18),t.ALo(46,"async"),t.YNc(47,j,3,2,"ng-container",19),t.ALo(48,"async"),t.qZA()(),t.YNc(49,W,2,0,"span",10),t.qZA()()(),t.TgZ(50,"div",22)(51,"button",23),t._uU(52,"Apply Filter"),t.qZA()()()(),t.TgZ(53,"div",3)(54,"div",4)(55,"div",24)(56,"div",25),t._UZ(57,"apx-chart",26),t.qZA()()()(),t.YNc(58,at,52,5,"ng-container",19),t.YNc(59,pt,52,5,"ng-container",19),t.qZA()()),2&e){const o=t.MAs(30),i=t.MAs(44);t.xp6(8),t.Q6J("formGroup",n.filterForm),t.xp6(6),t.Q6J("ngClass",t.VKq(33,b,n.f.from_date.touched&&n.f.from_date.invalid)),t.xp6(1),t.Q6J("ngIf",n.from_date&&n.from_date.invalid&&n.from_date.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(35,b,n.f.to_date.touched&&n.f.to_date.invalid)),t.xp6(1),t.Q6J("ngIf",n.to_date&&n.to_date.invalid&&n.to_date.touched),t.xp6(7),t.Q6J("formControl",n.employeeControl)("matAutocomplete",o),t.xp6(3),t.Q6J("ngForOf",t.lcZ(32,25,n.filteredemployee)),t.xp6(2),t.Q6J("ngIf",t.lcZ(34,27,n.filteredemployee)),t.xp6(2),t.Q6J("ngIf",n.employee_id&&n.employee_id.invalid&&n.employee_id.touched),t.xp6(7),t.Q6J("formControl",n.departmentControl)("matAutocomplete",i),t.xp6(3),t.Q6J("ngForOf",t.lcZ(46,29,n.filtereddepartment)),t.xp6(2),t.Q6J("ngIf",t.lcZ(48,31,n.filtereddepartment)),t.xp6(2),t.Q6J("ngIf",n.department_id&&n.department_id.invalid&&n.department_id.touched),t.xp6(8),t.Q6J("series",null==n.chartOptions?null:n.chartOptions.series)("chart",null==n.chartOptions?null:n.chartOptions.chart)("dataLabels",null==n.chartOptions?null:n.chartOptions.dataLabels)("plotOptions",null==n.chartOptions?null:n.chartOptions.plotOptions)("yaxis",null==n.chartOptions?null:n.chartOptions.yaxis)("xaxis",null==n.chartOptions?null:n.chartOptions.xaxis)("fill",null==n.chartOptions?null:n.chartOptions.fill)("title",null==n.chartOptions?null:n.chartOptions.title),t.xp6(1),t.Q6J("ngIf",!n.isEmployeeAvailable),t.xp6(1),t.Q6J("ngIf",n.isEmployeeAvailable)}},dependencies:[_.mk,_.sg,_.O5,h.yS,p._Y,p.YN,p.Kr,p.Fj,p.EJ,p.JJ,p.JL,p.On,p.oH,p.sg,p.u,O.pW,Z.LS,x.KE,F.ey,d.XC,d.ZL,v.Nt,C.x,_.Ov,Z._s,D.T],styles:[".th[_ngcontent-%COMP%]{background:#EEF0F8;font-family:Poppins;font-style:normal;font-weight:500;font-size:18px;line-height:140%;color:#3b3b3b;border-right:2px solid white;border-bottom:2px solid white}.td[_ngcontent-%COMP%]{background-color:#f2f4f3;font-family:Poppins;font-style:normal;font-weight:400;font-size:16px;line-height:140%;color:#3b3b3b;border-right:2px solid white;border-bottom:2px solid white}.ng-dirty.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%], .mat-autocomplete-trigger.mat-input-element.mat-form-field-autofill-control.ng-tns-c114-0.ng-untouched.ng-pristine.ng-valid.cdk-text-field-autofill-monitored.is-invalid[_ngcontent-%COMP%]{border:1px solid red}select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=button][_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}.headingg[_ngcontent-%COMP%]{color:#ff9f43;font-size:16px;font-weight:600;text-align:center}.barchart[_ngcontent-%COMP%]{height:350px}.chartContainer[_ngcontent-%COMP%]{width:500px;height:500px}"]}),a})()}];let _t=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[h.Bz.forChild(gt),h.Bz]}),a})();var ht=s(8468),mt=s(3848),dt=s(97392),ut=s(95113),ft=s(56709),Tt=s(90455),Zt=s(64155);let xt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[_.ez,_t,ht.I,mt.Nh,dt.Ps,ut.LD,ft.p9,Tt.rP,p.u5,p.UX,d.Bb,x.lN,v.c,Zt.vQ,C.X]}),a})()}}]);