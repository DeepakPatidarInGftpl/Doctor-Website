"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[7485],{25062:(Li,Ze,A)=>{A.d(Ze,{y:()=>U});var wt=A(92340),P=A(94650),E=A(80529);let U=(()=>{class l{constructor(u){this.http=u,this.apiUrl=`${wt.N.api}`}getSupplier(){return this.http.get(this.apiUrl+"/pv-api/supplier/")}getSupplierById(u){return this.http.get(`${this.apiUrl+"/pv-api/supplier/?id="}${u}`)}SupplierIsActive(u,m){return this.http.patch(`${this.apiUrl+"/pv-api/supplier/?id="}${u}`,m)}addSupplier(u){return this.http.post(this.apiUrl+"/pv-api/supplier/",u)}updateSupplier(u,m){return this.http.put(`${this.apiUrl+"/pv-api/supplier/?id="}${m}`,u)}deleteSupplier(u){return this.http.delete(`${this.apiUrl+"/pv-api/supplier/?id="}${u}`)}getVendor(){return this.http.get(this.apiUrl+"/pv-api/vendor/")}getVendorById(u){return this.http.get(`${this.apiUrl+"/pv-api/vendor/?id="}${u}`)}VendorIsActive(u,m){return this.http.patch(`${this.apiUrl+"/pv-api/vendor/?id="}${u}`,m)}addVendor(u){return this.http.post(this.apiUrl+"/pv-api/vendor/",u)}updateVendor(u,m){return this.http.put(`${this.apiUrl+"/pv-api/vendor/?id="}${m}`,u)}deleteVendor(u){return this.http.delete(`${this.apiUrl+"/pv-api/vendor/?id="}${u}`)}getPaymentTerms(){return this.http.get(this.apiUrl+"/pv-api/payment_terms/")}getPaymentTermsById(u){return this.http.get(`${this.apiUrl+"/pv-api/payment_terms/?id="}${u}`)}PaymentTermsIsActive(u,m){return this.http.patch(`${this.apiUrl+"/pv-api/payment_terms/?id="}${u}`,m)}addPaymentTerms(u){return this.http.post(this.apiUrl+"/pv-api/payment_terms/",u)}updatePaymentTerms(u,m){return this.http.put(`${this.apiUrl+"/pv-api/payment_terms/?id="}${m}`,u)}deletePaymentTerms(u){return this.http.delete(`${this.apiUrl+"/pv-api/payment_terms/?id="}${u}`)}getTypeOfGst(){return this.http.get(this.apiUrl+"/pv-api/types_of_gst/")}getTransport(){return this.http.get(this.apiUrl+"/pv-api/transport/")}getTransportById(u){return this.http.get(`${this.apiUrl+"/pv-api/transport/?id="}${u}`)}TransportIsActive(u,m){return this.http.patch(`${this.apiUrl+"/pv-api/transport/?id="}${u}`,m)}addTransport(u){return this.http.post(this.apiUrl+"/pv-api/transport/",u)}updateTransport(u,m){return this.http.put(`${this.apiUrl+"/pv-api/transport/?id="}${m}`,u)}deleteTransport(u){return this.http.delete(`${this.apiUrl+"/pv-api/transport/?id="}${u}`)}getEmployee(){return this.http.get(this.apiUrl+"/pv-api/employee/")}getEmployeeById(u){return this.http.get(`${this.apiUrl+"/pv-api/employee/?id="}${u}`)}EmployeeIsActive(u,m){return this.http.patch(`${this.apiUrl+"/pv-api/employee/?id="}${u}`,m)}addEmployee(u){return this.http.post(this.apiUrl+"/pv-api/employee/",u)}updateEmployee(u,m){return this.http.put(`${this.apiUrl+"/pv-api/employee/?id="}${m}`,u)}deleteEmployee(u){return this.http.delete(`${this.apiUrl+"/pv-api/employee/?id="}${u}`)}getPermission(){return this.http.get(this.apiUrl+"/pv-api/permissions/")}getCustomer(){return this.http.get(this.apiUrl+"/pv-api/customer/")}getCustomerById(u){return this.http.get(`${this.apiUrl+"/pv-api/customer/?id="}${u}`)}CustomerIsActive(u,m){return this.http.patch(`${this.apiUrl+"/pv-api/customer/?id="}${u}`,m)}addCustomer(u){return this.http.post(this.apiUrl+"/pv-api/customer/",u)}updateCustomer(u,m){return this.http.put(`${this.apiUrl+"/pv-api/customer/?id="}${m}`,u)}deleteCustomer(u){return this.http.delete(`${this.apiUrl+"/pv-api/customer/?id="}${u}`)}getUser(){return this.http.get(this.apiUrl+"/pv-api/user/")}getUserById(u){return this.http.get(`${this.apiUrl+"/pv-api/user/?id="}${u}`)}UserIsActive(u,m){return this.http.patch(`${this.apiUrl+"/pv-api/user/?id="}${u}`,m)}addUser(u){return this.http.post(this.apiUrl+"/pv-api/user/",u)}updateUser(u,m){return this.http.put(`${this.apiUrl+"/pv-api/user/?id="}${m}`,u)}deleteUser(u){return this.http.delete(`${this.apiUrl+"/pv-api/user/?id="}${u}`)}getPermissionGroup(){return this.http.get(this.apiUrl+"/pv-api/group/")}getPermissionGroupById(u){return this.http.get(`${this.apiUrl+"/pv-api/group/?id="}${u}`)}addPermissionGroup(u){return this.http.post(this.apiUrl+"/pv-api/group/",u)}updatePermissionGroup(u,m){return this.http.put(`${this.apiUrl+"/pv-api/group/?group_id="}${m}`,u)}deletePermissionGroup(u){return this.http.delete(`${this.apiUrl+"/pv-api/group/?group_id="}${u}`)}getDealer(){return this.http.get(this.apiUrl+"/pv-api/dealer/")}getDealerById(u){return this.http.get(`${this.apiUrl+"/pv-api/dealer/?id="}${u}`)}DealerIsActive(u,m){return this.http.patch(`${this.apiUrl+"/pv-api/dealer/?id="}${u}`,m)}addDealer(u){return this.http.post(this.apiUrl+"/pv-api/dealer/",u)}updateDealer(u,m){return this.http.put(`${this.apiUrl+"/pv-api/dealer/?id="}${m}`,u)}deleteDealer(u){return this.http.delete(`${this.apiUrl+"/pv-api/dealer/?id="}${u}`)}getBranch(){return this.http.get(this.apiUrl+"/pv-api/branch/")}productVariant(){return this.http.get(this.apiUrl+"/pv-api/product_variant/")}searchProduct(u){return this.http.get(this.apiUrl+"/pv-api/variant-search/?search="+u)}getTerms(){return this.http.get(this.apiUrl+"/pv-api/terms/")}getTermsById(u){return this.http.get(`${this.apiUrl+"/pv-api/terms/?id="}${u}`)}TermsIsActive(u,m){return this.http.patch(`${this.apiUrl+"/pv-api/terms/?id="}${u}`,m)}addTerms(u){return this.http.post(this.apiUrl+"/pv-api/terms/",u)}updateTerms(u,m){return this.http.put(`${this.apiUrl+"/pv-api/terms/?id="}${m}`,u)}deleteTerms(u){return this.http.delete(`${this.apiUrl+"/pv-api/terms/?id="}${u}`)}getVoucherType(){return this.http.get(this.apiUrl+"/pv-api/voucher-type/")}getDepartment(){return this.http.get(this.apiUrl+"/pv-api/department/")}getDepartmentById(u){return this.http.get(`${this.apiUrl+"/pv-api/department/?id="}${u}`)}DepartmentIsActive(u,m){return this.http.patch(`${this.apiUrl+"/pv-api/department/?id="}${u}`,m)}addDepartment(u){return this.http.post(this.apiUrl+"/pv-api/department/",u)}updateDepartment(u,m){return this.http.put(`${this.apiUrl+"/pv-api/department/?id="}${m}`,u)}deleteDepartment(u){return this.http.delete(`${this.apiUrl+"/pv-api/department/?id="}${u}`)}}return l.\u0275fac=function(u){return new(u||l)(P.LFG(E.eN))},l.\u0275prov=P.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},57485:(Li,Ze,A)=>{A.r(Ze),A.d(Ze,{PosModule:()=>qf});var wt={};A.r(wt),A.d(wt,{afterMain:()=>eo,afterRead:()=>Wn,afterWrite:()=>io,applyStyles:()=>sn,arrow:()=>po,auto:()=>Te,basePlacements:()=>Et,beforeMain:()=>Xn,beforeRead:()=>jn,beforeWrite:()=>no,bottom:()=>B,clippingParents:()=>Gn,computeStyles:()=>un,createPopper:()=>vn,createPopperBase:()=>Pr,createPopperLite:()=>Ir,detectOverflow:()=>Qt,end:()=>Ft,eventListeners:()=>_n,flip:()=>yo,hide:()=>bo,left:()=>V,main:()=>to,modifierPhases:()=>ro,offset:()=>xo,placements:()=>rn,popper:()=>Jt,popperGenerator:()=>Oe,popperOffsets:()=>fn,preventOverflow:()=>Zo,read:()=>zn,reference:()=>Kn,right:()=>$,start:()=>bt,top:()=>D,variationPlacements:()=>on,viewport:()=>nn,write:()=>oo});var P=A(36895),E=A(89299),U=A(80529),l=A(24006),en=A(56451),u=A(54968),m=A(69751),C=A(68675),G=A(54004),ee=A(39300),ne=A(71884),St=A(78372),oe=A(18505),ie=A(63900),re=A(70262),ae=A(28746),D="top",B="bottom",$="right",V="left",Te="auto",Et=[D,B,$,V],bt="start",Ft="end",Gn="clippingParents",nn="viewport",Jt="popper",Kn="reference",on=Et.reduce(function(o,r){return o.concat([r+"-"+bt,r+"-"+Ft])},[]),rn=[].concat(Et,[Te]).reduce(function(o,r){return o.concat([r,r+"-"+bt,r+"-"+Ft])},[]),jn="beforeRead",zn="read",Wn="afterRead",Xn="beforeMain",to="main",eo="afterMain",no="beforeWrite",oo="write",io="afterWrite",ro=[jn,zn,Wn,Xn,to,eo,no,oo,io];function at(o){return o?(o.nodeName||"").toLowerCase():null}function R(o){if(null==o)return window;if("[object Window]"!==o.toString()){var r=o.ownerDocument;return r&&r.defaultView||window}return o}function xt(o){return o instanceof R(o).Element||o instanceof Element}function K(o){return o instanceof R(o).HTMLElement||o instanceof HTMLElement}function an(o){return!(typeof ShadowRoot>"u")&&(o instanceof R(o).ShadowRoot||o instanceof ShadowRoot)}const sn={name:"applyStyles",enabled:!0,phase:"write",fn:function Bi(o){var r=o.state;Object.keys(r.elements).forEach(function(e){var n=r.styles[e]||{},i=r.attributes[e]||{},a=r.elements[e];!K(a)||!at(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(s){var c=i[s];!1===c?a.removeAttribute(s):a.setAttribute(s,!0===c?"":c)}))})},effect:function $i(o){var r=o.state,e={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,e.popper),r.styles=e,r.elements.arrow&&Object.assign(r.elements.arrow.style,e.arrow),function(){Object.keys(r.elements).forEach(function(n){var i=r.elements[n],a=r.attributes[n]||{},c=Object.keys(r.styles.hasOwnProperty(n)?r.styles[n]:e[n]).reduce(function(d,p){return d[p]="",d},{});!K(i)||!at(i)||(Object.assign(i.style,c),Object.keys(a).forEach(function(d){i.removeAttribute(d)}))})}},requires:["computeStyles"]};function st(o){return o.split("-")[0]}var Zt=Math.max,Pe=Math.min,Dt=Math.round;function ln(){var o=navigator.userAgentData;return null!=o&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function ao(){return!/^((?!chrome|android).)*safari/i.test(ln())}function Vt(o,r,e){void 0===r&&(r=!1),void 0===e&&(e=!1);var n=o.getBoundingClientRect(),i=1,a=1;r&&K(o)&&(i=o.offsetWidth>0&&Dt(n.width)/o.offsetWidth||1,a=o.offsetHeight>0&&Dt(n.height)/o.offsetHeight||1);var c=(xt(o)?R(o):window).visualViewport,d=!ao()&&e,p=(n.left+(d&&c?c.offsetLeft:0))/i,_=(n.top+(d&&c?c.offsetTop:0))/a,g=n.width/i,v=n.height/a;return{width:g,height:v,top:_,right:p+g,bottom:_+v,left:p,x:p,y:_}}function cn(o){var r=Vt(o),e=o.offsetWidth,n=o.offsetHeight;return Math.abs(r.width-e)<=1&&(e=r.width),Math.abs(r.height-n)<=1&&(n=r.height),{x:o.offsetLeft,y:o.offsetTop,width:e,height:n}}function so(o,r){var e=r.getRootNode&&r.getRootNode();if(o.contains(r))return!0;if(e&&an(e)){var n=r;do{if(n&&o.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ct(o){return R(o).getComputedStyle(o)}function Ri(o){return["table","td","th"].indexOf(at(o))>=0}function pt(o){return((xt(o)?o.ownerDocument:o.document)||window.document).documentElement}function qe(o){return"html"===at(o)?o:o.assignedSlot||o.parentNode||(an(o)?o.host:null)||pt(o)}function lo(o){return K(o)&&"fixed"!==ct(o).position?o.offsetParent:null}function se(o){for(var r=R(o),e=lo(o);e&&Ri(e)&&"static"===ct(e).position;)e=lo(e);return e&&("html"===at(e)||"body"===at(e)&&"static"===ct(e).position)?r:e||function Hi(o){var r=/firefox/i.test(ln());if(/Trident/i.test(ln())&&K(o)&&"fixed"===ct(o).position)return null;var i=qe(o);for(an(i)&&(i=i.host);K(i)&&["html","body"].indexOf(at(i))<0;){var a=ct(i);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||r&&"filter"===a.willChange||r&&a.filter&&"none"!==a.filter)return i;i=i.parentNode}return null}(o)||r}function dn(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function le(o,r,e){return Zt(o,Pe(r,e))}function uo(o){return Object.assign({},{top:0,right:0,bottom:0,left:0},o)}function _o(o,r){return r.reduce(function(e,n){return e[n]=o,e},{})}const po={name:"arrow",enabled:!0,phase:"main",fn:function ji(o){var r,e=o.state,n=o.name,i=o.options,a=e.elements.arrow,s=e.modifiersData.popperOffsets,c=st(e.placement),d=dn(c),_=[V,$].indexOf(c)>=0?"height":"width";if(a&&s){var g=function(r,e){return uo("number"!=typeof(r="function"==typeof r?r(Object.assign({},e.rects,{placement:e.placement})):r)?r:_o(r,Et))}(i.padding,e),v=cn(a),f="y"===d?D:V,x="y"===d?B:$,b=e.rects.reference[_]+e.rects.reference[d]-s[d]-e.rects.popper[_],T=s[d]-e.rects.reference[d],I=se(a),k=I?"y"===d?I.clientHeight||0:I.clientWidth||0:0,N=k/2-v[_]/2+(b/2-T/2),O=le(g[f],N,k-v[_]-g[x]);e.modifiersData[n]=((r={})[d]=O,r.centerOffset=O-N,r)}},effect:function zi(o){var r=o.state,n=o.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"==typeof i&&!(i=r.elements.popper.querySelector(i))||!so(r.elements.popper,i)||(r.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yt(o){return o.split("-")[1]}var Wi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mo(o){var r,e=o.popper,n=o.popperRect,i=o.placement,a=o.variation,s=o.offsets,c=o.position,d=o.gpuAcceleration,p=o.adaptive,_=o.roundOffsets,g=o.isFixed,v=s.x,f=void 0===v?0:v,x=s.y,b=void 0===x?0:x,T="function"==typeof _?_({x:f,y:b}):{x:f,y:b};f=T.x,b=T.y;var I=s.hasOwnProperty("x"),k=s.hasOwnProperty("y"),M=V,Z=D,q=window;if(p){var N=se(e),O="clientHeight",F="clientWidth";N===R(e)&&"static"!==ct(N=pt(e)).position&&"absolute"===c&&(O="scrollHeight",F="scrollWidth"),(i===D||(i===V||i===$)&&a===Ft)&&(Z=B,b-=(g&&N===q&&q.visualViewport?q.visualViewport.height:N[O])-n.height,b*=d?1:-1),i!==V&&(i!==D&&i!==B||a!==Ft)||(M=$,f-=(g&&N===q&&q.visualViewport?q.visualViewport.width:N[F])-n.width,f*=d?1:-1)}var Y,J=Object.assign({position:c},p&&Wi),it=!0===_?function Xi(o,r){var n=o.y,i=r.devicePixelRatio||1;return{x:Dt(o.x*i)/i||0,y:Dt(n*i)/i||0}}({x:f,y:b},R(e)):{x:f,y:b};return f=it.x,b=it.y,Object.assign({},J,d?((Y={})[Z]=k?"0":"",Y[M]=I?"0":"",Y.transform=(q.devicePixelRatio||1)<=1?"translate("+f+"px, "+b+"px)":"translate3d("+f+"px, "+b+"px, 0)",Y):((r={})[Z]=k?b+"px":"",r[M]=I?f+"px":"",r.transform="",r))}const un={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function tr(o){var r=o.state,e=o.options,n=e.gpuAcceleration,i=void 0===n||n,a=e.adaptive,s=void 0===a||a,c=e.roundOffsets,d=void 0===c||c,p={placement:st(r.placement),variation:Yt(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:i,isFixed:"fixed"===r.options.strategy};null!=r.modifiersData.popperOffsets&&(r.styles.popper=Object.assign({},r.styles.popper,mo(Object.assign({},p,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:s,roundOffsets:d})))),null!=r.modifiersData.arrow&&(r.styles.arrow=Object.assign({},r.styles.arrow,mo(Object.assign({},p,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})},data:{}};var Ne={passive:!0};const _n={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function er(o){var r=o.state,e=o.instance,n=o.options,i=n.scroll,a=void 0===i||i,s=n.resize,c=void 0===s||s,d=R(r.elements.popper),p=[].concat(r.scrollParents.reference,r.scrollParents.popper);return a&&p.forEach(function(_){_.addEventListener("scroll",e.update,Ne)}),c&&d.addEventListener("resize",e.update,Ne),function(){a&&p.forEach(function(_){_.removeEventListener("scroll",e.update,Ne)}),c&&d.removeEventListener("resize",e.update,Ne)}},data:{}};var nr={left:"right",right:"left",bottom:"top",top:"bottom"};function Ie(o){return o.replace(/left|right|bottom|top/g,function(r){return nr[r]})}var or={start:"end",end:"start"};function ho(o){return o.replace(/start|end/g,function(r){return or[r]})}function pn(o){var r=R(o);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function mn(o){return Vt(pt(o)).left+pn(o).scrollLeft}function hn(o){var r=ct(o);return/auto|scroll|overlay|hidden/.test(r.overflow+r.overflowY+r.overflowX)}function go(o){return["html","body","#document"].indexOf(at(o))>=0?o.ownerDocument.body:K(o)&&hn(o)?o:go(qe(o))}function ce(o,r){var e;void 0===r&&(r=[]);var n=go(o),i=n===(null==(e=o.ownerDocument)?void 0:e.body),a=R(n),s=i?[a].concat(a.visualViewport||[],hn(n)?n:[]):n,c=r.concat(s);return i?c:c.concat(ce(qe(s)))}function gn(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function fo(o,r,e){return r===nn?gn(function ir(o,r){var e=R(o),n=pt(o),i=e.visualViewport,a=n.clientWidth,s=n.clientHeight,c=0,d=0;if(i){a=i.width,s=i.height;var p=ao();(p||!p&&"fixed"===r)&&(c=i.offsetLeft,d=i.offsetTop)}return{width:a,height:s,x:c+mn(o),y:d}}(o,e)):xt(r)?function ar(o,r){var e=Vt(o,!1,"fixed"===r);return e.top=e.top+o.clientTop,e.left=e.left+o.clientLeft,e.bottom=e.top+o.clientHeight,e.right=e.left+o.clientWidth,e.width=o.clientWidth,e.height=o.clientHeight,e.x=e.left,e.y=e.top,e}(r,e):gn(function rr(o){var r,e=pt(o),n=pn(o),i=null==(r=o.ownerDocument)?void 0:r.body,a=Zt(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Zt(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-n.scrollLeft+mn(o),d=-n.scrollTop;return"rtl"===ct(i||e).direction&&(c+=Zt(e.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:c,y:d}}(pt(o)))}function vo(o){var d,r=o.reference,e=o.element,n=o.placement,i=n?st(n):null,a=n?Yt(n):null,s=r.x+r.width/2-e.width/2,c=r.y+r.height/2-e.height/2;switch(i){case D:d={x:s,y:r.y-e.height};break;case B:d={x:s,y:r.y+r.height};break;case $:d={x:r.x+r.width,y:c};break;case V:d={x:r.x-e.width,y:c};break;default:d={x:r.x,y:r.y}}var p=i?dn(i):null;if(null!=p){var _="y"===p?"height":"width";switch(a){case bt:d[p]=d[p]-(r[_]/2-e[_]/2);break;case Ft:d[p]=d[p]+(r[_]/2-e[_]/2)}}return d}function Qt(o,r){void 0===r&&(r={});var n=r.placement,i=void 0===n?o.placement:n,a=r.strategy,s=void 0===a?o.strategy:a,c=r.boundary,d=void 0===c?Gn:c,p=r.rootBoundary,_=void 0===p?nn:p,g=r.elementContext,v=void 0===g?Jt:g,f=r.altBoundary,x=void 0!==f&&f,b=r.padding,T=void 0===b?0:b,I=uo("number"!=typeof T?T:_o(T,Et)),M=o.rects.popper,Z=o.elements[x?v===Jt?Kn:Jt:v],q=function lr(o,r,e,n){var i="clippingParents"===r?function sr(o){var r=ce(qe(o)),n=["absolute","fixed"].indexOf(ct(o).position)>=0&&K(o)?se(o):o;return xt(n)?r.filter(function(i){return xt(i)&&so(i,n)&&"body"!==at(i)}):[]}(o):[].concat(r),a=[].concat(i,[e]),c=a.reduce(function(d,p){var _=fo(o,p,n);return d.top=Zt(_.top,d.top),d.right=Pe(_.right,d.right),d.bottom=Pe(_.bottom,d.bottom),d.left=Zt(_.left,d.left),d},fo(o,a[0],n));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}(xt(Z)?Z:Z.contextElement||pt(o.elements.popper),d,_,s),N=Vt(o.elements.reference),O=vo({reference:N,element:M,strategy:"absolute",placement:i}),F=gn(Object.assign({},M,O)),S=v===Jt?F:N,w={top:q.top-S.top+I.top,bottom:S.bottom-q.bottom+I.bottom,left:q.left-S.left+I.left,right:S.right-q.right+I.right},J=o.modifiersData.offset;if(v===Jt&&J){var it=J[i];Object.keys(w).forEach(function(Y){var It=[$,B].indexOf(Y)>=0?1:-1,Ot=[D,B].indexOf(Y)>=0?"y":"x";w[Y]+=it[Ot]*It})}return w}const yo={name:"flip",enabled:!0,phase:"main",fn:function ur(o){var r=o.state,e=o.options,n=o.name;if(!r.modifiersData[n]._skip){for(var i=e.mainAxis,a=void 0===i||i,s=e.altAxis,c=void 0===s||s,d=e.fallbackPlacements,p=e.padding,_=e.boundary,g=e.rootBoundary,v=e.altBoundary,f=e.flipVariations,x=void 0===f||f,b=e.allowedAutoPlacements,T=r.options.placement,I=st(T),M=d||(I!==T&&x?function dr(o){if(st(o)===Te)return[];var r=Ie(o);return[ho(o),r,ho(r)]}(T):[Ie(T)]),Z=[T].concat(M).reduce(function(te,At){return te.concat(st(At)===Te?function cr(o,r){void 0===r&&(r={});var i=r.boundary,a=r.rootBoundary,s=r.padding,c=r.flipVariations,d=r.allowedAutoPlacements,p=void 0===d?rn:d,_=Yt(r.placement),g=_?c?on:on.filter(function(x){return Yt(x)===_}):Et,v=g.filter(function(x){return p.indexOf(x)>=0});0===v.length&&(v=g);var f=v.reduce(function(x,b){return x[b]=Qt(o,{placement:b,boundary:i,rootBoundary:a,padding:s})[st(b)],x},{});return Object.keys(f).sort(function(x,b){return f[x]-f[b]})}(r,{placement:At,boundary:_,rootBoundary:g,padding:p,flipVariations:x,allowedAutoPlacements:b}):At)},[]),q=r.rects.reference,N=r.rects.popper,O=new Map,F=!0,S=Z[0],w=0;w<Z.length;w++){var J=Z[w],it=st(J),Y=Yt(J)===bt,It=[D,B].indexOf(it)>=0,Ot=It?"width":"height",H=Qt(r,{placement:J,boundary:_,rootBoundary:g,altBoundary:v,padding:p}),rt=It?Y?$:V:Y?B:D;q[Ot]>N[Ot]&&(rt=Ie(rt));var je=Ie(rt),Ut=[];if(a&&Ut.push(H[it]<=0),c&&Ut.push(H[rt]<=0,H[je]<=0),Ut.every(function(te){return te})){S=J,F=!1;break}O.set(J,Ut)}if(F)for(var Bn=function(At){var xe=Z.find(function(Xe){var kt=O.get(Xe);if(kt)return kt.slice(0,At).every(function($n){return $n})});if(xe)return S=xe,"break"},be=x?3:1;be>0&&"break"!==Bn(be);be--);r.placement!==S&&(r.modifiersData[n]._skip=!0,r.placement=S,r.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Co(o,r,e){return void 0===e&&(e={x:0,y:0}),{top:o.top-r.height-e.y,right:o.right-r.width+e.x,bottom:o.bottom-r.height+e.y,left:o.left-r.width-e.x}}function Ao(o){return[D,$,B,V].some(function(r){return o[r]>=0})}const bo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function _r(o){var r=o.state,e=o.name,n=r.rects.reference,i=r.rects.popper,a=r.modifiersData.preventOverflow,s=Qt(r,{elementContext:"reference"}),c=Qt(r,{altBoundary:!0}),d=Co(s,n),p=Co(c,i,a),_=Ao(d),g=Ao(p);r.modifiersData[e]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:_,hasPopperEscaped:g},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":g})}},xo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function mr(o){var r=o.state,n=o.name,i=o.options.offset,a=void 0===i?[0,0]:i,s=rn.reduce(function(_,g){return _[g]=function pr(o,r,e){var n=st(o),i=[V,D].indexOf(n)>=0?-1:1,a="function"==typeof e?e(Object.assign({},r,{placement:o})):e,s=a[0],c=a[1];return s=s||0,c=(c||0)*i,[V,$].indexOf(n)>=0?{x:c,y:s}:{x:s,y:c}}(g,r.rects,a),_},{}),c=s[r.placement],p=c.y;null!=r.modifiersData.popperOffsets&&(r.modifiersData.popperOffsets.x+=c.x,r.modifiersData.popperOffsets.y+=p),r.modifiersData[n]=s}},fn={name:"popperOffsets",enabled:!0,phase:"read",fn:function hr(o){var r=o.state;r.modifiersData[o.name]=vo({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})},data:{}},Zo={name:"preventOverflow",enabled:!0,phase:"main",fn:function fr(o){var r=o.state,e=o.options,n=o.name,i=e.mainAxis,a=void 0===i||i,s=e.altAxis,c=void 0!==s&&s,v=e.tether,f=void 0===v||v,x=e.tetherOffset,b=void 0===x?0:x,T=Qt(r,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),I=st(r.placement),k=Yt(r.placement),M=!k,Z=dn(I),q=function gr(o){return"x"===o?"y":"x"}(Z),N=r.modifiersData.popperOffsets,O=r.rects.reference,F=r.rects.popper,S="function"==typeof b?b(Object.assign({},r.rects,{placement:r.placement})):b,w="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),J=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,it={x:0,y:0};if(N){if(a){var Y,It="y"===Z?D:V,Ot="y"===Z?B:$,H="y"===Z?"height":"width",rt=N[Z],je=rt+T[It],Ut=rt-T[Ot],ze=f?-F[H]/2:0,Bn=k===bt?O[H]:F[H],be=k===bt?-F[H]:-O[H],We=r.elements.arrow,te=f&&We?cn(We):{width:0,height:0},At=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},xe=At[It],Xe=At[Ot],kt=le(0,O[H],te[H]),$n=M?O[H]/2-ze-kt-xe-w.mainAxis:Bn-kt-xe-w.mainAxis,Nf=M?-O[H]/2+ze+kt+Xe+w.mainAxis:be+kt+Xe+w.mainAxis,Rn=r.elements.arrow&&se(r.elements.arrow),wi=null!=(Y=J?.[Z])?Y:0,Uf=rt+Nf-wi,Si=le(f?Pe(je,rt+$n-wi-(Rn?"y"===Z?Rn.clientTop||0:Rn.clientLeft||0:0)):je,rt,f?Zt(Ut,Uf):Ut);N[Z]=Si,it[Z]=Si-rt}if(c){var Ei,Mt=N[q],tn="y"===q?"height":"width",Fi=Mt+T["x"===Z?D:V],Ji=Mt-T["x"===Z?B:$],Hn=-1!==[D,V].indexOf(I),Di=null!=(Ei=J?.[q])?Ei:0,Vi=Hn?Fi:Mt-O[tn]-F[tn]-Di+w.altAxis,Yi=Hn?Mt+O[tn]+F[tn]-Di-w.altAxis:Ji,Qi=f&&Hn?function Gi(o,r,e){var n=le(o,r,e);return n>e?e:n}(Vi,Mt,Yi):le(f?Vi:Fi,Mt,f?Yi:Ji);N[q]=Qi,it[q]=Qi-Mt}r.modifiersData[n]=it}},requiresIfExists:["offset"]};function Ar(o,r,e){void 0===e&&(e=!1);var n=K(r),i=K(r)&&function Cr(o){var r=o.getBoundingClientRect(),e=Dt(r.width)/o.offsetWidth||1,n=Dt(r.height)/o.offsetHeight||1;return 1!==e||1!==n}(r),a=pt(r),s=Vt(o,i,e),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(n||!n&&!e)&&(("body"!==at(r)||hn(a))&&(c=function yr(o){return o!==R(o)&&K(o)?function vr(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}(o):pn(o)}(r)),K(r)?((d=Vt(r,!0)).x+=r.clientLeft,d.y+=r.clientTop):a&&(d.x=mn(a))),{x:s.left+c.scrollLeft-d.x,y:s.top+c.scrollTop-d.y,width:s.width,height:s.height}}function br(o){var r=new Map,e=new Set,n=[];function i(a){e.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(c){if(!e.has(c)){var d=r.get(c);d&&i(d)}}),n.push(a)}return o.forEach(function(a){r.set(a.name,a)}),o.forEach(function(a){e.has(a.name)||i(a)}),n}function Zr(o){var r;return function(){return r||(r=new Promise(function(e){Promise.resolve().then(function(){r=void 0,e(o())})})),r}}var To={placement:"bottom",modifiers:[],strategy:"absolute"};function Po(){for(var o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return!r.some(function(n){return!(n&&"function"==typeof n.getBoundingClientRect)})}function Oe(o){void 0===o&&(o={});var e=o.defaultModifiers,n=void 0===e?[]:e,i=o.defaultOptions,a=void 0===i?To:i;return function(c,d,p){void 0===p&&(p=a);var _={placement:"bottom",orderedModifiers:[],options:Object.assign({},To,a),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},g=[],v=!1,f={state:_,setOptions:function(I){var k="function"==typeof I?I(_.options):I;b(),_.options=Object.assign({},a,_.options,k),_.scrollParents={reference:xt(c)?ce(c):c.contextElement?ce(c.contextElement):[],popper:ce(d)};var M=function xr(o){var r=br(o);return ro.reduce(function(e,n){return e.concat(r.filter(function(i){return i.phase===n}))},[])}(function Tr(o){var r=o.reduce(function(e,n){var i=e[n.name];return e[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,e},{});return Object.keys(r).map(function(e){return r[e]})}([].concat(n,_.options.modifiers)));return _.orderedModifiers=M.filter(function(Z){return Z.enabled}),function x(){_.orderedModifiers.forEach(function(T){var k=T.options,Z=T.effect;if("function"==typeof Z){var q=Z({state:_,name:T.name,instance:f,options:void 0===k?{}:k});g.push(q||function(){})}})}(),f.update()},forceUpdate:function(){if(!v){var I=_.elements,k=I.reference,M=I.popper;if(Po(k,M)){_.rects={reference:Ar(k,se(M),"fixed"===_.options.strategy),popper:cn(M)},_.reset=!1,_.placement=_.options.placement,_.orderedModifiers.forEach(function(w){return _.modifiersData[w.name]=Object.assign({},w.data)});for(var Z=0;Z<_.orderedModifiers.length;Z++)if(!0!==_.reset){var q=_.orderedModifiers[Z],N=q.fn,O=q.options;"function"==typeof N&&(_=N({state:_,options:void 0===O?{}:O,name:q.name,instance:f})||_)}else _.reset=!1,Z=-1}}},update:Zr(function(){return new Promise(function(T){f.forceUpdate(),T(_)})}),destroy:function(){b(),v=!0}};if(!Po(c,d))return f;function b(){g.forEach(function(T){return T()}),g=[]}return f.setOptions(p).then(function(T){!v&&p.onFirstUpdate&&p.onFirstUpdate(T)}),f}}var Pr=Oe(),vn=Oe({defaultModifiers:[_n,fn,un,sn,xo,yo,Zo,po,bo]}),Ir=Oe({defaultModifiers:[_n,fn,un,sn]});const mt=new Map,yn={set(o,r,e){mt.has(o)||mt.set(o,new Map);const n=mt.get(o);n.has(r)||0===n.size?n.set(r,e):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`)},get:(o,r)=>mt.has(o)&&mt.get(o).get(r)||null,remove(o,r){if(!mt.has(o))return;const e=mt.get(o);e.delete(r),0===e.size&&mt.delete(o)}},Cn="transitionend",qo=o=>(o&&window.CSS&&window.CSS.escape&&(o=o.replace(/#([^\s"#']+)/g,(r,e)=>`#${CSS.escape(e)}`)),o),No=o=>{o.dispatchEvent(new Event(Cn))},dt=o=>!(!o||"object"!=typeof o)&&(typeof o.jquery<"u"&&(o=o[0]),typeof o.nodeType<"u"),ht=o=>dt(o)?o.jquery?o[0]:o:"string"==typeof o&&o.length>0?document.querySelector(qo(o)):null,Lt=o=>{if(!dt(o)||0===o.getClientRects().length)return!1;const r="visible"===getComputedStyle(o).getPropertyValue("visibility"),e=o.closest("details:not([open])");if(!e)return r;if(e!==o){const n=o.closest("summary");if(n&&n.parentNode!==e||null===n)return!1}return r},gt=o=>!(o&&o.nodeType===Node.ELEMENT_NODE&&!o.classList.contains("disabled"))||(typeof o.disabled<"u"?o.disabled:o.hasAttribute("disabled")&&"false"!==o.getAttribute("disabled")),Io=o=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof o.getRootNode){const r=o.getRootNode();return r instanceof ShadowRoot?r:null}return o instanceof ShadowRoot?o:o.parentNode?Io(o.parentNode):null},Ue=()=>{},Oo=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,An=[],j=()=>"rtl"===document.documentElement.dir,z=o=>{(o=>{"loading"===document.readyState?(An.length||document.addEventListener("DOMContentLoaded",()=>{for(const r of An)r()}),An.push(o)):o()})(()=>{const r=Oo();if(r){const e=o.NAME,n=r.fn[e];r.fn[e]=o.jQueryInterface,r.fn[e].Constructor=o,r.fn[e].noConflict=()=>(r.fn[e]=n,o.jQueryInterface)}})},Q=(o,r=[],e=o)=>"function"==typeof o?o(...r):e,Uo=(o,r,e=!0)=>{if(!e)return void Q(o);const i=(o=>{if(!o)return 0;let{transitionDuration:r,transitionDelay:e}=window.getComputedStyle(o);const n=Number.parseFloat(r),i=Number.parseFloat(e);return n||i?(r=r.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(r)+Number.parseFloat(e))):0})(r)+5;let a=!1;const s=({target:c})=>{c===r&&(a=!0,r.removeEventListener(Cn,s),Q(o))};r.addEventListener(Cn,s),setTimeout(()=>{a||No(r)},i)},bn=(o,r,e,n)=>{const i=o.length;let a=o.indexOf(r);return-1===a?!e&&n?o[i-1]:o[0]:(a+=e?1:-1,n&&(a=(a+i)%i),o[Math.max(0,Math.min(a,i-1))])},Er=/[^.]*(?=\..*)\.|.*/,Fr=/\..*/,Jr=/::\d+$/,xn={};let ko=1;const Mo={mouseenter:"mouseover",mouseleave:"mouseout"},Dr=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function wo(o,r){return r&&`${r}::${ko++}`||o.uidEvent||ko++}function So(o){const r=wo(o);return o.uidEvent=r,xn[r]=xn[r]||{},xn[r]}function Eo(o,r,e=null){return Object.values(o).find(n=>n.callable===r&&n.delegationSelector===e)}function Fo(o,r,e){const n="string"==typeof r,i=n?e:r||e;let a=Do(o);return Dr.has(a)||(a=o),[n,i,a]}function Jo(o,r,e,n,i){if("string"!=typeof r||!o)return;let[a,s,c]=Fo(r,e,n);var x;r in Mo&&(x=s,s=function(b){if(!b.relatedTarget||b.relatedTarget!==b.delegateTarget&&!b.delegateTarget.contains(b.relatedTarget))return x.call(this,b)});const d=So(o),p=d[c]||(d[c]={}),_=Eo(p,s,a?e:null);if(_)return void(_.oneOff=_.oneOff&&i);const g=wo(s,r.replace(Er,"")),v=a?function Yr(o,r,e){return function n(i){const a=o.querySelectorAll(r);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(const c of a)if(c===s)return Tn(i,{delegateTarget:s}),n.oneOff&&h.off(o,i.type,r,e),e.apply(s,[i])}}(o,e,s):function Vr(o,r){return function e(n){return Tn(n,{delegateTarget:o}),e.oneOff&&h.off(o,n.type,r),r.apply(o,[n])}}(o,s);v.delegationSelector=a?e:null,v.callable=s,v.oneOff=i,v.uidEvent=g,p[g]=v,o.addEventListener(c,v,a)}function Zn(o,r,e,n,i){const a=Eo(r[e],n,i);!a||(o.removeEventListener(e,a,Boolean(i)),delete r[e][a.uidEvent])}function Qr(o,r,e,n){const i=r[e]||{};for(const[a,s]of Object.entries(i))a.includes(n)&&Zn(o,r,e,s.callable,s.delegationSelector)}function Do(o){return o=o.replace(Fr,""),Mo[o]||o}const h={on(o,r,e,n){Jo(o,r,e,n,!1)},one(o,r,e,n){Jo(o,r,e,n,!0)},off(o,r,e,n){if("string"!=typeof r||!o)return;const[i,a,s]=Fo(r,e,n),c=s!==r,d=So(o),p=d[s]||{},_=r.startsWith(".");if(typeof a<"u"){if(!Object.keys(p).length)return;Zn(o,d,s,a,i?e:null)}else{if(_)for(const g of Object.keys(d))Qr(o,d,g,r.slice(1));for(const[g,v]of Object.entries(p)){const f=g.replace(Jr,"");(!c||r.includes(f))&&Zn(o,d,s,v.callable,v.delegationSelector)}}},trigger(o,r,e){if("string"!=typeof r||!o)return null;const n=Oo();let s=null,c=!0,d=!0,p=!1;r!==Do(r)&&n&&(s=n.Event(r,e),n(o).trigger(s),c=!s.isPropagationStopped(),d=!s.isImmediatePropagationStopped(),p=s.isDefaultPrevented());const _=Tn(new Event(r,{bubbles:c,cancelable:!0}),e);return p&&_.preventDefault(),d&&o.dispatchEvent(_),_.defaultPrevented&&s&&s.preventDefault(),_}};function Tn(o,r={}){for(const[e,n]of Object.entries(r))try{o[e]=n}catch{Object.defineProperty(o,e,{configurable:!0,get:()=>n})}return o}function Vo(o){if("true"===o)return!0;if("false"===o)return!1;if(o===Number(o).toString())return Number(o);if(""===o||"null"===o)return null;if("string"!=typeof o)return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function Pn(o){return o.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}const ut={setDataAttribute(o,r,e){o.setAttribute(`data-bs-${Pn(r)}`,e)},removeDataAttribute(o,r){o.removeAttribute(`data-bs-${Pn(r)}`)},getDataAttributes(o){if(!o)return{};const r={},e=Object.keys(o.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of e){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),r[i]=Vo(o.dataset[n])}return r},getDataAttribute:(o,r)=>Vo(o.getAttribute(`data-bs-${Pn(r)}`))};class ue{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,e){const n=dt(e)?ut.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...dt(e)?ut.getDataAttributes(e):{},..."object"==typeof r?r:{}}}_typeCheckConfig(r,e=this.constructor.DefaultType){for(const[n,i]of Object.entries(e)){const a=r[n],s=dt(a)?"element":null==(o=a)?`${o}`:Object.prototype.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${s}" but expected type "${i}".`)}var o}}class et extends ue{constructor(r,e){super(),(r=ht(r))&&(this._element=r,this._config=this._getConfig(e),yn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){yn.remove(this._element,this.constructor.DATA_KEY),h.off(this._element,this.constructor.EVENT_KEY);for(const r of Object.getOwnPropertyNames(this))this[r]=null}_queueCallback(r,e,n=!0){Uo(r,e,n)}_getConfig(r){return r=this._mergeConfigObj(r,this._element),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}static getInstance(r){return yn.get(ht(r),this.DATA_KEY)}static getOrCreateInstance(r,e={}){return this.getInstance(r)||new this(r,"object"==typeof e?e:null)}static get VERSION(){return"5.3.2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(r){return`${r}${this.EVENT_KEY}`}}const qn=o=>{let r=o.getAttribute("data-bs-target");if(!r||"#"===r){let e=o.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),r=e&&"#"!==e?qo(e.trim()):null}return r},y={find:(o,r=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(r,o)),findOne:(o,r=document.documentElement)=>Element.prototype.querySelector.call(r,o),children:(o,r)=>[].concat(...o.children).filter(e=>e.matches(r)),parents(o,r){const e=[];let n=o.parentNode.closest(r);for(;n;)e.push(n),n=n.parentNode.closest(r);return e},prev(o,r){let e=o.previousElementSibling;for(;e;){if(e.matches(r))return[e];e=e.previousElementSibling}return[]},next(o,r){let e=o.nextElementSibling;for(;e;){if(e.matches(r))return[e];e=e.nextElementSibling}return[]},focusableChildren(o){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(r,o).filter(e=>!gt(e)&&Lt(e))},getSelectorFromElement(o){const r=qn(o);return r&&y.findOne(r)?r:null},getElementFromSelector(o){const r=qn(o);return r?y.findOne(r):null},getMultipleElementsFromSelector(o){const r=qn(o);return r?y.find(r):[]}},ke=(o,r="hide")=>{const n=o.NAME;h.on(document,`click.dismiss${o.EVENT_KEY}`,`[data-bs-dismiss="${n}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),gt(this))return;const a=y.getElementFromSelector(this)||this.closest(`.${n}`);o.getOrCreateInstance(a)[r]()})},Yo=".bs.alert",$r=`close${Yo}`,Rr=`closed${Yo}`;class Me extends et{static get NAME(){return"alert"}close(){if(h.trigger(this._element,$r).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),h.trigger(this._element,Rr),this.dispose()}static jQueryInterface(r){return this.each(function(){const e=Me.getOrCreateInstance(this);if("string"==typeof r){if(void 0===e[r]||r.startsWith("_")||"constructor"===r)throw new TypeError(`No method named "${r}"`);e[r](this)}})}}ke(Me,"close"),z(Me);const Qo='[data-bs-toggle="button"]';class we extends et{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(r){return this.each(function(){const e=we.getOrCreateInstance(this);"toggle"===r&&e[r]()})}}h.on(document,"click.bs.button.data-api",Qo,o=>{o.preventDefault();const r=o.target.closest(Qo);we.getOrCreateInstance(r).toggle()}),z(we);const Bt=".bs.swipe",ea=`touchstart${Bt}`,na=`touchmove${Bt}`,oa=`touchend${Bt}`,ia=`pointerdown${Bt}`,ra=`pointerup${Bt}`,da={endCallback:null,leftCallback:null,rightCallback:null},ua={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Se extends ue{constructor(r,e){super(),this._element=r,r&&Se.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return da}static get DefaultType(){return ua}static get NAME(){return"swipe"}dispose(){h.off(this._element,Bt)}_start(r){this._supportPointerEvents?this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX):this._deltaX=r.touches[0].clientX}_end(r){this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX-this._deltaX),this._handleSwipe(),Q(this._config.endCallback)}_move(r){this._deltaX=r.touches&&r.touches.length>1?0:r.touches[0].clientX-this._deltaX}_handleSwipe(){const r=Math.abs(this._deltaX);if(r<=40)return;const e=r/this._deltaX;this._deltaX=0,e&&Q(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(h.on(this._element,ia,r=>this._start(r)),h.on(this._element,ra,r=>this._end(r)),this._element.classList.add("pointer-event")):(h.on(this._element,ea,r=>this._start(r)),h.on(this._element,na,r=>this._move(r)),h.on(this._element,oa,r=>this._end(r)))}_eventIsPointerPenTouch(r){return this._supportPointerEvents&&("pen"===r.pointerType||"touch"===r.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ft=".bs.carousel",Lo=".data-api",_e="next",$t="prev",Rt="left",Ee="right",ga=`slide${ft}`,Nn=`slid${ft}`,fa=`keydown${ft}`,va=`mouseenter${ft}`,ya=`mouseleave${ft}`,Ca=`dragstart${ft}`,Aa=`load${ft}${Lo}`,ba=`click${ft}${Lo}`,Bo="carousel",Fe="active",Ma={ArrowLeft:Ee,ArrowRight:Rt},wa={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Sa={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class pe extends et{constructor(r,e){super(r,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=y.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Bo&&this.cycle()}static get Default(){return wa}static get DefaultType(){return Sa}static get NAME(){return"carousel"}next(){this._slide(_e)}nextWhenVisible(){!document.hidden&&Lt(this._element)&&this.next()}prev(){this._slide($t)}pause(){this._isSliding&&No(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void h.one(this._element,Nn,()=>this.cycle());this.cycle()}}to(r){const e=this._getItems();if(r>e.length-1||r<0)return;if(this._isSliding)return void h.one(this._element,Nn,()=>this.to(r));const n=this._getItemIndex(this._getActive());n!==r&&this._slide(r>n?_e:$t,e[r])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(r){return r.defaultInterval=r.interval,r}_addEventListeners(){this._config.keyboard&&h.on(this._element,fa,r=>this._keydown(r)),"hover"===this._config.pause&&(h.on(this._element,va,()=>this.pause()),h.on(this._element,ya,()=>this._maybeEnableCycle())),this._config.touch&&Se.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of y.find(".carousel-item img",this._element))h.on(n,Ca,i=>i.preventDefault());this._swipeHelper=new Se(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Rt)),rightCallback:()=>this._slide(this._directionToOrder(Ee)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(r){if(/input|textarea/i.test(r.target.tagName))return;const e=Ma[r.key];e&&(r.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(r){return this._getItems().indexOf(r)}_setActiveIndicatorElement(r){if(!this._indicatorsElement)return;const e=y.findOne(".active",this._indicatorsElement);e.classList.remove(Fe),e.removeAttribute("aria-current");const n=y.findOne(`[data-bs-slide-to="${r}"]`,this._indicatorsElement);n&&(n.classList.add(Fe),n.setAttribute("aria-current","true"))}_updateInterval(){const r=this._activeElement||this._getActive();if(!r)return;const e=Number.parseInt(r.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(r,e=null){if(this._isSliding)return;const n=this._getActive(),i=r===_e,a=e||bn(this._getItems(),n,i,this._config.wrap);if(a===n)return;const s=this._getItemIndex(a),c=f=>h.trigger(this._element,f,{relatedTarget:a,direction:this._orderToDirection(r),from:this._getItemIndex(n),to:s});if(c(ga).defaultPrevented||!n||!a)return;const p=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=a;const _=i?"carousel-item-start":"carousel-item-end",g=i?"carousel-item-next":"carousel-item-prev";a.classList.add(g),n.classList.add(_),a.classList.add(_),this._queueCallback(()=>{a.classList.remove(_,g),a.classList.add(Fe),n.classList.remove(Fe,g,_),this._isSliding=!1,c(Nn)},n,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return y.findOne(".active.carousel-item",this._element)}_getItems(){return y.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(r){return j()?r===Rt?$t:_e:r===Rt?_e:$t}_orderToDirection(r){return j()?r===$t?Rt:Ee:r===$t?Ee:Rt}static jQueryInterface(r){return this.each(function(){const e=pe.getOrCreateInstance(this,r);if("number"!=typeof r){if("string"==typeof r){if(void 0===e[r]||r.startsWith("_")||"constructor"===r)throw new TypeError(`No method named "${r}"`);e[r]()}}else e.to(r)})}}h.on(document,ba,"[data-bs-slide], [data-bs-slide-to]",function(o){const r=y.getElementFromSelector(this);if(!r||!r.classList.contains(Bo))return;o.preventDefault();const e=pe.getOrCreateInstance(r),n=this.getAttribute("data-bs-slide-to");return n?(e.to(n),void e._maybeEnableCycle()):"next"===ut.getDataAttribute(this,"slide")?(e.next(),void e._maybeEnableCycle()):(e.prev(),void e._maybeEnableCycle())}),h.on(window,Aa,()=>{const o=y.find('[data-bs-ride="carousel"]');for(const r of o)pe.getOrCreateInstance(r)}),z(pe);const me=".bs.collapse",Ja=`show${me}`,Da=`shown${me}`,Va=`hide${me}`,Ya=`hidden${me}`,Qa=`click${me}.data-api`,In="show",Ht="collapse",Je="collapsing",Ba=`:scope .${Ht} .${Ht}`,On='[data-bs-toggle="collapse"]',Ka={parent:null,toggle:!0},ja={parent:"(null|element)",toggle:"boolean"};class he extends et{constructor(r,e){super(r,e),this._isTransitioning=!1,this._triggerArray=[];const n=y.find(On);for(const i of n){const a=y.getSelectorFromElement(i),s=y.find(a).filter(c=>c===this._element);null!==a&&s.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ka}static get DefaultType(){return ja}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let r=[];if(this._config.parent&&(r=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(c=>c!==this._element).map(c=>he.getOrCreateInstance(c,{toggle:!1}))),r.length&&r[0]._isTransitioning||h.trigger(this._element,Ja).defaultPrevented)return;for(const c of r)c.hide();const n=this._getDimension();this._element.classList.remove(Ht),this._element.classList.add(Je),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Je),this._element.classList.add(Ht,In),this._element.style[n]="",h.trigger(this._element,Da)},this._element,!0),this._element.style[n]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||h.trigger(this._element,Va).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,this._element.classList.add(Je),this._element.classList.remove(Ht,In);for(const i of this._triggerArray){const a=y.getElementFromSelector(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Je),this._element.classList.add(Ht),h.trigger(this._element,Ya)},this._element,!0)}_isShown(r=this._element){return r.classList.contains(In)}_configAfterMerge(r){return r.toggle=Boolean(r.toggle),r.parent=ht(r.parent),r}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const r=this._getFirstLevelChildren(On);for(const e of r){const n=y.getElementFromSelector(e);n&&this._addAriaAndCollapsedClass([e],this._isShown(n))}}_getFirstLevelChildren(r){const e=y.find(Ba,this._config.parent);return y.find(r,this._config.parent).filter(n=>!e.includes(n))}_addAriaAndCollapsedClass(r,e){if(r.length)for(const n of r)n.classList.toggle("collapsed",!e),n.setAttribute("aria-expanded",e)}static jQueryInterface(r){const e={};return"string"==typeof r&&/show|hide/.test(r)&&(e.toggle=!1),this.each(function(){const n=he.getOrCreateInstance(this,e);if("string"==typeof r){if(typeof n[r]>"u")throw new TypeError(`No method named "${r}"`);n[r]()}})}}h.on(document,Qa,On,function(o){("A"===o.target.tagName||o.delegateTarget&&"A"===o.delegateTarget.tagName)&&o.preventDefault();for(const r of y.getMultipleElementsFromSelector(this))he.getOrCreateInstance(r,{toggle:!1}).toggle()}),z(he);const Ho="dropdown",Tt=".bs.dropdown",Un=".data-api",Wa="ArrowUp",Ko="ArrowDown",ts=`hide${Tt}`,es=`hidden${Tt}`,ns=`show${Tt}`,os=`shown${Tt}`,jo=`click${Tt}${Un}`,zo=`keydown${Tt}${Un}`,is=`keyup${Tt}${Un}`,Gt="show",Pt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ds=`${Pt}.show`,De=".dropdown-menu",ms=j()?"top-end":"top-start",hs=j()?"top-start":"top-end",gs=j()?"bottom-end":"bottom-start",fs=j()?"bottom-start":"bottom-end",vs=j()?"left-start":"right-start",ys=j()?"right-start":"left-start",bs={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},xs={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class lt extends et{constructor(r,e){super(r,e),this._popper=null,this._parent=this._element.parentNode,this._menu=y.next(this._element,De)[0]||y.prev(this._element,De)[0]||y.findOne(De,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return bs}static get DefaultType(){return xs}static get NAME(){return Ho}toggle(){return this._isShown()?this.hide():this.show()}show(){if(gt(this._element)||this._isShown())return;const r={relatedTarget:this._element};if(!h.trigger(this._element,ns,r).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const n of[].concat(...document.body.children))h.on(n,"mouseover",Ue);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Gt),this._element.classList.add(Gt),h.trigger(this._element,os,r)}}hide(){!gt(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(r){if(!h.trigger(this._element,ts,r).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))h.off(n,"mouseover",Ue);this._popper&&this._popper.destroy(),this._menu.classList.remove(Gt),this._element.classList.remove(Gt),this._element.setAttribute("aria-expanded","false"),ut.removeDataAttribute(this._menu,"popper"),h.trigger(this._element,es,r)}}_getConfig(r){if("object"==typeof(r=super._getConfig(r)).reference&&!dt(r.reference)&&"function"!=typeof r.reference.getBoundingClientRect)throw new TypeError(`${Ho.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return r}_createPopper(){if(typeof wt>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let r=this._element;"parent"===this._config.reference?r=this._parent:dt(this._config.reference)?r=ht(this._config.reference):"object"==typeof this._config.reference&&(r=this._config.reference);const e=this._getPopperConfig();this._popper=vn(r,this._menu,e)}_isShown(){return this._menu.classList.contains(Gt)}_getPlacement(){const r=this._parent;if(r.classList.contains("dropend"))return vs;if(r.classList.contains("dropstart"))return ys;if(r.classList.contains("dropup-center"))return"top";if(r.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return r.classList.contains("dropup")?e?hs:ms:e?fs:gs}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:r}=this._config;return"string"==typeof r?r.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof r?e=>r(e,this._element):r}_getPopperConfig(){const r={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ut.setDataAttribute(this._menu,"popper","static"),r.modifiers=[{name:"applyStyles",enabled:!1}]),{...r,...Q(this._config.popperConfig,[r])}}_selectMenuItem({key:r,target:e}){const n=y.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(i=>Lt(i));!n.length||bn(n,e,r===Ko,!n.includes(e)).focus()}static jQueryInterface(r){return this.each(function(){const e=lt.getOrCreateInstance(this,r);if("string"==typeof r){if(typeof e[r]>"u")throw new TypeError(`No method named "${r}"`);e[r]()}})}static clearMenus(r){if(2===r.button||"keyup"===r.type&&"Tab"!==r.key)return;const e=y.find(ds);for(const n of e){const i=lt.getInstance(n);if(!i||!1===i._config.autoClose)continue;const a=r.composedPath(),s=a.includes(i._menu);if(a.includes(i._element)||"inside"===i._config.autoClose&&!s||"outside"===i._config.autoClose&&s||i._menu.contains(r.target)&&("keyup"===r.type&&"Tab"===r.key||/input|select|option|textarea|form/i.test(r.target.tagName)))continue;const c={relatedTarget:i._element};"click"===r.type&&(c.clickEvent=r),i._completeHide(c)}}static dataApiKeydownHandler(r){const e=/input|textarea/i.test(r.target.tagName),n="Escape"===r.key,i=[Wa,Ko].includes(r.key);if(!i&&!n||e&&!n)return;r.preventDefault();const a=this.matches(Pt)?this:y.prev(this,Pt)[0]||y.next(this,Pt)[0]||y.findOne(Pt,r.delegateTarget.parentNode),s=lt.getOrCreateInstance(a);if(i)return r.stopPropagation(),s.show(),void s._selectMenuItem(r);s._isShown()&&(r.stopPropagation(),s.hide(),a.focus())}}h.on(document,zo,Pt,lt.dataApiKeydownHandler),h.on(document,zo,De,lt.dataApiKeydownHandler),h.on(document,jo,lt.clearMenus),h.on(document,is,lt.clearMenus),h.on(document,jo,Pt,function(o){o.preventDefault(),lt.getOrCreateInstance(this).toggle()}),z(lt);const Wo="backdrop",ti=`mousedown.bs.${Wo}`,Ts={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ps={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ei extends ue{constructor(r){super(),this._config=this._getConfig(r),this._isAppended=!1,this._element=null}static get Default(){return Ts}static get DefaultType(){return Ps}static get NAME(){return Wo}show(r){if(!this._config.isVisible)return void Q(r);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Q(r)})}hide(r){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Q(r)})):Q(r)}dispose(){!this._isAppended||(h.off(this._element,ti),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const r=document.createElement("div");r.className=this._config.className,this._config.isAnimated&&r.classList.add("fade"),this._element=r}return this._element}_configAfterMerge(r){return r.rootElement=ht(r.rootElement),r}_append(){if(this._isAppended)return;const r=this._getElement();this._config.rootElement.append(r),h.on(r,ti,()=>{Q(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(r){Uo(r,this._getElement(),this._config.isAnimated)}}const Ve=".bs.focustrap",Ns=`focusin${Ve}`,Is=`keydown.tab${Ve}`,ni="backward",ks={autofocus:!0,trapElement:null},Ms={autofocus:"boolean",trapElement:"element"};class oi extends ue{constructor(r){super(),this._config=this._getConfig(r),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ks}static get DefaultType(){return Ms}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),h.off(document,Ve),h.on(document,Ns,r=>this._handleFocusin(r)),h.on(document,Is,r=>this._handleKeydown(r)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,h.off(document,Ve))}_handleFocusin(r){const{trapElement:e}=this._config;if(r.target===document||r.target===e||e.contains(r.target))return;const n=y.focusableChildren(e);0===n.length?e.focus():this._lastTabNavDirection===ni?n[n.length-1].focus():n[0].focus()}_handleKeydown(r){"Tab"===r.key&&(this._lastTabNavDirection=r.shiftKey?ni:"forward")}}const ii=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ri=".sticky-top",Ye="padding-right",ai="margin-right";class kn{constructor(){this._element=document.body}getWidth(){const r=document.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}hide(){const r=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ye,e=>e+r),this._setElementAttributes(ii,Ye,e=>e+r),this._setElementAttributes(ri,ai,e=>e-r)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ye),this._resetElementAttributes(ii,Ye),this._resetElementAttributes(ri,ai)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(r,e,n){const i=this.getWidth();this._applyManipulationCallback(r,s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+i)return;this._saveInitialAttribute(s,e);const c=window.getComputedStyle(s).getPropertyValue(e);s.style.setProperty(e,`${n(Number.parseFloat(c))}px`)})}_saveInitialAttribute(r,e){const n=r.style.getPropertyValue(e);n&&ut.setDataAttribute(r,e,n)}_resetElementAttributes(r,e){this._applyManipulationCallback(r,i=>{const a=ut.getDataAttribute(i,e);null!==a?(ut.removeDataAttribute(i,e),i.style.setProperty(e,a)):i.style.removeProperty(e)})}_applyManipulationCallback(r,e){if(dt(r))e(r);else for(const n of y.find(r,this._element))e(n)}}const W=".bs.modal",Fs=`hide${W}`,Js=`hidePrevented${W}`,si=`hidden${W}`,li=`show${W}`,Ds=`shown${W}`,Vs=`resize${W}`,Ys=`click.dismiss${W}`,Qs=`mousedown.dismiss${W}`,Ls=`keydown.dismiss${W}`,Bs=`click${W}.data-api`,ci="modal-open",Mn="modal-static",js={backdrop:!0,focus:!0,keyboard:!0},zs={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class vt extends et{constructor(r,e){super(r,e),this._dialog=y.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new kn,this._addEventListeners()}static get Default(){return js}static get DefaultType(){return zs}static get NAME(){return"modal"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||this._isTransitioning||h.trigger(this._element,li,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ci),this._adjustDialog(),this._backdrop.show(()=>this._showElement(r)))}hide(){!this._isShown||this._isTransitioning||h.trigger(this._element,Fs).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){h.off(window,W),h.off(this._dialog,W),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ei({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new oi({trapElement:this._element})}_showElement(r){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=y.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,h.trigger(this._element,Ds,{relatedTarget:r})},this._dialog,this._isAnimated())}_addEventListeners(){h.on(this._element,Ls,r=>{if("Escape"===r.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),h.on(window,Vs,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),h.on(this._element,Qs,r=>{h.one(this._element,Ys,e=>{if(this._element===r.target&&this._element===e.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ci),this._resetAdjustments(),this._scrollBar.reset(),h.trigger(this._element,si)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(h.trigger(this._element,Js).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;"hidden"===n||this._element.classList.contains(Mn)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Mn),this._queueCallback(()=>{this._element.classList.remove(Mn),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const r=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;if(n&&!r){const i=j()?"paddingLeft":"paddingRight";this._element.style[i]=`${e}px`}if(!n&&r){const i=j()?"paddingRight":"paddingLeft";this._element.style[i]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(r,e){return this.each(function(){const n=vt.getOrCreateInstance(this,r);if("string"==typeof r){if(typeof n[r]>"u")throw new TypeError(`No method named "${r}"`);n[r](e)}})}}h.on(document,Bs,'[data-bs-toggle="modal"]',function(o){const r=y.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&o.preventDefault(),h.one(r,li,i=>{i.defaultPrevented||h.one(r,si,()=>{Lt(this)&&this.focus()})});const e=y.findOne(".modal.show");e&&vt.getInstance(e).hide(),vt.getOrCreateInstance(r).toggle(this)}),ke(vt),z(vt);const _t=".bs.offcanvas",ui=".data-api",Xs=`load${_t}${ui}`,pi="showing",hi=".offcanvas.show",nl=`show${_t}`,ol=`shown${_t}`,il=`hide${_t}`,gi=`hidePrevented${_t}`,fi=`hidden${_t}`,rl=`resize${_t}`,al=`click${_t}${ui}`,sl=`keydown.dismiss${_t}`,cl={backdrop:!0,keyboard:!0,scroll:!1},dl={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class yt extends et{constructor(r,e){super(r,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return cl}static get DefaultType(){return dl}static get NAME(){return"offcanvas"}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||h.trigger(this._element,nl,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new kn).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(pi),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(pi),h.trigger(this._element,ol,{relatedTarget:r})},this._element,!0))}hide(){this._isShown&&!h.trigger(this._element,il).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new kn).reset(),h.trigger(this._element,fi)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new ei({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():h.trigger(this._element,gi)}:null})}_initializeFocusTrap(){return new oi({trapElement:this._element})}_addEventListeners(){h.on(this._element,sl,r=>{if("Escape"===r.key){if(this._config.keyboard)return void this.hide();h.trigger(this._element,gi)}})}static jQueryInterface(r){return this.each(function(){const e=yt.getOrCreateInstance(this,r);if("string"==typeof r){if(void 0===e[r]||r.startsWith("_")||"constructor"===r)throw new TypeError(`No method named "${r}"`);e[r](this)}})}}h.on(document,al,'[data-bs-toggle="offcanvas"]',function(o){const r=y.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),gt(this))return;h.one(r,fi,()=>{Lt(this)&&this.focus()});const e=y.findOne(hi);e&&e!==r&&yt.getInstance(e).hide(),yt.getOrCreateInstance(r).toggle(this)}),h.on(window,Xs,()=>{for(const o of y.find(hi))yt.getOrCreateInstance(o).show()}),h.on(window,rl,()=>{for(const o of y.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(o).position&&yt.getOrCreateInstance(o).hide()}),ke(yt),z(yt);const vi={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ul=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),_l=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,pl=(o,r)=>{const e=o.nodeName.toLowerCase();return r.includes(e)?!ul.has(e)||Boolean(_l.test(o.nodeValue)):r.filter(n=>n instanceof RegExp).some(n=>n.test(e))},gl={allowList:vi,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},fl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},vl={entry:"(string|element|function|null)",selector:"(string|element)"};class yl extends ue{constructor(r){super(),this._config=this._getConfig(r)}static get Default(){return gl}static get DefaultType(){return fl}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(r=>this._resolvePossibleFunction(r)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(r){return this._checkContent(r),this._config.content={...this._config.content,...r},this}toHtml(){const r=document.createElement("div");r.innerHTML=this._maybeSanitize(this._config.template);for(const[i,a]of Object.entries(this._config.content))this._setContent(r,a,i);const e=r.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&e.classList.add(...n.split(" ")),e}_typeCheckConfig(r){super._typeCheckConfig(r),this._checkContent(r.content)}_checkContent(r){for(const[e,n]of Object.entries(r))super._typeCheckConfig({selector:e,entry:n},vl)}_setContent(r,e,n){const i=y.findOne(n,r);if(i){if(!(e=this._resolvePossibleFunction(e)))return void i.remove();if(dt(e))return void this._putElementInTemplate(ht(e),i);if(this._config.html)return void(i.innerHTML=this._maybeSanitize(e));i.textContent=e}}_maybeSanitize(r){return this._config.sanitize?function ml(o,r,e){if(!o.length)return o;if(e&&"function"==typeof e)return e(o);const i=(new window.DOMParser).parseFromString(o,"text/html"),a=[].concat(...i.body.querySelectorAll("*"));for(const s of a){const c=s.nodeName.toLowerCase();if(!Object.keys(r).includes(c)){s.remove();continue}const d=[].concat(...s.attributes),p=[].concat(r["*"]||[],r[c]||[]);for(const _ of d)pl(_,p)||s.removeAttribute(_.nodeName)}return i.body.innerHTML}(r,this._config.allowList,this._config.sanitizeFn):r}_resolvePossibleFunction(r){return Q(r,[this])}_putElementInTemplate(r,e){if(this._config.html)return e.innerHTML="",void e.append(r);e.textContent=r.textContent}}const Al=new Set(["sanitize","allowList","sanitizeFn"]),wn="fade",Qe="show",Ci="hide.bs.modal",ge="hover",Sn="focus",El={AUTO:"auto",TOP:"top",RIGHT:j()?"left":"right",BOTTOM:"bottom",LEFT:j()?"right":"left"},Fl={allowList:vi,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Jl={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Kt extends et{constructor(r,e){if(typeof wt>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(r,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Fl}static get DefaultType(){return Jl}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),h.off(this._element.closest(".modal"),Ci,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const r=h.trigger(this._element,this.constructor.eventName("show")),n=(Io(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(r.defaultPrevented||!n)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(i),h.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(Qe),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))h.on(c,"mouseover",Ue);this._queueCallback(()=>{h.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!h.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Qe),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))h.off(i,"mouseover",Ue);this._activeTrigger.click=!1,this._activeTrigger[Sn]=!1,this._activeTrigger[ge]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),h.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(r){const e=this._getTemplateFactory(r).toHtml();if(!e)return null;e.classList.remove(wn,Qe),e.classList.add(`bs-${this.constructor.NAME}-auto`);const n=(o=>{do{o+=Math.floor(1e6*Math.random())}while(document.getElementById(o));return o})(this.constructor.NAME).toString();return e.setAttribute("id",n),this._isAnimated()&&e.classList.add(wn),e}setContent(r){this._newContent=r,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(r){return this._templateFactory?this._templateFactory.changeContent(r):this._templateFactory=new yl({...this._config,content:r,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(r){return this.constructor.getOrCreateInstance(r.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(wn)}_isShown(){return this.tip&&this.tip.classList.contains(Qe)}_createPopper(r){const e=Q(this._config.placement,[this,r,this._element]),n=El[e.toUpperCase()];return vn(this._element,r,this._getPopperConfig(n))}_getOffset(){const{offset:r}=this._config;return"string"==typeof r?r.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof r?e=>r(e,this._element):r}_resolvePossibleFunction(r){return Q(r,[this._element])}_getPopperConfig(r){const e={placement:r,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...e,...Q(this._config.popperConfig,[e])}}_setListeners(){const r=this._config.trigger.split(" ");for(const e of r)if("click"===e)h.on(this._element,this.constructor.eventName("click"),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if("manual"!==e){const n=this.constructor.eventName(e===ge?"mouseenter":"focusin"),i=this.constructor.eventName(e===ge?"mouseleave":"focusout");h.on(this._element,n,this._config.selector,a=>{const s=this._initializeOnDelegatedTarget(a);s._activeTrigger["focusin"===a.type?Sn:ge]=!0,s._enter()}),h.on(this._element,i,this._config.selector,a=>{const s=this._initializeOnDelegatedTarget(a);s._activeTrigger["focusout"===a.type?Sn:ge]=s._element.contains(a.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},h.on(this._element.closest(".modal"),Ci,this._hideModalHandler)}_fixTitle(){const r=this._element.getAttribute("title");!r||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",r),this._element.setAttribute("data-bs-original-title",r),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(r,e){clearTimeout(this._timeout),this._timeout=setTimeout(r,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(r){const e=ut.getDataAttributes(this._element);for(const n of Object.keys(e))Al.has(n)&&delete e[n];return r={...e,..."object"==typeof r&&r?r:{}},r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r.container=!1===r.container?document.body:ht(r.container),"number"==typeof r.delay&&(r.delay={show:r.delay,hide:r.delay}),"number"==typeof r.title&&(r.title=r.title.toString()),"number"==typeof r.content&&(r.content=r.content.toString()),r}_getDelegateConfig(){const r={};for(const[e,n]of Object.entries(this._config))this.constructor.Default[e]!==n&&(r[e]=n);return r.selector=!1,r.trigger="manual",r}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(r){return this.each(function(){const e=Kt.getOrCreateInstance(this,r);if("string"==typeof r){if(typeof e[r]>"u")throw new TypeError(`No method named "${r}"`);e[r]()}})}}z(Kt);const Ql={...Kt.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ll={...Kt.DefaultType,content:"(null|string|element|function)"};class En extends Kt{static get Default(){return Ql}static get DefaultType(){return Ll}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(r){return this.each(function(){const e=En.getOrCreateInstance(this,r);if("string"==typeof r){if(typeof e[r]>"u")throw new TypeError(`No method named "${r}"`);e[r]()}})}}z(En);const Fn=".bs.scrollspy",Rl=`activate${Fn}`,Ai=`click${Fn}`,Hl=`load${Fn}.data-api`,jt="active",Jn="[href]",bi=".nav-link",zl=`${bi}, .nav-item > ${bi}, .list-group-item`,tc={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ec={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Le extends et{constructor(r,e){super(r,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return tc}static get DefaultType(){return ec}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const r of this._observableSections.values())this._observer.observe(r)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(r){return r.target=ht(r.target)||document.body,r.rootMargin=r.offset?`${r.offset}px 0px -30%`:r.rootMargin,"string"==typeof r.threshold&&(r.threshold=r.threshold.split(",").map(e=>Number.parseFloat(e))),r}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(h.off(this._config.target,Ai),h.on(this._config.target,Ai,Jn,r=>{const e=this._observableSections.get(r.target.hash);if(e){r.preventDefault();const n=this._rootElement||window,i=e.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:i,behavior:"smooth"});n.scrollTop=i}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(r){const e=s=>this._targetLinks.get(`#${s.target.id}`),n=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(e(s))},i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const s of r){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(s));continue}const c=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&c){if(n(s),!i)return}else!a&&!c&&n(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const r=y.find(Jn,this._config.target);for(const e of r){if(!e.hash||gt(e))continue;const n=y.findOne(decodeURI(e.hash),this._element);Lt(n)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,n))}}_process(r){this._activeTarget!==r&&(this._clearActiveClass(this._config.target),this._activeTarget=r,r.classList.add(jt),this._activateParents(r),h.trigger(this._element,Rl,{relatedTarget:r}))}_activateParents(r){if(r.classList.contains("dropdown-item"))y.findOne(".dropdown-toggle",r.closest(".dropdown")).classList.add(jt);else for(const e of y.parents(r,".nav, .list-group"))for(const n of y.prev(e,zl))n.classList.add(jt)}_clearActiveClass(r){r.classList.remove(jt);const e=y.find(`${Jn}.${jt}`,r);for(const n of e)n.classList.remove(jt)}static jQueryInterface(r){return this.each(function(){const e=Le.getOrCreateInstance(this,r);if("string"==typeof r){if(void 0===e[r]||r.startsWith("_")||"constructor"===r)throw new TypeError(`No method named "${r}"`);e[r]()}})}}h.on(window,Hl,()=>{for(const o of y.find('[data-bs-spy="scroll"]'))Le.getOrCreateInstance(o)}),z(Le);const qt=".bs.tab",oc=`hide${qt}`,ic=`hidden${qt}`,rc=`show${qt}`,ac=`shown${qt}`,sc=`click${qt}`,lc=`keydown${qt}`,cc=`load${qt}`,dc="ArrowLeft",xi="ArrowRight",uc="ArrowUp",Zi="ArrowDown",Dn="Home",Ti="End",Nt="active",Vn="show",qi=".dropdown-toggle",Yn=`:not(${qi})`,Ni='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Qn=`.nav-link${Yn}, .list-group-item${Yn}, [role="tab"]${Yn}, ${Ni}`,fc=`.${Nt}[data-bs-toggle="tab"], .${Nt}[data-bs-toggle="pill"], .${Nt}[data-bs-toggle="list"]`;class zt extends et{constructor(r){super(r),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),h.on(this._element,lc,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const r=this._element;if(this._elemIsActive(r))return;const e=this._getActiveElem(),n=e?h.trigger(e,oc,{relatedTarget:r}):null;h.trigger(r,rc,{relatedTarget:e}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(e,r),this._activate(r,e))}_activate(r,e){r&&(r.classList.add(Nt),this._activate(y.getElementFromSelector(r)),this._queueCallback(()=>{"tab"===r.getAttribute("role")?(r.removeAttribute("tabindex"),r.setAttribute("aria-selected",!0),this._toggleDropDown(r,!0),h.trigger(r,ac,{relatedTarget:e})):r.classList.add(Vn)},r,r.classList.contains("fade")))}_deactivate(r,e){r&&(r.classList.remove(Nt),r.blur(),this._deactivate(y.getElementFromSelector(r)),this._queueCallback(()=>{"tab"===r.getAttribute("role")?(r.setAttribute("aria-selected",!1),r.setAttribute("tabindex","-1"),this._toggleDropDown(r,!1),h.trigger(r,ic,{relatedTarget:e})):r.classList.remove(Vn)},r,r.classList.contains("fade")))}_keydown(r){if(![dc,xi,uc,Zi,Dn,Ti].includes(r.key))return;r.stopPropagation(),r.preventDefault();const e=this._getChildren().filter(i=>!gt(i));let n;if([Dn,Ti].includes(r.key))n=e[r.key===Dn?0:e.length-1];else{const i=[xi,Zi].includes(r.key);n=bn(e,r.target,i,!0)}n&&(n.focus({preventScroll:!0}),zt.getOrCreateInstance(n).show())}_getChildren(){return y.find(Qn,this._parent)}_getActiveElem(){return this._getChildren().find(r=>this._elemIsActive(r))||null}_setInitialAttributes(r,e){this._setAttributeIfNotExists(r,"role","tablist");for(const n of e)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(r){r=this._getInnerElement(r);const e=this._elemIsActive(r),n=this._getOuterElement(r);r.setAttribute("aria-selected",e),n!==r&&this._setAttributeIfNotExists(n,"role","presentation"),e||r.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(r,"role","tab"),this._setInitialAttributesOnTargetPanel(r)}_setInitialAttributesOnTargetPanel(r){const e=y.getElementFromSelector(r);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),r.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${r.id}`))}_toggleDropDown(r,e){const n=this._getOuterElement(r);if(!n.classList.contains("dropdown"))return;const i=(a,s)=>{const c=y.findOne(a,n);c&&c.classList.toggle(s,e)};i(qi,Nt),i(".dropdown-menu",Vn),n.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(r,e,n){r.hasAttribute(e)||r.setAttribute(e,n)}_elemIsActive(r){return r.classList.contains(Nt)}_getInnerElement(r){return r.matches(Qn)?r:y.findOne(Qn,r)}_getOuterElement(r){return r.closest(".nav-item, .list-group-item")||r}static jQueryInterface(r){return this.each(function(){const e=zt.getOrCreateInstance(this);if("string"==typeof r){if(void 0===e[r]||r.startsWith("_")||"constructor"===r)throw new TypeError(`No method named "${r}"`);e[r]()}})}}h.on(document,sc,Ni,function(o){["A","AREA"].includes(this.tagName)&&o.preventDefault(),!gt(this)&&zt.getOrCreateInstance(this).show()}),h.on(window,cc,()=>{for(const o of y.find(fc))zt.getOrCreateInstance(o)}),z(zt);const Ct=".bs.toast",yc=`mouseover${Ct}`,Cc=`mouseout${Ct}`,Ac=`focusin${Ct}`,bc=`focusout${Ct}`,xc=`hide${Ct}`,Zc=`hidden${Ct}`,Tc=`show${Ct}`,Pc=`shown${Ct}`,Be="show",$e="showing",Nc={animation:"boolean",autohide:"boolean",delay:"number"},Ic={animation:!0,autohide:!0,delay:5e3};class Re extends et{constructor(r,e){super(r,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ic}static get DefaultType(){return Nc}static get NAME(){return"toast"}show(){h.trigger(this._element,Tc).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Be,$e),this._queueCallback(()=>{this._element.classList.remove($e),h.trigger(this._element,Pc),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!h.trigger(this._element,xc).defaultPrevented&&(this._element.classList.add($e),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove($e,Be),h.trigger(this._element,Zc)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Be),super.dispose()}isShown(){return this._element.classList.contains(Be)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(r,e){switch(r.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const n=r.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){h.on(this._element,yc,r=>this._onInteraction(r,!0)),h.on(this._element,Cc,r=>this._onInteraction(r,!1)),h.on(this._element,Ac,r=>this._onInteraction(r,!0)),h.on(this._element,bc,r=>this._onInteraction(r,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(r){return this.each(function(){const e=Re.getOrCreateInstance(this,r);if("string"==typeof r){if(typeof e[r]>"u")throw new TypeError(`No method named "${r}"`);e[r](this)}})}}ke(Re),z(Re);var He=A(96166),t=A(94650),fe=A(71071),Oc=A(76396),ve=A(97185),Uc=A(1809),kc=A(92340);let Wt=(()=>{class o{constructor(e){this.http=e,this.apiUrl=`${kc.N.api}`,this.currentItems=[],this.cartItems=[],this.orders=[];const n=localStorage.getItem("orders"),i=localStorage.getItem("cartItems");i&&(this.cartItems=JSON.parse(i)),n&&(this.orders=JSON.parse(n))}getCurrentItems(){return this.currentItems}getCartItems(){return this.cartItems}getOrders(){return this.orders}addToCurrent(e){const n=this.currentItems.findIndex(i=>i.id===e.id&&i.batch[0].id===e.batch[0].id);-1!==n?this.currentItems[n].quantity+=1:this.currentItems.push(e)}increaseCurrent(e){const n=this.currentItems.findIndex(i=>i.id===e.id&&i.batch[0].id===e.batch[0].id);-1!==n&&(this.currentItems[n].quantity+=1)}decreaseCurrent(e){const n=this.currentItems.findIndex(i=>i.id===e.id&&i.batch[0].id===e.batch[0].id);-1!==n&&(1==this.currentItems[n].quantity?this.removeFromCurrent(e):this.currentItems[n].quantity-=1)}removeFromCurrent(e){console.warn(e,"service");const n=this.currentItems.findIndex(i=>i.id===e.id&&i.batch[0].id===e.batch[0].id);-1!==n&&this.currentItems.splice(n,1)}clearCurrent(){this.currentItems=[]}addToCart(e){const n=this.cartItems.find(i=>i.id===e.id);n?n.quantity+=e.quantity:this.cartItems.push(e),localStorage.setItem("cartItems",JSON.stringify(this.cartItems))}increase(e){this.cartItems.find(i=>i.id===e.id).quantity+=1,localStorage.setItem("cartItems",JSON.stringify(this.cartItems))}decrease(e){const n=this.cartItems.find(i=>i.id===e.id);1==n.quantity?this.removeFromCart(n):(n.quantity-=1,localStorage.setItem("cartItems",JSON.stringify(this.cartItems)))}removeFromCart(e){const n=this.cartItems.findIndex(i=>i.id===e.id);-1!==n&&this.cartItems.splice(n,1),localStorage.setItem("cartItems",JSON.stringify(this.cartItems))}clearCart(){this.cartItems=[],localStorage.removeItem("cartItems")}generateOrder(e){this.orders.push(e),localStorage.setItem("orders",JSON.stringify(this.orders))}addCustomer(e){return this.http.post(this.apiUrl+"/pv-api/pos/Addcustomers/",e,{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}getCustomer(e){return this.http.get(this.apiUrl+"/pv-api/pos/customer_filter/?search="+e,{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}getAdditionalCharge(){return this.http.get(this.apiUrl+"/pv-api/pos/additional_charge_pos/",{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}getTaxes(){return this.http.get(this.apiUrl+"/pv-api/pos/tax_pos/",{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}getCompanyBank(){return this.http.get(this.apiUrl+"/pv-api/pos/company_bank/",{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}getPaymentTerms(){return this.http.get(this.apiUrl+"/pv-api/pos/payment_terms_pos/",{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}generateOrderNew(e){return this.http.post(this.apiUrl+"/pv-api/pos/pos_new_order/",e,{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}receiptPayment(e){return this.http.post(this.apiUrl+"/pv-api/pos/receipt_advance_payment_or_againest_bill/",e,{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}purchasePayment(e){return this.http.post(this.apiUrl+"/pv-api/pos/party_advance_payment_or_againest_bill/",e,{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}expensePayment(e){return this.http.post(this.apiUrl+"/pv-api/pos/expance/",e,{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}getPOSOrders(){return this.http.get(this.apiUrl+"/pv-api/pos/pos_orders/",{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}getPOSOrderDetails(e){return this.http.get(this.apiUrl+"/pv-api/pos/pos_order_detail/?order_id="+e,{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}getExpensePayments(){return this.http.get(this.apiUrl+"/pv-api/pos/expance/",{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}getPurchasePayments(){return this.http.get(this.apiUrl+"/pv-api/pos/all_payments/",{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}getSalesPayments(){return this.http.get(this.apiUrl+"/pv-api/pos/all_receipts/",{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}getReceiptDueOrder(e){return this.http.get(this.apiUrl+"/pv-api/pos/receipt_due_order/?customer_id="+e,{headers:new U.WM({Authorization:`token ${localStorage.getItem("token")}`})})}productSearch(e){return this.http.get(`${this.apiUrl+"/pv-api/pos/product_search/?search="}${e}`)}paymentModesLogo(){return this.http.get(""+(this.apiUrl+"/pv-api/web/payment_modes_logo/"))}addPosPaymentVoucher(e){return this.http.post(this.apiUrl+"/pv-api/pos/payment_voucher/",e)}addPosCreditNoteList(e){return this.http.post(this.apiUrl+"/pv-api/pos/credit_note/",e)}addPosExpenseVoucher(e){return this.http.post(this.apiUrl+"/pv-api/pos/expence_voucher/",e)}addPosRecieptVoucher(e){return this.http.post(this.apiUrl+"/pv-api/pos/receipt_voucher/",e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(U.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Mc=A(53989),wc=A(80927),Sc=A(42917),nt=A(47957),ye=A(3238),Ec=A(73162),Ge=A(43443),Ce=A(59549),Ae=A(44144);function Fc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",44),t.NdJ("onSelectionChange",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.oncheck(a))}),t._uU(1),t.qZA()}if(2&o){const e=r.$implicit;t.Q6J("value",e.company_name+" "+e.name),t.xp6(1),t.Oqu(e.company_name+" "+e.name)}}function Jc(o,r){1&o&&(t.TgZ(0,"mat-option",47)(1,"a",48),t._uU(2,"+ Add Supplier"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function Dc(o,r){1&o&&(t.TgZ(0,"mat-option",49),t._uU(1,"Please Enter 3 or more characters"),t.qZA())}function Vc(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Jc,3,1,"mat-option",45),t.YNc(2,Dc,2,0,"mat-option",46),t.BQk()),2&o){const e=r.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.supplierControl.value?null:n.supplierControl.value.length)<3)}}function Yc(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Select Supplier "),t.qZA())}function Qc(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Enter Date"),t.qZA())}function Lc(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Enter Mode Type"),t.qZA())}function Bc(o,r){if(1&o&&(t.TgZ(0,"option",47),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.prefix)}}function $c(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Enter Payment Voucher Series"),t.qZA())}function Rc(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Enter Amount"),t.qZA())}function Hc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",44),t.NdJ("onSelectionChange",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.oncheck1(a))}),t._uU(1),t.qZA()}if(2&o){const e=r.$implicit;t.Q6J("value",e.account_id),t.xp6(1),t.Oqu(e.account_id)}}function Gc(o,r){1&o&&(t.TgZ(0,"mat-option",47)(1,"a",51),t._uU(2,"+ Add Account"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function Kc(o,r){1&o&&(t.TgZ(0,"mat-option",49),t._uU(1,"Please Enter 1 or more characters"),t.qZA())}function jc(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Gc,3,1,"mat-option",45),t.YNc(2,Kc,2,0,"mat-option",46),t.BQk()),2&o){const e=r.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.payerControl.value?null:n.payerControl.value.length)<3)}}function zc(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Select Payment Account"),t.qZA())}function Wc(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Enter Description"),t.qZA())}function Xc(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",59),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.addCart())}),t._uU(1,"Add Cart+"),t.qZA()}}function td(o,r){if(1&o){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",76),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.addCart())}),t._UZ(1,"path",63)(2,"path",77),t.qZA()}}function ed(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",44),t.NdJ("onSelectionChange",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw().index,s=t.oxw(3);return t.KtG(s.oncheck3(i,a))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.refrence_bill_no),t.xp6(1),t.hij(" ",null==e?null:e.refrence_bill_no," ")}}function nd(o,r){if(1&o&&(t.ynx(0),t.YNc(1,ed,2,2,"mat-option",78),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==(null==e?null:e.is_active))}}function od(o,r){1&o&&(t.TgZ(0,"mat-option",47)(1,"a",79),t._uU(2,"+ Add Purchase Bill"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function id(o,r){1&o&&(t.TgZ(0,"mat-option",49),t._uU(1," Please Enter 1 or more characters "),t.qZA())}function rd(o,r){1&o&&(t.TgZ(0,"span",80),t._uU(1,"Select Purchase Bill"),t.qZA())}function ad(o,r){1&o&&(t.TgZ(0,"span",80),t._uU(1,"Enter Original Amount "),t.qZA())}function sd(o,r){1&o&&(t.TgZ(0,"span",80),t._uU(1,"Enter debit Paid Amount"),t.qZA())}function ld(o,r){1&o&&(t.TgZ(0,"span",80),t._uU(1,"Enter Pending Amount"),t.qZA())}function cd(o,r){1&o&&(t.TgZ(0,"span",80),t._uU(1,"Enter Payment"),t.qZA())}function dd(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",59),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw(3);return t.KtG(a.debitNoteCartIndex1(i))}),t._uU(1,"Redeem Debit Note"),t.qZA()}}function ud(o,r){if(1&o){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",76),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3).index,a=t.oxw(3);return t.KtG(a.addDebitNoteCartForm1(i))}),t._UZ(1,"path",63)(2,"path",77),t.qZA()}}function _d(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",44),t.NdJ("onSelectionChange",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw().index,s=t.oxw(2).index,c=t.oxw(3);return t.KtG(c.oncheckBankDebit1(i,s,a))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.debit_note_no),t.xp6(1),t.hij(" ",null==e?null:e.debit_note_no," ")}}function pd(o,r){if(1&o&&(t.ynx(0),t.YNc(1,_d,2,2,"mat-option",78),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==(null==e?null:e.is_active))}}function md(o,r){1&o&&(t.TgZ(0,"mat-option",47)(1,"a",87),t._uU(2,"+ Add Debit Note"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function hd(o,r){1&o&&(t.TgZ(0,"mat-option",49),t._uU(1," Please Enter 1 or more characters"),t.qZA())}function gd(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",60)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"div")(6,"div",61),t.O4$(),t.TgZ(7,"svg",62),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(2).index,c=t.oxw(3);return t.KtG(c.removeDebitNoteForm1(s,a))}),t._UZ(8,"path",63)(9,"path",64),t.qZA()(),t.YNc(10,ud,3,0,"svg",65),t.qZA()(),t.kcU(),t.TgZ(11,"td")(12,"div",66)(13,"mat-form-field",12)(14,"input",83),t.NdJ("input",function(i){t.CHM(e);const a=t.oxw(5);return t.KtG(a.getFilterDebit(i.target.value))}),t.qZA(),t.TgZ(15,"mat-autocomplete",null,84),t.YNc(17,pd,2,1,"ng-container",58),t.YNc(18,md,3,1,"mat-option",45),t.YNc(19,hd,2,0,"mat-option",46),t.qZA()()()(),t.TgZ(20,"td"),t._UZ(21,"input",70),t.qZA(),t.TgZ(22,"td"),t._UZ(23,"input",85),t.qZA(),t.TgZ(24,"td"),t._UZ(25,"input",72),t.qZA(),t.TgZ(26,"td"),t._UZ(27,"input",86),t.qZA()(),t.BQk()}if(2&o){const e=r.index,n=t.MAs(16),i=t.oxw(2).index,a=t.oxw(3);let s;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(2),t.Oqu(e+1+"."),t.xp6(7),t.Q6J("ngIf",a.isLastDebitNote1(i,e)),t.xp6(4),t.Q6J("formControl",a.debitNoteControl.at(e))("matAutocomplete",n),t.xp6(3),t.Q6J("ngForOf",a.filterdebitNote),t.xp6(1),t.Q6J("ngIf",0===(null==a.filterdebitNote?null:a.filterdebitNote.length)),t.xp6(1),t.Q6J("ngIf",(null==(s=a.debitNoteControl.at(i))||null==s.value?null:s.value.length)<1)}}function fd(o,r){if(1&o&&(t.TgZ(0,"div",81)(1,"table",54)(2,"thead")(3,"tr")(4,"td"),t._uU(5,"#"),t.qZA(),t._UZ(6,"th"),t.TgZ(7,"th"),t._uU(8,"Debit Note"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Original Amount"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Redeem Amount"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Pending Amount"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Amount"),t.qZA()()(),t.TgZ(17,"tbody"),t.ynx(18,82),t.YNc(19,gd,28,8,"ng-container",58),t.BQk(),t.qZA()()()),2&o){const e=t.oxw().index,n=t.oxw(3);t.xp6(19),t.Q6J("ngForOf",n.getDebitNoteCartForm1(e).controls)}}function vd(o,r){if(1&o){const e=t.EpF();t.ynx(0)(1,60),t.TgZ(2,"tr")(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div")(7,"div",61),t.O4$(),t.TgZ(8,"svg",62),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(3);return t.KtG(s.removeCart(a))}),t._UZ(9,"path",63)(10,"path",64),t.qZA()(),t.YNc(11,td,3,0,"svg",65),t.qZA()(),t.kcU(),t.TgZ(12,"td")(13,"div",66)(14,"mat-form-field",12)(15,"input",67),t.NdJ("input",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.getFilter(i.target.value))}),t.qZA(),t.TgZ(16,"mat-autocomplete",null,68),t.YNc(18,nd,2,1,"ng-container",58),t.YNc(19,od,3,1,"mat-option",45),t.YNc(20,id,2,0,"mat-option",46),t.qZA()()(),t.YNc(21,rd,2,0,"span",69),t.qZA(),t.TgZ(22,"td"),t._UZ(23,"input",70),t.YNc(24,ad,2,0,"span",69),t.qZA(),t.TgZ(25,"td"),t._UZ(26,"input",71),t.YNc(27,sd,2,0,"span",69),t.qZA(),t.TgZ(28,"td"),t._UZ(29,"input",72),t.YNc(30,ld,2,0,"span",69),t.qZA(),t.TgZ(31,"td"),t._UZ(32,"input",73),t.YNc(33,cd,2,0,"span",69),t.qZA()(),t.TgZ(34,"tr"),t._UZ(35,"td"),t.TgZ(36,"td",74),t.YNc(37,dd,2,0,"span",56),t.YNc(38,fd,20,1,"div",75),t.qZA()(),t.BQk()()}if(2&o){const e=r.index,n=t.MAs(17),i=t.oxw(3);let a;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.Oqu(e+1+"."),t.xp6(7),t.Q6J("ngIf",i.isLastCart(e)),t.xp6(4),t.Q6J("formControl",i.myControls.at(e))("matAutocomplete",n),t.xp6(3),t.Q6J("ngForOf",i.filterPurchaseBill),t.xp6(1),t.Q6J("ngIf",0===(null==i.filterPurchaseBill?null:i.filterPurchaseBill.length)),t.xp6(1),t.Q6J("ngIf",(null==(a=i.myControls.at(e))||null==a.value?null:a.value.length)<1),t.xp6(1),t.Q6J("ngIf",i.sale_bill(e)&&i.sale_bill(e).invalid&&i.sale_bill(e).touched),t.xp6(3),t.Q6J("ngIf",i.original_amount(e)&&i.original_amount(e).invalid&&i.original_amount(e).touched),t.xp6(3),t.Q6J("ngIf",i.paid_amount(e)&&i.paid_amount(e).invalid&&i.paid_amount(e).touched),t.xp6(3),t.Q6J("ngIf",i.pending_amount(e)&&i.pending_amount(e).invalid&&i.pending_amount(e).touched),t.xp6(3),t.Q6J("ngIf",i.payment(e)&&i.payment(e).invalid&&i.payment(e).touched),t.xp6(4),t.Q6J("ngIf",!i.isDebitNoteCart1[e]),t.xp6(1),t.Q6J("ngIf",i.isDebitNoteCart1[e])}}function yd(o,r){if(1&o&&(t.TgZ(0,"div",52)(1,"div",2)(2,"div",9)(3,"div",53)(4,"table",54)(5,"thead")(6,"tr")(7,"th"),t._uU(8,"#"),t.qZA(),t._UZ(9,"th"),t.TgZ(10,"th"),t._uU(11,"Purchase Bill"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Original Amount"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Paid Amount"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Pending Amount"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Payment"),t.qZA()(),t.TgZ(20,"tr")(21,"th",55),t.YNc(22,Xc,2,0,"span",56),t.qZA()()(),t.TgZ(23,"tbody"),t.ynx(24,57),t.YNc(25,vd,39,15,"ng-container",58),t.BQk(),t.qZA()()()()()()),2&o){const e=t.oxw(2);t.xp6(22),t.Q6J("ngIf",e.isCart),t.xp6(3),t.Q6J("ngForOf",e.getCart().controls)}}function Cd(o,r){1&o&&(t.TgZ(0,"button",88),t._uU(1,"Submit"),t.qZA())}function Ad(o,r){1&o&&(t.TgZ(0,"button",89),t._UZ(1,"span",90),t._uU(2,"\xa0 Submit"),t.qZA())}const X=function(o){return{"is-invalid":o}};function bd(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit())}),t.TgZ(3,"div",4)(4,"div",5)(5,"input",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.toggleCash())}),t.qZA(),t.TgZ(6,"label",7),t._uU(7,"Cash"),t.qZA()(),t.TgZ(8,"div",5)(9,"input",8),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.toggleBank())}),t.qZA(),t.TgZ(10,"label",7),t._uU(11,"Bank"),t.qZA()()(),t.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"label"),t._uU(16,"Supplier*"),t.qZA(),t.TgZ(17,"mat-form-field",12),t._UZ(18,"input",13),t.TgZ(19,"mat-autocomplete",null,14),t.YNc(21,Fc,2,2,"mat-option",15),t.ALo(22,"async"),t.YNc(23,Vc,3,2,"ng-container",16),t.ALo(24,"async"),t.qZA()(),t.YNc(25,Yc,2,0,"span",17),t.qZA()(),t.TgZ(26,"div",18)(27,"div",11)(28,"label"),t._uU(29,"Date"),t.qZA(),t._UZ(30,"input",19),t.YNc(31,Qc,2,0,"span",17),t.qZA()(),t.TgZ(32,"div",20)(33,"div",11)(34,"div",9)(35,"div",21)(36,"div",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setRadioValue("On Account"))}),t.TgZ(37,"div",2)(38,"div",23),t._UZ(39,"input",24),t.TgZ(40,"label",25),t._uU(41,"On Account"),t.qZA()(),t.TgZ(42,"span",26),t._uU(43,"Upfront Payment"),t.qZA()()()(),t.TgZ(44,"div",21)(45,"div",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setRadioValue("Advance Payment"))}),t.TgZ(46,"div",2)(47,"div",23),t._UZ(48,"input",27),t.TgZ(49,"label",28),t._uU(50,"Advance Payment"),t.qZA()(),t.TgZ(51,"span",29),t._uU(52,"Will be offset by upcoming bills"),t.qZA()()()(),t.TgZ(53,"div",21)(54,"div",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setRadioValue("Against Bill"))}),t.TgZ(55,"div",2)(56,"div",23),t._UZ(57,"input",30),t.TgZ(58,"label",31),t._uU(59,"Against Bill"),t.qZA()(),t.TgZ(60,"span",29),t._uU(61,"Offset against Current Bills"),t.qZA()()()(),t.YNc(62,Lc,2,0,"span",17),t.qZA()()(),t.TgZ(63,"div",21)(64,"div",11)(65,"label"),t._uU(66,"Payment Voucher Series"),t.qZA(),t.TgZ(67,"select",32)(68,"option",33),t._uU(69,"Select Payment Voucher Series"),t.qZA(),t.YNc(70,Bc,2,2,"option",34),t.qZA(),t.YNc(71,$c,2,0,"span",17),t.qZA()(),t.TgZ(72,"div",21)(73,"div",11)(74,"label"),t._uU(75,"Amount"),t.qZA(),t._UZ(76,"input",35),t.YNc(77,Rc,2,0,"span",17),t.qZA()(),t.TgZ(78,"div",21)(79,"div",11)(80,"label"),t._uU(81,"Payment Account*"),t.qZA(),t.TgZ(82,"mat-form-field",12),t._UZ(83,"input",36),t.TgZ(84,"mat-autocomplete",null,37),t.YNc(86,Hc,2,2,"mat-option",15),t.ALo(87,"async"),t.YNc(88,jc,3,2,"ng-container",16),t.ALo(89,"async"),t.qZA()(),t.YNc(90,zc,2,0,"span",17),t.qZA()(),t.TgZ(91,"div",21)(92,"div",11)(93,"label"),t._uU(94,"Description"),t.qZA(),t._UZ(95,"textarea",38),t.YNc(96,Wc,2,0,"span",17),t.qZA()(),t.YNc(97,yd,26,2,"div",39),t.TgZ(98,"div",40),t.YNc(99,Cd,2,0,"button",41),t.YNc(100,Ad,3,0,"button",42),t.TgZ(101,"button",43),t._uU(102,"Cancel"),t.qZA()()()()()()}if(2&o){const e=t.MAs(20),n=t.MAs(85),i=t.oxw();t.xp6(2),t.Q6J("formGroup",i.paymentVoucherForm),t.xp6(3),t.Q6J("id","checkboxCash")("value","Cash"),t.xp6(1),t.Q6J("for","checkboxCash"),t.xp6(3),t.Q6J("id","checkbox-Bnak")("value","Bank"),t.xp6(1),t.Q6J("for","checkbox-Bnak"),t.xp6(8),t.Q6J("formControl",i.supplierControl)("matAutocomplete",e)("ngClass",t.VKq(44,X,i.h.supplier.touched&&i.h.supplier.invalid)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(22,36,i.filteredsupplier)),t.xp6(2),t.Q6J("ngIf",t.lcZ(24,38,i.filteredsupplier)),t.xp6(2),t.Q6J("ngIf",i.Supplier1&&i.Supplier1.invalid&&i.Supplier1.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(46,X,i.h.date.touched&&i.h.date.invalid)),t.uIk("min",i.minDate)("max",i.maxDate),t.xp6(1),t.Q6J("ngIf",i.date&&i.date.invalid&&i.date.touched),t.xp6(8),t.Q6J("value","On Account"),t.xp6(9),t.Q6J("value","Advance Payment"),t.xp6(9),t.Q6J("value","Against Bill"),t.xp6(5),t.Q6J("ngIf",i.mode_type&&i.mode_type.invalid&&i.mode_type.touched),t.xp6(8),t.Q6J("ngForOf",i.prefixNo),t.xp6(1),t.Q6J("ngIf",i.payment_voucher_no&&i.payment_voucher_no.invalid&&i.payment_voucher_no.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(48,X,i.h.amount.touched&&i.h.amount.invalid)),t.xp6(1),t.Q6J("ngIf",i.amount&&i.amount.invalid&&i.amount.touched),t.xp6(6),t.Q6J("formControl",i.payerControl)("matAutocomplete",n)("ngClass",t.VKq(50,X,i.h.payment_account.touched&&i.h.payment_account.invalid)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(87,40,i.filteredPayer)),t.xp6(2),t.Q6J("ngIf",t.lcZ(89,42,i.filteredPayer)),t.xp6(2),t.Q6J("ngIf",i.payer&&i.payer.invalid&&i.payer.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(52,X,i.h.note.touched&&i.h.note.invalid)),t.xp6(1),t.Q6J("ngIf",i.description&&i.description.invalid&&i.description.touched),t.xp6(1),t.Q6J("ngIf",i.isAgainstBill),t.xp6(2),t.Q6J("ngIf",!i.loaders),t.xp6(1),t.Q6J("ngIf",i.loaders)}}function xd(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",44),t.NdJ("onSelectionChange",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.oncheckBank(a))}),t._uU(1),t.qZA()}if(2&o){const e=r.$implicit;t.Q6J("value",e.company_name+" "+e.name),t.xp6(1),t.Oqu(e.company_name+" "+e.name)}}function Zd(o,r){1&o&&(t.TgZ(0,"mat-option",47)(1,"a",48),t._uU(2,"+ Add Supplier"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function Td(o,r){1&o&&(t.TgZ(0,"mat-option",49),t._uU(1,"Please Enter 3 or more characters"),t.qZA())}function Pd(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Zd,3,1,"mat-option",45),t.YNc(2,Td,2,0,"mat-option",46),t.BQk()),2&o){const e=r.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.supplierControl.value?null:n.supplierControl.value.length)<3)}}function qd(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Select Supplier "),t.qZA())}function Nd(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Enter Date"),t.qZA())}function Id(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Select Transaction Date"),t.qZA())}function Od(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Enter Transaction Id"),t.qZA())}function Ud(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Enter Mode Type"),t.qZA())}function kd(o,r){if(1&o&&(t.TgZ(0,"option",47),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.prefix)}}function Md(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Enter Payment Voucher Series."),t.qZA())}function wd(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Enter Amount"),t.qZA())}function Sd(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",44),t.NdJ("onSelectionChange",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.oncheckBank1(a))}),t._uU(1),t.qZA()}if(2&o){const e=r.$implicit;t.Q6J("value",e.account_id),t.xp6(1),t.Oqu(e.account_id)}}function Ed(o,r){1&o&&(t.TgZ(0,"mat-option",47)(1,"a",51),t._uU(2,"+ Add Account"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function Fd(o,r){1&o&&(t.TgZ(0,"mat-option",49),t._uU(1,"Please Enter 1 or more characters"),t.qZA())}function Jd(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Ed,3,1,"mat-option",45),t.YNc(2,Fd,2,0,"mat-option",46),t.BQk()),2&o){const e=r.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.payerControl.value?null:n.payerControl.value.length)<3)}}function Dd(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Select Payment Account"),t.qZA())}function Vd(o,r){1&o&&(t.TgZ(0,"span",50),t._uU(1,"Enter Description"),t.qZA())}function Yd(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",59),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.addCartBank())}),t._uU(1,"Add Cart+"),t.qZA()}}function Qd(o,r){if(1&o){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",76),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.addCartBank())}),t._UZ(1,"path",63)(2,"path",77),t.qZA()}}function Ld(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",44),t.NdJ("onSelectionChange",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw().index,s=t.oxw(3);return t.KtG(s.oncheckBank3(i,a))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.refrence_bill_no),t.xp6(1),t.hij(" ",null==e?null:e.refrence_bill_no," ")}}function Bd(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Ld,2,2,"mat-option",78),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==(null==e?null:e.is_active))}}function $d(o,r){1&o&&(t.TgZ(0,"mat-option",47)(1,"a",79),t._uU(2,"+ Add Purchase Bill"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function Rd(o,r){1&o&&(t.TgZ(0,"mat-option",49),t._uU(1," Please Enter 1 or more characters "),t.qZA())}function Hd(o,r){1&o&&(t.TgZ(0,"span",80),t._uU(1,"Select Purchase Bill"),t.qZA())}function Gd(o,r){1&o&&(t.TgZ(0,"span",80),t._uU(1,"Enter Original Amount"),t.qZA())}function Kd(o,r){1&o&&(t.TgZ(0,"span",80),t._uU(1,"Enter debit Paid Amount"),t.qZA())}function jd(o,r){1&o&&(t.TgZ(0,"span",80),t._uU(1,"Enter Pending Amount"),t.qZA())}function zd(o,r){1&o&&(t.TgZ(0,"span",80),t._uU(1,"Enter Payment"),t.qZA())}function Wd(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",59),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw(3);return t.KtG(a.debitNoteCartIndex(i))}),t._uU(1,"Redeem Debit Note"),t.qZA()}}function Xd(o,r){if(1&o){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",76),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3).index,a=t.oxw(3);return t.KtG(a.addDebitNoteCartForm(i))}),t._UZ(1,"path",63)(2,"path",77),t.qZA()}}function tu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",44),t.NdJ("onSelectionChange",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw().index,s=t.oxw(2).index,c=t.oxw(3);return t.KtG(c.oncheckBankDebit2(i,s,a))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.debit_note_no),t.xp6(1),t.hij(" ",null==e?null:e.debit_note_no," ")}}function eu(o,r){if(1&o&&(t.ynx(0),t.YNc(1,tu,2,2,"mat-option",78),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==(null==e?null:e.is_active))}}function nu(o,r){1&o&&(t.TgZ(0,"mat-option",47)(1,"a",87),t._uU(2,"+ Add Debit Note"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function ou(o,r){1&o&&(t.TgZ(0,"mat-option",49),t._uU(1," Please Enter 1 or more characters"),t.qZA())}function iu(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",60)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"div")(6,"div",61),t.O4$(),t.TgZ(7,"svg",62),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(2).index,c=t.oxw(3);return t.KtG(c.removeDebitNoteForm(s,a))}),t._UZ(8,"path",63)(9,"path",64),t.qZA()(),t.YNc(10,Xd,3,0,"svg",65),t.qZA()(),t.kcU(),t.TgZ(11,"td")(12,"div",66)(13,"mat-form-field",12)(14,"input",83),t.NdJ("input",function(i){t.CHM(e);const a=t.oxw(5);return t.KtG(a.getFilterDebit(i.target.value))}),t.qZA(),t.TgZ(15,"mat-autocomplete",null,84),t.YNc(17,eu,2,1,"ng-container",58),t.YNc(18,nu,3,1,"mat-option",45),t.YNc(19,ou,2,0,"mat-option",46),t.qZA()()()(),t.TgZ(20,"td"),t._UZ(21,"input",70),t.qZA(),t.TgZ(22,"td"),t._UZ(23,"input",85),t.qZA(),t.TgZ(24,"td"),t._UZ(25,"input",72),t.qZA(),t.TgZ(26,"td"),t._UZ(27,"input",86),t.qZA()(),t.BQk()}if(2&o){const e=r.index,n=t.MAs(16),i=t.oxw(2).index,a=t.oxw(3);let s;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(2),t.Oqu(e+1+"."),t.xp6(7),t.Q6J("ngIf",a.isLastDebitNote(i,e)),t.xp6(4),t.Q6J("formControl",a.debitNoteControl.at(e))("matAutocomplete",n),t.xp6(3),t.Q6J("ngForOf",a.filterdebitNote),t.xp6(1),t.Q6J("ngIf",0===(null==a.filterdebitNote?null:a.filterdebitNote.length)),t.xp6(1),t.Q6J("ngIf",(null==(s=a.debitNoteControl.at(i))||null==s.value?null:s.value.length)<1)}}function ru(o,r){if(1&o&&(t.TgZ(0,"div",81)(1,"table",54)(2,"thead")(3,"tr")(4,"th"),t._uU(5,"#"),t.qZA(),t._UZ(6,"th"),t.TgZ(7,"th"),t._uU(8,"Debit Note"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Original Amount"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Redeem Amount"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Pending Amount"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Amount"),t.qZA()()(),t.TgZ(17,"tbody"),t.ynx(18,82),t.YNc(19,iu,28,8,"ng-container",58),t.BQk(),t.qZA()()()),2&o){const e=t.oxw().index,n=t.oxw(3);t.xp6(19),t.Q6J("ngForOf",n.getDebitNoteCartForm(e).controls)}}function au(o,r){if(1&o){const e=t.EpF();t.ynx(0)(1,60),t.TgZ(2,"tr")(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div")(7,"div",61),t.O4$(),t.TgZ(8,"svg",62),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(3);return t.KtG(s.removeCartBank(a))}),t._UZ(9,"path",63)(10,"path",64),t.qZA()(),t.YNc(11,Qd,3,0,"svg",65),t.qZA()(),t.kcU(),t.TgZ(12,"td")(13,"div",66)(14,"mat-form-field",12)(15,"input",67),t.NdJ("input",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.getFilter(i.target.value))}),t.qZA(),t.TgZ(16,"mat-autocomplete",null,84),t.YNc(18,Bd,2,1,"ng-container",58),t.YNc(19,$d,3,1,"mat-option",45),t.YNc(20,Rd,2,0,"mat-option",46),t.qZA()()(),t.YNc(21,Hd,2,0,"span",69),t.qZA(),t.TgZ(22,"td"),t._UZ(23,"input",70),t.YNc(24,Gd,2,0,"span",69),t.qZA(),t.TgZ(25,"td"),t._UZ(26,"input",71),t.YNc(27,Kd,2,0,"span",69),t.qZA(),t.TgZ(28,"td"),t._UZ(29,"input",72),t.YNc(30,jd,2,0,"span",69),t.qZA(),t.TgZ(31,"td"),t._UZ(32,"input",73),t.YNc(33,zd,2,0,"span",69),t.qZA()(),t.TgZ(34,"tr"),t._UZ(35,"td")(36,"td"),t.TgZ(37,"td",74),t.YNc(38,Wd,2,0,"span",56),t.YNc(39,ru,20,1,"div",75),t.qZA()(),t.BQk()()}if(2&o){const e=r.index,n=t.MAs(17),i=t.oxw(3);let a;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.Oqu(e+1+"."),t.xp6(7),t.Q6J("ngIf",i.isLastCartBank(e)),t.xp6(4),t.Q6J("formControl",i.myControls.at(e))("matAutocomplete",n),t.xp6(3),t.Q6J("ngForOf",i.filterPurchaseBill),t.xp6(1),t.Q6J("ngIf",0===(null==i.filterPurchaseBill?null:i.filterPurchaseBill.length)),t.xp6(1),t.Q6J("ngIf",(null==(a=i.myControls.at(e))||null==a.value?null:a.value.length)<1),t.xp6(1),t.Q6J("ngIf",i.sale_bill1(e)&&i.sale_bill1(e).invalid&&i.sale_bill1(e).touched),t.xp6(3),t.Q6J("ngIf",i.original_amount1(e)&&i.original_amount1(e).invalid&&i.original_amount1(e).touched),t.xp6(3),t.Q6J("ngIf",i.paid_amount1(e)&&i.paid_amount1(e).invalid&&i.paid_amount1(e).touched),t.xp6(3),t.Q6J("ngIf",i.pending_amount1(e)&&i.pending_amount1(e).invalid&&i.pending_amount1(e).touched),t.xp6(3),t.Q6J("ngIf",i.payment1(e)&&i.payment1(e).invalid&&i.payment1(e).touched),t.xp6(5),t.Q6J("ngIf",!i.isDebitNoteCart[e]),t.xp6(1),t.Q6J("ngIf",i.isDebitNoteCart[e])}}function su(o,r){if(1&o&&(t.TgZ(0,"div",52)(1,"div",2)(2,"div",9)(3,"div",53)(4,"table",54)(5,"thead")(6,"tr")(7,"th"),t._uU(8,"#"),t.qZA(),t._UZ(9,"th"),t.TgZ(10,"th"),t._uU(11,"Purchase Bill"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Original Amount"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Paid Amount"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Pending Amount"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Payment"),t.qZA()(),t.TgZ(20,"tr")(21,"th",55),t.YNc(22,Yd,2,0,"span",56),t.qZA()()(),t.TgZ(23,"tbody"),t.ynx(24,57),t.YNc(25,au,40,15,"ng-container",58),t.BQk(),t.qZA()()()()()()),2&o){const e=t.oxw(2);t.xp6(22),t.Q6J("ngIf",e.isCartBank),t.xp6(3),t.Q6J("ngForOf",e.getCartBank().controls)}}function lu(o,r){1&o&&(t.TgZ(0,"button",88),t._uU(1,"Submit"),t.qZA())}function cu(o,r){1&o&&(t.TgZ(0,"button",89),t._UZ(1,"span",90),t._uU(2," \xa0 Submit"),t.qZA())}function du(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onBankSubmit())}),t.TgZ(3,"div",4)(4,"div",5)(5,"input",91),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.toggleCash())}),t.qZA(),t.TgZ(6,"label",7),t._uU(7,"Cash"),t.qZA()(),t.TgZ(8,"div",5)(9,"input",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.toggleBank())}),t.qZA(),t.TgZ(10,"label",7),t._uU(11,"Bank"),t.qZA()()(),t.TgZ(12,"div",9)(13,"div",92)(14,"div",11)(15,"label"),t._uU(16,"Supplier*"),t.qZA(),t.TgZ(17,"mat-form-field",12),t._UZ(18,"input",13),t.TgZ(19,"mat-autocomplete",null,93),t.YNc(21,xd,2,2,"mat-option",15),t.ALo(22,"async"),t.YNc(23,Pd,3,2,"ng-container",16),t.ALo(24,"async"),t.qZA()(),t.YNc(25,qd,2,0,"span",17),t.qZA()(),t.TgZ(26,"div",94)(27,"div",11)(28,"label"),t._uU(29,"Date"),t.qZA(),t._UZ(30,"input",19),t.YNc(31,Nd,2,0,"span",17),t.qZA()(),t.TgZ(32,"div",94)(33,"div",11)(34,"label"),t._uU(35,"Transaction Date"),t.qZA(),t._UZ(36,"input",95),t.YNc(37,Id,2,0,"span",17),t.qZA()(),t.TgZ(38,"div",94)(39,"div",11)(40,"label"),t._uU(41,"Transaction Id"),t.qZA(),t._UZ(42,"input",96),t.YNc(43,Od,2,0,"span",17),t.qZA()(),t.TgZ(44,"div",94)(45,"div",11)(46,"div",97),t._UZ(47,"input",98),t.TgZ(48,"label",7),t._uU(49,"Online"),t.qZA()()()(),t.TgZ(50,"div",20)(51,"div",11)(52,"div",9)(53,"div",21)(54,"div",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setRadioValue1("On Account"))}),t.TgZ(55,"div",2)(56,"div",23),t._UZ(57,"input",24),t.TgZ(58,"label",25),t._uU(59,"On Account"),t.qZA()(),t.TgZ(60,"span",26),t._uU(61,"Upfront Payment"),t.qZA()()()(),t.TgZ(62,"div",21)(63,"div",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setRadioValue1("Advance Payment"))}),t.TgZ(64,"div",2)(65,"div",23),t._UZ(66,"input",27),t.TgZ(67,"label",28),t._uU(68,"Advance Payment"),t.qZA()(),t.TgZ(69,"span",29),t._uU(70,"Will be offset by upcoming bills"),t.qZA()()()(),t.TgZ(71,"div",21)(72,"div",99),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setRadioValue1("Against Bill"))}),t.TgZ(73,"div",2)(74,"div",23),t._UZ(75,"input",30),t.TgZ(76,"label",31),t._uU(77,"Against Bill"),t.qZA()(),t.TgZ(78,"span",29),t._uU(79,"Offset against Current Bills"),t.qZA()()()(),t.YNc(80,Ud,2,0,"span",17),t.qZA()()(),t.TgZ(81,"div",21)(82,"div",11)(83,"label"),t._uU(84,"Payment Voucher Series"),t.qZA(),t.TgZ(85,"select",32)(86,"option",33),t._uU(87,"Select Payment Voucher Series"),t.qZA(),t.YNc(88,kd,2,2,"option",34),t.qZA(),t.YNc(89,Md,2,0,"span",17),t.qZA()(),t.TgZ(90,"div",21)(91,"div",11)(92,"label"),t._uU(93,"Amount"),t.qZA(),t._UZ(94,"input",100),t.YNc(95,wd,2,0,"span",17),t.qZA()(),t.TgZ(96,"div",21)(97,"div",11)(98,"label"),t._uU(99,"Payment Account*"),t.qZA(),t.TgZ(100,"mat-form-field",12),t._UZ(101,"input",36),t.TgZ(102,"mat-autocomplete",null,101),t.YNc(104,Sd,2,2,"mat-option",15),t.ALo(105,"async"),t.YNc(106,Jd,3,2,"ng-container",16),t.ALo(107,"async"),t.qZA()(),t.YNc(108,Dd,2,0,"span",17),t.qZA()(),t.TgZ(109,"div",21)(110,"div",11)(111,"label"),t._uU(112,"Description"),t.qZA(),t._UZ(113,"textarea",38),t.YNc(114,Vd,2,0,"span",17),t.qZA()(),t.YNc(115,su,26,2,"div",39),t.TgZ(116,"div",40),t.YNc(117,lu,2,0,"button",41),t.YNc(118,cu,3,0,"button",42),t.TgZ(119,"button",43),t._uU(120,"Cancel"),t.qZA()()()()()()}if(2&o){const e=t.MAs(20),n=t.MAs(103),i=t.oxw();t.xp6(2),t.Q6J("formGroup",i.paymentVoucherBankForm),t.xp6(3),t.Q6J("id","checkboxCash"),t.xp6(1),t.Q6J("for","checkboxCash"),t.xp6(3),t.Q6J("id","checkbox-Bnak")("value","Bank"),t.xp6(1),t.Q6J("for","checkbox-Bnak"),t.xp6(8),t.Q6J("formControl",i.supplierControl)("matAutocomplete",e)("ngClass",t.VKq(52,X,i.g.supplier.touched&&i.g.supplier.invalid)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(22,44,i.filteredsupplier)),t.xp6(2),t.Q6J("ngIf",t.lcZ(24,46,i.filteredsupplier)),t.xp6(2),t.Q6J("ngIf",i.Supplier&&i.Supplier.invalid&&i.Supplier.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(54,X,i.g.date.touched&&i.g.date.invalid)),t.uIk("min",i.bankMinDate)("max",i.bankMaxDate),t.xp6(1),t.Q6J("ngIf",i.date1&&i.date1.invalid&&i.date1.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(56,X,i.g.transaction_date.touched&&i.g.transaction_date.invalid)),t.uIk("min",i.transactionMinDate)("max",i.transactionMaxDate),t.xp6(1),t.Q6J("ngIf",i.transaction_date&&i.transaction_date.invalid&&i.transaction_date.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(58,X,i.g.transaction_id.touched&&i.g.transaction_id.invalid)),t.xp6(1),t.Q6J("ngIf",i.transaction_id&&i.transaction_id.invalid&&i.transaction_id.touched),t.xp6(4),t.Q6J("id","checkboxMeasure-")("value","Online"),t.xp6(1),t.Q6J("for","checkboxMeasure-"),t.xp6(9),t.Q6J("value","On Account"),t.xp6(9),t.Q6J("value","Advance Payment"),t.xp6(9),t.Q6J("value","Against Bill"),t.xp6(5),t.Q6J("ngIf",i.mode_type1&&i.mode_type1.invalid&&i.mode_type1.touched),t.xp6(8),t.Q6J("ngForOf",i.prefixNo),t.xp6(1),t.Q6J("ngIf",i.payment_voucher_no1&&i.payment_voucher_no1.invalid&&i.payment_voucher_no1.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(60,X,i.g.amount.touched&&i.g.amount.invalid)),t.xp6(1),t.Q6J("ngIf",i.amount1&&i.amount1.invalid&&i.amount1.touched),t.xp6(6),t.Q6J("formControl",i.payerControl)("matAutocomplete",n)("ngClass",t.VKq(62,X,i.g.payment_account.touched&&i.g.payment_account.invalid)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(105,48,i.filteredPayer)),t.xp6(2),t.Q6J("ngIf",t.lcZ(107,50,i.filteredPayer)),t.xp6(2),t.Q6J("ngIf",i.payer1&&i.payer1.invalid&&i.payer1.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(64,X,i.g.note.touched&&i.g.note.invalid)),t.xp6(1),t.Q6J("ngIf",i.description1&&i.description1.invalid&&i.description1.touched),t.xp6(1),t.Q6J("ngIf",i.isAgainstBillBank),t.xp6(2),t.Q6J("ngIf",!i.loaders),t.xp6(1),t.Q6J("ngIf",i.loaders)}}let uu=(()=>{class o{constructor(e,n,i,a,s,c){this.fb=e,this.toastr=n,this.router=i,this.transactionService=a,this.commonService=s,this.posCartService=c,this.supplierControl=new l.NI,this.payerControl=new l.NI,this.saleBillControl=new l.NI,this.modalClose=new t.vpe,this.minDate="",this.maxDate="",this.bankMinDate="",this.bankMaxDate="",this.transactionMinDate="",this.transactionMaxDate="",this.isCart=!1,this.isCartBank=!1,this.isAgainstBill=!1,this.isAgainstBillBank=!1,this.isDebitNoteCart=[],this.isDebitNoteCart1=[],this.supplierList=[],this.accountList=[],this.purchaseBillList=[],this.filterPurchaseBill=[],this.debitNoteList=[],this.filterdebitNote=[],this.isBank=!1,this.isCash=!0,this.loaders=!1}get h(){return this.paymentVoucherForm.controls}get g(){return this.paymentVoucherBankForm.controls}ngOnInit(){const e=(new Date).toISOString().split("T")[0];this.myControls=new l.Oe([]),this.debitNoteControl=new l.Oe([]),this.paymentVoucherForm=this.fb.group({payment_type:new l.NI("Cash"),supplier:new l.NI("",[l.kI.required]),payment_account:new l.NI("",[l.kI.required]),date:new l.NI(e),payment_voucher_no:new l.NI(""),mode_type:new l.NI(""),amount:new l.NI(0),note:new l.NI(""),payment_voucher_cart:this.fb.array([])}),this.paymentVoucherBankForm=this.fb.group({payment_type:new l.NI("Bank"),supplier:new l.NI("",[l.kI.required]),payment_account:new l.NI("",[l.kI.required]),date:new l.NI(e),payment_voucher_no:new l.NI(""),mode_type:new l.NI(""),amount:new l.NI(0),note:new l.NI(""),bank_payment:new l.NI(""),transaction_id:new l.NI(""),transaction_date:new l.NI(e),payment_voucher_cart:this.fb.array([])}),this.filteredsupplier=this.supplierControl.valueChanges.pipe((0,C.O)(""),(0,G.U)(i=>this._filter(i,!0)));const n=localStorage.getItem("financialYear");this.dateValidation(n),this.bankDateValidation(n),this.bankTransactionDateValidation(n),this.supplierControl.valueChanges.subscribe(i=>{i.length>=3?this.getSupplier(i):(this.supplierList=[],this.filteredsupplier=this.supplierControl.valueChanges.pipe((0,C.O)(""),(0,G.U)(a=>this._filter(a,!0))))}),this.filteredPayer=this.payerControl.valueChanges.pipe((0,C.O)(""),(0,G.U)(i=>this._filterr(i,!0))),this.getAccount(),this.getPurchaseBill(),this.getDebitNote(),this.getprefix()}dateValidation(e){const n=this.paymentVoucherForm.get("date"),{formattedMinDate:i,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.minDate=i,this.maxDate=a}bankDateValidation(e){const n=this.paymentVoucherBankForm.get("date"),{formattedMinDate:i,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.bankMinDate=i,this.bankMaxDate=a}bankTransactionDateValidation(e){const n=this.paymentVoucherBankForm.get("transaction_date"),{formattedMinDate:i,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.transactionMinDate=i,this.transactionMaxDate=a}getprefix(){this.transactionService.getPaymentVoucherPrefix().subscribe(e=>{console.log(e),e.success?(this.prefixNo=e?.data,this.paymentVoucherForm.get("payment_voucher_no").patchValue(this.prefixNo[0]?.id),this.paymentVoucherBankForm.get("payment_voucher_no").patchValue(this.prefixNo[0]?.id)):this.toastr.error(e.msg)},e=>{this.toastr.error(e.error.msg)})}cart(){return this.fb.group({purchase_bill:new l.NI(0),original_amount:new l.NI(0),paid_amount:new l.NI(0),pending_amount:new l.NI(0),payment:new l.NI(0),debit_note_cart:this.fb.array([])})}getCart(){return this.paymentVoucherForm.get("payment_voucher_cart")}addCart(){this.getCart().push(this.cart()),this.myControls.push(new l.NI("")),this.isCart=!1}removeCart(e){this.getCart().removeAt(e),0==this.paymentVoucherForm?.value?.payment_voucher_cart?.length&&(this.isCart=!0)}debitNoteIntoCart(){return this.fb.group({debit_note:new l.NI(0),original_amount:new l.NI(0),redeem_amount:new l.NI(0),pending_amount:new l.NI(0),amount:new l.NI(0)})}getDebitNoteCartForm1(e){return this.getCart().at(e).get("debit_note_cart")}addDebitNoteCartForm1(e){this.getDebitNoteCartForm1(e).push(this.debitNoteIntoCart()),this.debitNoteControl.push(new l.NI(""))}removeDebitNoteForm1(e,n){this.getDebitNoteCartForm1(e).removeAt(n),0==this.paymentVoucherForm?.value?.payment_voucher_cart[e]?.debit_note_cart?.length&&(this.isDebitNoteCart1[e]=!1)}getCartBank(){return this.paymentVoucherBankForm.get("payment_voucher_cart")}addCartBank(){this.getCartBank().push(this.cart()),this.myControls.push(new l.NI("")),this.isCartBank=!1}removeCartBank(e){this.getCartBank().removeAt(e),0==this.paymentVoucherBankForm?.value?.payment_voucher_cart?.length&&(this.isCartBank=!0)}getDebitNoteCartForm(e){return this.getCartBank().at(e).get("debit_note_cart")}addDebitNoteCartForm(e){this.getDebitNoteCartForm(e).push(this.debitNoteIntoCart()),this.debitNoteControl.push(new l.NI(""))}removeDebitNoteForm(e,n){this.getDebitNoteCartForm(e).removeAt(n),0==this.paymentVoucherBankForm?.value?.payment_voucher_cart[e]?.debit_note_cart?.length&&(this.isDebitNoteCart[e]=!1)}setRadioValue(e){this.paymentVoucherForm.get("mode_type").setValue(e),"Against Bill"==e?(this.isAgainstBill=!0,this.paymentVoucherForm.get("payment_voucher_cart").clear(),this.addCart()):this.isAgainstBill=!1}setRadioValue1(e){this.paymentVoucherBankForm.get("mode_type").setValue(e),"Against Bill"==e?(this.isAgainstBillBank=!0,this.paymentVoucherBankForm.get("payment_voucher_cart").clear(),this.addCartBank()):this.isAgainstBillBank=!1}isLastCart(e){return e===this.getCart().controls.length-1}isLastCartBank(e){return e===this.getCartBank().controls.length-1}isLastDebitNote(e,n){return n===this.getCartBank().at(e).get("debit_note_cart").length-1}isLastDebitNote1(e,n){return n===this.getCart().at(e).get("debit_note_cart").length-1}debitNoteCartIndex(e){this.isDebitNoteCart[e]=!0,this.addDebitNoteCartForm(e)}debitNoteCartIndex1(e){this.isDebitNoteCart1[e]=!0,this.addDebitNoteCartForm1(e)}getSupplier(e){this.transactionService.getSupplier(e).pipe((0,St.b)(2e3)).subscribe(n=>{this.supplierList=n,this.filteredsupplier=this.supplierControl.valueChanges.pipe((0,C.O)(""),(0,G.U)(i=>this._filter(i,!0)))})}getAccount(){this.transactionService.getAccount().subscribe(e=>{this.accountList=e})}getPurchaseBill(){this.transactionService.getPurchaseBill().subscribe(e=>{this.purchaseBillList=e,this.filterPurchaseBill=e})}getFilter(e){this.filterPurchaseBill=this.purchaseBillList.filter(n=>!(!n||!n?.refrence_bill_no)&&n?.refrence_bill_no.toLowerCase().includes(e)),console.log(this.filterPurchaseBill)}getDebitNote(){this.transactionService.getDebitNote().subscribe(e=>{this.debitNoteList=e,this.filterdebitNote=e})}getFilterDebit(e){this.filterdebitNote=this.debitNoteList.filter(n=>!(!n||!n?.debit_note_no)&&n?.debit_note_no?.toLowerCase().includes(e)),console.log(this.filterdebitNote)}_filter(e,n){const i="string"==typeof e?e?.toLowerCase():e?.toString().toLowerCase(),a=this.supplierList.filter(n?s=>s.name.toLowerCase().includes(i)||s.company_name.toLowerCase().includes(i):s=>!(s.name.toLowerCase().includes(i)||s.company_name.toLowerCase().includes(i)));return!n&&0===a.length&&a.push({name:"No data found"}),a}_filterr(e,n){const i="string"==typeof e?e.toLowerCase():e.toString().toLowerCase(),a=this.accountList.filter(n?s=>s?.account_id?.toLowerCase().includes(i):s=>!s?.account_id?.toLowerCase().includes(i));return!n&&0===a.length&&a.push({account:"No data found"}),a}get supplier(){return this.paymentVoucherForm.get("supplier")}oncheck(e){this.paymentVoucherForm.patchValue({supplier:e.id})}oncheck1(e){this.paymentVoucherForm.patchValue({payment_account:e.id})}oncheck3(e,n){console.log(e),this.paymentVoucherForm.get("payment_voucher_cart").at(n).patchValue({purchase_bill:e?.id,original_amount:e?.total||0,paid_amount:e?.paid_amount||0,pending_amount:e?.pending_amount||0})}oncheckBankDebit1(e,n,i){this.paymentVoucherForm.get("payment_voucher_cart").at(n).get("debit_note_cart").at(i).patchValue({debit_note:e?.id,original_amount:e?.total||0,redeem_amount:e?.redeem_amount||0,pending_amount:e?.pending_amount||0})}oncheckBank(e){this.paymentVoucherBankForm.patchValue({supplier:e.id})}oncheckBank1(e){this.paymentVoucherBankForm.patchValue({payment_account:e.id})}oncheckBank3(e,n){this.paymentVoucherBankForm.get("payment_voucher_cart").at(n).patchValue({purchase_bill:e?.id,original_amount:e?.total||0,paid_amount:e?.paid_amount||0,pending_amount:e?.pending_amount||0})}oncheckBankDebit2(e,n,i){this.paymentVoucherBankForm.get("payment_voucher_cart").at(n).get("debit_note_cart").at(i).patchValue({debit_note:e?.id,original_amount:e?.total||0,redeem_amount:e?.redeem_amount||0,pending_amount:e?.pending_amount||0})}toggleBank(){this.isBank=!0,this.isCash=!1,this.supplierControl.reset(),this.payerControl.reset()}toggleCash(){this.isBank=!1,this.isCash=!0,this.supplierControl.reset(),this.payerControl.reset()}onSubmit(){if(console.log(this.paymentVoucherForm.value),this.paymentVoucherForm.valid){const e=new FormData;e.append("payment_type",this.paymentVoucherForm.get("payment_type")?.value),e.append("supplier",this.paymentVoucherForm.get("supplier")?.value),e.append("date",this.paymentVoucherForm.get("date")?.value),e.append("payment_voucher_no",this.paymentVoucherForm.get("payment_voucher_no")?.value),e.append("mode_type",this.paymentVoucherForm.get("mode_type")?.value),e.append("amount",this.paymentVoucherForm.get("amount")?.value),e.append("note",this.paymentVoucherForm.get("note")?.value),e.append("payment_account",this.paymentVoucherForm.get("payment_account")?.value);const n=this.paymentVoucherForm.get("payment_voucher_cart"),i=[];n.controls.forEach(a=>{const s=a,c={};Object.keys(s.controls).forEach(_=>{const g=s.controls[_];c[_]=isNaN(g.value)?g.value:parseFloat(g.value)});const d=s.get("debit_note_cart"),p=[];d.controls.forEach(_=>{const g=_,v={};Object.keys(g.controls).forEach(f=>{const x=g.controls[f];v[f]=isNaN(x.value)?x.value:parseFloat(x.value)}),p.push(v)}),c.debit_note_cart=p,i.push(c)}),e.append("payment_voucher_cart",JSON.stringify(i)),this.loaders=!0,this.posCartService.addPosPaymentVoucher(e).subscribe(a=>{this.loaders=!1,a.success?(this.toastr.success(a.msg),this.paymentVoucherForm.reset(),this.payerControl.setValue(""),this.supplierControl.setValue(""),this.modalClose.next(new Date)):(this.loaders=!1,this.toastr.error(a.msg),a.error.amount&&this.toastr.error(a.error.amount[0]))},a=>{this.loaders=!1})}else this.paymentVoucherForm.markAllAsTouched(),this.toastr.error("Please Fill All The Required Fields")}onBankSubmit(){if(console.log(this.paymentVoucherBankForm.value),this.paymentVoucherBankForm.valid){const e=new FormData;e.append("payment_type",this.paymentVoucherBankForm.get("payment_type")?.value),e.append("supplier",this.paymentVoucherBankForm.get("supplier")?.value),e.append("date",this.paymentVoucherBankForm.get("date")?.value),e.append("payment_voucher_no",this.paymentVoucherBankForm.get("payment_voucher_no")?.value),e.append("mode_type",this.paymentVoucherBankForm.get("mode_type")?.value),e.append("amount",this.paymentVoucherBankForm.get("amount")?.value),e.append("note",this.paymentVoucherBankForm.get("note")?.value),e.append("payment_account",this.paymentVoucherBankForm.get("payment_account")?.value),e.append("bank_payment",this.paymentVoucherBankForm.get("bank_payment")?.value),e.append("transaction_id",this.paymentVoucherBankForm.get("transaction_id")?.value),e.append("transaction_date",this.paymentVoucherBankForm.get("transaction_date")?.value);const n=this.paymentVoucherBankForm.get("payment_voucher_cart"),i=[];n.controls.forEach(a=>{const s=a,c={};Object.keys(s.controls).forEach(_=>{const g=s.controls[_];c[_]=isNaN(g.value)?g.value:parseFloat(g.value)});const d=s.get("debit_note_cart"),p=[];d.controls.forEach(_=>{const g=_,v={};Object.keys(g.controls).forEach(f=>{const x=g.controls[f];v[f]=isNaN(x.value)?x.value:parseFloat(x.value)}),p.push(v)}),c.debit_note_cart=p,i.push(c)}),e.append("payment_voucher_cart",JSON.stringify(i)),this.loaders=!0,this.transactionService.addPaymentVoucher(e).subscribe(a=>{this.loaders=!1,a.success?(this.toastr.success(a.msg),this.paymentVoucherBankForm.reset(),this.payerControl.setValue(""),this.supplierControl.setValue(""),this.modalClose.next(new Date)):(this.loaders=!1,this.toastr.error(a.msg),a.error.amount&&this.toastr.error(a.error.amount[0]))},a=>{this.loaders=!1})}else console.log("invalid"),this.paymentVoucherBankForm.markAllAsTouched(),this.toastr.error("Please Fill All The Required Fields")}get Supplier(){return this.paymentVoucherBankForm.get("supplier")}get date1(){return this.paymentVoucherBankForm.get("date")}get payer1(){return this.paymentVoucherBankForm.get("payment_account")}get amount1(){return this.paymentVoucherBankForm.get("amount")}get description1(){return this.paymentVoucherBankForm.get("note")}get payment_voucher_no1(){return this.paymentVoucherBankForm.get("payment_voucher_no")}get mode_type1(){return this.paymentVoucherBankForm.get("mode_type")}sale_bill1(e){return this.getCartBank().controls[e].get("purchase_bill")}original_amount1(e){return this.getCartBank().controls[e].get("original_amount")}paid_amount1(e){return this.getCartBank().controls[e].get("paid_amount")}pending_amount1(e){return this.getCartBank().controls[e].get("pending_amount")}payment1(e){return this.getCartBank().controls[e].get("payment")}get bank_payment(){return this.paymentVoucherBankForm.get("bank_payment")}get transaction_id(){return this.paymentVoucherBankForm.get("transaction_id")}get transaction_date(){return this.paymentVoucherBankForm.get("transaction_date")}get Supplier1(){return this.paymentVoucherForm.get("supplier")}get date(){return this.paymentVoucherForm.get("date")}get payer(){return this.paymentVoucherForm.get("payment_account")}get amount(){return this.paymentVoucherForm.get("amount")}get description(){return this.paymentVoucherForm.get("note")}get payment_voucher_no(){return this.paymentVoucherForm.get("payment_voucher_no")}get mode_type(){return this.paymentVoucherForm.get("mode_type")}sale_bill(e){return this.getCart().controls[e].get("purchase_bill")}original_amount(e){return this.getCart().controls[e].get("original_amount")}paid_amount(e){return this.getCart().controls[e].get("paid_amount")}pending_amount(e){return this.getCart().controls[e].get("pending_amount")}payment(e){return this.getCart().controls[e].get("payment")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(ve._W),t.Y36(E.F0),t.Y36(fe.p),t.Y36(Ge.R),t.Y36(Wt))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-pos-add-payment-voucher"]],outputs:{modalClose:"modalClose"},decls:2,vars:2,consts:[["class","card border-0",4,"ngIf"],[1,"card","border-0"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"d-flex","mb-5"],[1,"d-flex","mx-3"],["type","radio","formControlName","payment_type",3,"id","value","click"],[1,"d_flex",2,"margin-bottom","0","margin-left","5px",3,"for"],["type","radio",3,"id","value","click"],[1,"row"],[1,"col-lg-4","col-md-6","col-12"],[1,"form-group"],[1,"w-100",2,"padding","0","width","100%","min-width","100%","border-top","none"],["type","text","placeholder","Search Customer","aria-label","Customer","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","ngClass"],["auto","matAutocomplete"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"col-lg-4","col-sm-4","col-12"],["type","date","formControlName","date","id","date",3,"ngClass"],[1,"col-lg-12","col-sm-12","col-12"],[1,"col-sm-4","col-12"],[1,"card","mb-0","h-100",3,"click"],[1,"d-flex"],["type","radio","formControlName","mode_type","id","on-account-radio",3,"value"],["for","on-account-radio",1,"d_flex",2,"margin-bottom","0","margin-left","15px"],[2,"margin-left","33px","font-size","12px"],["type","radio","formControlName","mode_type","id","advance-payment-radio",3,"value"],["for","advance-payment-radio",1,"d_flex",2,"margin-bottom","0","margin-left","15px"],[2,"font-size","12px"],["type","radio","formControlName","mode_type","id","against-bill-radio",3,"value"],["for","against-bill-radio",1,"d_flex",2,"margin-bottom","0","margin-left","15px"],["formControlName","payment_voucher_no"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","amount","id","amount","placeholder","Enter Amount",3,"ngClass"],["type","text","placeholder","Search Payment Account","aria-label","payment_account","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","ngClass"],["Payerauto","matAutocomplete"],["formControlName","note","placeholder","Enter Description",3,"ngClass"],["class","card",4,"ngIf"],[1,"col-lg-12"],["class","btn btn-submit me-2",4,"ngIf"],["class","btn btn-submit me-2","type","submit","disabled","",4,"ngIf"],["routerLink","//transaction/paymentVoucherList","type","button",1,"btn","btn-cancel"],[2,"color","#FF9F43",3,"value","onSelectionChange"],[3,"value",4,"ngIf"],["class","is-loading",4,"ngIf"],[3,"value"],["routerLink","//contacts/addSupplier",2,"color","#FF9F43"],[1,"is-loading"],[1,"text-danger"],["routerLink","//account/accountlist",2,"color","#FF9F43"],[1,"card"],[1,"table-responsive"],[1,"table","datanew"],["colspan","2"],["class","debitIntoCart",3,"click",4,"ngIf"],["formArrayName","payment_voucher_cart"],[4,"ngFor","ngForOf"],[1,"debitIntoCart",3,"click"],[3,"formGroupName"],[1,"me-2"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-circle",2,"color","red",3,"click"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],["style","color:green","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","class","bi bi-plus-circle","viewBox","0 0 16 16",3,"click",4,"ngIf"],[1,"form-group",2,"margin-bottom","-1%"],["type","text","placeholder","Search purchaseBill","aria-label","Search purchaseBills","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","input"],["autos","matAutocomplete"],["class","text-danger","style","display: block;",4,"ngIf"],["type","number","formControlName","original_amount",1,"input"],["type","number","formControlName","paid_amount",1,"input"],["type","number","formControlName","pending_amount",1,"input"],["type","number","formControlName","payment",1,"input"],["colspan","5"],["class","table-responsive","style","border:1px solid #FF9F43;",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-circle",2,"color","green",3,"click"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngIf"],["routerLink","//purchase/goodsReceivedNote-list",2,"color","#FF9F43"],[1,"text-danger",2,"display","block"],[1,"table-responsive",2,"border","1px solid #FF9F43"],["formArrayName","debit_note_cart"],["type","text","placeholder","Search Debit Note","aria-label","Search debitNote","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","input"],["autosBankCart","matAutocomplete"],["type","number","formControlName","redeem_amount",1,"input"],["type","number","formControlName","amount",1,"input"],["routerLink","//transaction/adddebitnote",2,"color","#FF9F43"],[1,"btn","btn-submit","me-2"],["type","submit","disabled","",1,"btn","btn-submit","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","radio",3,"id","click"],[1,"col-lg-3","col-md-6","col-12"],["autobank","matAutocomplete"],[1,"col-lg-3","col-sm-4","col-12"],["type","date","formControlName","transaction_date","id","transaction_date",3,"ngClass"],["type","text","formControlName","transaction_id","placeholder","Enter Transaction Id","id","transaction_id",3,"ngClass"],[1,"d-flex","mt-4"],["type","radio","formControlName","bank_payment",3,"id","value"],[1,"card","m-0","h-100",3,"click"],["type","number","formControlName","amount","placeholder","Enter Amount","id","amount",3,"ngClass"],["Payerautobank","matAutocomplete"]],template:function(e,n){1&e&&(t.YNc(0,bd,103,54,"div",0),t.YNc(1,du,121,66,"div",0)),2&e&&(t.Q6J("ngIf",n.isCash),t.xp6(1),t.Q6J("ngIf",n.isBank))},dependencies:[P.mk,P.sg,P.O5,E.rH,E.yS,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l._,l.JJ,l.JL,l.oH,l.sg,l.u,l.x0,l.CE,nt.XC,nt.ZL,ye.ey,Ce.KE,Ae.Nt,P.Ov],styles:[".ng-dirty.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}.select[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:40%;font-size:14px;font-weight:500;color:#637381;padding:10px 8px;border-radius:5px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.cdk-overlay-pane[_ngcontent-%COMP%]{width:300.85px!important}a[_ngcontent-%COMP%]{text-decoration:none;color:#ff9f43}@media (max-width: 1023px){h5[_ngcontent-%COMP%]{font-size:13px}}.table[_ngcontent-%COMP%]   th.product-name[_ngcontent-%COMP%]{width:40%}.table[_ngcontent-%COMP%]   th.qty[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th.mrp[_ngcontent-%COMP%]{width:10%}.form-control[_ngcontent-%COMP%]{border-bottom:1px solid #9c9c9c;border-top:none;border-right:none;border-left:none;font-size:15px;color:#606060;border-radius:0;padding-left:2px}.space-text[_ngcontent-%COMP%]{white-space:pre-wrap!important}.circle[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;border-radius:50%;border:1px solid #FF9F43;text-align:center;line-height:16px;color:#ff9f43}.button[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;display:flex;padding:10px 15px;border-radius:5px;justify-content:space-between;align-items:center;background:white}input[type=radio][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#e27005}.debitIntoCart[_ngcontent-%COMP%]{background:#FF9F43;color:#fff;font-size:14px;font-weight:700;padding:5px 10px;transition:all .2s ease}"]}),o})();var _u=A(25062);function pu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",48),t.NdJ("onSelectionChange",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw();return t.KtG(a.oncheckParty(i.id))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("value",(null==e?null:e.name)+" - "+(null==e?null:e.username)),t.xp6(1),t.Oqu((null==e?null:e.name)+" - "+(null==e?null:e.username))}}function mu(o,r){if(1&o&&(t.ynx(0),t.YNc(1,pu,2,2,"mat-option",47),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active)}}function hu(o,r){1&o&&(t.TgZ(0,"mat-option",51)(1,"a",52),t._uU(2,"+ Add Party"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function gu(o,r){1&o&&(t.TgZ(0,"mat-option",53),t._uU(1,"Please Enter 1 or more characters"),t.qZA())}function fu(o,r){if(1&o&&(t.ynx(0),t.YNc(1,hu,3,1,"mat-option",49),t.YNc(2,gu,2,0,"mat-option",50),t.BQk()),2&o){const e=r.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.fromPartyControl.value?null:n.fromPartyControl.value.length)<3)}}function vu(o,r){1&o&&(t.TgZ(0,"span",54),t._uU(1,"Select party "),t.qZA())}function yu(o,r){1&o&&(t.TgZ(0,"span",54),t._uU(1,"Select Expense Date"),t.qZA())}function Cu(o,r){if(1&o&&(t.TgZ(0,"option",51),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.prefix)}}function Au(o,r){1&o&&(t.TgZ(0,"span",54),t._uU(1,"Enter Expence Voucher Series"),t.qZA())}function bu(o,r){1&o&&(t.TgZ(0,"span",54),t._uU(1,"Enter Refrence Bill No."),t.qZA())}function xu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",55),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addCart(0))}),t._uU(1,"Add Cart+"),t.qZA()}}function Zu(o,r){if(1&o){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",76),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw();return t.KtG(a.addCart(i+1))}),t._UZ(1,"path",59)(2,"path",77),t.qZA()}}function Tu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",48),t.NdJ("onSelectionChange",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw().index,s=t.oxw();return t.KtG(s.oncheck(i,a))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.account_id),t.xp6(1),t.Oqu((null==e?null:e.account_id)+" - "+(null==e?null:e.title))}}function Pu(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Tu,2,2,"mat-option",47),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active)}}function qu(o,r){1&o&&(t.TgZ(0,"mat-option",51)(1,"a",78),t._uU(2,"+ Add Account"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function Nu(o,r){1&o&&(t.TgZ(0,"mat-option",53),t._uU(1,"Please Enter 1 or more characters"),t.qZA())}function Iu(o,r){if(1&o&&(t.ynx(0),t.YNc(1,qu,3,1,"mat-option",49),t.YNc(2,Nu,2,0,"mat-option",50),t.BQk()),2&o){const e=r.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.fromAccountControl.value?null:n.fromAccountControl.value.length)<3)}}function Ou(o,r){1&o&&(t.TgZ(0,"span",79),t._uU(1,"Select Account"),t.qZA())}function Uu(o,r){1&o&&(t.TgZ(0,"span",79),t._uU(1,"Select Amount Type"),t.qZA())}function ku(o,r){1&o&&(t.TgZ(0,"span",79),t._uU(1,"Enter Amount"),t.qZA())}function Mu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",80),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw();return t.KtG(a.percentage(i))}),t._uU(1,"%"),t.qZA()}}function wu(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",80),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw();return t.KtG(a.rupees(i))}),t._uU(1,"\u20b9"),t.qZA()}}function Su(o,r){1&o&&(t.TgZ(0,"span",79),t._uU(1,"Enter Discount (ex:1-100)"),t.qZA())}function Eu(o,r){1&o&&(t.TgZ(0,"span",79),t._uU(1,"Enter Tax (ex:1-100)"),t.qZA())}function Fu(o,r){1&o&&(t.TgZ(0,"span",79),t._uU(1,"Enter Tax Value"),t.qZA())}function Ju(o,r){1&o&&(t.TgZ(0,"span",79),t._uU(1,"Enter Total"),t.qZA())}function Du(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",56)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"div")(6,"div",57),t.O4$(),t.TgZ(7,"svg",58),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw();return t.KtG(s.removeCart(a))}),t._UZ(8,"path",59)(9,"path",60),t.qZA()(),t.YNc(10,Zu,3,0,"svg",61),t.qZA()(),t.kcU(),t.TgZ(11,"td")(12,"div",62)(13,"mat-form-field",7),t._UZ(14,"input",63),t.TgZ(15,"mat-autocomplete",null,64),t.YNc(17,Pu,2,1,"ng-container",10),t.ALo(18,"async"),t.YNc(19,Iu,3,2,"ng-container",11),t.ALo(20,"async"),t.qZA()()(),t.YNc(21,Ou,2,0,"span",65),t.qZA(),t.TgZ(22,"td")(23,"select",66)(24,"option",67),t._uU(25,"Service"),t.qZA(),t.TgZ(26,"option",68),t._uU(27,"Product"),t.qZA()(),t.YNc(28,Uu,2,0,"span",65),t.qZA(),t.TgZ(29,"td"),t._UZ(30,"input",69),t.qZA(),t.TgZ(31,"td")(32,"input",70),t.NdJ("blur",function(){const a=t.CHM(e).index,s=t.oxw();return t.KtG(s.calculateTotalEveryIndex(a))}),t.qZA(),t.YNc(33,ku,2,0,"span",65),t.qZA(),t.TgZ(34,"td")(35,"input",71),t.NdJ("blur",function(){const a=t.CHM(e).index,s=t.oxw();return t.KtG(s.calculateTotalEveryIndex(a))}),t.qZA(),t.YNc(36,Mu,2,0,"span",72),t.YNc(37,wu,2,0,"span",72),t.YNc(38,Su,2,0,"span",65),t.qZA(),t.TgZ(39,"td")(40,"input",73),t.NdJ("blur",function(){const a=t.CHM(e).index,s=t.oxw();return t.KtG(s.calculateTotalEveryIndex(a))}),t.qZA(),t.YNc(41,Eu,2,0,"span",65),t.qZA(),t.TgZ(42,"td"),t._UZ(43,"input",74),t.YNc(44,Fu,2,0,"span",65),t.qZA(),t.TgZ(45,"td"),t._UZ(46,"input",75),t.YNc(47,Ju,2,0,"span",65),t.qZA()(),t.BQk()}if(2&o){const e=r.index,n=t.MAs(16),i=t.oxw();t.xp6(1),t.Q6J("formGroupName",e),t.xp6(2),t.Oqu(e+1+"."),t.xp6(7),t.Q6J("ngIf",i.isLastCart(e)),t.xp6(4),t.Q6J("formControl",i.fromAccountControl)("matAutocomplete",n),t.xp6(3),t.Q6J("ngForOf",t.lcZ(18,16,i.filteredFromAccount)),t.xp6(2),t.Q6J("ngIf",t.lcZ(20,18,i.filteredFromAccount)),t.xp6(2),t.Q6J("ngIf",i.account(e)&&i.account(e).invalid&&i.account(e).touched),t.xp6(7),t.Q6J("ngIf",i.service_or_product(e)&&i.service_or_product(e).invalid&&i.service_or_product(e).touched),t.xp6(5),t.Q6J("ngIf",i.amount(e)&&i.amount(e).invalid&&i.amount(e).touched),t.xp6(3),t.Q6J("ngIf",i.isPercentage[e]),t.xp6(1),t.Q6J("ngIf",i.isAmount[e]),t.xp6(1),t.Q6J("ngIf",i.discount(e)&&i.discount(e).invalid&&i.discount(e).touched),t.xp6(3),t.Q6J("ngIf",i.tax(e)&&i.tax(e).invalid&&i.tax(e).touched),t.xp6(3),t.Q6J("ngIf",i.tax_value(e)&&i.tax_value(e).invalid&&i.tax_value(e).touched),t.xp6(3),t.Q6J("ngIf",i.total(e)&&i.total(e).invalid&&i.total(e).touched)}}function Vu(o,r){1&o&&(t.TgZ(0,"span",54),t._uU(1,"Enter note "),t.qZA())}function Yu(o,r){1&o&&(t.TgZ(0,"button",81),t._uU(1,"Submit"),t.qZA())}function Qu(o,r){1&o&&(t.TgZ(0,"button",82),t._UZ(1,"span",83),t._uU(2,"\xa0 Submit"),t.qZA())}const Ke=function(o){return{"is-invalid":o}},Oi=function(o){return{color:o}};let Lu=(()=>{class o{constructor(e,n,i,a,s,c,d){this.fb=e,this.router=n,this.toastrService=i,this.transactionService=a,this.contactService=s,this.commonService=c,this.posCartService=d,this.minDate="",this.maxDate="",this.modalClose=new t.vpe,this.fromAccountControl=new l.NI,this.fromPartyControl=new l.NI,this.accountList=[],this.userList=[],this.isCart=!1,this.dateError=null,this.loaders=!1,this.isPercentage=[],this.isAmount=[],this.taxIntoRupees=[],this.roundOff=0,this.isMinus=!1}get f(){return this.expensevoucherForm.controls}ngOnInit(){const e=(new Date).toISOString().split("T")[0];this.expensevoucherForm=this.fb.group({party:new l.NI("",[l.kI.required]),expense_date:new l.NI(e,[l.kI.required]),expense_no:new l.NI("",[l.kI.required]),refrence_bill_no:new l.NI(""),reverse_charge:new l.NI(""),created_from:new l.NI("POS"),expenses_voucher_cart:this.fb.array([]),tax_amount:new l.NI(0),total_amount:new l.NI(0),round_off:new l.NI(0),net_amount:new l.NI(0),paid_amount:new l.NI(0),status:new l.NI(""),note:new l.NI("")}),this.getAccount(),this.getUser(),this.getprefix(),this.addCart(0),this.filteredFromAccount=this.fromAccountControl.valueChanges.pipe((0,C.O)(""),(0,G.U)(i=>this._filter(i,!0))),this.filteredFromParty=this.fromPartyControl.valueChanges.pipe((0,C.O)(""),(0,G.U)(i=>this._filter2(i,!0)));const n=localStorage.getItem("financialYear");this.dateValidation(n),this.isPercentage[0]=!0,this.isAmount[0]=!1}dateValidation(e){const n=this.expensevoucherForm.get("expense_date"),{formattedMinDate:i,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.minDate=i,this.maxDate=a}getprefix(){this.transactionService.getExpenceVoucherPrefix().subscribe(e=>{console.log(e),e.success?(this.prefixNo=e?.data,this.expensevoucherForm.get("expense_no").patchValue(this.prefixNo[0]?.id)):this.toastr.error(e.msg)},e=>{this.toastrService.error(e.error.msg)})}getAccount(){this.transactionService.getAccount().subscribe(e=>{this.accountList=e})}getUser(){this.contactService.getUser().subscribe(e=>{this.userList=e})}_filter(e,n){const i="string"==typeof e?e.toLowerCase():e.toString().toLowerCase(),a=this.accountList.filter(n?s=>s?.account_id?.toLowerCase().includes(i)||s?.title?.toLowerCase().includes(i):s=>!s?.account_id?.toLowerCase().includes(i)||s?.title?.toLowerCase().includes(i));return!n&&0===a.length&&a.push({account:"No data found"}),a}_filter2(e,n){const i="string"==typeof e?e.toLowerCase():e.toString().toLowerCase(),a=this.userList.filter(n?s=>s?.name?.toLowerCase().includes(i)||s?.username?.toLowerCase().includes(i):s=>!s?.name?.toLowerCase().includes(i)||!s?.username?.toLowerCase().includes(i));return!n&&0===a.length&&a.push({party:"No data found"}),a}oncheck(e,n){this.expensevoucherForm.get("expenses_voucher_cart").at(n).patchValue({account:e?.id})}oncheckParty(e){let n=e;this.expensevoucherForm.get("party")?.patchValue(n)}cart(){return this.fb.group({account:new l.NI("",[l.kI.required]),service_or_product:new l.NI("Service"),amount:new l.NI(0,[l.kI.required]),discount:new l.NI(0,[l.kI.required,l.kI.pattern(/^(100|[0-9]{1,2})$/)]),tax:new l.NI(0,[l.kI.pattern(/^(100|[0-9]{1,2})$/)]),tax_value:new l.NI(0),total:new l.NI(0),description:""})}getCart(){return this.expensevoucherForm.get("expenses_voucher_cart")}addCart(e){this.getCart().push(this.cart()),this.isCart=!1,e>0&&(this.isPercentage[e]=!0,this.isAmount[e]=!1)}removeCart(e){this.getCart().removeAt(e),0==this.expensevoucherForm?.value?.expenses_voucher_cart?.length&&(this.isCart=!0)}isLastCart(e){return e===this.getCart().controls.length-1}submit(){if(console.log(this.expensevoucherForm.value),this.expensevoucherForm.valid){this.loaders=!0;let e=new FormData;e.append("party",this.expensevoucherForm.get("party")?.value),e.append("expense_date",this.expensevoucherForm.get("expense_date")?.value),e.append("expense_no",this.expensevoucherForm.get("expense_no")?.value),e.append("refrence_bill_no",this.expensevoucherForm.get("refrence_bill_no")?.value),e.append("reverse_charge",this.expensevoucherForm.get("reverse_charge")?.value),e.append("created_from",this.expensevoucherForm.get("created_from")?.value),e.append("tax_amount",this.expensevoucherForm.get("tax_amount")?.value),e.append("total_amount",this.expensevoucherForm.get("total_amount")?.value.toFixed(2)),e.append("round_off",this.expensevoucherForm.get("round_off")?.value),e.append("net_amount",this.expensevoucherForm.get("net_amount")?.value),e.append("status",this.expensevoucherForm.get("status")?.value),e.append("note",this.expensevoucherForm.get("note")?.value);const n=this.expensevoucherForm.get("expenses_voucher_cart"),i=[];n.controls.forEach(a=>{const s=a,c={};Object.keys(s.controls).forEach(d=>{const p=s.controls[d];c[d]="service_or_product"===d||"description"===d||isNaN(p.value)?p.value:parseFloat(p.value).toFixed(2)}),i.push(c)}),e.append("expenses_voucher_cart",JSON.stringify(i)),this.posCartService.addPosExpenseVoucher(e).subscribe(a=>{this.loaders=!1,this.addRes=a,this.addRes.success?(this.toastrService.success(this.addRes.msg),this.expensevoucherForm.reset(),this.fromPartyControl.setValue(""),this.fromAccountControl.setValue(""),this.modalClose.next(new Date)):(this.loaders=!1,a.error&&this.toastrService.error(a.error.party[0]))},a=>{this.loaders=!1})}else this.expensevoucherForm.markAllAsTouched(),this.toastrService.error("Please Fill All The Required Fields")}get party(){return this.expensevoucherForm.get("party")}get expense_date(){return this.expensevoucherForm.get("expense_date")}get expense_no(){return this.expensevoucherForm.get("expense_no")}get refrence_bill_no(){return this.expensevoucherForm.get("refrence_bill_no")}get reverse_charge(){return this.expensevoucherForm.get("reverse_charge")}get created_from(){return this.expensevoucherForm.get("created_from")}get tax_amount(){return this.expensevoucherForm.get("tax_amount")}get total_amount(){return this.expensevoucherForm.get("total_amount")}get round_off(){return this.expensevoucherForm.get("round_off")}get net_amount(){return this.expensevoucherForm.get("net_amount")}get paid_amount(){return this.expensevoucherForm.get("paid_amount")}get note(){return this.expensevoucherForm.get("note")}account(e){return this.getCart().controls[e].get("account")}service_or_product(e){return this.getCart().controls[e].get("service_or_product")}amount(e){return this.getCart().controls[e].get("amount")}discount(e){return this.getCart().controls[e].get("discount")}tax(e){return this.getCart().controls[e].get("tax")}tax_value(e){return this.getCart().controls[e].get("tax_value")}total(e){return this.getCart().controls[e].get("total")}totalDiscount(){let e=0;return this.getCart().controls.forEach((n,i)=>{const a=this.getCart().controls[i].get("discount");a&&(e+=+a.value||0)}),e}totalAmount(){let e=0;return this.getCart().controls.forEach((n,i)=>{const a=this.getCart().controls[i].get("amount");a&&(e+=+a.value||0)}),e}totalTax(){let e=0;return this.getCart().controls.forEach((n,i)=>{const a=this.getCart().controls[i].get("tax");a&&(e+=+a.value||0)}),e}totalTaxValue(){let e=0;return this.getCart().controls.forEach((n,i)=>{const a=this.getCart().controls[i].get("tax_value");a&&(e+=+a.value||0)}),e}totalTotal(){let e=0;return this.getCart().controls.forEach((n,i)=>{const a=this.getCart().controls[i].get("total");a&&(e+=+a.value||0)}),e}percentage(e){this.isPercentage[e]=!1,this.isAmount[e]=!0}rupees(e){this.isPercentage[e]=!0,this.isAmount[e]=!1}calculateTotalEveryIndex(e){const n=this.getCart().controls[e],i=n.get("amount"),a=n.get("tax"),s=n.get("discount");if(i&&a&&s){const c=+s.value||0,d=+i.value||0,p=+a.value||0;if(console.log(c,"discountPercentage"),console.log(d,"amountControlValue"),console.log(p,"taxPercentageValue"),1==this.isPercentage[e]){let _=d*c/100;console.log(_,"discount price");let g=d-_;console.log(g,"getCoastPrice");let v=g*p/100;console.log(v,"taxPrice"),this.taxIntoRupees[e]=v||0,console.log(this.taxIntoRupees,"tax value"),n.get("tax_value")?.patchValue(v);let f=d+v;n.get("total")?.patchValue(f)}else if(1==this.isAmount[e]){let _=d-c;console.log(_,"getCoastPrice");let g=_*p/100;console.log(g,"taxPrice"),this.taxIntoRupees[e]=g||0,console.log(this.taxIntoRupees,"tax value"),n.get("tax_value")?.patchValue(g);let v=d+g;n.get("total")?.patchValue(v)}}return 0}changeValue(e){this.roundOff=this.expensevoucherForm.get("round_off")?.value,console.log(this.roundOff,"this.roundoff"),e?(this.expensevoucherForm.get("round_off")?.patchValue(e),console.log(this.expensevoucherForm.get("round_off")?.value),this.roundOff=e,console.log(this.expensevoucherForm.value)):this.expensevoucherForm.get("round_off")?.patchValue(this.roundOff)}updateValue(e){this.roundOff="+"===e?Math.abs(this.roundOff):-Math.abs(this.roundOff),this.isMinus="-"===e}calculateTotal(){let e=0,n=0,i=this.expensevoucherForm.get("round_off")?.value;this.getCart().controls.forEach((s,c)=>{const d=this.getCart().controls[c].get("total");d&&(e+=+d.value||0)});const a=parseFloat(i)||0;return n=e+a,n}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(E.F0),t.Y36(ve._W),t.Y36(fe.p),t.Y36(_u.y),t.Y36(Ge.R),t.Y36(Wt))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-pos-add-expense-voucher"]],outputs:{modalClose:"modalClose"},decls:157,vars:66,consts:[["id","purchaseForm",1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-4","col-md-6","col-12"],[1,"form-group"],[2,"color","red"],[1,"w-100",2,"padding","0","width","100%","min-width","100%","border-top","none"],["type","text","placeholder","Search Party","aria-label","Party","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","ngClass"],["autos","matAutocomplete"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"col-lg-4","col-sm-6","col-12"],["type","date","formControlName","expense_date",3,"ngClass"],["formControlName","expense_no"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","refrence_bill_no","placeholder","Enter Refrence Bill No.",3,"ngClass"],[1,"col-lg-3","col-sm-3","col-12","d-flex","align-items-center"],[1,"form-group","mt-4"],[1,"d-flex"],["type","checkbox","formControlName","reverse_charge",3,"id","ngModel"],[1,"d_flex",2,"margin-bottom","0","margin-left","5px",3,"for"],[1,"card"],[1,"table-responsive"],[1,"table","datanew"],["colspan","3"],["class","debitIntoCart",3,"click",4,"ngIf"],["formArrayName","expenses_voucher_cart"],[2,"background","rgba(145, 158, 171, 0.32)"],[1,"text-start"],[1,"col-lg-6","my-3"],["formControlName","note","placeholder","Enter Note",3,"ngClass"],[1,"total-order"],["type","text","formControlName","tax_amount",1,"input",2,"display","none",3,"ngModel"],["type","text","formControlName","net_amount",1,"input",2,"display","none",3,"ngModel"],[2,"display","inline-grid"],["data-bs-toggle","tooltip","title","ion-plus-circled",1,"ion-plus-circled","mx-1",3,"ngStyle","click"],["data-bs-toggle","tooltip","title","ion-minus-circled",1,"ion-minus-circled","mx-1",3,"ngStyle","click"],["type","text",1,"input",2,"width","34%",3,"value","blur"],[1,"total"],["type","text","formControlName","total_amount",1,"input",2,"display","none",3,"ngModel"],[1,"col-lg-12"],["class","btn btn-submit me-2",4,"ngIf"],["class","btn btn-submit me-2","type","submit","disabled","",4,"ngIf"],["routerLink","//transaction/expensesList",1,"btn","btn-cancel","text-white"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngIf"],[2,"color","#FF9F43",3,"value","onSelectionChange"],[3,"value",4,"ngIf"],["class","is-loading",4,"ngIf"],[3,"value"],["routerLink","//contacts/addSupplier",2,"color","#FF9F43"],[1,"is-loading"],[1,"text-danger"],[1,"debitIntoCart",3,"click"],[3,"formGroupName"],[1,"me-2"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-circle",2,"color","red",3,"click"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],["style","color:green","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","class","bi bi-plus-circle","viewBox","0 0 16 16",3,"click",4,"ngIf"],[1,"form-group",2,"margin-bottom","-1%"],["type","text","placeholder","Select From Account","aria-label","from_account","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],["class","text-danger","style","display: block;",4,"ngIf"],["formControlName","service_or_product"],["value","Service","selected",""],["value","Product"],["type","text","formControlName","description","placeholder","Enter Note",1,"input"],["type","number","formControlName","amount",1,"input",3,"blur"],["type","number","formControlName","discount",1,"input",3,"blur"],["class","symbol",3,"click",4,"ngIf"],["type","number","formControlName","tax",1,"input",3,"blur"],["type","number","formControlName","tax_value","readonly","",1,"input"],["type","number","formControlName","total","readonly","",1,"input"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-circle",2,"color","green",3,"click"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],["routerLink","//account/accountlist",2,"color","#FF9F43"],[1,"text-danger",2,"display","block"],[1,"symbol",3,"click"],[1,"btn","btn-submit","me-2"],["type","submit","disabled","",1,"btn","btn-submit","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return n.submit()}),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"label"),t._uU(7,"Party"),t.TgZ(8,"span",6),t._uU(9,"*"),t.qZA()(),t.TgZ(10,"mat-form-field",7),t._UZ(11,"input",8),t.TgZ(12,"mat-autocomplete",null,9),t.YNc(14,mu,2,1,"ng-container",10),t.ALo(15,"async"),t.YNc(16,fu,3,2,"ng-container",11),t.ALo(17,"async"),t.qZA()(),t.YNc(18,vu,2,0,"span",12),t.qZA()(),t.TgZ(19,"div",13)(20,"div",5)(21,"label"),t._uU(22,"Expense Date"),t.TgZ(23,"span",6),t._uU(24,"*"),t.qZA()(),t._UZ(25,"input",14),t.YNc(26,yu,2,0,"span",12),t.qZA()(),t.TgZ(27,"div",13)(28,"div",5)(29,"label"),t._uU(30,"Expence Voucher Series"),t.TgZ(31,"span",6),t._uU(32,"*"),t.qZA()(),t.TgZ(33,"select",15)(34,"option",16),t._uU(35,"Select Expence Voucher Series"),t.qZA(),t.YNc(36,Cu,2,2,"option",17),t.qZA(),t.YNc(37,Au,2,0,"span",12),t.qZA()(),t.TgZ(38,"div",13)(39,"div",5)(40,"label"),t._uU(41,"Refrence Bill No."),t.qZA(),t._UZ(42,"input",18),t.YNc(43,bu,2,0,"span",12),t.qZA()()(),t.TgZ(44,"div",19)(45,"div",20)(46,"div",21),t._UZ(47,"input",22),t.TgZ(48,"label",23),t._uU(49,"Reverse Charge"),t.qZA()()()(),t.TgZ(50,"div",24)(51,"div",1)(52,"div",3)(53,"div",25)(54,"table",26)(55,"thead")(56,"tr")(57,"th"),t._uU(58,"#"),t.qZA(),t._UZ(59,"th"),t.TgZ(60,"th"),t._uU(61,"From Account"),t.TgZ(62,"span",6),t._uU(63,"*"),t.qZA()(),t.TgZ(64,"th"),t._uU(65,"Service/Product"),t.qZA(),t.TgZ(66,"th"),t._uU(67,"Note"),t.qZA(),t.TgZ(68,"th"),t._uU(69,"Amount"),t.TgZ(70,"span",6),t._uU(71,"*"),t.qZA()(),t.TgZ(72,"th"),t._uU(73,"Discount (%)"),t.qZA(),t.TgZ(74,"th"),t._uU(75,"Tax (%)"),t.TgZ(76,"span",6),t._uU(77,"*"),t.qZA()(),t.TgZ(78,"th"),t._uU(79,"Tax Value"),t.qZA(),t.TgZ(80,"th"),t._uU(81,"Total"),t.qZA()(),t.TgZ(82,"tr")(83,"th",27),t.YNc(84,xu,2,0,"span",28),t.qZA()()(),t.TgZ(85,"tbody"),t.ynx(86,29),t.YNc(87,Du,48,20,"ng-container",10),t.BQk(),t.TgZ(88,"tr",30),t._UZ(89,"td")(90,"td")(91,"td"),t.TgZ(92,"td",31)(93,"strong"),t._uU(94,"Total"),t.qZA()(),t._UZ(95,"td"),t.TgZ(96,"td",31)(97,"strong"),t._uU(98),t.qZA()(),t.TgZ(99,"td",31)(100,"strong"),t._uU(101),t.qZA()(),t.TgZ(102,"td",31)(103,"strong"),t._uU(104),t.qZA()(),t.TgZ(105,"td",31)(106,"strong"),t._uU(107),t.qZA()(),t.TgZ(108,"td",31)(109,"strong"),t._uU(110),t.qZA()()()()()()()()(),t.TgZ(111,"div",3)(112,"div",32)(113,"div",5)(114,"label"),t._uU(115,"Note"),t.qZA(),t._UZ(116,"textarea",33),t.YNc(117,Vu,2,0,"span",12),t.qZA()(),t.TgZ(118,"div",32)(119,"div",5)(120,"div",34)(121,"ul")(122,"li")(123,"h4"),t._uU(124,"Tax Amount"),t.qZA(),t.TgZ(125,"h5"),t._uU(126),t.ALo(127,"currency"),t.qZA(),t._UZ(128,"input",35),t.qZA(),t.TgZ(129,"li")(130,"h4"),t._uU(131,"Sub Total"),t.qZA(),t.TgZ(132,"h5"),t._uU(133),t.ALo(134,"currency"),t.qZA(),t._UZ(135,"input",36),t.qZA(),t.TgZ(136,"li")(137,"h4"),t._uU(138,"Round Off"),t.qZA(),t.TgZ(139,"h5")(140,"span",37)(141,"i",38),t.NdJ("click",function(){return n.updateValue("+")}),t.qZA(),t.TgZ(142,"i",39),t.NdJ("click",function(){return n.updateValue("-")}),t.qZA()(),t.TgZ(143,"input",40),t.NdJ("blur",function(a){return n.changeValue(a.target.value)}),t.ALo(144,"number"),t.qZA()()(),t.TgZ(145,"li",41)(146,"h4"),t._uU(147,"Total Amount"),t.qZA(),t.TgZ(148,"h5"),t._uU(149),t.ALo(150,"currency"),t.qZA(),t._UZ(151,"input",42),t.qZA()()()()()(),t.TgZ(152,"div",43),t.YNc(153,Yu,2,0,"button",44),t.YNc(154,Qu,3,0,"button",45),t.TgZ(155,"a",46),t._uU(156,"Cancel"),t.qZA()()()()()),2&e){const i=t.MAs(13);t.xp6(2),t.Q6J("formGroup",n.expensevoucherForm),t.xp6(9),t.Q6J("formControl",n.fromPartyControl)("matAutocomplete",i)("ngClass",t.VKq(54,Ke,n.f.party.touched&&n.f.party.invalid)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(15,38,n.filteredFromParty)),t.xp6(2),t.Q6J("ngIf",t.lcZ(17,40,n.filteredFromParty)),t.xp6(2),t.Q6J("ngIf",n.party&&n.party.invalid&&n.party.touched),t.xp6(7),t.Q6J("ngClass",t.VKq(56,Ke,n.f.expense_date.touched&&n.f.expense_date.invalid)),t.uIk("min",n.minDate)("max",n.maxDate),t.xp6(1),t.Q6J("ngIf",n.expense_date&&n.expense_date.invalid&&n.expense_date.touched),t.xp6(10),t.Q6J("ngForOf",n.prefixNo),t.xp6(1),t.Q6J("ngIf",n.expense_no&&n.expense_no.invalid&&n.expense_no.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(58,Ke,n.f.refrence_bill_no.touched&&n.f.refrence_bill_no.invalid)),t.xp6(1),t.Q6J("ngIf",n.refrence_bill_no&&n.refrence_bill_no.invalid&&n.refrence_bill_no.touched),t.xp6(4),t.Q6J("id","checkboxTax-")("ngModel",!0),t.xp6(1),t.Q6J("for","checkboxTax-"),t.xp6(36),t.Q6J("ngIf",n.isCart),t.xp6(3),t.Q6J("ngForOf",n.getCart().controls),t.xp6(11),t.Oqu(n.totalAmount().toFixed(2)),t.xp6(3),t.Oqu(n.totalDiscount()),t.xp6(3),t.Oqu(n.totalTax()),t.xp6(3),t.Oqu(n.totalTaxValue().toFixed(2)),t.xp6(3),t.Oqu(n.totalTotal().toFixed(2)),t.xp6(6),t.Q6J("ngClass",t.VKq(60,Ke,n.f.note.touched&&n.f.note.invalid)),t.xp6(1),t.Q6J("ngIf",n.note&&n.note.invalid&&n.note.touched),t.xp6(9),t.Oqu(t.xi3(127,42,n.totalTaxValue().toFixed(2),"INR")),t.xp6(2),t.Q6J("ngModel",n.totalTaxValue().toFixed(2)),t.xp6(5),t.hij(" ",t.xi3(134,45,n.totalAmount().toFixed(2),"INR"),""),t.xp6(2),t.Q6J("ngModel",n.totalAmount().toFixed(2)),t.xp6(6),t.Q6J("ngStyle",t.VKq(62,Oi,n.isMinus?"gray":"#FF9F43")),t.xp6(1),t.Q6J("ngStyle",t.VKq(64,Oi,n.isMinus?"#FF9F43":"gray")),t.xp6(1),t.Q6J("value",t.xi3(144,48,n.roundOff,"1.2-2")),t.xp6(6),t.hij(" ",t.xi3(150,51,n.calculateTotal(),"INR"),""),t.xp6(2),t.Q6J("ngModel",n.calculateTotal()),t.xp6(2),t.Q6J("ngIf",!n.loaders),t.xp6(1),t.Q6J("ngIf",n.loaders)}},dependencies:[P.mk,P.sg,P.O5,P.PC,E.yS,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l.JJ,l.JL,l.oH,l.sg,l.u,l.x0,l.CE,nt.XC,nt.ZL,ye.ey,Ce.KE,Ae.Nt,P.Ov,P.JJ,P.H9],styles:[".ng-pristine.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=datetime-local][_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}.select[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:40%;font-size:14px;font-weight:500;color:#637381;padding:10px 8px;border-radius:5px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.cdk-overlay-pane[_ngcontent-%COMP%]{width:300.85px!important}a[_ngcontent-%COMP%]{text-decoration:none;color:#ff9f43}@media (max-width: 1023px){h5[_ngcontent-%COMP%]{font-size:13px}}.table[_ngcontent-%COMP%]   th.product-name[_ngcontent-%COMP%]{width:40%}.table[_ngcontent-%COMP%]   th.qty[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th.mrp[_ngcontent-%COMP%]{width:10%}.form-control[_ngcontent-%COMP%]{border-bottom:1px solid #9c9c9c;border-top:none;border-right:none;border-left:none;font-size:15px;color:#606060;border-radius:0;padding-left:2px}.space-text[_ngcontent-%COMP%]{white-space:pre-wrap!important}.circle[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;border-radius:50%;border:1px solid #FF9F43;text-align:center;line-height:16px;color:#ff9f43}.button[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;display:flex;padding:10px 15px;border-radius:5px;justify-content:space-between;align-items:center;background:white}.symbol[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px;border-radius:5px}"]}),o})();var Bu=A(54270);function $u(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",43),t.NdJ("onSelectionChange",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.oncheck(a))}),t._uU(1),t.qZA()}if(2&o){const e=r.$implicit;t.Q6J("value",e.account_id),t.xp6(1),t.Oqu(e.account_id)}}function Ru(o,r){1&o&&(t.TgZ(0,"mat-option",46)(1,"a",47),t._uU(2,"+ Add Account"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function Hu(o,r){1&o&&(t.TgZ(0,"mat-option",48),t._uU(1,"Please Enter 3 or more characters"),t.qZA())}function Gu(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Ru,3,1,"mat-option",44),t.YNc(2,Hu,2,0,"mat-option",45),t.BQk()),2&o){const e=r.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.customerControl.value?null:n.customerControl.value.length)<3)}}function Ku(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Select Payment Account "),t.qZA())}function ju(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Enter Date"),t.qZA())}function zu(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Select Mode Type"),t.qZA())}function Wu(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Enter Mode Type"),t.qZA())}function Xu(o,r){if(1&o&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.prefix)}}function t_(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Enter Receipt Voucher Series"),t.qZA())}function e_(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Enter Amount"),t.qZA())}function n_(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",43),t.NdJ("onSelectionChange",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.oncheck1(a))}),t._uU(1),t.qZA()}if(2&o){const e=r.$implicit;t.Q6J("value",e.account_id),t.xp6(1),t.Oqu(e.account_id)}}function o_(o,r){1&o&&(t.TgZ(0,"mat-option",46)(1,"a",47),t._uU(2,"+ Add Account"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function i_(o,r){1&o&&(t.TgZ(0,"mat-option",48),t._uU(1,"Please Enter 1 or more characters"),t.qZA())}function r_(o,r){if(1&o&&(t.ynx(0),t.YNc(1,o_,3,1,"mat-option",44),t.YNc(2,i_,2,0,"mat-option",45),t.BQk()),2&o){const e=r.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.payerControl.value?null:n.payerControl.value.length)<3)}}function a_(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Select Payer"),t.qZA())}function s_(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Enter Description"),t.qZA())}function l_(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",56),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.addCart())}),t._uU(1,"Add Cart+"),t.qZA()}}function c_(o,r){if(1&o){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",71),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.addCart())}),t._UZ(1,"path",60)(2,"path",72),t.qZA()}}function d_(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",43),t.NdJ("onSelectionChange",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw().index,s=t.oxw(3);return t.KtG(s.oncheck3(i,a))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.customer_bill_no),t.xp6(1),t.hij(" ",null==e?null:e.customer_bill_no," ")}}function u_(o,r){if(1&o&&(t.ynx(0),t.YNc(1,d_,2,2,"mat-option",73),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==(null==e?null:e.is_active))}}function __(o,r){1&o&&(t.TgZ(0,"mat-option",46)(1,"a",74),t._uU(2,"+ Add Sale Bill"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function p_(o,r){1&o&&(t.TgZ(0,"mat-option",48),t._uU(1," Please Enter 1 or more characters "),t.qZA())}function m_(o,r){1&o&&(t.TgZ(0,"span",75),t._uU(1,"Select Sale Bill"),t.qZA())}function h_(o,r){1&o&&(t.TgZ(0,"span",75),t._uU(1,"Enter Original Amount "),t.qZA())}function g_(o,r){1&o&&(t.TgZ(0,"span",75),t._uU(1,"Enter debit Paid Amount"),t.qZA())}function f_(o,r){1&o&&(t.TgZ(0,"span",75),t._uU(1,"Enter Pending Amount"),t.qZA())}function v_(o,r){1&o&&(t.TgZ(0,"span",75),t._uU(1,"Enter Payment"),t.qZA())}function y_(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",57)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"div")(6,"div",58),t.O4$(),t.TgZ(7,"svg",59),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(3);return t.KtG(s.removeCart(a))}),t._UZ(8,"path",60)(9,"path",61),t.qZA()(),t.YNc(10,c_,3,0,"svg",62),t.qZA()(),t.kcU(),t.TgZ(11,"td")(12,"div",63)(13,"mat-form-field",12)(14,"input",64),t.NdJ("input",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.getFilter(i.target.value))}),t.qZA(),t.TgZ(15,"mat-autocomplete",null,65),t.YNc(17,u_,2,1,"ng-container",55),t.YNc(18,__,3,1,"mat-option",44),t.YNc(19,p_,2,0,"mat-option",45),t.qZA()()(),t.YNc(20,m_,2,0,"span",66),t.qZA(),t.TgZ(21,"td"),t._UZ(22,"input",67),t.YNc(23,h_,2,0,"span",66),t.qZA(),t.TgZ(24,"td"),t._UZ(25,"input",68),t.YNc(26,g_,2,0,"span",66),t.qZA(),t.TgZ(27,"td"),t._UZ(28,"input",69),t.YNc(29,f_,2,0,"span",66),t.qZA(),t.TgZ(30,"td"),t._UZ(31,"input",70),t.YNc(32,v_,2,0,"span",66),t.qZA()(),t.BQk()}if(2&o){const e=r.index,n=t.MAs(16),i=t.oxw(3);let a;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(2),t.Oqu(e+1+"."),t.xp6(7),t.Q6J("ngIf",i.isLastCart(e)),t.xp6(4),t.Q6J("formControl",i.myControls.at(e))("matAutocomplete",n),t.xp6(3),t.Q6J("ngForOf",i.filterSaleBill),t.xp6(1),t.Q6J("ngIf",0===(null==i.filterSaleBill?null:i.filterSaleBill.length)),t.xp6(1),t.Q6J("ngIf",(null==(a=i.myControls.at(e))||null==a.value?null:a.value.length)<1),t.xp6(1),t.Q6J("ngIf",i.sale_bill(e)&&i.sale_bill(e).invalid&&i.sale_bill(e).touched),t.xp6(3),t.Q6J("ngIf",i.original_amount(e)&&i.original_amount(e).invalid&&i.original_amount(e).touched),t.xp6(3),t.Q6J("ngIf",i.paid_amount(e)&&i.paid_amount(e).invalid&&i.paid_amount(e).touched),t.xp6(3),t.Q6J("ngIf",i.pending_amount(e)&&i.pending_amount(e).invalid&&i.pending_amount(e).touched),t.xp6(3),t.Q6J("ngIf",i.payment(e)&&i.payment(e).invalid&&i.payment(e).touched)}}function C_(o,r){if(1&o&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",9)(3,"div",50)(4,"table",51)(5,"thead")(6,"tr")(7,"th"),t._uU(8,"#"),t.qZA(),t._UZ(9,"th"),t.TgZ(10,"th"),t._uU(11,"Sale Bill"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Original Amount"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Paid Amount"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Pending Amount"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Payment"),t.qZA()(),t.TgZ(20,"tr")(21,"th",52),t.YNc(22,l_,2,0,"span",53),t.qZA()()(),t.TgZ(23,"tbody"),t.ynx(24,54),t.YNc(25,y_,33,13,"ng-container",55),t.BQk(),t.qZA()()()()()()),2&o){const e=t.oxw(2);t.xp6(22),t.Q6J("ngIf",e.isCart),t.xp6(3),t.Q6J("ngForOf",e.getCart().controls)}}function A_(o,r){1&o&&(t.TgZ(0,"button",76),t._uU(1,"Submit"),t.qZA())}function b_(o,r){1&o&&(t.TgZ(0,"button",77),t._UZ(1,"span",78),t._uU(2," \xa0 Submit"),t.qZA())}const tt=function(o){return{"is-invalid":o}},Ln=function(o){return{border:o}};function x_(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit())}),t.TgZ(3,"div",4)(4,"div",5)(5,"input",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.toggleCash())}),t.qZA(),t.TgZ(6,"label",7),t._uU(7,"Cash"),t.qZA()(),t.TgZ(8,"div",5)(9,"input",8),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.toggleBank())}),t.qZA(),t.TgZ(10,"label",7),t._uU(11,"Bank"),t.qZA()()(),t.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"label"),t._uU(16,"Payment Account*"),t.qZA(),t.TgZ(17,"mat-form-field",12),t._UZ(18,"input",13),t.TgZ(19,"mat-autocomplete",null,14),t.YNc(21,$u,2,2,"mat-option",15),t.ALo(22,"async"),t.YNc(23,Gu,3,2,"ng-container",16),t.ALo(24,"async"),t.qZA()(),t.YNc(25,Ku,2,0,"span",17),t.qZA()(),t.TgZ(26,"div",18)(27,"div",11)(28,"label"),t._uU(29,"Date"),t.qZA(),t._UZ(30,"input",19),t.YNc(31,ju,2,0,"span",17),t.qZA()(),t.TgZ(32,"div",20)(33,"div",11)(34,"div",9)(35,"div",21)(36,"div",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setRadioValue("On Account"))}),t.TgZ(37,"div",2)(38,"div",23),t._UZ(39,"input",24),t.TgZ(40,"label",25),t._uU(41,"On Account"),t.qZA()(),t.TgZ(42,"span",26),t._uU(43,"Upfront Payment"),t.qZA()()()(),t.TgZ(44,"div",21)(45,"div",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setRadioValue("Advance Payment"))}),t.TgZ(46,"div",2)(47,"div",23),t._UZ(48,"input",27),t.TgZ(49,"label",28),t._uU(50,"Advance Payment"),t.qZA()(),t.TgZ(51,"span",29),t._uU(52,"Will be offset by upcoming bills"),t.qZA()()()(),t.TgZ(53,"div",21)(54,"div",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setRadioValue("Against Bill"))}),t.TgZ(55,"div",2)(56,"div",23),t._UZ(57,"input",30),t.TgZ(58,"label",31),t._uU(59,"Against Bill"),t.qZA()(),t.TgZ(60,"span",29),t._uU(61,"Offset against Current Bills"),t.qZA()()()(),t.YNc(62,zu,2,0,"span",17),t.YNc(63,Wu,2,0,"span",17),t.qZA()()(),t.TgZ(64,"div",21)(65,"div",11)(66,"label"),t._uU(67,"Receipt Voucher Series"),t.qZA(),t.TgZ(68,"select",32)(69,"option",33),t._uU(70,"Select Receipt Voucher Series "),t.qZA(),t.YNc(71,Xu,2,2,"option",34),t.qZA(),t.YNc(72,t_,2,0,"span",17),t.qZA()(),t.TgZ(73,"div",21)(74,"div",11)(75,"label"),t._uU(76,"Amount"),t.qZA(),t._UZ(77,"input",35),t.YNc(78,e_,2,0,"span",17),t.qZA()(),t.TgZ(79,"div",21)(80,"div",11)(81,"label"),t._uU(82,"Payer*"),t.qZA(),t.TgZ(83,"mat-form-field",12),t._UZ(84,"input",36),t.TgZ(85,"mat-autocomplete",null,37),t.YNc(87,n_,2,2,"mat-option",15),t.ALo(88,"async"),t.YNc(89,r_,3,2,"ng-container",16),t.ALo(90,"async"),t.qZA()(),t.YNc(91,a_,2,0,"span",17),t.qZA()(),t.TgZ(92,"div",21)(93,"div",11)(94,"label"),t._uU(95,"Description"),t.qZA(),t._UZ(96,"textarea",38),t.YNc(97,s_,2,0,"span",17),t.qZA()(),t.YNc(98,C_,26,2,"div",0),t.TgZ(99,"div",39),t.YNc(100,A_,2,0,"button",40),t.YNc(101,b_,3,0,"button",41),t.TgZ(102,"button",42),t._uU(103,"Cancel"),t.qZA()()()()()()}if(2&o){const e=t.MAs(20),n=t.MAs(86),i=t.oxw();t.xp6(2),t.Q6J("formGroup",i.recieptVoucherForm),t.xp6(3),t.Q6J("id","checkboxCash")("value","Cash"),t.xp6(1),t.Q6J("for","checkboxCash"),t.xp6(3),t.Q6J("id","checkbox-Bnak")("value","Bank"),t.xp6(1),t.Q6J("for","checkbox-Bnak"),t.xp6(8),t.Q6J("formControl",i.customerControl)("matAutocomplete",e)("ngClass",t.VKq(48,tt,i.h.payment_account.touched&&i.h.payment_account.invalid)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(22,40,i.filteredCustomer)),t.xp6(2),t.Q6J("ngIf",t.lcZ(24,42,i.filteredCustomer)),t.xp6(2),t.Q6J("ngIf",i.payment_account&&i.payment_account.invalid&&i.payment_account.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(50,tt,i.h.date.touched&&i.h.date.invalid)),t.uIk("min",i.minDate)("max",i.maxDate),t.xp6(1),t.Q6J("ngIf",i.date&&i.date.invalid&&i.date.touched),t.xp6(8),t.Q6J("value","On Account")("ngStyle",t.VKq(52,Ln,i.modeError?"1px solid red":"")),t.xp6(9),t.Q6J("value","Advance Payment")("ngStyle",t.VKq(54,Ln,i.modeError?"1px solid red":"")),t.xp6(9),t.Q6J("value","Against Bill")("ngStyle",t.VKq(56,Ln,i.modeError?"1px solid red":"")),t.xp6(5),t.Q6J("ngIf",i.modeError),t.xp6(1),t.Q6J("ngIf",i.mode_type&&i.mode_type.invalid&&i.mode_type.touched),t.xp6(8),t.Q6J("ngForOf",i.prefixNo),t.xp6(1),t.Q6J("ngIf",i.receipt_voucher_no&&i.receipt_voucher_no.invalid&&i.receipt_voucher_no.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(58,tt,i.h.amount.touched&&i.h.amount.invalid)),t.xp6(1),t.Q6J("ngIf",i.amount&&i.amount.invalid&&i.amount.touched),t.xp6(6),t.Q6J("formControl",i.payerControl)("matAutocomplete",n)("ngClass",t.VKq(60,tt,i.h.payer.touched&&i.h.payer.invalid)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(88,44,i.filteredPayer)),t.xp6(2),t.Q6J("ngIf",t.lcZ(90,46,i.filteredPayer)),t.xp6(2),t.Q6J("ngIf",i.payer&&i.payer.invalid&&i.payer.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(62,tt,i.h.note.touched&&i.h.note.invalid)),t.xp6(1),t.Q6J("ngIf",i.description&&i.description.invalid&&i.description.touched),t.xp6(1),t.Q6J("ngIf",i.isAgainstBill),t.xp6(2),t.Q6J("ngIf",!i.loaders),t.xp6(1),t.Q6J("ngIf",i.loaders)}}function Z_(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",43),t.NdJ("onSelectionChange",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.oncheckBank(a))}),t._uU(1),t.qZA()}if(2&o){const e=r.$implicit;t.Q6J("value",e.account_id),t.xp6(1),t.Oqu(e.account_id)}}function T_(o,r){1&o&&(t.TgZ(0,"mat-option",46)(1,"a",47),t._uU(2,"+ Add Account"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function P_(o,r){1&o&&(t.TgZ(0,"mat-option",48),t._uU(1,"Please Enter 3 or more characters"),t.qZA())}function q_(o,r){if(1&o&&(t.ynx(0),t.YNc(1,T_,3,1,"mat-option",44),t.YNc(2,P_,2,0,"mat-option",45),t.BQk()),2&o){const e=r.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.customerControl.value?null:n.customerControl.value.length)<3)}}function N_(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Select payment_account "),t.qZA())}function I_(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Select Date"),t.qZA())}function O_(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Select Transaction Date"),t.qZA())}function U_(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Enter Receipt Voucher no."),t.qZA())}function k_(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Select Mode Type"),t.qZA())}function M_(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Select Mode Type"),t.qZA())}function w_(o,r){if(1&o&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.prefix)}}function S_(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Enter Receipt Voucher Series"),t.qZA())}function E_(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Enter Amount"),t.qZA())}function F_(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",43),t.NdJ("onSelectionChange",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.oncheckBank1(a))}),t._uU(1),t.qZA()}if(2&o){const e=r.$implicit;t.Q6J("value",e.account_id),t.xp6(1),t.Oqu(e.account_id)}}function J_(o,r){1&o&&(t.TgZ(0,"mat-option",46)(1,"a",47),t._uU(2,"+ Add Account"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function D_(o,r){1&o&&(t.TgZ(0,"mat-option",48),t._uU(1,"Please Enter 1 or more characters"),t.qZA())}function V_(o,r){if(1&o&&(t.ynx(0),t.YNc(1,J_,3,1,"mat-option",44),t.YNc(2,D_,2,0,"mat-option",45),t.BQk()),2&o){const e=r.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.payerControl.value?null:n.payerControl.value.length)<3)}}function Y_(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Select Payer"),t.qZA())}function Q_(o,r){1&o&&(t.TgZ(0,"span",49),t._uU(1,"Enter Description"),t.qZA())}function L_(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",56),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.addCartBank())}),t._uU(1,"Add Cart+"),t.qZA()}}function B_(o,r){if(1&o){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",71),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.addCartBank())}),t._UZ(1,"path",60)(2,"path",72),t.qZA()}}function $_(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",43),t.NdJ("onSelectionChange",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw().index,s=t.oxw(3);return t.KtG(s.oncheckBank3(i,a))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.customer_bill_no),t.xp6(1),t.hij(" ",null==e?null:e.customer_bill_no," ")}}function R_(o,r){if(1&o&&(t.ynx(0),t.YNc(1,$_,2,2,"mat-option",73),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==(null==e?null:e.is_active))}}function H_(o,r){1&o&&(t.TgZ(0,"mat-option",46)(1,"a",74),t._uU(2,"+ Add Sale Bill"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function G_(o,r){1&o&&(t.TgZ(0,"mat-option",48),t._uU(1," Please Enter 1 or more characters "),t.qZA())}function K_(o,r){1&o&&(t.TgZ(0,"span",75),t._uU(1,"Select Sale Bill"),t.qZA())}function j_(o,r){1&o&&(t.TgZ(0,"span",75),t._uU(1,"Enter Original Amount "),t.qZA())}function z_(o,r){1&o&&(t.TgZ(0,"span",75),t._uU(1,"Enter Debit Paid Amount"),t.qZA())}function W_(o,r){1&o&&(t.TgZ(0,"span",75),t._uU(1,"Enter Pending Amount"),t.qZA())}function X_(o,r){1&o&&(t.TgZ(0,"span",75),t._uU(1,"Enter Payment"),t.qZA())}function tp(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",57)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"div")(6,"div",58),t.O4$(),t.TgZ(7,"svg",59),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(3);return t.KtG(s.removeCartBank(a))}),t._UZ(8,"path",60)(9,"path",61),t.qZA()(),t.YNc(10,B_,3,0,"svg",62),t.qZA()(),t.kcU(),t.TgZ(11,"td")(12,"div",63)(13,"mat-form-field",12)(14,"input",64),t.NdJ("input",function(i){t.CHM(e);const a=t.oxw(3);return t.KtG(a.getFilter(i.target.value))}),t.qZA(),t.TgZ(15,"mat-autocomplete",null,93),t.YNc(17,R_,2,1,"ng-container",55),t.YNc(18,H_,3,1,"mat-option",44),t.YNc(19,G_,2,0,"mat-option",45),t.qZA()()(),t.YNc(20,K_,2,0,"span",66),t.qZA(),t.TgZ(21,"td"),t._UZ(22,"input",67),t.YNc(23,j_,2,0,"span",66),t.qZA(),t.TgZ(24,"td"),t._UZ(25,"input",68),t.YNc(26,z_,2,0,"span",66),t.qZA(),t.TgZ(27,"td"),t._UZ(28,"input",69),t.YNc(29,W_,2,0,"span",66),t.qZA(),t.TgZ(30,"td"),t._UZ(31,"input",70),t.YNc(32,X_,2,0,"span",66),t.qZA()(),t.BQk()}if(2&o){const e=r.index,n=t.MAs(16),i=t.oxw(3);let a;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(2),t.Oqu(e+1+"."),t.xp6(7),t.Q6J("ngIf",i.isLastCartBank(e)),t.xp6(4),t.Q6J("formControl",i.myControls.at(e))("matAutocomplete",n),t.xp6(3),t.Q6J("ngForOf",i.filterSaleBill),t.xp6(1),t.Q6J("ngIf",0===(null==i.filterSaleBill?null:i.filterSaleBill.length)),t.xp6(1),t.Q6J("ngIf",(null==(a=i.myControls.at(e))||null==a.value?null:a.value.length)<1),t.xp6(1),t.Q6J("ngIf",i.sale_bill1(e)&&i.sale_bill1(e).invalid&&i.sale_bill1(e).touched),t.xp6(3),t.Q6J("ngIf",i.original_amount1(e)&&i.original_amount1(e).invalid&&i.original_amount1(e).touched),t.xp6(3),t.Q6J("ngIf",i.paid_amount1(e)&&i.paid_amount1(e).invalid&&i.paid_amount1(e).touched),t.xp6(3),t.Q6J("ngIf",i.pending_amount1(e)&&i.pending_amount1(e).invalid&&i.pending_amount1(e).touched),t.xp6(3),t.Q6J("ngIf",i.payment1(e)&&i.payment1(e).invalid&&i.payment1(e).touched)}}function ep(o,r){if(1&o&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",9)(3,"div",50)(4,"table",51)(5,"thead")(6,"tr")(7,"th"),t._uU(8,"#"),t.qZA(),t._UZ(9,"th"),t.TgZ(10,"th"),t._uU(11,"Sale Bill"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Original Amount"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Paid Amount"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Pending Amount"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Payment"),t.qZA()(),t.TgZ(20,"tr")(21,"th",52),t.YNc(22,L_,2,0,"span",53),t.qZA()()(),t.TgZ(23,"tbody"),t.ynx(24,54),t.YNc(25,tp,33,13,"ng-container",55),t.BQk(),t.qZA()()()()()()),2&o){const e=t.oxw(2);t.xp6(22),t.Q6J("ngIf",e.isCartBank),t.xp6(3),t.Q6J("ngForOf",e.getCartBank().controls)}}function np(o,r){1&o&&(t.TgZ(0,"button",76),t._uU(1,"Submit"),t.qZA())}function op(o,r){1&o&&(t.TgZ(0,"button",77),t._UZ(1,"span",78),t._uU(2,"\xa0 Submit"),t.qZA())}function ip(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onBankSubmit())}),t.TgZ(3,"div",4)(4,"div",5)(5,"input",79),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.toggleCash())}),t.qZA(),t.TgZ(6,"label",7),t._uU(7,"Cash"),t.qZA()(),t.TgZ(8,"div",5)(9,"input",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.toggleBank())}),t.qZA(),t.TgZ(10,"label",7),t._uU(11,"Bank"),t.qZA()()(),t.TgZ(12,"div",9)(13,"div",80)(14,"div",11)(15,"label"),t._uU(16,"Payment Account*"),t.qZA(),t.TgZ(17,"mat-form-field",12),t._UZ(18,"input",81),t.TgZ(19,"mat-autocomplete",null,82),t.YNc(21,Z_,2,2,"mat-option",15),t.ALo(22,"async"),t.YNc(23,q_,3,2,"ng-container",16),t.ALo(24,"async"),t.qZA()(),t.YNc(25,N_,2,0,"span",17),t.qZA()(),t.TgZ(26,"div",83)(27,"div",11)(28,"label"),t._uU(29,"Date"),t.qZA(),t._UZ(30,"input",19),t.YNc(31,I_,2,0,"span",17),t.qZA()(),t.TgZ(32,"div",83)(33,"div",11)(34,"label"),t._uU(35,"Transaction Date"),t.qZA(),t._UZ(36,"input",84),t.YNc(37,O_,2,0,"span",17),t.qZA()(),t.TgZ(38,"div",83)(39,"div",11)(40,"label"),t._uU(41,"Transaction Id"),t.qZA(),t._UZ(42,"input",85),t.YNc(43,U_,2,0,"span",17),t.qZA()(),t.TgZ(44,"div",83)(45,"div",11)(46,"div",86),t._UZ(47,"input",87),t.TgZ(48,"label",7),t._uU(49,"Online"),t.qZA()()()(),t.TgZ(50,"div",20)(51,"div",11)(52,"div",9)(53,"div",21)(54,"div",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setRadioValue1("On Account"))}),t.TgZ(55,"div",2)(56,"div",23),t._UZ(57,"input",88),t.TgZ(58,"label",25),t._uU(59,"On Account"),t.qZA()(),t.TgZ(60,"span",26),t._uU(61,"Upfront Payment"),t.qZA()()()(),t.TgZ(62,"div",21)(63,"div",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setRadioValue1("Advance Payment"))}),t.TgZ(64,"div",2)(65,"div",23),t._UZ(66,"input",89),t.TgZ(67,"label",28),t._uU(68,"Advance Payment"),t.qZA()(),t.TgZ(69,"span",29),t._uU(70,"Will be offset by upcoming bills"),t.qZA()()()(),t.TgZ(71,"div",21)(72,"div",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setRadioValue1("Against Bill"))}),t.TgZ(73,"div",2)(74,"div",23),t._UZ(75,"input",90),t.TgZ(76,"label",31),t._uU(77,"Against Bill"),t.qZA()(),t.TgZ(78,"span",29),t._uU(79,"Offset against Current Bills"),t.qZA()()()(),t.YNc(80,k_,2,0,"span",17),t.YNc(81,M_,2,0,"span",17),t.qZA()()(),t.TgZ(82,"div",21)(83,"div",11)(84,"label"),t._uU(85,"Receipt Voucher Series"),t.qZA(),t.TgZ(86,"select",32)(87,"option",33),t._uU(88,"Select Receipt Voucher Series "),t.qZA(),t.YNc(89,w_,2,2,"option",34),t.qZA(),t.YNc(90,S_,2,0,"span",17),t.qZA()(),t.TgZ(91,"div",21)(92,"div",11)(93,"label"),t._uU(94,"Amount"),t.qZA(),t._UZ(95,"input",91),t.YNc(96,E_,2,0,"span",17),t.qZA()(),t.TgZ(97,"div",21)(98,"div",11)(99,"label"),t._uU(100,"Payer*"),t.qZA(),t.TgZ(101,"mat-form-field",12),t._UZ(102,"input",36),t.TgZ(103,"mat-autocomplete",null,92),t.YNc(105,F_,2,2,"mat-option",15),t.ALo(106,"async"),t.YNc(107,V_,3,2,"ng-container",16),t.ALo(108,"async"),t.qZA()(),t.YNc(109,Y_,2,0,"span",17),t.qZA()(),t.TgZ(110,"div",21)(111,"div",11)(112,"label"),t._uU(113,"Description"),t.qZA(),t._UZ(114,"textarea",38),t.YNc(115,Q_,2,0,"span",17),t.qZA()(),t.YNc(116,ep,26,2,"div",0),t.TgZ(117,"div",39),t.YNc(118,np,2,0,"button",40),t.YNc(119,op,3,0,"button",41),t.TgZ(120,"button",42),t._uU(121,"Cancel"),t.qZA()()()()()()}if(2&o){const e=t.MAs(20),n=t.MAs(104),i=t.oxw();t.xp6(2),t.Q6J("formGroup",i.recieptVoucherBankForm),t.xp6(3),t.Q6J("id","checkboxCash"),t.xp6(1),t.Q6J("for","checkboxCash"),t.xp6(3),t.Q6J("id","checkbox-Bnak")("value","Bank"),t.xp6(1),t.Q6J("for","checkbox-Bnak"),t.xp6(8),t.Q6J("formControl",i.customerControl)("matAutocomplete",e)("ngClass",t.VKq(53,tt,i.g.payment_account.touched&&i.g.payment_account.invalid)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(22,45,i.filteredCustomer)),t.xp6(2),t.Q6J("ngIf",t.lcZ(24,47,i.filteredCustomer)),t.xp6(2),t.Q6J("ngIf",i.payment_account&&i.payment_account.invalid&&i.payment_account.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(55,tt,i.g.date.touched&&i.g.date.invalid)),t.uIk("min",i.bankMinDate)("max",i.bankMaxDate),t.xp6(1),t.Q6J("ngIf",i.date1&&i.date1.invalid&&i.date1.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(57,tt,i.g.transaction_date.touched&&i.g.transaction_date.invalid)),t.uIk("min",i.transactionMinDate)("max",i.transactionMaxDate),t.xp6(1),t.Q6J("ngIf",i.transaction_date&&i.transaction_date.invalid&&i.transaction_date.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(59,tt,i.g.transaction_id.touched&&i.g.transaction_id.invalid)),t.xp6(1),t.Q6J("ngIf",i.transaction_id&&i.transaction_id.invalid&&i.transaction_id.touched),t.xp6(4),t.Q6J("id","checkboxMeasure-")("value","Online"),t.xp6(1),t.Q6J("for","checkboxMeasure-"),t.xp6(9),t.Q6J("value","On Account"),t.xp6(9),t.Q6J("value","Advance Payment"),t.xp6(9),t.Q6J("value","Against Bill"),t.xp6(5),t.Q6J("ngIf",i.modeError),t.xp6(1),t.Q6J("ngIf",i.mode_type1&&i.mode_type1.invalid&&i.mode_type1.touched),t.xp6(8),t.Q6J("ngForOf",i.prefixNo),t.xp6(1),t.Q6J("ngIf",i.receipt_voucher_no1&&i.receipt_voucher_no1.invalid&&i.receipt_voucher_no1.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(61,tt,i.g.amount.touched&&i.g.amount.invalid)),t.xp6(1),t.Q6J("ngIf",i.amount1&&i.amount1.invalid&&i.amount1.touched),t.xp6(6),t.Q6J("formControl",i.payerControl)("matAutocomplete",n)("ngClass",t.VKq(63,tt,i.g.payer.touched&&i.g.payer.invalid)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(106,49,i.filteredPayer)),t.xp6(2),t.Q6J("ngIf",t.lcZ(108,51,i.filteredPayer)),t.xp6(2),t.Q6J("ngIf",i.payer1&&i.payer1.invalid&&i.payer1.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(65,tt,i.g.note.touched&&i.g.note.invalid)),t.xp6(1),t.Q6J("ngIf",i.description1&&i.description1.invalid&&i.description1.touched),t.xp6(1),t.Q6J("ngIf",i.isAgainstBillBank),t.xp6(2),t.Q6J("ngIf",!i.loaders),t.xp6(1),t.Q6J("ngIf",i.loaders)}}let rp=(()=>{class o{constructor(e,n,i,a,s,c,d){this.fb=e,this.posService=n,this.toastr=i,this.router=a,this.transactionService=s,this.commonService=c,this.posCartService=d,this.customerControlName="payment_account",this.customerControl=new l.NI,this.payerControl=new l.NI,this.saleBillControl=new l.NI,this.modalClose=new t.vpe,this.minDate="",this.maxDate="",this.bankMinDate="",this.bankMaxDate="",this.transactionMinDate="",this.transactionMaxDate="",this.isCart=!1,this.isCartBank=!1,this.isAgainstBill=!1,this.isAgainstBillBank=!1,this.accountList=[],this.saleBillList=[],this.filterSaleBill=[],this.isBank=!1,this.isCash=!0,this.loaders=!1}get h(){return this.recieptVoucherForm.controls}get g(){return this.recieptVoucherBankForm.controls}ngOnInit(){const e=(new Date).toISOString().split("T")[0];this.myControls=new l.Oe([]),this.recieptVoucherForm=this.fb.group({receipt_type:new l.NI("Cash"),payment_account:new l.NI("",[l.kI.required]),date:new l.NI(e),receipt_voucher_no:new l.NI(""),mode_type:new l.NI(""),amount:new l.NI(0),note:new l.NI(""),payer:new l.NI("",[l.kI.required]),receipt_voucher_cart:this.fb.array([])}),this.recieptVoucherBankForm=this.fb.group({receipt_type:new l.NI("Bank"),payment_account:new l.NI("",[l.kI.required]),date:new l.NI(e),receipt_voucher_no:new l.NI(""),mode_type:new l.NI(""),amount:new l.NI(0),note:new l.NI(""),payer:new l.NI("",[l.kI.required]),bank_payment:new l.NI(""),transaction_id:new l.NI(""),transaction_date:new l.NI(e),receipt_voucher_cart:this.fb.array([])}),this.filteredCustomer=this.customerControl.valueChanges.pipe((0,C.O)(""),(0,G.U)(i=>this._filter(i,!0))),this.filteredPayer=this.payerControl.valueChanges.pipe((0,C.O)(""),(0,G.U)(i=>this._filterr(i,!0)));const n=localStorage.getItem("financialYear");this.dateValidation(n),this.bankDateValidation(n),this.bankTransactionDateValidation(n),this.getAccount(),this.getSaleBill(),this.getprefix()}dateValidation(e){const n=this.recieptVoucherForm.get("date"),{formattedMinDate:i,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.minDate=i,this.maxDate=a}bankDateValidation(e){const n=this.recieptVoucherBankForm.get("date"),{formattedMinDate:i,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.bankMinDate=i,this.bankMaxDate=a}bankTransactionDateValidation(e){const n=this.recieptVoucherBankForm.get("transaction_date"),{formattedMinDate:i,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.transactionMinDate=i,this.transactionMaxDate=a}getprefix(){this.transactionService.getReceiptVoucherPrefix().subscribe(e=>{console.log(e),e.success?(this.prefixNo=e?.data,this.recieptVoucherForm.get("receipt_voucher_no").patchValue(this.prefixNo[0]?.id),this.recieptVoucherBankForm.get("receipt_voucher_no").patchValue(this.prefixNo[0]?.id)):this.toastr.error(e.msg)},e=>{this.toastr.error(e.error.msg)})}cart(){return this.fb.group({sale_bill:new l.NI(0),original_amount:new l.NI(0),paid_amount:new l.NI(0),pending_amount:new l.NI(0),payment:new l.NI(0)})}getCart(){return this.recieptVoucherForm.get("receipt_voucher_cart")}addCart(){this.getCart().push(this.cart()),this.myControls.push(new l.NI("")),this.isCart=!1}removeCart(e){this.getCart().removeAt(e),0==e&&(this.isCart=!0)}getCartBank(){return this.recieptVoucherBankForm.get("receipt_voucher_cart")}addCartBank(){this.getCartBank().push(this.cart()),this.myControls.push(new l.NI("")),this.isCartBank=!1}removeCartBank(e){this.getCartBank().removeAt(e),0==this.recieptVoucherBankForm?.value?.receipt_voucher_cart?.length&&(this.isCartBank=!0)}setRadioValue(e){this.recieptVoucherForm.get("mode_type").setValue(e),"Against Bill"==e?(this.isAgainstBill=!0,this.recieptVoucherForm.get("receipt_voucher_cart").clear(),this.addCart()):this.isAgainstBill=!1}setRadioValue1(e){this.recieptVoucherBankForm.get("mode_type").setValue(e),"Against Bill"==e?(this.isAgainstBillBank=!0,this.recieptVoucherBankForm.get("receipt_voucher_cart").clear(),this.addCartBank()):this.isAgainstBillBank=!1}isLastCart(e){return e===this.getCart().controls.length-1}isLastCartBank(e){return e===this.getCartBank().controls.length-1}getAccount(){this.transactionService.getAccount().subscribe(e=>{this.accountList=e})}getSaleBill(){this.transactionService.getSalesBill().subscribe(e=>{this.saleBillList=e,this.filterSaleBill=e})}getFilter(e){this.filterSaleBill=this.saleBillList.filter(n=>!(!n||!n?.customer_bill_no)&&n?.customer_bill_no.toLowerCase().includes(e)),console.log(this.filterSaleBill)}_filter(e,n){const i="string"==typeof e?e.toLowerCase():e.toString().toLowerCase(),a=this.accountList.filter(n?s=>s?.account_id?.toLowerCase().includes(i):s=>!s?.account_id?.toLowerCase().includes(i));return!n&&0===a.length&&a.push({account:"No data found"}),a}_filterr(e,n){const i="string"==typeof e?e.toLowerCase():e.toString().toLowerCase(),a=this.accountList.filter(n?s=>s?.account_id?.toLowerCase().includes(i):s=>!s?.account_id?.toLowerCase().includes(i));return!n&&0===a.length&&a.push({account:"No data found"}),a}get payment_account(){return this.recieptVoucherForm.get("payment_account")}oncheck(e){this.recieptVoucherForm.patchValue({payment_account:e.id})}oncheck1(e){this.recieptVoucherForm.patchValue({payer:e.id})}oncheck3(e,n){console.log(e),this.recieptVoucherForm.get("receipt_voucher_cart").at(n).patchValue({sale_bill:e?.id,original_amount:e?.original_amount,paid_amount:e?.paid_amount,pending_amount:e?.pending_amount})}oncheckBank(e){this.recieptVoucherBankForm.patchValue({payment_account:e.id})}oncheckBank1(e){this.recieptVoucherBankForm.patchValue({payer:e.id})}oncheckBank3(e,n){this.recieptVoucherBankForm.get("receipt_voucher_cart").at(n).patchValue({sale_bill:e?.id,original_amount:e?.original_amount,paid_amount:e?.paid_amount,pending_amount:e?.pending_amount})}toggleBank(){this.isBank=!0,this.isCash=!1,this.customerControl.reset(),this.payerControl.reset()}toggleCash(){this.isBank=!1,this.isCash=!0,this.customerControl.reset(),this.payerControl.reset()}onSubmit(){if(console.log(this.recieptVoucherForm.value),this.recieptVoucherForm.valid){const e=new FormData;e.append("receipt_type",this.recieptVoucherForm.get("receipt_type")?.value),e.append("payment_account",this.recieptVoucherForm.get("payment_account")?.value),e.append("date",this.recieptVoucherForm.get("date")?.value),e.append("receipt_voucher_no",this.recieptVoucherForm.get("receipt_voucher_no")?.value),e.append("mode_type",this.recieptVoucherForm.get("mode_type")?.value),e.append("amount",this.recieptVoucherForm.get("amount")?.value),e.append("note",this.recieptVoucherForm.get("note")?.value),e.append("payer",this.recieptVoucherForm.get("payer")?.value),e.append("tax_percentage",""),e.append("tax_amount",""),e.append("place_of_supply","");const n=this.recieptVoucherForm.get("receipt_voucher_cart"),i=[];n.controls.forEach(a=>{const s=a,c={};Object.keys(s.controls).forEach(d=>{const p=s.controls[d];c[d]=isNaN(p.value)?p.value:parseFloat(p.value).toFixed(2)}),i.push(c)}),e.append("receipt_voucher_cart",JSON.stringify(i)),this.loaders=!0,this.transactionService.addRecieptVoucher(e).subscribe(a=>{this.loaders=!1,a.success?(this.toastr.success(a.msg),this.recieptVoucherForm.reset(),this.customerControl.setValue(""),this.payerControl.setValue(""),this.modalClose.next(new Date)):(this.loaders=!1,a.error?.mode_type&&(this.toastr.error("Select Mode Type",a.error?.mode_type[0]),this.modeError=a.error?.mode_type[0],setTimeout(()=>{this.modeError=""},5e3)))},a=>{this.loaders=!1})}else this.recieptVoucherForm.markAllAsTouched(),this.toastr.error("Please Fill All The Required Fields")}onBankSubmit(){if(console.log(this.recieptVoucherBankForm.value),this.recieptVoucherBankForm.valid){const e=new FormData;e.append("receipt_type",this.recieptVoucherBankForm.get("receipt_type")?.value),e.append("payment_account",this.recieptVoucherBankForm.get("payment_account")?.value),e.append("date",this.recieptVoucherBankForm.get("date")?.value),e.append("receipt_voucher_no",this.recieptVoucherBankForm.get("receipt_voucher_no")?.value),e.append("mode_type",this.recieptVoucherBankForm.get("mode_type")?.value),e.append("amount",this.recieptVoucherBankForm.get("amount")?.value),e.append("note",this.recieptVoucherBankForm.get("note")?.value),e.append("payer",this.recieptVoucherBankForm.get("payer")?.value),e.append("bank_payment",this.recieptVoucherBankForm.get("bank_payment")?.value),e.append("transaction_id",this.recieptVoucherBankForm.get("transaction_id")?.value),e.append("transaction_date",this.recieptVoucherBankForm.get("transaction_date")?.value);const n=this.recieptVoucherBankForm.get("receipt_voucher_cart"),i=[];n.controls.forEach(a=>{const s=a,c={};Object.keys(s.controls).forEach(d=>{const p=s.controls[d];c[d]=isNaN(p.value)?p.value:parseFloat(p.value).toFixed(2)}),i.push(c)}),e.append("receipt_voucher_cart",JSON.stringify(i)),this.loaders=!0,this.posCartService.addPosRecieptVoucher(e).subscribe(a=>{this.loaders=!1,a.success?(this.toastr.success(a.msg),this.recieptVoucherBankForm.reset(),this.customerControl.setValue(""),this.payerControl.setValue(""),this.modalClose.next(new Date)):(this.loaders=!1,a.error?.mode_type&&(this.toastr.error("Select Mode Type",a.error?.mode_type[0]),this.modeError=a.error?.mode_type[0],setTimeout(()=>{this.modeError=""},5e3)))},a=>{this.loaders=!1})}else console.log("invalid"),this.recieptVoucherBankForm.markAllAsTouched(),this.toastr.error("Please Fill All The Required Fields")}get date1(){return this.recieptVoucherBankForm.get("date")}get payer1(){return this.recieptVoucherBankForm.get("payer")}get amount1(){return this.recieptVoucherBankForm.get("amount")}get description1(){return this.recieptVoucherBankForm.get("note")}get receipt_voucher_no1(){return this.recieptVoucherBankForm.get("receipt_voucher_no")}get mode_type1(){return this.recieptVoucherBankForm.get("mode_type")}sale_bill1(e){return this.getCartBank().controls[e].get("sale_bill")}original_amount1(e){return this.getCartBank().controls[e].get("original_amount")}paid_amount1(e){return this.getCartBank().controls[e].get("paid_amount")}pending_amount1(e){return this.getCartBank().controls[e].get("pending_amount")}payment1(e){return this.getCartBank().controls[e].get("payment")}get bank_payment(){return this.recieptVoucherBankForm.get("bank_payment")}get transaction_id(){return this.recieptVoucherBankForm.get("transaction_id")}get transaction_date(){return this.recieptVoucherBankForm.get("transaction_date")}get date(){return this.recieptVoucherForm.get("date")}get payer(){return this.recieptVoucherForm.get("payer")}get amount(){return this.recieptVoucherForm.get("amount")}get description(){return this.recieptVoucherForm.get("note")}get receipt_voucher_no(){return this.recieptVoucherForm.get("receipt_voucher_no")}get mode_type(){return this.recieptVoucherForm.get("mode_type")}sale_bill(e){return this.getCart().controls[e].get("sale_bill")}original_amount(e){return this.getCart().controls[e].get("original_amount")}paid_amount(e){return this.getCart().controls[e].get("paid_amount")}pending_amount(e){return this.getCart().controls[e].get("pending_amount")}payment(e){return this.getCart().controls[e].get("payment")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(Bu.v),t.Y36(ve._W),t.Y36(E.F0),t.Y36(fe.p),t.Y36(Ge.R),t.Y36(Wt))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-pos-add-receipts-voucher"]],outputs:{modalClose:"modalClose"},decls:2,vars:2,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"d-flex","mb-5"],[1,"d-flex","mx-3"],["type","radio","formControlName","receipt_type",3,"id","value","click"],[1,"d_flex",2,"margin-bottom","0","margin-left","5px",3,"for"],["type","radio",3,"id","value","click"],[1,"row"],[1,"col-lg-4","col-md-6","col-12"],[1,"form-group"],[1,"w-100",2,"padding","0","width","100%","min-width","100%","border-top","none"],["type","text","placeholder","Search Payment Account","aria-label","Payment Account","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","ngClass"],["auto","matAutocomplete"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"col-lg-4","col-sm-4","col-12"],["type","date","formControlName","date","id","date",3,"ngClass"],[1,"col-lg-12","col-sm-12","col-12"],[1,"col-sm-4","col-12"],[1,"card","mb-0","h-100",3,"click"],[1,"d-flex"],["type","radio","formControlName","mode_type","id","on-account-radio",3,"value","ngStyle"],["for","on-account-radio",1,"d_flex",2,"margin-bottom","0","margin-left","15px"],[2,"margin-left","33px","font-size","12px"],["type","radio","formControlName","mode_type","id","advance-payment-radio",3,"value","ngStyle"],["for","advance-payment-radio",1,"d_flex",2,"margin-bottom","0","margin-left","15px"],[2,"font-size","12px"],["type","radio","formControlName","mode_type","id","against-bill-radio",3,"value","ngStyle"],["for","against-bill-radio",1,"d_flex",2,"margin-bottom","0","margin-left","15px"],["formControlName","receipt_voucher_no"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","amount","id","amount",3,"ngClass"],["type","text","placeholder","Search Payer","aria-label","Payer","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","ngClass"],["Payerauto","matAutocomplete"],["formControlName","note","placeholder","Enter Description",3,"ngClass"],[1,"col-lg-12"],["class","btn btn-submit me-2",4,"ngIf"],["class","btn btn-submit me-2","type","submit","disabled","",4,"ngIf"],["routerLink","//transaction/recieptVoucherList","type","button",1,"btn","btn-cancel"],[2,"color","#FF9F43",3,"value","onSelectionChange"],[3,"value",4,"ngIf"],["class","is-loading",4,"ngIf"],[3,"value"],["routerLink","//account/accountlist",2,"color","#FF9F43"],[1,"is-loading"],[1,"text-danger"],[1,"table-responsive"],[1,"table","datanew"],["colspan","3"],["class","debitIntoCart",3,"click",4,"ngIf"],["formArrayName","receipt_voucher_cart"],[4,"ngFor","ngForOf"],[1,"debitIntoCart",3,"click"],[3,"formGroupName"],[1,"me-2"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-circle",2,"color","red",3,"click"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],["style","color:green","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","class","bi bi-plus-circle","viewBox","0 0 16 16",3,"click",4,"ngIf"],[1,"form-group",2,"margin-bottom","-1%"],["type","text","placeholder","Search saleBill","aria-label","Search saleBills","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","input"],["autos","matAutocomplete"],["class","text-danger","style","display: block;",4,"ngIf"],["type","number","formControlName","original_amount",1,"input"],["type","number","formControlName","paid_amount",1,"input"],["type","number","formControlName","pending_amount",1,"input"],["type","number","formControlName","payment",1,"input"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-circle",2,"color","green",3,"click"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngIf"],["routerLink","//sales/addsalesbill",2,"color","#FF9F43"],[1,"text-danger",2,"display","block"],[1,"btn","btn-submit","me-2"],["type","submit","disabled","",1,"btn","btn-submit","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","radio",3,"id","click"],[1,"col-lg-3","col-md-6","col-12"],["type","text","placeholder","Search Customer","aria-label","Customer","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","ngClass"],["autobank","matAutocomplete"],[1,"col-lg-3","col-sm-4","col-12"],["type","date","formControlName","transaction_date","id","transaction_date",3,"ngClass"],["type","text","formControlName","transaction_id","placeholder","Enter Transaction Id","id","transaction_id",3,"ngClass"],[1,"d-flex","mt-4"],["type","radio","formControlName","bank_payment",3,"id","value"],["type","radio","formControlName","mode_type","id","on-account-radio",3,"value"],["type","radio","formControlName","mode_type","id","advance-payment-radio",3,"value"],["type","radio","formControlName","mode_type","id","against-bill-radio",3,"value"],["type","number","formControlName","amount","placeholder","Enter Amount","id","amount",3,"ngClass"],["Payerautobank","matAutocomplete"],["autosBankCart","matAutocomplete"]],template:function(e,n){1&e&&(t.YNc(0,x_,104,64,"div",0),t.YNc(1,ip,122,67,"div",0)),2&e&&(t.Q6J("ngIf",n.isCash),t.xp6(1),t.Q6J("ngIf",n.isBank))},dependencies:[P.mk,P.sg,P.O5,P.PC,E.rH,E.yS,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l._,l.JJ,l.JL,l.oH,l.sg,l.u,l.x0,l.CE,nt.XC,nt.ZL,ye.ey,Ce.KE,Ae.Nt,P.Ov],styles:[".ng-dirty.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%], .ng-untouched.ng-pristine.ng-valid.cdk-text-field-autofill-monitored.is-invalid[_ngcontent-%COMP%]{border:1px solid red}select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}.select[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:40%;font-size:14px;font-weight:500;color:#637381;padding:10px 8px;border-radius:5px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.cdk-overlay-pane[_ngcontent-%COMP%]{width:300.85px!important}a[_ngcontent-%COMP%]{text-decoration:none;color:#ff9f43}@media (max-width: 1023px){h5[_ngcontent-%COMP%]{font-size:13px}}.table[_ngcontent-%COMP%]   th.product-name[_ngcontent-%COMP%]{width:40%}.table[_ngcontent-%COMP%]   th.qty[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th.mrp[_ngcontent-%COMP%]{width:10%}.form-control[_ngcontent-%COMP%]{border-bottom:1px solid #9c9c9c;border-top:none;border-right:none;border-left:none;font-size:15px;color:#606060;border-radius:0;padding-left:2px}.space-text[_ngcontent-%COMP%]{white-space:pre-wrap!important}.circle[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;border-radius:50%;border:1px solid #FF9F43;text-align:center;line-height:16px;color:#ff9f43}.button[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;display:flex;padding:10px 15px;border-radius:5px;justify-content:space-between;align-items:center;background:white}input[type=radio][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#e27005}"]}),o})();var ap=A(72170);function sp(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",31),t.NdJ("onSelectionChange",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw();return t.KtG(a.oncheck(i))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.account_id),t.xp6(1),t.Oqu(null==e?null:e.account_id)}}function lp(o,r){if(1&o&&(t.ynx(0),t.YNc(1,sp,2,2,"mat-option",30),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active)}}function cp(o,r){1&o&&(t.TgZ(0,"mat-option",32)(1,"a",33),t._uU(2,"+ Add Account"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function dp(o,r){1&o&&(t.TgZ(0,"mat-option",34),t._uU(1,"Please Enter 1 or more characters"),t.qZA())}function up(o,r){if(1&o&&(t.ynx(0),t.YNc(1,cp,3,1,"mat-option",19),t.YNc(2,dp,2,0,"mat-option",20),t.BQk()),2&o){const e=r.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.fromAccountControl.value?null:n.fromAccountControl.value.length)<3)}}function _p(o,r){1&o&&(t.TgZ(0,"span",35),t._uU(1,"Select Account "),t.qZA())}function pp(o,r){1&o&&(t.TgZ(0,"span",35),t._uU(1,"Select Date "),t.qZA())}function mp(o,r){if(1&o&&(t.TgZ(0,"option",32),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.prefix)}}function hp(o,r){1&o&&(t.TgZ(0,"span",35),t._uU(1,"Enter Credit Note Series"),t.qZA())}function gp(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",31),t.NdJ("onSelectionChange",function(){t.CHM(e);const i=t.oxw().$implicit,a=t.oxw();return t.KtG(a.oncheck2(i))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.id," ")}}function fp(o,r){if(1&o&&(t.ynx(0),t.YNc(1,gp,2,2,"mat-option",30),t.BQk()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==(null==e?null:e.is_active))}}function vp(o,r){1&o&&(t.TgZ(0,"mat-option",32)(1,"a",36),t._uU(2,"+ Add sale Bill"),t.qZA()()),2&o&&t.Q6J("value","No data found")}function yp(o,r){1&o&&(t.TgZ(0,"mat-option",34),t._uU(1," Please Enter 1 or more characters "),t.qZA())}function Cp(o,r){1&o&&(t.TgZ(0,"span",35),t._uU(1,"Select Sale Bill No. "),t.qZA())}function Ap(o,r){1&o&&(t.TgZ(0,"span",35),t._uU(1,"Enter Reason"),t.qZA())}function bp(o,r){1&o&&(t.TgZ(0,"span",35),t._uU(1,"Enter Round Off"),t.qZA())}function xp(o,r){1&o&&(t.TgZ(0,"span",35),t._uU(1,"Enter Tax ex: (1-100)"),t.qZA())}function Zp(o,r){1&o&&(t.TgZ(0,"span",35),t._uU(1,"Enter Total"),t.qZA())}function Tp(o,r){1&o&&(t.TgZ(0,"span",35),t._uU(1,"Enter Note"),t.qZA())}function Pp(o,r){1&o&&(t.TgZ(0,"button",37),t._uU(1,"Submit"),t.qZA())}function qp(o,r){1&o&&(t.TgZ(0,"button",38),t._UZ(1,"span",39),t._uU(2,"\xa0 Submit"),t.qZA())}const Xt=function(o){return{"is-invalid":o}};let Np=(()=>{class o{constructor(e,n,i,a,s,c,d){this.fb=e,this.transactionService=n,this.saleService=i,this.toastr=a,this.router=s,this.commonService=c,this.posCartService=d,this.minDate="",this.maxDate="",this.modalClose=new t.vpe,this.fromAccountControl=new l.NI,this.billControl=new l.NI,this.accountList=[],this.saleBillList=[],this.FiltersaleBillList=[],this.dateError=null,this.loaders=!1}get f(){return this.debitNoteForm.controls}ngOnInit(){const e=(new Date).toISOString().split("T")[0];this.debitNoteForm=this.fb.group({account:new l.NI("",[l.kI.required]),date:new l.NI(e,[l.kI.required]),credit_note_no:new l.NI(""),sale_bill_no:new l.NI("",[l.kI.required]),reason:new l.NI(""),roundoff:new l.NI(""),tax:new l.NI("",[l.kI.pattern(/^(100|[0-9]{1,2})$/)]),note:new l.NI(""),total:new l.NI(""),status:new l.NI("")}),this.getAccount(),this.getprefix(),this.getSaleBill(),this.filteredFromAccount=this.fromAccountControl.valueChanges.pipe((0,C.O)(""),(0,G.U)(i=>this._filter(i,!0)));const n=localStorage.getItem("financialYear");this.dateValidation(n)}dateValidation(e){const n=this.debitNoteForm.get("date"),{formattedMinDate:i,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.minDate=i,this.maxDate=a}getprefix(){this.transactionService.getCreditNotePrefix().subscribe(e=>{console.log(e),e.success?(this.prefixNo=e?.data,this.debitNoteForm.get("credit_note_no").patchValue(this.prefixNo[0]?.id)):this.toastr.error(e.msg)},e=>{this.toastr.error(e.error.msg)})}getAccount(){this.transactionService.getAccount().subscribe(e=>{this.accountList=e})}getSaleBill(){this.saleService.getSalesBill().subscribe(e=>{this.saleBillList=e})}getFilterBill(e){this.FiltersaleBillList=this.saleBillList.filter(n=>!(!n||!n?.customer_bill_no)&&n?.customer_bill_no.toLowerCase().includes(e)),console.log(this.FiltersaleBillList)}_filter(e,n){const i="string"==typeof e?e.toLowerCase():e.toString().toLowerCase(),a=this.accountList.filter(n?s=>s?.account_id?.toLowerCase().includes(i):s=>!s?.account_id?.toLowerCase().includes(i));return!n&&0===a.length&&a.push({account:"No data found"}),a}calculateTax(){this.totals=this.taxs?(this.amounts+(this.amounts-this.amounts*(100/(100+this.taxs)))).toFixed(2):this.amounts.toFixed(2)}oncheck(e){this.debitNoteForm.patchValue({account:e.id})}oncheck2(e){console.log(e),this.debitNoteForm.patchValue({sale_bill_no:e.id})}submit(){if(this.debitNoteForm.valid){this.loaders=!0;const e=new FormData;e.append("account",this.debitNoteForm.get("account")?.value),e.append("sale_bill_no",this.debitNoteForm.get("sale_bill_no")?.value),e.append("date",this.debitNoteForm.get("date")?.value),e.append("credit_note_no",this.debitNoteForm.get("credit_note_no")?.value),e.append("reason",this.debitNoteForm.get("reason")?.value),e.append("roundoff",this.debitNoteForm.get("roundoff")?.value),e.append("note",this.debitNoteForm.get("note")?.value),e.append("tax",this.debitNoteForm.get("tax")?.value),e.append("total",this.debitNoteForm.get("total")?.value),e.append("pos_bill",""),e.append("type",""),this.posCartService.addPosCreditNoteList(e).subscribe(n=>{this.loaders=!1,this.addRes=n,this.addRes.success?(this.toastr.success(this.addRes.msg),this.debitNoteForm.reset(),this.billControl.setValue(""),this.fromAccountControl.setValue(""),this.modalClose.next(new Date)):this.loaders=!1},n=>{this.loaders=!1})}else this.debitNoteForm.markAllAsTouched(),this.toastr.error("Please Fill All The Required Fields")}get account(){return this.debitNoteForm.get("account")}get date(){return this.debitNoteForm.get("date")}get credit_note_no(){return this.debitNoteForm.get("credit_note_no")}get reason(){return this.debitNoteForm.get("reason")}get sale_bill_no(){return this.debitNoteForm.get("sale_bill_no")}get tax(){return this.debitNoteForm.get("tax")}get note(){return this.debitNoteForm.get("note")}get total(){return this.debitNoteForm.get("total")}get roundoff(){return this.debitNoteForm.get("roundoff")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(fe.p),t.Y36(ap.M),t.Y36(ve._W),t.Y36(E.F0),t.Y36(Ge.R),t.Y36(Wt))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-pos-add-credit-note"]],outputs:{modalClose:"modalClose"},decls:79,vars:46,consts:[[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-4","col-md-6","col-12"],[1,"form-group"],[1,"w-100",2,"padding","0","width","100%","min-width","100%","border-top","none"],["type","text","placeholder","Select From Account","aria-label","from_account","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"col-lg-4","col-sm-4","col-12"],["type","date","formControlName","date","id","date",3,"ngClass"],["formControlName","credit_note_no"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Search Sale Bill","aria-label","Search sale Bills","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","input"],["autos","matAutocomplete"],[3,"value",4,"ngIf"],["class","is-loading",4,"ngIf"],["type","text","formControlName","reason","placeholder","Enter Reason",3,"ngClass"],["type","number","formControlName","roundoff","placeholder","Enter Round off",3,"ngClass"],["type","number","formControlName","tax","placeholder","Enter Tax",3,"ngClass"],["type","number","formControlName","total","placeholder","Enter Total","id","total",3,"ngClass"],["formControlName","note","placeholder","Enter Note",3,"ngClass"],[1,"col-lg-12"],["class","btn btn-submit me-2",4,"ngIf"],["class","btn btn-submit me-2","type","submit","disabled","",4,"ngIf"],["routerLink","//transaction/creditnoteList",1,"btn","btn-cancel","text-white"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngIf"],[2,"color","#FF9F43",3,"value","onSelectionChange"],[3,"value"],["routerLink","//account/accountlist",2,"color","#FF9F43"],[1,"is-loading"],[1,"text-danger"],["routerLink","///sales/addsalesbill",2,"color","#FF9F43"],[1,"btn","btn-submit","me-2"],["type","submit","disabled","",1,"btn","btn-submit","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return n.submit()}),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"label"),t._uU(7,"Account Name*"),t.qZA(),t.TgZ(8,"mat-form-field",6),t._UZ(9,"input",7),t.TgZ(10,"mat-autocomplete",null,8),t.YNc(12,lp,2,1,"ng-container",9),t.ALo(13,"async"),t.YNc(14,up,3,2,"ng-container",10),t.ALo(15,"async"),t.qZA()(),t.YNc(16,_p,2,0,"span",11),t.qZA()(),t.TgZ(17,"div",12)(18,"div",5)(19,"label"),t._uU(20,"Credit Note Date*"),t.qZA(),t._UZ(21,"input",13),t.YNc(22,pp,2,0,"span",11),t.qZA()(),t.TgZ(23,"div",12)(24,"div",5)(25,"label"),t._uU(26,"Credit Note Series"),t.qZA(),t.TgZ(27,"select",14)(28,"option",15),t._uU(29,"Select Credit Note Series"),t.qZA(),t.YNc(30,mp,2,2,"option",16),t.qZA(),t.YNc(31,hp,2,0,"span",11),t.qZA()(),t.TgZ(32,"div",12)(33,"div",5)(34,"label"),t._uU(35,"Select Sale Bill*"),t.qZA(),t.TgZ(36,"mat-form-field",6)(37,"input",17),t.NdJ("input",function(a){return n.getFilterBill(a.target.value)}),t.qZA(),t.TgZ(38,"mat-autocomplete",null,18),t.YNc(40,fp,2,1,"ng-container",9),t.YNc(41,vp,3,1,"mat-option",19),t.YNc(42,yp,2,0,"mat-option",20),t.qZA()(),t.YNc(43,Cp,2,0,"span",11),t.qZA()(),t.TgZ(44,"div",12)(45,"div",5)(46,"label"),t._uU(47,"Reason"),t.qZA(),t._UZ(48,"input",21),t.YNc(49,Ap,2,0,"span",11),t.qZA()(),t.TgZ(50,"div",12)(51,"div",5)(52,"label"),t._uU(53,"Round Off"),t.qZA(),t._UZ(54,"input",22),t.YNc(55,bp,2,0,"span",11),t.qZA()(),t.TgZ(56,"div",12)(57,"div",5)(58,"label"),t._uU(59,"Tax %"),t.qZA(),t._UZ(60,"input",23),t.YNc(61,xp,2,0,"span",11),t.qZA()(),t.TgZ(62,"div",12)(63,"div",5)(64,"label"),t._uU(65,"Total"),t.qZA(),t._UZ(66,"input",24),t.YNc(67,Zp,2,0,"span",11),t.qZA()(),t.TgZ(68,"div",12)(69,"div",5)(70,"label"),t._uU(71,"Note"),t.qZA(),t._UZ(72,"textarea",25),t.YNc(73,Tp,2,0,"span",11),t.qZA()(),t.TgZ(74,"div",26),t.YNc(75,Pp,2,0,"button",27),t.YNc(76,qp,3,0,"button",28),t.TgZ(77,"a",29),t._uU(78,"Cancel"),t.qZA()()()()()()),2&e){const i=t.MAs(11),a=t.MAs(39);t.xp6(2),t.Q6J("formGroup",n.debitNoteForm),t.xp6(7),t.Q6J("formControl",n.fromAccountControl)("matAutocomplete",i),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,30,n.filteredFromAccount)),t.xp6(2),t.Q6J("ngIf",t.lcZ(15,32,n.filteredFromAccount)),t.xp6(2),t.Q6J("ngIf",n.account&&n.account.invalid&&n.account.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(34,Xt,n.f.date.touched&&n.f.date.invalid)),t.uIk("min",n.minDate)("max",n.maxDate),t.xp6(1),t.Q6J("ngIf",n.date&&n.date.invalid&&n.date.touched),t.xp6(8),t.Q6J("ngForOf",n.prefixNo),t.xp6(1),t.Q6J("ngIf",n.credit_note_no&&n.credit_note_no.invalid&&n.credit_note_no.touched),t.xp6(6),t.Q6J("formControl",n.billControl)("matAutocomplete",a),t.xp6(3),t.Q6J("ngForOf",n.FiltersaleBillList),t.xp6(1),t.Q6J("ngIf",0===(null==n.FiltersaleBillList?null:n.FiltersaleBillList.length)),t.xp6(1),t.Q6J("ngIf",(null==n.billControl||null==n.billControl.value?null:n.billControl.value.length)<1),t.xp6(1),t.Q6J("ngIf",n.sale_bill_no&&n.sale_bill_no.invalid&&n.sale_bill_no.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(36,Xt,n.f.reason.touched&&n.f.reason.invalid)),t.xp6(1),t.Q6J("ngIf",n.reason&&n.reason.invalid&&n.reason.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(38,Xt,n.f.roundoff.touched&&n.f.roundoff.invalid)),t.xp6(1),t.Q6J("ngIf",n.roundoff&&n.roundoff.invalid&&n.roundoff.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(40,Xt,n.f.tax.touched&&n.f.tax.invalid)),t.xp6(1),t.Q6J("ngIf",n.tax&&n.tax.invalid&&n.tax.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(42,Xt,n.f.total.touched&&n.f.total.invalid)),t.xp6(1),t.Q6J("ngIf",n.total&&n.total.invalid&&n.total.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(44,Xt,n.f.note.touched&&n.f.note.invalid)),t.xp6(1),t.Q6J("ngIf",n.tax&&n.tax.invalid&&n.tax.touched),t.xp6(2),t.Q6J("ngIf",!n.loaders),t.xp6(1),t.Q6J("ngIf",n.loaders)}},dependencies:[P.mk,P.sg,P.O5,E.yS,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.oH,l.sg,l.u,nt.XC,nt.ZL,ye.ey,Ce.KE,Ae.Nt,P.Ov],styles:[".ng-dirty.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%], .mat-autocomplete-trigger.mat-input-element.mat-form-field-autofill-control.ng-tns-c116-0.ng-untouched.ng-pristine.ng-valid.cdk-text-field-autofill-monitored.is-invalid[_ngcontent-%COMP%], .ng-pristine.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}textarea[_ngcontent-%COMP%]{height:40px}select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=datetime-local][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]{position:relative;display:inline-block}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .selected-items[_ngcontent-%COMP%]{display:inline-block;padding:6px;border:1px solid #ccc;border-radius:4px;background-color:#fff;cursor:pointer}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-list-container[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:9999;width:100%;padding:6px;border:1px solid #ccc;border-top:none;border-radius:0 0 4px 4px;background-color:#fff;box-shadow:0 2px 4px #0003}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-list-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px;cursor:pointer}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-list-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.cdk-overlay-pane[_ngcontent-%COMP%]{width:300.85px!important}a[_ngcontent-%COMP%]{text-decoration:none;color:#ff9f43}@media (max-width: 1023px){h5[_ngcontent-%COMP%]{font-size:13px}}.table[_ngcontent-%COMP%]   th.product-name[_ngcontent-%COMP%]{width:40%}.table[_ngcontent-%COMP%]   th.qty[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th.mrp[_ngcontent-%COMP%]{width:10%}.form-control[_ngcontent-%COMP%]{border-bottom:1px solid #9c9c9c;border-top:none;border-right:none;border-left:none;font-size:15px;color:#606060;border-radius:0;padding-left:2px}.space-text[_ngcontent-%COMP%]{white-space:pre-wrap!important}.circle[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;border-radius:50%;border:1px solid #FF9F43;text-align:center;line-height:16px;color:#ff9f43}.button[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;display:flex;padding:10px 15px;border-radius:5px;justify-content:space-between;align-items:center;background:white}"]}),o})();var Ui=A(54333),Ip=A(54040);function Op(o,r){1&o&&(t.TgZ(0,"mat-option",17),t._uU(1,"Loading..."),t.qZA())}function Up(o,r){1&o&&(t.TgZ(0,"mat-option",17),t._uU(1,"Please Enter 3 or"),t.qZA())}function kp(o,r){if(1&o&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.errorMsg)}}function Mp(o,r){if(1&o&&(t.TgZ(0,"mat-option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("value",e),t.xp6(1),t.Oqu(n.displayFn(e))}}function wp(o,r){1&o&&(t.TgZ(0,"mat-option",17),t._uU(1,"Please Enter 3 or more characters"),t.qZA())}function Sp(o,r){1&o&&(t.TgZ(0,"mat-option",17),t._uU(1,"Loading..."),t.qZA())}function Ep(o,r){if(1&o&&(t.TgZ(0,"mat-option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("value",e),t.xp6(1),t.hij(" ",n.displayCus(e)," ")}}const ot=function(){return{standalone:!0}};function Fp(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",269)(1,"textarea",270),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw().$implicit;return t.KtG(a.notes=i)}),t.qZA()()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",e.notes)("ngModelOptions",t.DdM(2,ot))}}function Jp(o,r){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().index,n=t.oxw();t.xp6(1),t.Oqu(n.selectedDiscount[e])}}function Dp(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"i",271),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(),a=i.index,s=i.$implicit,c=t.oxw();return c.openModalDiscount(a),t.KtG(c.freeItemBatch(s,a))}),t.qZA(),t.BQk()}}function Vp(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"i",271),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw();return t.KtG(a.openModalDiscount(i))}),t.qZA(),t.BQk()}}function Yp(o,r){1&o&&(t.TgZ(0,"thead")(1,"tr")(2,"th",272),t._uU(3,"Sr.No. "),t.qZA(),t.TgZ(4,"th",272),t._uU(5,"Offer Type"),t.qZA(),t.TgZ(6,"th",272),t._uU(7,"Free Items"),t.qZA(),t.TgZ(8,"th",272),t._uU(9,"Price Range"),t.qZA(),t.TgZ(10,"th",272),t._uU(11,"Invoice Amount"),t.qZA(),t.TgZ(12,"th",272),t._uU(13,"Flat Discount"),t.qZA(),t.TgZ(14,"th",272),t._uU(15,"Action "),t.qZA()()())}function Qp(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",273),t._uU(2),t.qZA(),t.TgZ(3,"td",273),t._uU(4),t.qZA(),t.TgZ(5,"td",273),t._uU(6),t.qZA(),t.TgZ(7,"td",273),t._uU(8),t.qZA(),t.TgZ(9,"td",273),t._uU(10),t.qZA(),t.TgZ(11,"td",273),t._uU(12),t.qZA(),t.TgZ(13,"td")(14,"button",274),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw().index,c=t.oxw();return t.KtG(c.selectDiscount(a,s))}),t._uU(15,"Select"),t.qZA()()()}if(2&o){const e=r.$implicit,n=r.index;t.xp6(2),t.hij("",n+1+"."," "),t.xp6(2),t.hij("",null==e?null:e.discount_offer_type," "),t.xp6(2),t.hij("",null==e||null==e.free_items?null:e.free_items.name," "),t.xp6(2),t.AsE("",null!=e&&e.start_price?null==e?null:e.start_price:""," - ",null!=e&&e.end_price?null==e?null:e.end_price:""," "),t.xp6(2),t.hij(" ",null!=e&&e.invoice_amount?null==e?null:e.invoice_amount:"-"," "),t.xp6(2),t.AsE("",null!=e&&e.flat_discount?null==e?null:e.flat_discount:""," ",null!=e&&e.discount_type?e.discount_type:""," ")}}function Lp(o,r){1&o&&(t.TgZ(0,"tbody")(1,"p"),t._uU(2,"Discount Not Available"),t.qZA()())}function Bp(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr",252)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",253)(7,"p",254),t._uU(8),t.TgZ(9,"button",255),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw();return t.KtG(s.setIndexForProductDetails(a))}),t._UZ(10,"i",256),t.qZA()(),t.TgZ(11,"button",257),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw();return t.KtG(s.setIndexForNotes(a))}),t._UZ(12,"i",258),t.qZA()(),t.YNc(13,Fp,2,3,"div",259),t.qZA(),t.TgZ(14,"td")(15,"div",260)(16,"span",261),t.NdJ("click",function(){const i=t.CHM(e),a=i.$implicit,s=i.index,c=t.oxw();return t.KtG(c.decreaseQtyCurrent(a,s))}),t._uU(17,"-"),t.qZA(),t._UZ(18,"input",262),t.TgZ(19,"span",261),t.NdJ("click",function(){const i=t.CHM(e),a=i.$implicit,s=i.index,c=t.oxw();return t.KtG(c.increaseQtyCurrent(a,s))}),t._uU(20,"+"),t.qZA()()(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA(),t.TgZ(25,"td"),t.YNc(26,Jp,2,1,"ng-container",95),t.YNc(27,Dp,2,0,"ng-container",95),t.YNc(28,Vp,2,0,"ng-container",95),t.TgZ(29,"div",263)(30,"div",264)(31,"div",117)(32,"div",118)(33,"h1",265),t._uU(34,"Select Discount"),t.qZA(),t.TgZ(35,"button",266),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw();return t.KtG(s.closeModalDiscount(a))}),t.TgZ(36,"span",267),t._uU(37,"\xd7"),t.qZA()()(),t.TgZ(38,"div",121)(39,"div",122)(40,"div",4)(41,"div",111)(42,"table",112),t.YNc(43,Yp,16,0,"thead",95),t.TgZ(44,"tbody"),t.YNc(45,Qp,16,8,"tr",166),t.qZA(),t.YNc(46,Lp,3,0,"tbody",95),t.qZA()()()()()()()()(),t.TgZ(47,"td"),t._uU(48),t.qZA(),t.TgZ(49,"td"),t._uU(50),t.qZA(),t.TgZ(51,"td"),t._uU(52),t.qZA(),t.TgZ(53,"td")(54,"button",268),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.removeOptionCurrent(a))}),t._UZ(55,"i",71),t.qZA()()()}if(2&o){const e=r.$implicit,n=r.index,i=t.oxw();t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(null==e?null:e.sku),t.xp6(4),t.AsE(" ",null!=e&&null!=e.product&&e.product.title?null==e.product?null:e.product.title:e.product.name," | ",null==e?null:e.variant_name," "),t.xp6(5),t.Q6J("ngIf",i.currentCartIndex1==n),t.xp6(5),t.s9C("value",null==e?null:e.quantity),t.xp6(4),t.hij(" ",null!=e&&null!=e.batch[0]&&e.batch[0].mrp?null==e||null==e.batch[0]?null:e.batch[0].mrp:null==e||null==e.product?null:e.product.mrp," "),t.xp6(2),t.Oqu(null==e||null==e.batch[0]?null:e.batch[0].selling_price_offline),t.xp6(2),t.Q6J("ngIf",i.isDiscountSelect[n]),t.xp6(1),t.Q6J("ngIf",e.product.name),t.xp6(1),t.Q6J("ngIf",e.id>0),t.xp6(1),t.MGl("id","discountModal-",n,""),t.xp6(14),t.Q6J("ngIf",i.discountTyp[i.discountCartIndex]),t.xp6(2),t.Q6J("ngForOf",i.discountTyp[i.discountCartIndex]),t.xp6(1),t.Q6J("ngIf",!i.discountTyp[i.discountCartIndex]),t.xp6(2),t.Oqu(i.getProductAddDisc(null==e?null:e.batch[0])),t.xp6(2),t.Oqu(i.getProductTax(null==e?null:e.batch[0])),t.xp6(2),t.Oqu(i.getNetAmount2(null==e?null:e.batch[0],null==e?null:e.quantity).toFixed(2))}}function $p(o,r){1&o&&(t.TgZ(0,"li")(1,"button",92),t._UZ(2,"i",41),t._uU(3," Sync Orders"),t.qZA()())}function Rp(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Name is required. "),t.qZA())}function Hp(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Rp,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.name.errors?null:e.name.errors.required)}}function Gp(o,r){1&o&&(t.TgZ(0,"div",275),t._uU(1," Mobile No. already exists."),t.qZA())}function Kp(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Mobile No is required. "),t.qZA())}function jp(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Mobile No pattern not match. "),t.qZA())}function zp(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Kp,2,0,"div",95),t.YNc(2,jp,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.mobile_no.errors?null:e.mobile_no.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.mobile_no.errors?null:e.mobile_no.errors.pattern)}}function Wp(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Whatsapp No is required. "),t.qZA())}function Xp(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Whatsapp No pattern not match. "),t.qZA())}function tm(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Wp,2,0,"div",95),t.YNc(2,Xp,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.whatsapp_no.errors?null:e.whatsapp_no.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.whatsapp_no.errors?null:e.whatsapp_no.errors.pattern)}}function em(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," DOB is required. "),t.qZA())}function nm(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,em,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.date_of_birth.errors?null:e.date_of_birth.errors.required)}}function om(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Anniversary Date is required. "),t.qZA())}function im(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,om,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.anniversary_date.errors?null:e.anniversary_date.errors.required)}}function rm(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Email is required. "),t.qZA())}function am(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Email pattern not match. "),t.qZA())}function sm(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,rm,2,0,"div",95),t.YNc(2,am,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.email.errors?null:e.email.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.email.errors?null:e.email.errors.email)}}function lm(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Address 1 is required. "),t.qZA())}function cm(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,lm,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.address_line_1.errors?null:e.address_line_1.errors.required)}}function dm(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Address 2 is required. "),t.qZA())}function um(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,dm,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.address_line_2.errors?null:e.address_line_2.errors.required)}}function _m(o,r){if(1&o&&(t.TgZ(0,"option",284),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e.id)("selected",e.id==n.currentState),t.xp6(1),t.Oqu(null==e?null:e.state)}}function pm(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," State is required. "),t.qZA())}function mm(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,pm,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.state.errors?null:e.state.errors.required)}}function hm(o,r){if(1&o&&(t.TgZ(0,"option",284),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",null==e?null:e.id)("selected",(null==e?null:e.id)==n.currentCities),t.xp6(1),t.Oqu(null==e?null:e.city)}}function gm(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," City is required. "),t.qZA())}function fm(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,gm,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.city.errors?null:e.city.errors.required)}}function vm(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Pincode is required. "),t.qZA())}function ym(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Pincode pattern not match. "),t.qZA())}function Cm(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,vm,2,0,"div",95),t.YNc(2,ym,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.pincode.errors?null:e.pincode.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.pincode.errors?null:e.pincode.errors.pattern)}}function Am(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.label)}}function bm(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," GST Type is required. "),t.qZA())}function xm(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,bm,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.gst_type.errors?null:e.gst_type.errors.required)}}function Zm(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," GSTIN is required. "),t.qZA())}function Tm(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Zm,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.gstin.errors?null:e.gstin.errors.required)}}function Pm(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",4)(2,"div",12)(3,"div",122)(4,"label"),t._uU(5,"Address Line"),t.qZA(),t._UZ(6,"input",276),t.qZA(),t.YNc(7,cm,2,1,"div",131),t.qZA(),t.TgZ(8,"div",12)(9,"div",122)(10,"label"),t._uU(11,"Address Line"),t.qZA(),t._UZ(12,"input",277),t.qZA(),t.YNc(13,um,2,1,"div",131),t.qZA(),t.TgZ(14,"div",12)(15,"div",122)(16,"label"),t._uU(17,"State"),t.qZA(),t.TgZ(18,"select",278),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.onStateChange(i))}),t.TgZ(19,"option",205),t._uU(20,"Select State"),t.qZA(),t.YNc(21,_m,2,3,"option",279),t.qZA()(),t.YNc(22,mm,2,1,"div",131),t.qZA(),t.TgZ(23,"div",12)(24,"div",122)(25,"label"),t._uU(26,"City"),t.qZA(),t.TgZ(27,"select",280),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.onCityChange(i))}),t.TgZ(28,"option",205),t._uU(29,"Select City"),t.qZA(),t.YNc(30,hm,2,3,"option",279),t.qZA()(),t.YNc(31,fm,2,1,"div",131),t.qZA(),t.TgZ(32,"div",12)(33,"div",122)(34,"label"),t._uU(35,"Pincode"),t.qZA(),t._UZ(36,"input",281),t.qZA(),t.YNc(37,Cm,3,2,"div",131),t.qZA()(),t.TgZ(38,"div",4)(39,"div",12)(40,"div",122)(41,"label"),t._uU(42,"GST Type"),t.qZA(),t.TgZ(43,"select",282),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onGstTypeChange())}),t.TgZ(44,"option",205),t._uU(45,"Select GST Type"),t.qZA(),t.YNc(46,Am,2,2,"option",11),t.qZA()(),t.YNc(47,xm,2,1,"div",131),t.qZA(),t.TgZ(48,"div",12)(49,"div",122)(50,"label"),t._uU(51,"GSTIN"),t.qZA(),t._UZ(52,"input",283),t.qZA(),t.YNc(53,Tm,2,1,"div",131),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngIf",e.address_line_1.invalid&&(e.address_line_1.dirty||e.address_line_1.touched)),t.xp6(6),t.Q6J("ngIf",e.address_line_2.invalid&&(e.address_line_2.dirty||e.address_line_2.touched)),t.xp6(8),t.Q6J("ngForOf",e.stateList),t.xp6(1),t.Q6J("ngIf",e.state.invalid&&(e.state.dirty||e.state.touched)),t.xp6(8),t.Q6J("ngForOf",e.cityList),t.xp6(1),t.Q6J("ngIf",e.city.invalid&&(e.city.dirty||e.city.touched)),t.xp6(6),t.Q6J("ngIf",e.pincode.invalid&&(e.pincode.dirty||e.pincode.touched)),t.xp6(9),t.Q6J("ngForOf",e.gstType),t.xp6(1),t.Q6J("ngIf",e.gst_type.invalid&&(e.gst_type.dirty||e.gst_type.touched)),t.xp6(6),t.Q6J("ngIf",e.gstin.invalid&&(e.gstin.dirty||e.gstin.touched))}}function qm(o,r){if(1&o&&(t.TgZ(0,"div",285),t._UZ(1,"input",286),t.TgZ(2,"label",287),t._uU(3),t.qZA()()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("value",e.value),t.xp6(2),t.Oqu(e.label)}}function Nm(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Voucher Type is required. "),t.qZA())}function Im(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Nm,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.voucher_type.errors?null:e.voucher_type.errors.required)}}function Om(o,r){if(1&o&&(t.TgZ(0,"div",285),t._UZ(1,"input",288),t.TgZ(2,"label",287),t._uU(3),t.qZA()()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("value",e.value),t.xp6(2),t.Oqu(e.label)}}function Um(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Payment Type is required. "),t.qZA())}function km(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Um,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.payment_type.errors?null:e.payment_type.errors.required)}}function Mm(o,r){if(1&o&&(t.TgZ(0,"div",21)(1,"div",122)(2,"label",144),t._uU(3,"Select Payment Type"),t.qZA(),t.TgZ(4,"div",146),t.YNc(5,Om,4,2,"div",147),t.qZA()(),t.YNc(6,km,2,1,"div",131),t.qZA()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.paymentType),t.xp6(1),t.Q6J("ngIf",e.payment_type.invalid&&(e.payment_type.dirty||e.payment_type.touched))}}function wm(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij("",e.label," ")}}function Sm(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Payment Mode is required. "),t.qZA())}function Em(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Sm,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.payment_mode.errors?null:e.payment_mode.errors.required)}}function Fm(o,r){if(1&o&&(t.TgZ(0,"div",150)(1,"div",122)(2,"label"),t._uU(3,"Payment Mode"),t.qZA(),t.TgZ(4,"select",201)(5,"option",202),t._uU(6,"-- Select Payment Mode --"),t.qZA(),t.YNc(7,wm,2,2,"option",11),t.qZA()(),t.YNc(8,Em,2,1,"div",131),t.qZA()),2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.paymentMode),t.xp6(1),t.Q6J("ngIf",e.payment_mode.invalid&&(e.payment_mode.dirty||e.payment_mode.touched))}}function Jm(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.dueAmount,"")}}function Dm(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Selecting Sales is required. "),t.qZA())}function Vm(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Dm,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.receipt_sales.errors?null:e.receipt_sales.errors.required)}}function Ym(o,r){if(1&o&&(t.TgZ(0,"div",150)(1,"div",122)(2,"label"),t._uU(3,"Select Sales"),t.qZA(),t.TgZ(4,"select",289)(5,"option",202),t._uU(6,"-- Select Sales --"),t.qZA(),t.YNc(7,Jm,2,2,"option",11),t.qZA()(),t.YNc(8,Vm,2,1,"div",131),t.qZA()),2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.receiptSales),t.xp6(1),t.Q6J("ngIf",e.receipt_sales.invalid&&(e.receipt_sales.dirty||e.receipt_sales.touched))}}function Qm(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Amount is required. "),t.qZA())}function Lm(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Qm,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.amount_receipt.errors?null:e.amount_receipt.errors.required)}}function Bm(o,r){1&o&&(t.TgZ(0,"mat-option",17),t._uU(1," Please Enter 3 or more characters "),t.qZA())}function $m(o,r){1&o&&(t.TgZ(0,"mat-option",17),t._uU(1," Loading... "),t.qZA())}function Rm(o,r){if(1&o&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.cusErrorMsg," ")}}function Hm(o,r){if(1&o&&(t.TgZ(0,"mat-option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e),t.xp6(1),t.hij(" ",n.displayCus(e)," ")}}function Gm(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Customer is required. "),t.qZA())}function Km(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Gm,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.customer_receipt.errors?null:e.customer_receipt.errors.required)}}function jm(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",290)(1,"div",122)(2,"label"),t._uU(3,"Customer"),t.qZA(),t._UZ(4,"input",14),t.TgZ(5,"mat-autocomplete",291,292),t.NdJ("optionSelected",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.optionSelectedReceipt(i))}),t.YNc(7,Bm,2,0,"mat-option",10),t.YNc(8,$m,2,0,"mat-option",10),t.YNc(9,Rm,2,1,"mat-option",10),t.YNc(10,Hm,2,2,"mat-option",11),t.qZA()(),t.YNc(11,Km,2,1,"div",131),t.qZA()}if(2&o){const e=t.MAs(6),n=t.oxw();t.xp6(4),t.Q6J("formControl",n.receiptPaymentForm.get("customer_receipt"))("matAutocomplete",e),t.xp6(3),t.Q6J("ngIf",(null==n.receiptPaymentForm.get("customer_receipt").value?null:n.receiptPaymentForm.get("customer_receipt").value.length)<3),t.xp6(1),t.Q6J("ngIf",n.cusIsLoading),t.xp6(1),t.Q6J("ngIf",n.cusErrorMsg),t.xp6(1),t.Q6J("ngForOf",n.filteredCustomer2),t.xp6(1),t.Q6J("ngIf",n.customer_receipt.invalid&&(n.customer_receipt.dirty||n.customer_receipt.touched))}}function zm(o,r){1&o&&(t.TgZ(0,"mat-option",17),t._uU(1,"Please Enter 3 or more characters"),t.qZA())}function Wm(o,r){1&o&&(t.TgZ(0,"mat-option",17),t._uU(1,"Loading..."),t.qZA())}function Xm(o,r){if(1&o&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(e.cusErrorMsg)}}function th(o,r){if(1&o&&(t.TgZ(0,"mat-option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e),t.xp6(1),t.hij(" ",n.displayParty(e)," ")}}function eh(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Party is required. "),t.qZA())}function nh(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,eh,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.party_receipt.errors?null:e.party_receipt.errors.required)}}function oh(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",290)(1,"div",122)(2,"label"),t._uU(3,"Party"),t.qZA(),t._UZ(4,"input",199),t.TgZ(5,"mat-autocomplete",15,293),t.NdJ("optionSelected",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.optionSelectedParty(i))}),t.YNc(7,zm,2,0,"mat-option",10),t.YNc(8,Wm,2,0,"mat-option",10),t.YNc(9,Xm,2,1,"mat-option",10),t.YNc(10,th,2,2,"mat-option",11),t.qZA()(),t.YNc(11,nh,2,1,"div",131),t.qZA()}if(2&o){const e=t.MAs(6),n=t.oxw();t.xp6(4),t.Q6J("formControl",n.receiptPaymentForm.get("party_receipt"))("matAutocomplete",e),t.xp6(1),t.Q6J("displayWith",n.displayParty),t.xp6(2),t.Q6J("ngIf",(null==n.receiptPaymentForm.get("party_receipt").value?null:n.receiptPaymentForm.get("party_receipt").value.length)<3),t.xp6(1),t.Q6J("ngIf",n.partyIsLoading),t.xp6(1),t.Q6J("ngIf",n.partyErrorMsg),t.xp6(1),t.Q6J("ngForOf",n.filteredParty),t.xp6(1),t.Q6J("ngIf",n.party_receipt.invalid&&(n.party_receipt.dirty||n.party_receipt.touched))}}function ih(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",null==e?null:e.name," ")}}function rh(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Payment Account is required. "),t.qZA())}function ah(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,rh,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.payment_account_receipt.errors?null:e.payment_account_receipt.errors.required)}}function sh(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," UPI ID is required. "),t.qZA())}function lh(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,sh,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.upi_id_receipt.errors?null:e.upi_id_receipt.errors.required)}}function ch(o,r){if(1&o&&(t.TgZ(0,"div",150)(1,"div",122)(2,"label"),t._uU(3,"UPI Id"),t.qZA(),t._UZ(4,"input",294),t.qZA(),t.YNc(5,lh,2,1,"div",131),t.qZA()),2&o){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",e.upi_id_receipt.invalid&&(e.upi_id_receipt.dirty||e.upi_id_receipt.touched))}}function dh(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Account No is required. "),t.qZA())}function uh(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,dh,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.receipt_account_no.errors?null:e.receipt_account_no.errors.required)}}function _h(o,r){if(1&o&&(t.TgZ(0,"div",150)(1,"div",122)(2,"label"),t._uU(3,"Account No"),t.qZA(),t._UZ(4,"input",295),t.qZA(),t.YNc(5,uh,2,1,"div",131),t.qZA()),2&o){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",e.receipt_account_no.invalid&&(e.receipt_account_no.dirty||e.receipt_account_no.touched))}}function ph(o,r){if(1&o&&(t.TgZ(0,"div",4)(1,"div",150)(2,"div",122)(3,"label"),t._uU(4,"Payment Account"),t.qZA(),t.TgZ(5,"select",204)(6,"option",205),t._uU(7,"Select Payment Account"),t.qZA(),t.YNc(8,ih,2,2,"option",11),t.qZA()(),t.YNc(9,ah,2,1,"div",131),t.qZA(),t.YNc(10,ch,6,1,"div",149),t.YNc(11,_h,6,1,"div",149),t.qZA()),2&o){const e=t.oxw();t.xp6(8),t.Q6J("ngForOf",e.companyBankList),t.xp6(1),t.Q6J("ngIf",e.payment_account_receipt.invalid&&(e.payment_account_receipt.dirty||e.payment_account_receipt.touched)),t.xp6(1),t.Q6J("ngIf","UPI"===e.receiptPaymentForm.get("payment_mode").value&&"expense"!==e.receiptPaymentForm.get("voucher_type").value),t.xp6(1),t.Q6J("ngIf","Bank"===e.receiptPaymentForm.get("payment_mode").value)}}function mh(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Customer Bank Name is required. "),t.qZA())}function hh(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,mh,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.receipt_customer_bank_name.errors?null:e.receipt_customer_bank_name.errors.required)}}function gh(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Card Payment Amount is required. "),t.qZA())}function fh(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,gh,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.receipt_card_payment_amount.errors?null:e.receipt_card_payment_amount.errors.required)}}function vh(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Card Holder Name is required. "),t.qZA())}function yh(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,vh,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.receipt_card_holder_name.errors?null:e.receipt_card_holder_name.errors.required)}}function Ch(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Card Transaction No. is required. "),t.qZA())}function Ah(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Ch,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.receipt_cart_transactions_no.errors?null:e.receipt_cart_transactions_no.errors.required)}}function bh(o,r){if(1&o&&(t.TgZ(0,"div",4)(1,"div",150)(2,"div",122)(3,"label"),t._uU(4,"Customer Bank Name"),t.qZA(),t._UZ(5,"input",296),t.qZA(),t.YNc(6,hh,2,1,"div",131),t.qZA(),t.TgZ(7,"div",150)(8,"div",122)(9,"label"),t._uU(10,"Card Payment Amount"),t.qZA(),t._UZ(11,"input",297),t.qZA(),t.YNc(12,fh,2,1,"div",131),t.qZA(),t.TgZ(13,"div",150)(14,"div",122)(15,"label"),t._uU(16,"Card Holder Name"),t.qZA(),t._UZ(17,"input",298),t.qZA(),t.YNc(18,yh,2,1,"div",131),t.qZA(),t.TgZ(19,"div",150)(20,"div",122)(21,"label"),t._uU(22,"Card Transaction No"),t.qZA(),t._UZ(23,"input",299),t.qZA(),t.YNc(24,Ah,2,1,"div",131),t.qZA()()),2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngIf",e.receipt_customer_bank_name.invalid&&(e.receipt_customer_bank_name.dirty||e.receipt_customer_bank_name.touched)),t.xp6(6),t.Q6J("ngIf",e.receipt_card_payment_amount.invalid&&(e.receipt_card_payment_amount.dirty||e.receipt_card_payment_amount.touched)),t.xp6(6),t.Q6J("ngIf",e.receipt_card_holder_name.invalid&&(e.receipt_card_holder_name.dirty||e.receipt_card_holder_name.touched)),t.xp6(6),t.Q6J("ngIf",e.receipt_cart_transactions_no.invalid&&(e.receipt_cart_transactions_no.dirty||e.receipt_cart_transactions_no.touched))}}function xh(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Non GST is required. "),t.qZA())}function Zh(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,xh,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.expense_non_gst.errors?null:e.expense_non_gst.errors.required)}}function Th(o,r){if(1&o&&(t.TgZ(0,"div",4)(1,"div",150)(2,"div",34)(3,"label"),t._UZ(4,"input",300),t._uU(5," Non GST "),t.qZA()(),t.YNc(6,Zh,2,1,"div",131),t.qZA()()),2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngIf",e.expense_non_gst.invalid&&(e.expense_non_gst.dirty||e.expense_non_gst.touched))}}function Ph(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Remark is required. "),t.qZA())}function qh(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Ph,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.receipt_remark.errors?null:e.receipt_remark.errors.required)}}function Nh(o,r){1&o&&(t.TgZ(0,"div",301)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",302),t._uU(5,"Redeem Credit"),t.qZA(),t.TgZ(6,"button",120),t._UZ(7,"i",71),t.qZA()(),t.TgZ(8,"div",121)(9,"div",4),t._UZ(10,"div",303),t.TgZ(11,"div",290)(12,"button",304),t._uU(13,"Invoice Balance: 7150"),t.qZA()(),t._UZ(14,"div",303),t.qZA(),t.TgZ(15,"div",207)(16,"div",21)(17,"div",122)(18,"label"),t._uU(19,"Scan Barcode/Type Number"),t.qZA(),t._UZ(20,"input",305),t.qZA()()(),t.TgZ(21,"div",4)(22,"div",21)(23,"div",306)(24,"h5"),t._uU(25," Credit Note Date "),t.qZA(),t.TgZ(26,"h5"),t._uU(27," N/A "),t.qZA()(),t.TgZ(28,"div",306)(29,"h5"),t._uU(30," Credit Amount "),t.qZA(),t.TgZ(31,"h5"),t._uU(32," 0 "),t.qZA()(),t.TgZ(33,"div",306)(34,"h5"),t._uU(35," Credit Available "),t.qZA(),t.TgZ(36,"h5"),t._uU(37," 0 "),t.qZA()(),t.TgZ(38,"div",306)(39,"h5"),t._uU(40," Apply Credit "),t.qZA(),t._UZ(41,"input",307),t.qZA(),t.TgZ(42,"div",308)(43,"h4"),t._uU(44," \u20b9Payable Amt "),t.qZA(),t.TgZ(45,"h4"),t._uU(46," 7150 "),t.qZA()()()()(),t.TgZ(47,"div",309)(48,"button",310),t._uU(49,"Apply Credit"),t.qZA()()()()())}function Ih(o,r){if(1&o&&(t.TgZ(0,"tr",252)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA()()),2&o){const e=r.$implicit,n=r.index;t.xp6(2),t.Oqu(n),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.quantity)}}function Oh(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"span",351),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,a=t.oxw(2);return t.KtG(a.removePaymentDetails(i))}),t.O4$(),t.TgZ(1,"svg",352),t._UZ(2,"path",353)(3,"path",354),t.qZA()()}}function Uh(o,r){1&o&&(t.TgZ(0,"span",355),t._uU(1,"Amount is required"),t.qZA())}function kh(o,r){1&o&&(t.TgZ(0,"span",355),t._uU(1,"Select a payment method"),t.qZA())}function Mh(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",e.title," ")}}function wh(o,r){1&o&&(t.TgZ(0,"span",355),t._uU(1,"Select Payment Account"),t.qZA())}function Sh(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",356)(1,"div",122)(2,"label"),t._uU(3,"Payment Account*"),t.qZA(),t.TgZ(4,"select",357),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw().index,s=t.oxw(2);return t.KtG(s.onSelectPaymentAccount(i.target.value,a))}),t.TgZ(5,"option",205),t._uU(6,"Select Payment Account "),t.qZA(),t.YNc(7,Mh,2,2,"option",11),t.qZA(),t.YNc(8,wh,2,0,"span",233),t.qZA()()}if(2&o){const e=t.oxw(),n=e.index,i=e.$implicit,a=t.oxw(2);let s;t.xp6(7),t.Q6J("ngForOf",a.accountListAlies[n]),t.xp6(1),t.Q6J("ngIf",(null==(s=i.get("payment_account"))?null:s.invalid)&&(null==(s=i.get("payment_account"))?null:s.touched))}}function Eh(o,r){1&o&&(t.TgZ(0,"span",355),t._uU(1,"Transaction Date is required"),t.qZA())}function Fh(o,r){if(1&o&&(t.TgZ(0,"option",361),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.hij("",null==e?null:e.title," ")}}function Jh(o,r){1&o&&(t.TgZ(0,"span",355),t._uU(1,"Payment Mode is required"),t.qZA())}function Dh(o,r){1&o&&(t.TgZ(0,"span",355),t._uU(1,"Transaction ID is required"),t.qZA())}function Vh(o,r){if(1&o&&(t.TgZ(0,"div",235)(1,"div",341)(2,"div",230)(3,"label"),t._uU(4,"Transaction Date:"),t.qZA(),t._UZ(5,"input",358),t.YNc(6,Eh,2,0,"span",233),t.qZA()(),t.TgZ(7,"div",341)(8,"div",230)(9,"label"),t._uU(10,"Payment Mode:"),t.qZA(),t.TgZ(11,"select",201),t.YNc(12,Fh,2,2,"option",359),t.qZA(),t.YNc(13,Jh,2,0,"span",233),t.qZA()(),t.TgZ(14,"div",341)(15,"div",230)(16,"label"),t._uU(17,"Transaction Id:"),t.qZA(),t._UZ(18,"input",360),t.YNc(19,Dh,2,0,"span",233),t.qZA()()()),2&o){const e=t.oxw().$implicit,n=t.oxw(2);let i,a,s;t.xp6(6),t.Q6J("ngIf",(null==(i=e.get("transaction_date"))?null:i.invalid)&&(null==(i=e.get("transaction_date"))?null:i.touched)),t.xp6(6),t.Q6J("ngForOf",n.paymentModeList),t.xp6(1),t.Q6J("ngIf",(null==(a=e.get("payment_mode"))?null:a.invalid)&&(null==(a=e.get("payment_mode"))?null:a.touched)),t.xp6(6),t.Q6J("ngIf",(null==(s=e.get("transaction_id"))?null:s.invalid)&&(null==(s=e.get("transaction_id"))?null:s.touched))}}function Yh(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",null==e?null:e.days),t.xp6(1),t.hij(" ",null==e?null:e.title," ")}}function Qh(o,r){1&o&&(t.TgZ(0,"span",355),t._uU(1,"Day is required"),t.qZA())}function Lh(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",341)(1,"div",230)(2,"label"),t._uU(3,"Day:"),t.qZA(),t.TgZ(4,"select",362),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw().index,s=t.oxw(2);return t.KtG(s.onSelectDay(i.target.value,a))}),t.TgZ(5,"option",232),t._uU(6,"Select days "),t.qZA(),t.YNc(7,Yh,2,2,"option",11),t.qZA(),t.YNc(8,Qh,2,0,"span",233),t.qZA()()}if(2&o){const e=t.oxw().$implicit,n=t.oxw(2);let i;t.xp6(7),t.Q6J("ngForOf",n.paymentTermsList),t.xp6(1),t.Q6J("ngIf",(null==(i=e.get("day"))?null:i.invalid)&&(null==(i=e.get("day"))?null:i.touched))}}function Bh(o,r){1&o&&(t.TgZ(0,"span",355),t._uU(1,"Date is required"),t.qZA())}function $h(o,r){if(1&o&&(t.TgZ(0,"div",341)(1,"div",230)(2,"label"),t._uU(3,"Date:"),t.qZA(),t._UZ(4,"input",363),t.YNc(5,Bh,2,0,"span",233),t.qZA()()),2&o){const e=t.oxw().$implicit;let n;t.xp6(5),t.Q6J("ngIf",(null==(n=e.get("date"))?null:n.invalid)&&(null==(n=e.get("date"))?null:n.touched))}}function Rh(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",337)(1,"div",338),t.YNc(2,Oh,4,0,"span",339),t.qZA(),t.TgZ(3,"div",340)(4,"div",341)(5,"div",230)(6,"label"),t._uU(7,"Amount:"),t.qZA(),t._UZ(8,"input",342),t.YNc(9,Uh,2,0,"span",233),t.qZA()(),t.TgZ(10,"div",341)(11,"div",230)(12,"label"),t._uU(13,"Payment Method:"),t.qZA(),t.TgZ(14,"select",343),t.NdJ("change",function(i){const s=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.receiptTypeChange(i,s))}),t.TgZ(15,"option",205),t._uU(16,"Select Method"),t.qZA(),t.TgZ(17,"option",344),t._uU(18,"Cash"),t.qZA(),t.TgZ(19,"option",345),t._uU(20,"Bank"),t.qZA(),t.TgZ(21,"option",346),t._uU(22,"PayLater"),t.qZA()(),t.YNc(23,kh,2,0,"span",233),t.qZA()(),t.YNc(24,Sh,9,2,"div",347),t.TgZ(25,"div",341)(26,"div",230)(27,"label"),t._uU(28,"Note:"),t.qZA(),t._UZ(29,"input",348),t.qZA()(),t.YNc(30,Vh,20,4,"div",349),t.YNc(31,Lh,9,2,"div",350),t.YNc(32,$h,6,1,"div",350),t.qZA()()}if(2&o){const e=r.$implicit,n=r.index;let i,a;t.Q6J("formGroupName",n),t.xp6(2),t.Q6J("ngIf",n>0),t.xp6(7),t.Q6J("ngIf",(null==(i=e.get("amount"))?null:i.invalid)&&(null==(i=e.get("amount"))?null:i.touched)),t.xp6(14),t.Q6J("ngIf",(null==(a=e.get("receipt_type"))?null:a.invalid)&&(null==(a=e.get("receipt_type"))?null:a.touched)),t.xp6(1),t.Q6J("ngIf","PayLater"!==e.get("receipt_type").value),t.xp6(6),t.Q6J("ngIf","Bank"===e.get("receipt_type").value),t.xp6(1),t.Q6J("ngIf","PayLater"===e.get("receipt_type").value),t.xp6(1),t.Q6J("ngIf","PayLater"===e.get("receipt_type").value)}}const Hh=function(o){return{"blur-modal":o}};function Gh(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",311)(1,"div",312)(2,"div",117)(3,"div",118)(4,"button",313),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.playBeepSound())}),t._uU(5,"Back To Sale"),t.qZA()(),t.TgZ(6,"div",121)(7,"div",314)(8,"div",315)(9,"div",316)(10,"h3",317),t._uU(11,"Sale Summery"),t.qZA(),t.TgZ(12,"h5",318),t._uU(13),t.qZA(),t.TgZ(14,"div",319)(15,"div",22)(16,"table",23)(17,"thead")(18,"tr")(19,"th"),t._uU(20,"#"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Product"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Qty"),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,Ih,7,3,"tr",24),t.qZA()()()(),t.TgZ(27,"div",320)(28,"div",321)(29,"h5"),t._uU(30,"Tax Amount"),t.qZA(),t.TgZ(31,"h5"),t._uU(32,"0.00"),t.qZA()(),t.TgZ(33,"div",321)(34,"h5"),t._uU(35,"Total Amounts"),t.qZA(),t.TgZ(36,"h5"),t._uU(37),t.qZA()(),t.TgZ(38,"div",321)(39,"h5"),t._uU(40,"Round Off"),t.qZA(),t.TgZ(41,"h5"),t._uU(42,"0.00"),t.qZA()()(),t.TgZ(43,"div",322)(44,"h3"),t._uU(45),t.qZA(),t.TgZ(46,"h5"),t._uU(47,"Payable Amount"),t.qZA()()()(),t.TgZ(48,"div",323)(49,"div",324)(50,"div",325)(51,"h3"),t._uU(52,"Pay"),t.qZA(),t.TgZ(53,"div",326)(54,"span",32),t._uU(55,"\u20b9 "),t.qZA(),t._UZ(56,"input",262),t.qZA()(),t.TgZ(57,"form",327)(58,"div",328)(59,"div",329)(60,"button",330),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addMorePaymentDetails())}),t.TgZ(61,"p",331)(62,"span",332),t._uU(63,"+"),t.qZA(),t._uU(64," Add More Payment"),t.qZA()()(),t.TgZ(65,"div",333),t.YNc(66,Rh,33,8,"div",334),t.qZA()()(),t.TgZ(67,"div",335)(68,"div",21)(69,"button",54),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.proceedToPay())}),t._uU(70," Proceed To Pay "),t._UZ(71,"i",336),t.qZA()()()()()()()()()()}if(2&o){const e=t.oxw();t.Q6J("ngClass",t.VKq(8,Hh,e.isModalShown)),t.xp6(13),t.hij("Customer: ",e.currentCustomer,"- 932477888"),t.xp6(13),t.Q6J("ngForOf",e.cartItems),t.xp6(11),t.Oqu(e.totalAmount()),t.xp6(8),t.Oqu(e.totalAmount()),t.xp6(11),t.s9C("value",e.totalAmount()),t.xp6(1),t.Q6J("formGroup",e.paymentForm),t.xp6(9),t.Q6J("ngForOf",null==e.addMorePaymentData?null:e.addMorePaymentData.controls)}}function Kh(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",364)(1,"div",127)(2,"div",117)(3,"div",121)(4,"div",4)(5,"div",12)(6,"div",122)(7,"label"),t._uU(8,"Due Amount"),t.qZA(),t._UZ(9,"input",365),t.qZA()(),t.TgZ(10,"div",12)(11,"div",122)(12,"label"),t._uU(13,"Tendered"),t.qZA(),t.TgZ(14,"input",366),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.tenderedAmount=i)}),t.qZA()()(),t.TgZ(15,"div",12)(16,"div",122)(17,"label"),t._uU(18,"Change"),t.qZA(),t._UZ(19,"input",367),t.qZA()()(),t.TgZ(20,"div",4)(21,"div",106)(22,"div",368)(23,"div",4)(24,"div",21)(25,"div",369)(26,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(1))}),t._uU(27,"1"),t.qZA(),t.TgZ(28,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(2))}),t._uU(29,"2"),t.qZA(),t.TgZ(30,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(3))}),t._uU(31,"3"),t.qZA(),t.TgZ(32,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(100))}),t._uU(33,"+100"),t.qZA(),t.TgZ(34,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(1e3))}),t._uU(35,"+1000"),t.qZA()()()(),t.TgZ(36,"div",4)(37,"div",21)(38,"div",369)(39,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(4))}),t._uU(40,"4"),t.qZA(),t.TgZ(41,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(5))}),t._uU(42,"5"),t.qZA(),t.TgZ(43,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(6))}),t._uU(44,"6"),t.qZA(),t.TgZ(45,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(200))}),t._uU(46,"+200"),t.qZA(),t.TgZ(47,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(2e3))}),t._uU(48,"+2000"),t.qZA()()()(),t.TgZ(49,"div",4)(50,"div",21)(51,"div",369)(52,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(7))}),t._uU(53,"7"),t.qZA(),t.TgZ(54,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(8))}),t._uU(55,"8"),t.qZA(),t.TgZ(56,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(9))}),t._uU(57,"9"),t.qZA(),t.TgZ(58,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(500))}),t._uU(59,"+500"),t.qZA(),t.TgZ(60,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(5e3))}),t._uU(61,"+5000"),t.qZA()()()(),t.TgZ(62,"div",4)(63,"div",21)(64,"div",369)(65,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(10))}),t._uU(66,"10"),t.qZA(),t.TgZ(67,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(20))}),t._uU(68,"20"),t.qZA(),t.TgZ(69,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(50))}),t._uU(70,"50"),t.qZA(),t.TgZ(71,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(1e3))}),t._uU(72,"+1000"),t.qZA(),t.TgZ(73,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(1e4))}),t._uU(74,"+10000"),t.qZA()()()()()(),t.TgZ(75,"div",101)(76,"div")(77,"button",371),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.cashPaymentGenerateOrder("normal"))}),t._uU(78,"Submit"),t.qZA()(),t.TgZ(79,"div")(80,"button",372),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.playBeepSound())}),t._uU(81,"Cancel"),t.qZA()()()()()()()()}if(2&o){const e=t.oxw();t.xp6(9),t.s9C("value",e.totalAmount()),t.xp6(5),t.Q6J("ngModel",e.tenderedAmount)("ngModelOptions",t.DdM(4,ot)),t.xp6(5),t.s9C("value",e.changeAmt())}}function jh(o,r){1&o&&(t.TgZ(0,"div",373)(1,"div",374)(2,"div",117)(3,"div",118)(4,"h5",375),t._uU(5,"Current Register (19 Mar 2022 11:10 am - 19 Mar 2022 11:10 am)"),t.qZA(),t.TgZ(6,"button",120),t._UZ(7,"i",71),t.qZA()(),t.TgZ(8,"div",121)(9,"div",4)(10,"div",376)(11,"div",377)(12,"div",378)(13,"h4"),t._uU(14,"Opening Cash"),t.qZA(),t.TgZ(15,"h4"),t._uU(16,"500"),t.qZA()(),t.TgZ(17,"div",378)(18,"h4"),t._uU(19,"Opening Cash"),t.qZA(),t.TgZ(20,"h4"),t._uU(21,"500"),t.qZA()(),t.TgZ(22,"div",378)(23,"h4"),t._uU(24,"Opening Cash"),t.qZA(),t.TgZ(25,"h4"),t._uU(26,"500"),t.qZA()(),t.TgZ(27,"div",378)(28,"h4"),t._uU(29,"Opening Cash"),t.qZA(),t.TgZ(30,"h4"),t._uU(31,"500"),t.qZA()(),t.TgZ(32,"div",378)(33,"h4"),t._uU(34,"Opening Cash"),t.qZA(),t.TgZ(35,"h4"),t._uU(36,"500"),t.qZA()(),t.TgZ(37,"div",378)(38,"h4"),t._uU(39,"Opening Cash"),t.qZA(),t.TgZ(40,"h4"),t._uU(41,"500"),t.qZA()(),t.TgZ(42,"div",378)(43,"h4"),t._uU(44,"Opening Cash"),t.qZA(),t.TgZ(45,"h4"),t._uU(46,"500"),t.qZA()(),t.TgZ(47,"div",378)(48,"h4"),t._uU(49,"Opening Cash"),t.qZA(),t.TgZ(50,"h4"),t._uU(51,"500"),t.qZA()(),t.TgZ(52,"div",378)(53,"h4"),t._uU(54,"Opening Cash"),t.qZA(),t.TgZ(55,"h4"),t._uU(56,"500"),t.qZA()(),t.TgZ(57,"div",378)(58,"h4"),t._uU(59,"Opening Cash"),t.qZA(),t.TgZ(60,"h4"),t._uU(61,"500"),t.qZA()(),t.TgZ(62,"div",378)(63,"h4"),t._uU(64,"Opening Cash"),t.qZA(),t.TgZ(65,"h4"),t._uU(66,"500"),t.qZA()(),t.TgZ(67,"div",378)(68,"h4"),t._uU(69,"Opening Cash"),t.qZA(),t.TgZ(70,"h4"),t._uU(71,"500"),t.qZA()(),t.TgZ(72,"div",378)(73,"h4"),t._uU(74,"Opening Cash"),t.qZA(),t.TgZ(75,"h4"),t._uU(76,"500"),t.qZA()(),t.TgZ(77,"div",378)(78,"h4"),t._uU(79,"Opening Cash"),t.qZA(),t.TgZ(80,"h4"),t._uU(81,"500"),t.qZA()(),t.TgZ(82,"div",378)(83,"h4"),t._uU(84,"Opening Cash"),t.qZA(),t.TgZ(85,"h4"),t._uU(86,"500"),t.qZA()()()(),t.TgZ(87,"div",150)(88,"div",379)(89,"div",111)(90,"table",380)(91,"thead")(92,"tr")(93,"th"),t._uU(94,"Firstname"),t.qZA(),t.TgZ(95,"th"),t._uU(96,"Lastname"),t.qZA(),t.TgZ(97,"th"),t._uU(98,"Email"),t.qZA()()(),t.TgZ(99,"tbody")(100,"tr")(101,"td"),t._uU(102,"John"),t.qZA(),t.TgZ(103,"div",122),t._UZ(104,"input",381),t.qZA(),t.TgZ(105,"td"),t._uU(106,"john@example.com"),t.qZA()(),t.TgZ(107,"tr")(108,"td"),t._uU(109,"John"),t.qZA(),t.TgZ(110,"div",122),t._UZ(111,"input",381),t.qZA(),t.TgZ(112,"td"),t._uU(113,"john@example.com"),t.qZA()(),t.TgZ(114,"tr")(115,"td"),t._uU(116,"John"),t.qZA(),t.TgZ(117,"div",122),t._UZ(118,"input",381),t.qZA(),t.TgZ(119,"td"),t._uU(120,"john@example.com"),t.qZA()(),t.TgZ(121,"tr")(122,"td"),t._uU(123,"John"),t.qZA(),t.TgZ(124,"div",122),t._UZ(125,"input",381),t.qZA(),t.TgZ(126,"td"),t._uU(127,"john@example.com"),t.qZA()(),t.TgZ(128,"tr")(129,"td"),t._uU(130,"John"),t.qZA(),t.TgZ(131,"div",122),t._UZ(132,"input",381),t.qZA(),t.TgZ(133,"td"),t._uU(134,"john@example.com"),t.qZA()()()()()()(),t.TgZ(135,"div",376)(136,"div",122)(137,"label"),t._uU(138,"Bank Account"),t.qZA(),t.TgZ(139,"select",382)(140,"option"),t._uU(141,"-- Select --"),t.qZA(),t.TgZ(142,"option"),t._uU(143,"Option 1"),t.qZA(),t.TgZ(144,"option"),t._uU(145,"Option 2"),t.qZA()()(),t.TgZ(146,"div",122)(147,"label"),t._uU(148,"Scan Barcode/Type Number"),t.qZA(),t._UZ(149,"input",305),t.qZA(),t.TgZ(150,"div",122)(151,"label"),t._uU(152,"Scan Barcode/Type Number"),t.qZA(),t._UZ(153,"input",305),t.qZA(),t.TgZ(154,"div",122)(155,"label"),t._uU(156,"Scan Barcode/Type Number"),t.qZA(),t._UZ(157,"input",305),t.qZA(),t.TgZ(158,"div",122)(159,"label"),t._uU(160,"Scan Barcode/Type Number"),t.qZA(),t._UZ(161,"input",305),t.qZA(),t.TgZ(162,"div",122)(163,"label"),t._uU(164,"Scan Barcode/Type Number"),t.qZA(),t._UZ(165,"input",305),t.qZA()()()(),t.TgZ(166,"div",167)(167,"button",383),t._uU(168,"Close Register"),t.qZA()()()()())}function zh(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"label")(3,"input",384),t.NdJ("change",function(){const i=t.CHM(e),a=i.$implicit,s=i.index,c=t.oxw();return t.KtG(c.selectedBatch(a,s))})("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.currentBatch=i)}),t.qZA()()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA()()}if(2&o){const e=r.$implicit,n=t.oxw();t.xp6(3),t.s9C("value",null==e?null:e.id),t.Q6J("ngModel",n.currentBatch)("ngModelOptions",t.DdM(10,ot)),t.xp6(2),t.Oqu(null==e?null:e.mrp),t.xp6(2),t.Oqu(null==e?null:e.selling_price_offline),t.xp6(2),t.Oqu(null==e?null:e.stock),t.xp6(2),t.Oqu(null==e?null:e.minimum_stock_threshold),t.xp6(2),t.Oqu(null==e?null:e.max_order_quantity),t.xp6(2),t.Oqu(null==e?null:e.sale_tax),t.xp6(2),t.Oqu(null==e?null:e.additional_discount)}}function Wh(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.additional_charge,"")}}function Xh(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.title)}}function tg(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"select",385),t.NdJ("change",function(i){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.updateACInCAC(s,i))})("ngModelChange",function(i){const s=t.CHM(e).$implicit;return t.KtG(s.additional_charge=i)}),t.TgZ(3,"option"),t._uU(4,"-- Select --"),t.qZA(),t.YNc(5,Wh,2,2,"option",11),t.qZA()(),t.TgZ(6,"td")(7,"div",386)(8,"input",387),t.NdJ("change",function(i){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.updateValueInCAC(s,i))})("ngModelChange",function(i){const s=t.CHM(e).$implicit;return t.KtG(s.value=i)}),t.qZA(),t.TgZ(9,"span",388),t.NdJ("click",function(){const i=t.CHM(e),a=i.index,s=i.$implicit,c=t.oxw();return t.KtG(c.updateValueTypeInCAC(a,s.value_type))}),t._uU(10),t.qZA()()(),t.TgZ(11,"td")(12,"select",385),t.NdJ("change",function(i){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.updateTaxInCAC(s,i))})("ngModelChange",function(i){const s=t.CHM(e).$implicit;return t.KtG(s.tax=i)}),t.TgZ(13,"option"),t._uU(14,"-- Select --"),t.qZA(),t.YNc(15,Xh,2,2,"option",11),t.qZA()(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td")(19,"button",268),t.NdJ("click",function(i){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.deleteRowInCAC(s,i))}),t._UZ(20,"i",389),t.qZA()()()}if(2&o){const e=r.$implicit,n=t.oxw();t.xp6(2),t.Q6J("ngModel",e.additional_charge)("ngModelOptions",t.DdM(10,ot)),t.xp6(3),t.Q6J("ngForOf",n.additionalChargesList),t.xp6(3),t.Q6J("ngModel",e.value)("ngModelOptions",t.DdM(11,ot)),t.xp6(2),t.Oqu("percentage"===e.value_type?"%":"\u20b9"),t.xp6(2),t.Q6J("ngModel",e.tax)("ngModelOptions",t.DdM(12,ot)),t.xp6(3),t.Q6J("ngForOf",n.taxesList),t.xp6(2),t.Oqu(e.total)}}function eg(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.id),t.xp6(2),t.Oqu(n.getDateForOrders(null==e?null:e.date)),t.xp6(2),t.Oqu(null==e||null==e.customer?null:e.customer.name),t.xp6(2),t.Oqu(null==e||null==e.customer?null:e.customer.mobile_no),t.xp6(2),t.Oqu(null==e?null:e.total_amount),t.xp6(2),t.Oqu(null==e?null:e.dueAmount),t.xp6(2),t.Oqu(null==e?null:e.payment_mode)}}function ng(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",null==e?null:e.name," ")}}function og(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Payment Account is required. "),t.qZA())}function ig(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,og,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.payment_account_upi.errors?null:e.payment_account_upi.errors.required)}}function rg(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," UPI ID is required. "),t.qZA())}function ag(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,rg,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.upi_id.errors?null:e.upi_id.errors.required)}}function sg(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Transaction ID is required. "),t.qZA())}function lg(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,sg,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.transaction_id.errors?null:e.transaction_id.errors.required)}}function cg(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",390)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",391),t._uU(5,"UPI Details"),t.qZA(),t.TgZ(6,"button",392),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.playBeepSound())}),t._UZ(7,"i",71),t.qZA()(),t.TgZ(8,"div",121)(9,"form",129),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.upiPaymentGenerateOrder("normal"))}),t.TgZ(10,"div",4)(11,"div",21)(12,"div",122)(13,"label"),t._uU(14,"Payment Account"),t.qZA(),t.TgZ(15,"select",204)(16,"option",205),t._uU(17,"Select Payment Account"),t.qZA(),t.YNc(18,ng,2,2,"option",11),t.qZA()(),t.YNc(19,ig,2,1,"div",131),t.qZA(),t.TgZ(20,"div",21)(21,"div",122)(22,"label"),t._uU(23,"UPI Id"),t.qZA(),t._UZ(24,"input",294),t.qZA(),t.YNc(25,ag,2,1,"div",131),t.qZA(),t.TgZ(26,"div",21)(27,"div",122)(28,"label"),t._uU(29,"Transaction ID"),t.qZA(),t._UZ(30,"input",393),t.qZA(),t.YNc(31,lg,2,1,"div",131),t.qZA()(),t.TgZ(32,"div",4)(33,"div",139)(34,"button",394),t._uU(35,"Save"),t.qZA()()()()()()()()}if(2&o){const e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.upiPaymentMethodForm),t.xp6(9),t.Q6J("ngForOf",e.companyBankList),t.xp6(1),t.Q6J("ngIf",e.payment_account_upi.invalid&&(e.payment_account_upi.dirty||e.payment_account_upi.touched)),t.xp6(6),t.Q6J("ngIf",e.upi_id.invalid&&(e.upi_id.dirty||e.upi_id.touched)),t.xp6(6),t.Q6J("ngIf",e.transaction_id.invalid&&(e.transaction_id.dirty||e.transaction_id.touched))}}function dg(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",null==e?null:e.name," ")}}function ug(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Payment Account is required. "),t.qZA())}function _g(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,ug,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.payment_account_bank.errors?null:e.payment_account_bank.errors.required)}}function pg(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Account No is required. "),t.qZA())}function mg(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,pg,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.account_no.errors?null:e.account_no.errors.required)}}function hg(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",395)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",396),t._uU(5,"Bank Details"),t.qZA(),t.TgZ(6,"button",397),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.playBeepSound())}),t._UZ(7,"i",71),t.qZA()(),t.TgZ(8,"div",121)(9,"form",129),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.bankPaymentGenerateOrder("normal"))}),t.TgZ(10,"div",4)(11,"div",21)(12,"div",122)(13,"label"),t._uU(14,"Payment Account"),t.qZA(),t.TgZ(15,"select",204)(16,"option",205),t._uU(17,"Select Payment Account"),t.qZA(),t.YNc(18,dg,2,2,"option",11),t.qZA()(),t.YNc(19,_g,2,1,"div",131),t.qZA(),t.TgZ(20,"div",21)(21,"div",122)(22,"label"),t._uU(23,"Account No"),t.qZA(),t._UZ(24,"input",295),t.qZA(),t.YNc(25,mg,2,1,"div",131),t.qZA()(),t.TgZ(26,"div",4)(27,"div",139)(28,"button",394),t._uU(29,"Save"),t.qZA()()()()()()()()}if(2&o){const e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.bankPaymentMethodForm),t.xp6(9),t.Q6J("ngForOf",e.companyBankList),t.xp6(1),t.Q6J("ngIf",e.payment_account_bank.invalid&&(e.payment_account_bank.dirty||e.payment_account_bank.touched)),t.xp6(6),t.Q6J("ngIf",e.account_no.invalid&&(e.account_no.dirty||e.account_no.touched))}}function gg(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.days),t.xp6(1),t.hij("",null==e?null:e.title," ")}}function fg(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Payment Terms is required. "),t.qZA())}function vg(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,fg,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.pay_later_day.errors?null:e.pay_later_day.errors.required)}}function yg(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Due Date is required. "),t.qZA())}function Cg(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,yg,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.pay_later_date.errors?null:e.pay_later_date.errors.required)}}function Ag(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Send Reminder is required. "),t.qZA())}function bg(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Ag,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.is_send_reminder.errors?null:e.is_send_reminder.errors.required)}}function xg(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",398)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",399),t._uU(5,"Invoice"),t.qZA(),t.TgZ(6,"button",400),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.playBeepSound())}),t._UZ(7,"i",71),t.qZA()(),t.TgZ(8,"div",121)(9,"form",129),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.payLaterGenerateOrder())}),t.TgZ(10,"div",4)(11,"div",21)(12,"div",122)(13,"label"),t._uU(14,"Payment Terms"),t.qZA(),t.TgZ(15,"select",401)(16,"option",205),t._uU(17,"Select Payment Account"),t.qZA(),t.YNc(18,gg,2,2,"option",11),t.qZA()(),t.YNc(19,vg,2,1,"div",131),t.qZA(),t.TgZ(20,"div",21)(21,"div",122)(22,"label"),t._uU(23,"Due Date"),t.qZA(),t._UZ(24,"input",402),t.qZA(),t.YNc(25,Cg,2,1,"div",131),t.qZA(),t.TgZ(26,"div",21)(27,"div",403)(28,"label",404),t._uU(29,"Send Reminder"),t.qZA(),t.TgZ(30,"div",405)(31,"div",406),t._UZ(32,"input",407),t.TgZ(33,"label",408),t._uU(34," Yes "),t.qZA()(),t.TgZ(35,"div",406),t._UZ(36,"input",409),t.TgZ(37,"label",410),t._uU(38," No "),t.qZA()()()(),t.YNc(39,bg,2,1,"div",131),t.qZA()(),t.TgZ(40,"div",4)(41,"div",139)(42,"button",394),t._uU(43,"Save"),t.qZA()()()()()()()()}if(2&o){const e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.payLaterMethodForm),t.xp6(9),t.Q6J("ngForOf",e.paymentTermsList),t.xp6(1),t.Q6J("ngIf",e.pay_later_day.invalid&&(e.pay_later_day.dirty||e.pay_later_day.touched)),t.xp6(6),t.Q6J("ngIf",e.pay_later_date.invalid&&(e.pay_later_date.dirty||e.pay_later_date.touched)),t.xp6(14),t.Q6J("ngIf",e.is_send_reminder.invalid&&(e.is_send_reminder.dirty||e.is_send_reminder.touched))}}function Zg(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",null==e?null:e.name," ")}}function Tg(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Payment Account is required. "),t.qZA())}function Pg(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Tg,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.payment_account_card.errors?null:e.payment_account_card.errors.required)}}function qg(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Customer Bank Name is required. "),t.qZA())}function Ng(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,qg,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.customer_bank_name.errors?null:e.customer_bank_name.errors.required)}}function Ig(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Card Payment Amount is required. "),t.qZA())}function Og(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Ig,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.card_payment_amount.errors?null:e.card_payment_amount.errors.required)}}function Ug(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Card Holder Name is required. "),t.qZA())}function kg(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Ug,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.card_holder_name.errors?null:e.card_holder_name.errors.required)}}function Mg(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Card Transaction No. is required. "),t.qZA())}function wg(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Mg,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.cart_transactions_no.errors?null:e.cart_transactions_no.errors.required)}}function Sg(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",411)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",412),t._uU(5,"Card Details"),t.qZA(),t.TgZ(6,"button",413),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.playBeepSound())}),t._UZ(7,"i",71),t.qZA()(),t.TgZ(8,"div",121)(9,"form",129),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.cardPaymentGenerateOrder("normal"))}),t.TgZ(10,"div",4)(11,"div",21)(12,"div",122)(13,"label"),t._uU(14,"Payment Account"),t.qZA(),t.TgZ(15,"select",204)(16,"option",205),t._uU(17,"Select Payment Account"),t.qZA(),t.YNc(18,Zg,2,2,"option",11),t.qZA()(),t.YNc(19,Pg,2,1,"div",131),t.qZA(),t.TgZ(20,"div",21)(21,"div",122)(22,"label"),t._uU(23,"Customer Bank Name"),t.qZA(),t._UZ(24,"input",296),t.qZA(),t.YNc(25,Ng,2,1,"div",131),t.qZA(),t.TgZ(26,"div",21)(27,"div",122)(28,"label"),t._uU(29,"Card Payment Amount"),t.qZA(),t._UZ(30,"input",297),t.qZA(),t.YNc(31,Og,2,1,"div",131),t.qZA(),t.TgZ(32,"div",21)(33,"div",122)(34,"label"),t._uU(35,"Card Holder Name"),t.qZA(),t._UZ(36,"input",298),t.qZA(),t.YNc(37,kg,2,1,"div",131),t.qZA(),t.TgZ(38,"div",21)(39,"div",122)(40,"label"),t._uU(41,"Card Transaction No"),t.qZA(),t._UZ(42,"input",299),t.qZA(),t.YNc(43,wg,2,1,"div",131),t.qZA()(),t.TgZ(44,"div",4)(45,"div",139)(46,"button",394),t._uU(47,"Save"),t.qZA()()()()()()()()}if(2&o){const e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.cardPaymentMethodForm),t.xp6(9),t.Q6J("ngForOf",e.companyBankList),t.xp6(1),t.Q6J("ngIf",e.payment_account_card.invalid&&(e.payment_account_card.dirty||e.payment_account_card.touched)),t.xp6(6),t.Q6J("ngIf",e.customer_bank_name.invalid&&(e.customer_bank_name.dirty||e.customer_bank_name.touched)),t.xp6(6),t.Q6J("ngIf",e.card_payment_amount.invalid&&(e.card_payment_amount.dirty||e.card_payment_amount.touched)),t.xp6(6),t.Q6J("ngIf",e.card_holder_name.invalid&&(e.card_holder_name.dirty||e.card_holder_name.touched)),t.xp6(6),t.Q6J("ngIf",e.cart_transactions_no.invalid&&(e.cart_transactions_no.dirty||e.cart_transactions_no.touched))}}function Eg(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",414),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.resumeBill(a.id))}),t.TgZ(1,"div",21),t._uU(2),t.TgZ(3,"div",415)(4,"button",416),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.removeFromHold(a.id))}),t._UZ(5,"i",71),t.qZA(),t.TgZ(6,"div",417)(7,"h5"),t._uU(8),t.qZA(),t.TgZ(9,"h5"),t._uU(10),t.qZA()(),t.TgZ(11,"h5",418),t._uU(12),t.qZA(),t.TgZ(13,"h5"),t._uU(14,"Created On: 2023-02-23 1:21pm"),t.qZA()()()()}if(2&o){const e=r.$implicit,n=t.oxw();t.xp6(2),t.hij(" ",n.test(e)," "),t.xp6(6),t.hij("ORD: ",null==e?null:e.id,""),t.xp6(2),t.hij("Amt: \u20b9",e.totalAmt,""),t.xp6(2),t.hij("Contact: ",e.currentCustomer.mobile_no,"")}}function Fg(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",419)(4,"a",420),t._uU(5),t.qZA()(),t.TgZ(6,"td",421),t._uU(7),t.qZA(),t.TgZ(8,"td",421),t._uU(9),t.qZA(),t.TgZ(10,"td",421),t._uU(11),t.qZA(),t.TgZ(12,"td",421),t._uU(13),t.qZA(),t.TgZ(14,"td",421),t._uU(15),t.qZA()()),2&o){const e=r.$implicit,n=r.index;let i,a,s,c,d,p;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.MGl("routerLink","//transaction/detailsexpensesVoucher/",e.id,""),t.xp6(1),t.Oqu(null!==(i=null==e||null==e.party?null:e.party.name)&&void 0!==i?i:"--"),t.xp6(2),t.Oqu(null!==(a=null==e?null:e.expense_no)&&void 0!==a?a:"--"),t.xp6(2),t.Oqu(null!==(s=null==e?null:e.refrence_bill_no)&&void 0!==s?s:"--"),t.xp6(2),t.Oqu(null!==(c=null==e?null:e.expense_date)&&void 0!==c?c:"--"),t.xp6(2),t.Oqu(null!==(d=null==e?null:e.tax_amount)&&void 0!==d?d:"--"),t.xp6(2),t.Oqu(null!==(p=null==e?null:e.total_amount)&&void 0!==p?p:"--")}}const ki=function(o,r){return{itemsPerPage:o,currentPage:r}};function Jg(o,r){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,Fg,16,8,"tr",166),t.ALo(2,"paginate"),t.ALo(3,"orderBy"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,t.Dn7(3,4,e.expenseList,e.key,e.reverse),t.WLB(8,ki,e.itemsPerPage,e.p)))}}function Dg(o,r){1&o&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",422)(3,"p",423),t._uU(4,"Data not available"),t.qZA()()()())}function Vg(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",419)(4,"a",420),t._uU(5),t.qZA()(),t.TgZ(6,"td",421),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td",421),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA()()),2&o){const e=r.$implicit,n=r.index;let i,a,s,c,d,p,_,g,v,f;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.MGl("routerLink","//transaction/detailsrecieptVoucher/",e.id,""),t.xp6(1),t.Oqu(null!==(i=null==e||null==e.payer?null:e.payer.account_id)&&void 0!==i?i:"--"),t.xp6(2),t.Oqu(null!==(a=null==e?null:e.receipt_type)&&void 0!==a?a:"--"),t.xp6(2),t.Oqu(null!==(s=e.mode_type)&&void 0!==s?s:"--"),t.xp6(2),t.Oqu(null!==(c=e.receipt_voucher_no)&&void 0!==c?c:"--"),t.xp6(2),t.Oqu(null!==(d=null==e||null==e.payer?null:e.payer.account_id)&&void 0!==d?d:"--"),t.xp6(2),t.Oqu(null!==(p=null==e?null:e.bank_payment)&&void 0!==p?p:"--"),t.xp6(2),t.Oqu(null!==(_=null==e?null:e.date)&&void 0!==_?_:"--"),t.xp6(2),t.Oqu(null!==(g=null==e?null:e.transaction_date)&&void 0!==g?g:"--"),t.xp6(2),t.Oqu(null!==(v=null==e?null:e.transaction_id)&&void 0!==v?v:"--"),t.xp6(2),t.Oqu(null!==(f=null==e?null:e.amount)&&void 0!==f?f:"--")}}function Yg(o,r){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,Vg,24,12,"tr",166),t.ALo(2,"orderBy"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,e.recieptList,e.key,e.reverse))}}function Qg(o,r){1&o&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",422)(3,"p",423),t._uU(4,"Data not available"),t.qZA()()()())}const Lg=function(o,r,e){return{"bg-lightgreen":o,"bg-lightred":r,"bg-lightyellow":e}};function Bg(o,r){if(1&o&&(t.TgZ(0,"tr",195)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",419)(4,"a",420),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td")(21,"span",425),t._uU(22),t.qZA()()()),2&o){const e=r.$implicit,n=r.index;let i,a,s,c,d,p,_,g;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.MGl("routerLink","//transaction/detailscreditnote/",null==e?null:e.id,""),t.xp6(1),t.Oqu(null!==(i=null==e||null==e.account?null:e.account.account_id)&&void 0!==i?i:"--"),t.xp6(2),t.Oqu(null!==(a=null==e?null:e.date)&&void 0!==a?a:"--"),t.xp6(2),t.Oqu(null!==(s=null==e?null:e.credit_note_no)&&void 0!==s?s:"--"),t.xp6(2),t.Oqu(null!==(c=null==e||null==e.sale_bill_no?null:e.sale_bill_no.id)&&void 0!==c?c:"--"),t.xp6(2),t.Oqu(null!==(d=null==e?null:e.reason)&&void 0!==d?d:"--"),t.xp6(2),t.Oqu(null!==(p=null==e?null:e.roundoff)&&void 0!==p?p:"--"),t.xp6(2),t.Oqu(null!==(_=null==e?null:e.tax)&&void 0!==_?_:"--"),t.xp6(2),t.Oqu(null!==(g=null==e?null:e.total)&&void 0!==g?g:"--"),t.xp6(2),t.Q6J("ngClass",t.kEZ(12,Lg,"Complete"===e.status,"Pending"===e.status,"Ordered"===e.status)),t.xp6(1),t.Oqu(e.status)}}function $g(o,r){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,Bg,23,16,"tr",424),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.creditNoteList)}}function Rg(o,r){1&o&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",422)(3,"p",423),t._uU(4,"Data not available"),t.qZA()()()())}function Hg(o,r){if(1&o&&(t.TgZ(0,"div",285),t._UZ(1,"input",288),t.TgZ(2,"label",287),t._uU(3),t.qZA()()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("value",e.value),t.xp6(2),t.Oqu(e.label)}}function Gg(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Payment Type is required. "),t.qZA())}function Kg(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Gg,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.purchase_payment_type.errors?null:e.purchase_payment_type.errors.required)}}function jg(o,r){1&o&&(t.TgZ(0,"mat-option",17),t._uU(1,"Please Enter 3 or more characters"),t.qZA())}function zg(o,r){1&o&&(t.TgZ(0,"mat-option",17),t._uU(1,"Loading..."),t.qZA())}function Wg(o,r){if(1&o&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.cusErrorMsg)}}function Xg(o,r){if(1&o&&(t.TgZ(0,"mat-option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw();t.Q6J("value",e),t.xp6(1),t.hij(" ",n.displayParty(e)," ")}}function t1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Party is required. "),t.qZA())}function e1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,t1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.purchase_party.errors?null:e.purchase_party.errors.required)}}function n1(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij("",e.label," ")}}function o1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Payment Mode is required. "),t.qZA())}function i1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,o1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.purchase_payment_mode.errors?null:e.purchase_payment_mode.errors.required)}}function r1(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.dueAmount,"")}}function a1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Selecting Sales is required. "),t.qZA())}function s1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,a1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.purchase_sales.errors?null:e.purchase_sales.errors.required)}}function l1(o,r){if(1&o&&(t.TgZ(0,"div",150)(1,"div",122)(2,"label"),t._uU(3,"Select Sales"),t.qZA(),t.TgZ(4,"select",426)(5,"option",202),t._uU(6,"-- Select Sales --"),t.qZA(),t.YNc(7,r1,2,2,"option",11),t.qZA()(),t.YNc(8,s1,2,1,"div",131),t.qZA()),2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.receiptSales),t.xp6(1),t.Q6J("ngIf",e.purchase_sales.invalid&&(e.purchase_sales.dirty||e.purchase_sales.touched))}}function c1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Amount is required. "),t.qZA())}function d1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,c1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.purchase_amount.errors?null:e.purchase_amount.errors.required)}}function u1(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",null==e?null:e.name," ")}}function _1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Payment Account is required. "),t.qZA())}function p1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,_1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.purchase_payment_account.errors?null:e.purchase_payment_account.errors.required)}}function m1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Remark is required. "),t.qZA())}function h1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,m1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.purchase_remark.errors?null:e.purchase_remark.errors.required)}}function g1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," UPI ID is required. "),t.qZA())}function f1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,g1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.purchase_upi_id.errors?null:e.purchase_upi_id.errors.required)}}function v1(o,r){if(1&o&&(t.TgZ(0,"div",4)(1,"div",150)(2,"div",122)(3,"label"),t._uU(4,"UPI Id"),t.qZA(),t._UZ(5,"input",294),t.qZA(),t.YNc(6,f1,2,1,"div",131),t.qZA()()),2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngIf",e.purchase_upi_id.invalid&&(e.purchase_upi_id.dirty||e.purchase_upi_id.touched))}}function y1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Account No is required. "),t.qZA())}function C1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,y1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.purchase_account_no.errors?null:e.purchase_account_no.errors.required)}}function A1(o,r){if(1&o&&(t.TgZ(0,"div",4)(1,"div",150)(2,"div",122)(3,"label"),t._uU(4,"Account No"),t.qZA(),t._UZ(5,"input",295),t.qZA(),t.YNc(6,C1,2,1,"div",131),t.qZA()()),2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngIf",e.purchase_account_no.invalid&&(e.purchase_account_no.dirty||e.purchase_account_no.touched))}}function b1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Customer Bank Name is required. "),t.qZA())}function x1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,b1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.purchase_customer_bank_name.errors?null:e.purchase_customer_bank_name.errors.required)}}function Z1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Card Payment Amount is required. "),t.qZA())}function T1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Z1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.purchase_card_payment_amount.errors?null:e.purchase_card_payment_amount.errors.required)}}function P1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Card Holder Name is required. "),t.qZA())}function q1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,P1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.purchase_card_holder_name.errors?null:e.purchase_card_holder_name.errors.required)}}function N1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Card Transaction No. is required. "),t.qZA())}function I1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,N1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.purchase_cart_transactions_no.errors?null:e.purchase_cart_transactions_no.errors.required)}}function O1(o,r){if(1&o&&(t.TgZ(0,"div",4)(1,"div",150)(2,"div",122)(3,"label"),t._uU(4,"Customer Bank Name"),t.qZA(),t._UZ(5,"input",296),t.qZA(),t.YNc(6,x1,2,1,"div",131),t.qZA(),t.TgZ(7,"div",150)(8,"div",122)(9,"label"),t._uU(10,"Card Payment Amount"),t.qZA(),t._UZ(11,"input",297),t.qZA(),t.YNc(12,T1,2,1,"div",131),t.qZA(),t.TgZ(13,"div",150)(14,"div",122)(15,"label"),t._uU(16,"Card Holder Name"),t.qZA(),t._UZ(17,"input",298),t.qZA(),t.YNc(18,q1,2,1,"div",131),t.qZA(),t.TgZ(19,"div",150)(20,"div",122)(21,"label"),t._uU(22,"Card Transaction No"),t.qZA(),t._UZ(23,"input",299),t.qZA(),t.YNc(24,I1,2,1,"div",131),t.qZA()()),2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngIf",e.purchase_customer_bank_name.invalid&&(e.purchase_customer_bank_name.dirty||e.purchase_customer_bank_name.touched)),t.xp6(6),t.Q6J("ngIf",e.purchase_card_payment_amount.invalid&&(e.purchase_card_payment_amount.dirty||e.purchase_card_payment_amount.touched)),t.xp6(6),t.Q6J("ngIf",e.purchase_card_holder_name.invalid&&(e.purchase_card_holder_name.dirty||e.purchase_card_holder_name.touched)),t.xp6(6),t.Q6J("ngIf",e.purchase_cart_transactions_no.invalid&&(e.purchase_cart_transactions_no.dirty||e.purchase_cart_transactions_no.touched))}}function U1(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"app-pos-add-payment-voucher",427),t.NdJ("modalClose",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.modalClose(i))}),t.qZA()()}}function k1(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"app-pos-add-expense-voucher",427),t.NdJ("modalClose",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.expenseModalClose(i))}),t.qZA()()}}function M1(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"app-pos-add-receipts-voucher",427),t.NdJ("modalClose",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.receiptModalClose(i))}),t.qZA()()}}function w1(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"app-pos-add-credit-note",427),t.NdJ("modalClose",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.creditNoteModalClose(i))}),t.qZA()()}}function S1(o,r){if(1&o&&(t.TgZ(0,"tr",195)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",419)(4,"a",420),t._uU(5),t.qZA()(),t.TgZ(6,"td",421),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td",421),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA()()),2&o){const e=r.$implicit,n=r.index;let i,a,s,c,d,p,_,g,v,f;t.xp6(2),t.Oqu(n+1+"."),t.xp6(2),t.MGl("routerLink","//transaction/detailspaymentVoucher/",e.id,""),t.xp6(1),t.Oqu(null!==(i=null==e||null==e.supplier?null:e.supplier.company_name)&&void 0!==i?i:"--"),t.xp6(2),t.Oqu(null!==(a=null==e?null:e.payment_type)&&void 0!==a?a:"--"),t.xp6(2),t.Oqu(null!==(s=null==e?null:e.mode_type)&&void 0!==s?s:"--"),t.xp6(2),t.Oqu(null!==(c=null==e?null:e.payment_voucher_no)&&void 0!==c?c:"--"),t.xp6(2),t.Oqu(null!==(d=null==e||null==e.payment_account?null:e.payment_account.account_id)&&void 0!==d?d:"--"),t.xp6(2),t.Oqu(null!==(p=null==e?null:e.bank_payment)&&void 0!==p?p:"--"),t.xp6(2),t.Oqu(null!==(_=null==e?null:e.date)&&void 0!==_?_:"--"),t.xp6(2),t.Oqu(null!==(g=null==e?null:e.transaction_date)&&void 0!==g?g:"--"),t.xp6(2),t.Oqu(null!==(v=null==e?null:e.transaction_id)&&void 0!==v?v:"--"),t.xp6(2),t.Oqu(null!==(f=null==e?null:e.amount)&&void 0!==f?f:"--")}}function E1(o,r){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,S1,24,12,"tr",424),t.ALo(2,"paginate"),t.ALo(3,"orderBy"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,t.Dn7(3,4,e.paymentList,e.key,e.reverse),t.WLB(8,ki,e.itemsPerPage,e.p)))}}function F1(o,r){1&o&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",422)(3,"p",423),t._uU(4,"Data not available"),t.qZA()()()())}function J1(o,r){1&o&&t._UZ(0,"mat-progress-bar",428)}function D1(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",429)(1,"div",127)(2,"div",117)(3,"div",121)(4,"div",4)(5,"div",12)(6,"div",122)(7,"label"),t._uU(8,"Due Amount"),t.qZA(),t._UZ(9,"input",365),t.qZA()(),t.TgZ(10,"div",12)(11,"div",122)(12,"label"),t._uU(13,"Tendered"),t.qZA(),t.TgZ(14,"input",366),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.tenderedAmount=i)}),t.qZA()()(),t.TgZ(15,"div",12)(16,"div",122)(17,"label"),t._uU(18,"Change"),t.qZA(),t._UZ(19,"input",367),t.qZA()()(),t.TgZ(20,"div",4)(21,"div",106)(22,"div",368)(23,"div",4)(24,"div",21)(25,"div",369)(26,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(1))}),t._uU(27,"1"),t.qZA(),t.TgZ(28,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(2))}),t._uU(29,"2"),t.qZA(),t.TgZ(30,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(3))}),t._uU(31,"3"),t.qZA(),t.TgZ(32,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(100))}),t._uU(33,"+100"),t.qZA(),t.TgZ(34,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(1e3))}),t._uU(35,"+1000"),t.qZA()()()(),t.TgZ(36,"div",4)(37,"div",21)(38,"div",369)(39,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(4))}),t._uU(40,"4"),t.qZA(),t.TgZ(41,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(5))}),t._uU(42,"5"),t.qZA(),t.TgZ(43,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(6))}),t._uU(44,"6"),t.qZA(),t.TgZ(45,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(200))}),t._uU(46,"+200"),t.qZA(),t.TgZ(47,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(2e3))}),t._uU(48,"+2000"),t.qZA()()()(),t.TgZ(49,"div",4)(50,"div",21)(51,"div",369)(52,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(7))}),t._uU(53,"7"),t.qZA(),t.TgZ(54,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(8))}),t._uU(55,"8"),t.qZA(),t.TgZ(56,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(9))}),t._uU(57,"9"),t.qZA(),t.TgZ(58,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(500))}),t._uU(59,"+500"),t.qZA(),t.TgZ(60,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(5e3))}),t._uU(61,"+5000"),t.qZA()()()(),t.TgZ(62,"div",4)(63,"div",21)(64,"div",369)(65,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(10))}),t._uU(66,"10"),t.qZA(),t.TgZ(67,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(20))}),t._uU(68,"20"),t.qZA(),t.TgZ(69,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(50))}),t._uU(70,"50"),t.qZA(),t.TgZ(71,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(1e3))}),t._uU(72,"+1000"),t.qZA(),t.TgZ(73,"div",370),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeTenderedAmt(1e4))}),t._uU(74,"+10000"),t.qZA()()()()()(),t.TgZ(75,"div",101)(76,"div")(77,"button",371),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.cashPaymentGenerateOrder("print"))}),t._uU(78,"Submit"),t.qZA()(),t.TgZ(79,"div")(80,"button",430),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.playBeepSound())}),t._uU(81,"Cancel"),t.qZA()()()()()()()()}if(2&o){const e=t.oxw();t.xp6(9),t.s9C("value",e.totalAmount()),t.xp6(5),t.Q6J("ngModel",e.tenderedAmount)("ngModelOptions",t.DdM(4,ot)),t.xp6(5),t.s9C("value",e.changeAmt())}}function V1(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",null==e?null:e.name," ")}}function Y1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Payment Account is required. "),t.qZA())}function Q1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,Y1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.payment_account_upi.errors?null:e.payment_account_upi.errors.required)}}function L1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," UPI ID is required."),t.qZA())}function B1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,L1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.upi_id.errors?null:e.upi_id.errors.required)}}function $1(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Transaction ID is required. "),t.qZA())}function R1(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,$1,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.transaction_id.errors?null:e.transaction_id.errors.required)}}function H1(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",431)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",432),t._uU(5,"UPI Details"),t.qZA(),t.TgZ(6,"button",433),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.playBeepSound())}),t._UZ(7,"i",71),t.qZA()(),t.TgZ(8,"div",121)(9,"form",129),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.upiPaymentGenerateOrder("print"))}),t.TgZ(10,"div",4)(11,"div",21)(12,"div",122)(13,"label"),t._uU(14,"Payment Account"),t.qZA(),t.TgZ(15,"select",204)(16,"option",205),t._uU(17,"Select Payment Account"),t.qZA(),t.YNc(18,V1,2,2,"option",11),t.qZA()(),t.YNc(19,Q1,2,1,"div",131),t.qZA(),t.TgZ(20,"div",21)(21,"div",122)(22,"label"),t._uU(23,"UPI Id"),t.qZA(),t._UZ(24,"input",294),t.qZA(),t.YNc(25,B1,2,1,"div",131),t.qZA(),t.TgZ(26,"div",21)(27,"div",122)(28,"label"),t._uU(29,"Transaction ID"),t.qZA(),t._UZ(30,"input",393),t.qZA(),t.YNc(31,R1,2,1,"div",131),t.qZA()(),t.TgZ(32,"div",4)(33,"div",139)(34,"button",394),t._uU(35,"Save"),t.qZA()()()()()()()()}if(2&o){const e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.upiPaymentMethodForm),t.xp6(9),t.Q6J("ngForOf",e.companyBankList),t.xp6(1),t.Q6J("ngIf",e.payment_account_upi.invalid&&(e.payment_account_upi.dirty||e.payment_account_upi.touched)),t.xp6(6),t.Q6J("ngIf",e.upi_id.invalid&&(e.upi_id.dirty||e.upi_id.touched)),t.xp6(6),t.Q6J("ngIf",e.transaction_id.invalid&&(e.transaction_id.dirty||e.transaction_id.touched))}}function G1(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.s9C("value",null==e?null:e.days),t.xp6(1),t.hij(" ",null==e?null:e.title," ")}}function K1(o,r){1&o&&(t.TgZ(0,"span",355),t._uU(1,"Payment Terms is required"),t.qZA())}function j1(o,r){1&o&&(t.TgZ(0,"span",355),t._uU(1,"Due Date is required"),t.qZA())}function z1(o,r){1&o&&(t.TgZ(0,"span",355),t._uU(1,"Send Reminder is required"),t.qZA())}function W1(o,r){1&o&&t._UZ(0,"div",434)}function X1(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",null==e?null:e.name," ")}}function tf(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Payment Account is required. "),t.qZA())}function ef(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,tf,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.payment_account_card.errors?null:e.payment_account_card.errors.required)}}function nf(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Customer Bank Name is required. "),t.qZA())}function of(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,nf,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.customer_bank_name.errors?null:e.customer_bank_name.errors.required)}}function rf(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Card Payment Amount is required. "),t.qZA())}function af(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,rf,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.card_payment_amount.errors?null:e.card_payment_amount.errors.required)}}function sf(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Card Holder Name is required. "),t.qZA())}function lf(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,sf,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.card_holder_name.errors?null:e.card_holder_name.errors.required)}}function cf(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Card Transaction No. is required. "),t.qZA())}function df(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,cf,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.cart_transactions_no.errors?null:e.cart_transactions_no.errors.required)}}function uf(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",435)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",436),t._uU(5,"Card Details"),t.qZA(),t.TgZ(6,"button",437),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.playBeepSound())}),t._UZ(7,"i",71),t.qZA()(),t.TgZ(8,"div",121)(9,"form",129),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.cardPaymentGenerateOrder("print"))}),t.TgZ(10,"div",4)(11,"div",21)(12,"div",122)(13,"label"),t._uU(14,"Payment Account"),t.qZA(),t.TgZ(15,"select",204)(16,"option",205),t._uU(17,"Select Payment Account"),t.qZA(),t.YNc(18,X1,2,2,"option",11),t.qZA()(),t.YNc(19,ef,2,1,"div",131),t.qZA(),t.TgZ(20,"div",21)(21,"div",122)(22,"label"),t._uU(23,"Customer Bank Name"),t.qZA(),t._UZ(24,"input",296),t.qZA(),t.YNc(25,of,2,1,"div",131),t.qZA(),t.TgZ(26,"div",21)(27,"div",122)(28,"label"),t._uU(29,"Card Payment Amount"),t.qZA(),t._UZ(30,"input",297),t.qZA(),t.YNc(31,af,2,1,"div",131),t.qZA(),t.TgZ(32,"div",21)(33,"div",122)(34,"label"),t._uU(35,"Card Holder Name"),t.qZA(),t._UZ(36,"input",298),t.qZA(),t.YNc(37,lf,2,1,"div",131),t.qZA(),t.TgZ(38,"div",21)(39,"div",122)(40,"label"),t._uU(41,"Card Transaction No"),t.qZA(),t._UZ(42,"input",299),t.qZA(),t.YNc(43,df,2,1,"div",131),t.qZA()(),t.TgZ(44,"div",4)(45,"div",139)(46,"button",394),t._uU(47,"Save"),t.qZA()()()()()()()()}if(2&o){const e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.cardPaymentMethodForm),t.xp6(9),t.Q6J("ngForOf",e.companyBankList),t.xp6(1),t.Q6J("ngIf",e.payment_account_card.invalid&&(e.payment_account_card.dirty||e.payment_account_card.touched)),t.xp6(6),t.Q6J("ngIf",e.customer_bank_name.invalid&&(e.customer_bank_name.dirty||e.customer_bank_name.touched)),t.xp6(6),t.Q6J("ngIf",e.card_payment_amount.invalid&&(e.card_payment_amount.dirty||e.card_payment_amount.touched)),t.xp6(6),t.Q6J("ngIf",e.card_holder_name.invalid&&(e.card_holder_name.dirty||e.card_holder_name.touched)),t.xp6(6),t.Q6J("ngIf",e.cart_transactions_no.invalid&&(e.cart_transactions_no.dirty||e.cart_transactions_no.touched))}}function _f(o,r){if(1&o&&(t.TgZ(0,"option",251),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",null==e?null:e.name," ")}}function pf(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Payment Account is required. "),t.qZA())}function mf(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,pf,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.payment_account_bank.errors?null:e.payment_account_bank.errors.required)}}function hf(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," Account No is required. "),t.qZA())}function gf(o,r){if(1&o&&(t.TgZ(0,"div",275),t.YNc(1,hf,2,0,"div",95),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.account_no.errors?null:e.account_no.errors.required)}}function ff(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",438)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",439),t._uU(5,"Bank Details"),t.qZA(),t.TgZ(6,"button",440),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.playBeepSound())}),t._UZ(7,"i",71),t.qZA()(),t.TgZ(8,"div",121)(9,"form",129),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.bankPaymentGenerateOrder("print"))}),t.TgZ(10,"div",4)(11,"div",21)(12,"div",122)(13,"label"),t._uU(14,"Payment Account"),t.qZA(),t.TgZ(15,"select",204)(16,"option",205),t._uU(17,"Select Payment Account"),t.qZA(),t.YNc(18,_f,2,2,"option",11),t.qZA()(),t.YNc(19,mf,2,1,"div",131),t.qZA(),t.TgZ(20,"div",21)(21,"div",122)(22,"label"),t._uU(23,"Account No"),t.qZA(),t._UZ(24,"input",295),t.qZA(),t.YNc(25,gf,2,1,"div",131),t.qZA()(),t.TgZ(26,"div",4)(27,"div",139)(28,"button",394),t._uU(29,"Save"),t.qZA()()()()()()()()}if(2&o){const e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.bankPaymentMethodForm),t.xp6(9),t.Q6J("ngForOf",e.companyBankList),t.xp6(1),t.Q6J("ngIf",e.payment_account_bank.invalid&&(e.payment_account_bank.dirty||e.payment_account_bank.touched)),t.xp6(6),t.Q6J("ngIf",e.account_no.invalid&&(e.account_no.dirty||e.account_no.touched))}}const Mi=function(o){return{"blur-background":o}};let vf=(()=>{class o{constructor(e,n,i,a,s,c,d,p,_,g,v){this.transactionService=e,this.router=n,this.billHoldService=i,this.fb=a,this.toastr=s,this.syncService=c,this.http=d,this.cartService=p,this.offerService=_,this.coreService=g,this.companyService=v,this.selectedPaymentsOption="sales",this.salesPayments=[],this.purchasePayments=[],this.expensePayments=[],this.isFormSubmitted=!1,this.isExpanseModalShown=!1,this.isReceiptModalShown=!1,this.isCreditNoteModalShown=!1,this.isPaymentModalShown=!1,this.page=1,this.heldBills=[],this.streetcontrol=new l.NI(""),this.subscriptions=[],this.selectedReminder="",this.isModalShown=!1,this.totalTaxableAmount=0,this.totalCGST=0,this.totalSGST=0,this.options=[{id:1,name:"Option 1",value:"option1",price:10},{id:2,name:"Option 2",value:"option2",price:20},{id:3,name:"Option 3",value:"option3",price:30},{id:4,name:"Option 4",value:"option4",price:40},{id:5,name:"Option 5",value:"option5",price:50}],this.gstType=[{label:"UnRegistered",value:"UnRegistered"},{label:"Registered Regular",value:"Registered Regular"},{label:"Registered Composition",value:"Registered Composition"},{label:"Input Service Distributor",value:"Input Service Distributor"},{label:"Ecommerce Operator",value:"Ecommerce Operator"}],this.voucherType=[{id:1,label:"Sales",value:"sales"},{id:2,label:"Purchase",value:"purchase"},{id:3,label:"Expense",value:"expense"}],this.voucherType2=[{id:1,label:"Receipt",value:"sales"},{id:2,label:"Payments",value:"purchase"},{id:3,label:"Expense",value:"expense"}],this.paymentType=[{id:1,label:"Advance Payment",value:"Advance"},{id:2,label:"Against Bill",value:"Against Bill"}],this.paymentMode=[{id:1,label:"UPI",value:"UPI"},{id:2,label:"Card",value:"Card"},{id:3,label:"Cash",value:"Cash"},{id:4,label:"Bank",value:"Bank"}],this.selectedOptions=[],this.productsAutocompleteControl=new l.NI,this.customers=[],this.cartItems=[],this.customerAutoCompleteControl=new l.NI(""),this.chargesAutoCompleteControl=new l.NI(""),this.customerAutoCompleteControl2=new l.NI(""),this.streets=["Jason Roy","Sam Curran","Cameron Green","Alex Hales","Johnny Bairstow","Jason Roy","Sam Curran","Cameron Green","Alex Hales","Johnny Bairstow","Jason Roy","Sam Curran","Cameron Green","Alex Hales","Johnny Bairstow","Jason Roy","Sam Curran","Cameron Green","Alex Hales","Johnny Bairstow"],this.tenderedAmount=0,this.minLengthTerm=1,this.isLoading=!1,this.cusMinLengthTerm=3,this.cusIsLoading=!1,this.partyIsLoading=!1,this.chargesIsLoading=!1,this.filteredPaymentAccount=[],this.currentItems=[],this.customerRegistrationNumberSame=!1,this.additionalChargesList=[],this.taxesList=[],this.receiptSales=[],this.companyBankList=[],this.paymentTermsList=[],this.currentOrderAdditionalCharges=[],this.accountList=[],this.accountListAlies=[],this.currentAdditionalCharges=[],this.posOrders=[],this.currentCartIndex=0,this.currentCartIndex1=-1,this.holdBillActive=!1,this.receiptTypeSubscriptions=[],this.key="id",this.reverse=!0,this.discount=[],this.selectBtch=[],this.discountTyp=[],this.isDiscountSelect=[],this.isInvoiceFree=[],this.isFreePriceRange=[],this.isQtyPerQty=[],this.isQtyPerPercentage=[],this.isQPQ=[],this.isQPP=[],this.flatDiscount=[],this.selectedDiscount=[],this.discountTypeSelect=[],this.amount=100,this.f_d=5,this.d=0,this.currentItems=this.cartService.getCurrentItems(),this.customerForm=this.fb.group({name:[""],mobile_no:[""],whatsapp_no:[""],date_of_birth:[""],anniversary_date:[""],address_line_1:[""],state:[""],city:[""],gst_type:[""],gstin:[""]})}calculateAmountTotal(){let e=0;return this.addMorePaymentData.controls.forEach(n=>{const i=n.get("amount")?.value||0;e+=parseFloat(i)}),e}addMorePaymentDetails(){const e=this.totalAmount(),n=this.calculateCurrentAmount();if(n<e){const i=e-n,a=i%1!=0?i.toFixed(2):i,s=this.addNewPayment(a);this.addMorePaymentData.push(s),this.subscribeToReceiptTypeChange(s)}}removePaymentDetails(e){this.addMorePaymentData.removeAt(e),this.filteredPaymentAccount.splice(e,1)}calculateCurrentAmount(){return this.addMorePaymentData.controls.reduce((e,n)=>{const i=n.get("amount").value;if(i){const a=parseFloat(i);return e+Math.round(100*a)/100}return e},0)}get addMorePaymentData(){return this.paymentForm.get("addMorePayment")}keyEvent(e){e.code==L.F9&&document.querySelector(".bankF9").click(),e.code==L.F5&&document.querySelector(".upiF5").click(),e.code==L.F6&&document.querySelector(".holdF6").click(),e.code==L.F11&&document.querySelector(".plF11").click(),e.code==L.F3&&document.querySelector(".cardF3").click(),e.code==L.F4&&document.querySelector(".cashF4").click(),e.code==L.F12&&document.querySelector(".mpF12").click(),e.code==L.F7&&document.querySelector(".cpF7").click(),e.code==L.F10&&document.querySelector(".upF10").click(),e.code==L.F8&&document.querySelector(".cashprintF8").click()}ngOnInit(){this.companyService.CheckBlur$&&this.companyService.CheckBlur$.subscribe(a=>{console.log(a),null!==a&&(a||0==a)&&(this.isModalOpen=a,console.log(this.isModalOpen))}),this.isQPQ[0]=!1,this.isQPP[0]=!1,this.isDiscountSelect[0]=!1,this.isInvoiceFree[0]=!1,this.isFreePriceRange[0]=!1,this.isQtyPerQty[0]=!1,this.isQtyPerPercentage[0]=!1,this.getExpense(),this.getPayment(),this.getReciept(),this.getCreditNote(),this.filteredStreets=this.streetcontrol.valueChanges.pipe((0,C.O)(""),(0,G.U)(a=>this.__filter(a||""))),this.heldBills=this.billHoldService.getHeldBills(),console.log(this.heldBills),this.registrationForm=this.fb.group({name:[""],mobile_no:["",[l.kI.required,l.kI.pattern(/^[0-9]{10}$/)]],whatsapp_no:["",[l.kI.pattern(/^[0-9]{10}$/)]],date_of_birth:[""],anniversary_date:[""],email:["",[l.kI.email]],gstin:[""],gst_type:[""],address_line_1:[""],address_line_2:[""],state:["",[l.kI.required]],city:["",[l.kI.required]],pincode:["841226",[l.kI.pattern(/^[0-9]{6}$/)]]}),this.upiPaymentMethodForm=this.fb.group({payment_account:["",[l.kI.required]],upi_id:["",[l.kI.required]],transaction_id:[""]}),this.bankPaymentMethodForm=this.fb.group({payment_account:["",[l.kI.required]],account_no:["",[l.kI.required]]}),this.cardPaymentMethodForm=this.fb.group({payment_account:["",[l.kI.required]],customer_bank_name:["",[l.kI.required]],card_payment_amount:["",[l.kI.required]],card_holder_name:["",[l.kI.required]],cart_transactions_no:["",[l.kI.required]]}),this.payLaterMethodForm=this.fb.group({day:["",[l.kI.required]],date:["",[l.kI.required]],is_send_reminder:["",[l.kI.required]]}),this.expensePaymentForm=this.fb.group({non_gst:[!1],payment_account:["",[l.kI.required]],remark:["",[l.kI.required]],amount:["",[l.kI.required]],party:["",[l.kI.required]]}),this.salesPaymentForm=this.fb.group({payment_type:["",[l.kI.required]],payment_account:["",[l.kI.required]],payment_mode:["",[l.kI.required]],customer:["",[l.kI.required]],remark:["",[l.kI.required]],amount:["",[l.kI.required]],sales:[""],upi_id:[""],customer_bank_name:[""],card_payment_amount:[""],card_holder_name:[""],cart_transactions_no:[""],account_no:[""]}),this.purchasePaymentForm=this.fb.group({payment_type:["",[l.kI.required]],payment_account:["",[l.kI.required]],payment_mode:["",[l.kI.required]],party:["",[l.kI.required]],remark:["",[l.kI.required]],amount:["",[l.kI.required]],sales:[""],upi_id:[""],customer_bank_name:[""],card_payment_amount:[""],card_holder_name:[""],cart_transactions_no:[""],account_no:[""]}),this.receiptPaymentForm=this.fb.group({voucher_type:["",[l.kI.required]],payment_type:[""],payment_mode:[""],receipt_sales:[""],amount_receipt:[""],customer_receipt:[""],party_receipt:[""],receipt_remark:[""],payment_account:[""],upi_id:[""],customer_bank_name:[""],card_payment_amount:[""],card_holder_name:[""],cart_transactions_no:[""],account_no:[""],non_gst:[!1]}),this.salesPaymentForm.get("payment_type").valueChanges.subscribe(a=>{"Against Bill"===a?this.salesPaymentForm.get("sales").setValidators(l.kI.required):this.salesPaymentForm.get("sales").clearValidators(),this.salesPaymentForm.get("sales").updateValueAndValidity()}),this.salesPaymentForm.get("payment_mode").valueChanges.subscribe(a=>{"UPI"===a?(this.salesPaymentForm.get("customer_bank_name").clearValidators(),this.salesPaymentForm.get("card_payment_amount").clearValidators(),this.salesPaymentForm.get("card_holder_name").clearValidators(),this.salesPaymentForm.get("cart_transactions_no").clearValidators(),this.salesPaymentForm.get("account_no").clearValidators(),this.salesPaymentForm.get("upi_id").setValidators(l.kI.required),this.salesPaymentForm.get("payment_account").setValidators(l.kI.required)):"Card"===a?(this.salesPaymentForm.get("upi_id").clearValidators(),this.salesPaymentForm.get("account_no").clearValidators(),this.salesPaymentForm.get("customer_bank_name").setValidators(l.kI.required),this.salesPaymentForm.get("card_payment_amount").setValidators(l.kI.required),this.salesPaymentForm.get("card_holder_name").setValidators(l.kI.required),this.salesPaymentForm.get("cart_transactions_no").setValidators(l.kI.required),this.salesPaymentForm.get("payment_account").setValidators(l.kI.required)):"Bank"===a?(this.salesPaymentForm.get("upi_id").clearValidators(),this.salesPaymentForm.get("customer_bank_name").clearValidators(),this.salesPaymentForm.get("card_payment_amount").clearValidators(),this.salesPaymentForm.get("card_holder_name").clearValidators(),this.salesPaymentForm.get("cart_transactions_no").clearValidators(),this.salesPaymentForm.get("payment_account").setValidators(l.kI.required),this.salesPaymentForm.get("account_no").setValidators(l.kI.required)):(this.salesPaymentForm.get("upi_id").clearValidators(),this.salesPaymentForm.get("payment_account").clearValidators(),this.salesPaymentForm.get("customer_bank_name").clearValidators(),this.salesPaymentForm.get("card_payment_amount").clearValidators(),this.salesPaymentForm.get("card_holder_name").clearValidators(),this.salesPaymentForm.get("cart_transactions_no").clearValidators(),this.salesPaymentForm.get("account_no").clearValidators()),this.salesPaymentForm.get("upi_id").updateValueAndValidity(),this.salesPaymentForm.get("payment_account").updateValueAndValidity(),this.salesPaymentForm.get("customer_bank_name").updateValueAndValidity(),this.salesPaymentForm.get("card_payment_amount").updateValueAndValidity(),this.salesPaymentForm.get("card_holder_name").updateValueAndValidity(),this.salesPaymentForm.get("cart_transactions_no").updateValueAndValidity(),this.salesPaymentForm.get("account_no").updateValueAndValidity()}),this.purchasePaymentForm.get("payment_type").valueChanges.subscribe(a=>{"Against Bill"===a?this.purchasePaymentForm.get("sales").setValidators(l.kI.required):this.purchasePaymentForm.get("sales").clearValidators(),this.purchasePaymentForm.get("sales").updateValueAndValidity()}),this.purchasePaymentForm.get("payment_mode").valueChanges.subscribe(a=>{"UPI"===a?(this.purchasePaymentForm.get("customer_bank_name").clearValidators(),this.purchasePaymentForm.get("card_payment_amount").clearValidators(),this.purchasePaymentForm.get("card_holder_name").clearValidators(),this.purchasePaymentForm.get("cart_transactions_no").clearValidators(),this.purchasePaymentForm.get("account_no").clearValidators(),this.purchasePaymentForm.get("upi_id").setValidators(l.kI.required),this.purchasePaymentForm.get("payment_account").setValidators(l.kI.required)):"Card"===a?(this.purchasePaymentForm.get("upi_id").clearValidators(),this.purchasePaymentForm.get("account_no").clearValidators(),this.purchasePaymentForm.get("customer_bank_name").setValidators(l.kI.required),this.purchasePaymentForm.get("card_payment_amount").setValidators(l.kI.required),this.purchasePaymentForm.get("card_holder_name").setValidators(l.kI.required),this.purchasePaymentForm.get("cart_transactions_no").setValidators(l.kI.required),this.purchasePaymentForm.get("payment_account").setValidators(l.kI.required)):"Bank"===a?(this.purchasePaymentForm.get("upi_id").clearValidators(),this.purchasePaymentForm.get("customer_bank_name").clearValidators(),this.purchasePaymentForm.get("card_payment_amount").clearValidators(),this.purchasePaymentForm.get("card_holder_name").clearValidators(),this.purchasePaymentForm.get("cart_transactions_no").clearValidators(),this.purchasePaymentForm.get("payment_account").setValidators(l.kI.required),this.purchasePaymentForm.get("account_no").setValidators(l.kI.required)):(this.purchasePaymentForm.get("upi_id").clearValidators(),this.purchasePaymentForm.get("payment_account").clearValidators(),this.purchasePaymentForm.get("customer_bank_name").clearValidators(),this.purchasePaymentForm.get("card_payment_amount").clearValidators(),this.purchasePaymentForm.get("card_holder_name").clearValidators(),this.purchasePaymentForm.get("cart_transactions_no").clearValidators(),this.purchasePaymentForm.get("account_no").clearValidators()),this.purchasePaymentForm.get("upi_id").updateValueAndValidity(),this.purchasePaymentForm.get("payment_account").updateValueAndValidity(),this.purchasePaymentForm.get("customer_bank_name").updateValueAndValidity(),this.purchasePaymentForm.get("card_payment_amount").updateValueAndValidity(),this.purchasePaymentForm.get("card_holder_name").updateValueAndValidity(),this.purchasePaymentForm.get("cart_transactions_no").updateValueAndValidity(),this.purchasePaymentForm.get("account_no").updateValueAndValidity()}),window.addEventListener("online",()=>{this.showSyncButton&&document.getElementById("exampleModal7").classList.add("show")}),this.syncService.checkOnlineStatus(),this.loader=!1,this.cartItems=this.cartService.getCartItems();const i={headers:new U.WM({"Content-Type":"application/json",Authorization:"Token 4d586523c3dbbc989192bec34006e72a4edebf00"})};this.productsAutocompleteControl.valueChanges.pipe((0,ee.h)(a=>null!==a&&a?.length>=this.minLengthTerm),(0,ne.x)(),(0,St.b)(100),(0,oe.b)(()=>{this.errorMsg="",this.filteredProducts=[],this.isLoading=!0}),(0,ie.w)(a=>this.http.get(`https://pv.greatfuturetechno.com/pv-api/pos/product_search/?search=${a}`,i).pipe((0,re.K)(s=>(this.errorMsg="No Products Found",this.isLoading=!1,[])),(0,ae.x)(()=>{this.isLoading=!1})))).subscribe(a=>{a.length>0?this.filteredProducts=a:(this.filteredProducts=[],this.errorMsg="No Products Available")}),this.initializePaymentForm(),this.getAccount(),this.getAccountByAlies("cash-in-hand",0),this.getCompanyDetails(),this.cartService.paymentModesLogo().subscribe(a=>{this.paymentModeList=a}),this.customerAutoCompleteControl.valueChanges.pipe((0,ee.h)(a=>(console.log(a),this.userAccoutId=a?.account,null!==a&&a?.length>=this.cusMinLengthTerm)),(0,ne.x)(),(0,St.b)(100),(0,oe.b)(()=>{this.cusErrorMsg="",this.filteredCustomer=[],this.cusIsLoading=!0}),(0,ie.w)(a=>this.http.get(`https://pv.greatfuturetechno.com/pv-api/pos/customer_filter/?search=${a}`,i).pipe((0,re.K)(s=>(this.cusErrorMsg="No Customer Found",this.cusIsLoading=!1,[])),(0,ae.x)(()=>{this.cusIsLoading=!1})))).subscribe(a=>{a.length>0?(console.log(a),this.filteredCustomer=a):(this.filteredCustomer=[],this.cusErrorMsg="No Customers Found")}),this.salesPaymentForm.get("customer").valueChanges.pipe((0,ee.h)(a=>null!==a&&a?.length>=this.cusMinLengthTerm),(0,ne.x)(),(0,St.b)(100),(0,oe.b)(()=>{this.cusErrorMsg="",this.filteredCustomer2=[],this.cusIsLoading=!0}),(0,ie.w)(a=>this.http.get(`https://pv.greatfuturetechno.com/pv-api/pos/customer_filter/?search=${a}`,i).pipe((0,re.K)(s=>(this.cusErrorMsg="No Customer Found",this.cusIsLoading=!1,[])),(0,ae.x)(()=>{this.cusIsLoading=!1})))).subscribe(a=>{a.length>0?this.filteredCustomer2=a:(this.filteredCustomer2=[],this.cusErrorMsg="No Customers Found")}),this.purchasePaymentForm.get("party").valueChanges.pipe((0,ee.h)(a=>null!==a&&a?.length>=this.cusMinLengthTerm),(0,ne.x)(),(0,St.b)(100),(0,oe.b)(()=>{this.partyErrorMsg="",this.filteredParty=[],this.partyIsLoading=!0}),(0,ie.w)(a=>this.http.get(`https://pv.greatfuturetechno.com/pv-api/pos/party_filter/?search=${a}`,i).pipe((0,re.K)(s=>(this.partyErrorMsg="No Party Found",this.partyIsLoading=!1,[])),(0,ae.x)(()=>{this.partyIsLoading=!1})))).subscribe(a=>{a.length>0?this.filteredParty=a:(this.filteredParty=[],this.partyErrorMsg="No Party Found")}),this.expensePaymentForm.get("party").valueChanges.pipe((0,ee.h)(a=>null!==a&&a?.length>=this.cusMinLengthTerm),(0,ne.x)(),(0,St.b)(100),(0,oe.b)(()=>{this.partyErrorMsg="",this.filteredPartyExpense=[],this.partyIsLoading=!0}),(0,ie.w)(a=>this.http.get(`https://pv.greatfuturetechno.com/pv-api/pos/party_filter/?search=${a}`,i).pipe((0,re.K)(s=>(this.partyErrorMsg="No Party Found",this.partyIsLoading=!1,[])),(0,ae.x)(()=>{this.partyIsLoading=!1})))).subscribe(a=>{a.length>0?this.filteredPartyExpense=a:(this.filteredPartyExpense=[],this.partyErrorMsg="No Party Found")}),this.addMoreDetails=!1,this.coreService.getCountry().subscribe({next:a=>{this.currentCountry=a[0],this.coreService.getStateByCountryId(a[0].id).subscribe({next:s=>{this.stateList=s,this.state.setValue(s[0].id),this.currentState=s[0].id,this.coreService.getCityByStateId(s[0].id).subscribe({next:c=>{this.city.setValue(c[0].id),this.currentCities=c[0].id,this.cityList=c},error:c=>{}})},error:s=>{}})},error:a=>{}}),this.cartService.getAdditionalCharge().subscribe({next:a=>{this.additionalChargesList=a},error:a=>{}}),this.cartService.getTaxes().subscribe({next:a=>{this.taxesList=a},error:a=>{}}),this.cartService.getCompanyBank().subscribe({next:a=>{this.companyBankList=a},error:a=>{}}),this.cartService.getPaymentTerms().subscribe({next:a=>{this.paymentTermsList=a},error:a=>{}}),this.cartService.getPOSOrders().subscribe({next:a=>{this.posOrders=a},error:a=>{}}),this.cartService.getExpensePayments().subscribe({next:a=>{this.expensePayments=a},error:a=>{}}),this.cartService.getSalesPayments().subscribe({next:a=>{this.salesPayments=a},error:a=>{}}),this.cartService.getPurchasePayments().subscribe({next:a=>{this.purchasePayments=a},error:a=>{}})}getCompanyDetails(){this.companyService.getCompany().subscribe(e=>{this.companyDetails=e[0]})}onInputKeydown(e){}clearValidatorsReceipt(){}__filter(e){const n=this.__normalizeValue(e);return this.streets.filter(i=>this.__normalizeValue(i).includes(n))}__normalizeValue(e){return e.toLowerCase().replace(/\s/g,"")}_filter(e){const n=this._normalizeValue(e);return this.streets.filter(i=>this._normalizeValue(i).includes(n))}_normalizeValue(e){return e.toLowerCase().replace(/\s/g,"")}filterArray(e){this.filteredOptions$=this.options.filter(n=>n.name.toLowerCase().includes(e?.toLowerCase()))}filterOptions(e){const n=e.toLowerCase();return this.options.filter(i=>i.name.toLowerCase().includes(n))}clearValidators(){const e=this.receiptPaymentForm.controls;Object.keys(e).forEach(n=>{const i=e[n];i.clearValidators(),i.updateValueAndValidity()})}initializePaymentForm(){this.paymentForm=this.fb.group({addMorePayment:this.fb.array([this.addNewPayment(this.totalAmount())])})}addNewPayment(e){return this.fb.group({mode_type:"AgainstBill",user_account_id:new l.NI(this.userAccoutId),payment_account:new l.NI("",l.kI.required),receipt_type:new l.NI("",l.kI.required),note:new l.NI(""),amount:new l.NI(e,l.kI.required)})}subscribeToReceiptTypeChange(e){const n=e.get("receipt_type");if(n){const i=n.valueChanges.subscribe(a=>{this.toggleAdditionalControls(e,a)});this.receiptTypeSubscriptions.push(i)}}receiptTypeChange(e,n){const i=e.target.value,a=this.addMorePaymentData.at(n);this.getAccountByAlies("Cash"===e.target.value?"cash-in-hand":"bank-accounts",n),this.toggleAdditionalControls(a,i)}toggleAdditionalControls(e,n){["payment_mode","transaction_date","transaction_id","day","date","is_send_reminder"].forEach(a=>{e.get(a)&&e.removeControl(a)}),"Bank"===n?(e.addControl("payment_mode",new l.NI("",l.kI.required)),e.addControl("transaction_date",new l.NI("",l.kI.required)),e.addControl("transaction_id",new l.NI("",l.kI.required)),e.removeControl("day"),e.removeControl("date"),e.removeControl("is_send_reminder")):"PayLater"===n?(e.addControl("day",new l.NI("",l.kI.required)),e.addControl("date",new l.NI("",l.kI.required)),e.addControl("is_send_reminder",new l.NI(!0)),e.removeControl("payment_account"),e.removeControl("payment_mode"),e.removeControl("transaction_date"),e.removeControl("transaction_id")):(e.removeControl("payment_mode"),e.removeControl("transaction_date"),e.removeControl("transaction_id"),e.removeControl("day"),e.removeControl("date"),e.removeControl("is_send_reminder"))}onSelectDay(e,n){const a=this.addMorePaymentData.at(n).get("date"),s=parseInt(e,10);if(isNaN(s))a.setValue(""),a.enable();else{const c=new Date,p=new Date(c.setDate(c.getDate()+s)).toISOString().split("T")[0];a.setValue(p),a.disable()}}getAccount(){this.transactionService.getAccount().subscribe(e=>{this.accountList=e,console.log(this.accountList)})}getAccountByAlies(e,n){this.transactionService.getAccoutAlies(e).subscribe(i=>{this.addMorePaymentData.at(n).get("payment_account").setValue(""),this.accountListAlies[n]=i})}setIndexForNotes(e){this.currentCartIndex1=this.currentCartIndex1==e?-1:e}setIndexForProductDetails(e){this.playBeepSound(),this.currentCartIndex=e}addRowToCAC(){this.playBeepSound(),this.currentOrderAdditionalCharges.push({additional_charge:"",value:0,value_type:"percentage",tax:"",total:0})}updateRowInCAC(e){}deleteRowInCAC(e,n){n.stopPropagation(),this.playBeepSound(),this.currentOrderAdditionalCharges&&0!==this.currentOrderAdditionalCharges.length&&(e>=0&&e<this.currentOrderAdditionalCharges.length&&this.currentOrderAdditionalCharges.splice(e,1),this.updateRowInCAC(e))}updateACInCAC(e,n){let i=n.target.value;const a=this.additionalChargesList.findIndex(s=>s.id==i);if(-1!==a&&e>=0&&e<this.currentOrderAdditionalCharges.length)if(this.currentOrderAdditionalCharges[e].tax){const s=this.taxesList.findIndex(_=>_.id==this.currentOrderAdditionalCharges[e].tax);let c=this.additionalChargesList[a].value,p=this.taxesList[s].tax_percentage/100*c+c;this.currentOrderAdditionalCharges[e].additional_charge=i,this.currentOrderAdditionalCharges[e].value=this.additionalChargesList[a].value,this.currentOrderAdditionalCharges[e].total=p}else this.currentOrderAdditionalCharges[e].additional_charge=i,this.currentOrderAdditionalCharges[e].value=this.additionalChargesList[a].value,this.currentOrderAdditionalCharges[e].total=this.additionalChargesList[a].value;this.currentTotalAdditionalCharges()}getProductDisc(e){let n=e.selling_price_offline,i=e.additional_discount;return i<0||n<0?Number(0):i/100*n}getProductAddDisc(e){let n=e.selling_price_offline,i=e.additional_discount;return i<0||n<0?Number(0):i/100*n}getProductTax(e){let n=e.selling_price_offline,i=e?.sale_tax||0;return n-=this.getProductDisc(e)+this.getProductAddDisc(e),i<0||n<0?0:i/100*n}getPriceAfterTaxes(e){let n=e.selling_price_offline,i=e.sale_tax||0;return i<0||n<0?n:i/100*n+n}getPriceAfterTaxes2(e){let n=e.selling_price_offline,i=e.sale_tax||0;return n-=this.getProductDisc(e)+this.getProductAddDisc(e),i<0||n<0?n:i/100*n+n}getNetAmount(e,n){return this.getPriceAfterTaxes(e)*n}totalTaxAmount(){let e=this.cartService.getCurrentItems(),n=0;for(let i of e)i?.batch&&(n+=this.getProductTax(i?.batch[0])*i?.quantity);return Number(n).toFixed(2)}totalDiscAmount(){let e=this.cartService.getCurrentItems(),n=0;for(let i of e)i?.batch&&(n+=(this.getProductDisc(i?.batch[0])+this.getProductAddDisc(i?.batch[0]))*i?.quantity);return Number(n).toFixed(2)}getNetAmount2(e,n){return this.getPriceAfterTaxes2(e)*n}finalAmount(){const e=this.totalAmount();return Math.ceil(e)-this.totalDiscountRupees()}totalAmount(){let e=this.cartService.getCurrentItems(),n=0+this.currentTotalAdditionalCharges();for(let i of e)i?.batch&&(n+=this.getNetAmount2(i?.batch[0],i?.quantity),this.cartTotalPrice=n);return n}multiplePay(){const e=this.totalAmount();this.initializePaymentForm(),this.patchLatestAmount(e)}patchLatestAmount(e){this.addMorePaymentData&&this.addMorePaymentData.length>0&&this.addMorePaymentData.at(0).patchValue({amount:e.toFixed(2)})}updateTaxInCAC(e,n){let i=n.target.value;const a=this.taxesList.findIndex(s=>s.id==i);if(-1!==a&&e>=0&&e<this.currentOrderAdditionalCharges.length)if(this.currentOrderAdditionalCharges[e].additional_charge){this.additionalChargesList.findIndex(_=>_.id==this.currentOrderAdditionalCharges[e].additional_charge);let c=this.currentOrderAdditionalCharges[e].value,p=this.taxesList[a].tax_percentage/100*c+c;this.currentOrderAdditionalCharges[e].tax=i,this.currentOrderAdditionalCharges[e].total=p}else{const d=this.taxesList[a].tax_percentage/100*this.currentOrderAdditionalCharges[e].total;this.currentOrderAdditionalCharges[e].tax=i,this.currentOrderAdditionalCharges[e].total=d}this.currentTotalAdditionalCharges()}updateValueInCAC(e,n){let i=n.target.value;if(e>=0&&e<this.currentOrderAdditionalCharges.length)if(this.currentOrderAdditionalCharges[e].tax){const a=this.taxesList.findIndex(p=>p.id==this.currentOrderAdditionalCharges[e].tax);let s=Number(i),d=this.taxesList[a].tax_percentage/100*s+s;this.currentOrderAdditionalCharges[e].value=Number(i),this.currentOrderAdditionalCharges[e].total=d}else this.currentOrderAdditionalCharges[e].value=Number(i),this.currentOrderAdditionalCharges[e].total=Number(i);this.currentTotalAdditionalCharges()}updateValueTypeInCAC(e,n){e>=0&&e<this.currentOrderAdditionalCharges.length&&(this.currentOrderAdditionalCharges[e].value_type="percentage"===n?"rupee":"percentage"),this.updateRowInCAC(e)}currentTotalAdditionalCharges(){let e=0;if(this.currentOrderAdditionalCharges.length>0)for(let n=0;n<this.currentOrderAdditionalCharges.length;n++)e+=this.currentOrderAdditionalCharges[n].total;else e=0;return e}confirmBatch(){this.playBeepSound();let e,n=this.currentProduct.batch,i=this.currentBatch,a=[];for(let p=0;p<n.length;p++){const _=n[p];_.id==i&&a.push(_)}let s=this.currentProduct;s.batch=a,e={...s,quantity:1,notes:"",discount:0,type:""},this.addToCurrent(e),this.selectedOptions.push(e),this.productsAutocompleteControl.setValue(""),this.selectBtch.forEach(p=>{p.id==this.currentBatch&&(this.discount.push(p),console.log(this.discount,"discount confirm"))}),this.currentItems=this.cartService.getCurrentItems(),console.log(this.currentItems,"items confirm bach"),this.allDiscount();var c=document.getElementById("batchModal");vt.getInstance(c).hide()}optionSelected(e){let n;this.playBeepSound();const i=e.option.value;if(i.batch.length>1){this.currentProduct=i;const a=document.getElementById("batchModal");new vt(a).show()}else n={...i,quantity:1,notes:"",discount:0,type:""},this.addToCurrent(n),this.selectedOptions.push(n),this.productsAutocompleteControl.setValue(""),this.discount.push(i?.batch[0]),this.currentItems=this.cartService.getCurrentItems(),console.log(this.currentItems,"items confirm bach"),this.allDiscount();this.filteredProducts=[]}optionSelectedCharge(e){}optionSelected1(e){this.playBeepSound(),this.currentCustomer=e.option.value}optionSelectedReceipt(e){this.cartService.getReceiptDueOrder(e.option.value.id).subscribe({next:i=>{this.receiptSales=i},error:i=>{}})}optionSelectedParty(e){}optionSelectedPartyExpense(e){}removeOption(e){this.selectedOptions.splice(e,1)}removeOptionCurrent(e){console.log(e,"remove item"),this.playBeepSound();const n=this.selectedOptions.findIndex(i=>i.id===e.id);-1!==n&&this.selectedOptions.splice(n,1),this.cartService.removeFromCurrent(e),0==e.id&&this.discount.forEach(i=>{0==i.id&&(this.discount=this.discount.filter(a=>0!==a.id),console.log(this.discount))})}removeFromCurrent(e){this.cartService.removeFromCurrent(e)}addToCurrent(e){this.cartService.addToCurrent(e)}increaseQtyCurrent(e,n){this.playBeepSound(),this.cartService.increaseCurrent(e),this.discountQty(n)}decreaseQtyCurrent(e,n){this.playBeepSound(),this.cartService.decreaseCurrent(e),this.RemoveDiscountByQty(n)}addToCart(e){this.cartService.addToCart(e)}increaseQty(e){this.cartService.increase(e)}decreaseQty(e){this.cartService.decrease(e)}removeFromCart(e){}clearCart(){this.cartService.clearCart(),this.cartItems=[]}displayFn(e){return e?`${e?.product?.title} ${e?.variant_name} | ${e?.batch[0]?.selling_price_offline}`:""}displayCus(e){return e?`Ph: ${e?.mobile_no} Address: ${e?.address[e?.address?.length-1]?.city?.city}, ${e?.address[e?.address?.length-1]?.state?.state}`:""}displayCus1(e){return e?e?.mobile_no:""}displayParty(e){return e?e?.mobile_no:""}displayCharge(e){return e?e?.additional_charge:""}addMoreDetailsHandler(){return this.addMoreDetails=!this.addMoreDetails}totalMrp(){let e=this.cartService.getCurrentItems(),n=0;for(let i of e)i?.batch&&(n+=i?.batch[0]?.mrp*i?.quantity);return n}getRoundOff(){const n=this.totalAmount()%1;return 0!==n?(1-n).toFixed(2):(0).toFixed(2)}getTaxAmt(e){let n=e.selling_price_offline,i=e.sale_tax||0;return i<0||n<0?0:i/100*n}totalQty(){let e=this.cartService.getCurrentItems(),n=0;for(let i of e)i?.batch&&(n+=i?.quantity);return n}tenderedAmt(e){this.tenderedAmount=e.target.value}changeTenderedAmt(e){let n=Number(e);this.tenderedAmount+=n}changeAmt(){return(+this.tenderedAmount-this.totalAmount()).toFixed(2)}generateOrder1(){return this.syncService.checkOnlineStatus()}closeSyncModal(){return document.getElementById("exampleModal7").classList.remove("show")}generateOrder(){if(navigator.onLine)this.selectedOptions=[],this.currentCustomer="",this.toastr.success("Created Online","Order",{timeOut:5e3}),document.getElementById("exampleModal5Close").click();else{let e=this.selectedOptions,n=this.changeAmt(),i=this.tenderedAmount,a=this.totalAmount();this.cartService.generateOrder({ChangeAmt:n,TenderedAmt:i,Total:a,CustomerName:this.currentCustomer,Items:e}),this.toastr.success("Created Offline","Order",{timeOut:5e3}),this.selectedOptions=[],this.currentCustomer="",document.getElementById("exampleModal5Close").click()}}createOnline$(){return(0,en.T)((0,u.R)(window,"offline").pipe((0,G.U)(()=>!1)),(0,u.R)(window,"online").pipe((0,G.U)(()=>!0)),new m.y(e=>{e.next(navigator.onLine),e.complete()}))}showSyncButton(){let e=JSON.parse(localStorage.getItem("orders"));return!!e&&navigator.onLine&&e.length>0}checkSubmitCus(){}getCityNameById(e){const n=this.cityList.find(i=>i.id===e);return n?n.city:""}getStateNameById(e){const n=this.stateList.find(i=>i.id===e);return n?n.state:""}submitCustomerForm(){let e={address_line_1:this.registrationForm.get("address_line_1").value,address_line_2:this.registrationForm.get("address_line_2").value,country:Number(this.currentCountry.id),state:Number(this.registrationForm.get("state").value),city:Number(this.registrationForm.get("city").value),pincode:this.registrationForm.get("pincode").value,address_type:""},n=new FormData;n.append("name",this.registrationForm.get("name").value||""),n.append("mobile_no",this.registrationForm.get("mobile_no").value||""),n.append("whatsapp_no",this.registrationForm.get("whatsapp_no").value||""),n.append("date_of_birth",this.registrationForm.get("date_of_birth").value||""),n.append("anniversary_date",this.registrationForm.get("anniversary_date").value||""),n.append("email",this.registrationForm.get("email").value||""),n.append("gstin",this.registrationForm.get("gstin").value||""),n.append("gst_type",this.registrationForm.get("gst_type").value||""),n.append("address",this.address_line_1.value&&this.address_line_2.value&&this.state.value&&this.city.value&&this.pincode.value?JSON.stringify(e):""),this.cartService.addCustomer(n).subscribe({next:i=>{if(i.isSuccess){this.toastr.success(i.msg),document.querySelector(".addCusModal").click(),this.addMoreDetails=!1,this.city.setValue(this.cityList[0].id),this.currentCities=this.cityList[0].id,this.state.setValue(this.stateList[0].id),this.currentState=this.stateList[0].id;const s={address:[{city:{city:this.getCityNameById(this.registrationForm.get("city").value)},state:{state:this.getStateNameById(this.registrationForm.get("state").value)}}],mobile_no:this.registrationForm.get("mobile_no").value};this.customerAutoCompleteControl.setValue(s),this.registrationForm.reset()}else this.toastr.error(i.msg)},error:i=>{this.toastr.error(i.message)}})}markFormGroupTouched(e){Object.values(e.controls).forEach(n=>{n instanceof l.NI?n.markAsTouched():(n instanceof l.cw||n instanceof l.Oe)&&this.markFormGroupTouched(n)})}closePayLaterModal(){this.isModalShown=!1}submitMultiPayLater(){this.isFormSubmitted=!0;let e={day:this.payment_terms,date:this.due_date,is_send_reminder:this.selectedReminder};if(this.payment_terms&&this.due_date&&this.selectedReminder){const n=new FormData,i=this.addMorePaymentData.value;if(console.log(JSON.stringify(i)),this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let a=this.setItemsArr();n.append("customer",JSON.stringify(this.currentCustomer.id)),n.append("additional_charge",JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString()))),n.append("total_amount",JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString()))),n.append("payment_mode","Multiple Pay"),n.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),n.append("cart_data",JSON.stringify(a)),n.append("PayLatter",JSON.stringify(e)),n.append("payment",JSON.stringify(i)),this.cartService.generateOrderNew(n).subscribe(s=>{console.log(s),this.toastr.success(s?.msg),this.customerAutoCompleteControl.setValue(""),this.discardCurrentBill(),this.paymentForm.reset(),this.payment_terms="",this.due_date="",this.selectedReminder="",document.querySelector(".multiPayLaterModalClose").click(),document.querySelector(".paymentModal").click(),this.isFormSubmitted=!1})}}}proceedToPay(){if(this.markFormGroupTouched(this.paymentForm),this.paymentForm.valid)if(this.totalAmount()!==this.calculateAmountTotal())this.isModalShown=!0,document.body.classList.add("modal-open");else{if(this.isModalShown=!1,document.body.classList.remove("modal-open"),!this.paymentForm.valid)return;{const i=new FormData,a=this.addMorePaymentData.value;if(console.log(JSON.stringify(a)),this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let s=this.setItemsArr();i.append("customer",JSON.stringify(this.currentCustomer.id)),i.append("additional_charge",JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString()))),i.append("total_amount",JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString()))),i.append("payment_mode","Multiple Pay"),i.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),i.append("cart_data",JSON.stringify(s)),i.append("PayLatter",""),i.append("payment",JSON.stringify(a)),this.cartService.generateOrderNew(i).subscribe(c=>{console.log(c),this.toastr.success(c?.msg),this.customerAutoCompleteControl.setValue(""),this.discardCurrentBill(),this.paymentForm.reset(),document.querySelector(".paymentModal").click()})}}}}ngOnDestroy(){this.receiptTypeSubscriptions.forEach(e=>e.unsubscribe())}modalClose(e){e&&(document.querySelector(".posPaymentVoucher").click(),this.isPaymentModalShown=!1)}expenseModalClose(e){e&&(document.querySelector(".posExpenseVoucher").click(),this.isExpanseModalShown=!1)}receiptModalClose(e){e&&(document.querySelector(".posReceiptVoucher").click(),this.isReceiptModalShown=!1)}creditNoteModalClose(e){e&&(document.querySelector(".posCreditNote").click(),this.isCreditNoteModalShown=!1)}onSelectPaymentAccount(e,n){this.addMorePaymentData.at(n).get("payment_account").setValue(e)}get formControls(){return this.registrationForm.controls}oncheckBank(e){}onStateChange(e){this.currentState=e.target.value,this.coreService.getCityByStateId(e.target.value).subscribe({next:i=>{this.cityList=i,this.currentCities=this.cityList?.id},error:i=>{}})}onCityChange(e){this.currentCities=e.target.value}onSubmit(){this.playBeepSound(),this.registrationForm.invalid?Object.keys(this.registrationForm.controls).forEach(e=>{this.registrationForm.controls[e].markAsTouched()}):this.customerRegistrationNumberSame?this.toastr.error("Mobile number already exists."):this.submitCustomerForm()}get name(){return this.registrationForm.get("name")}get mobile_no(){return this.registrationForm.get("mobile_no")}get whatsapp_no(){return this.registrationForm.get("whatsapp_no")}get date_of_birth(){return this.registrationForm.get("date_of_birth")}get anniversary_date(){return this.registrationForm.get("anniversary_date")}get email(){return this.registrationForm.get("email")}get gstin(){return this.registrationForm.get("gstin")}get gst_type(){return this.registrationForm.get("gst_type")}get address_line_1(){return this.registrationForm.get("address_line_1")}get address_line_2(){return this.registrationForm.get("address_line_2")}get country(){return this.registrationForm.get("country")}get state(){return this.registrationForm.get("state")}get city(){return this.registrationForm.get("city")}get pincode(){return this.registrationForm.get("pincode")}get upi_id(){return this.upiPaymentMethodForm.get("upi_id")}get transaction_id(){return this.upiPaymentMethodForm.get("transaction_id")}get payment_account_upi(){return this.upiPaymentMethodForm.get("payment_account")}get account_no(){return this.bankPaymentMethodForm.get("account_no")}get payment_account_bank(){return this.bankPaymentMethodForm.get("payment_account")}get upi_id_receipt(){return this.receiptPaymentForm.get("upi_id")}get transaction_id_receipt(){return this.receiptPaymentForm.get("transaction_id")}get payment_account_receipt(){return this.receiptPaymentForm.get("payment_account")}get payment_account_card(){return this.cardPaymentMethodForm.get("payment_account")}get customer_bank_name(){return this.cardPaymentMethodForm.get("customer_bank_name")}get card_payment_amount(){return this.cardPaymentMethodForm.get("card_payment_amount")}get card_holder_name(){return this.cardPaymentMethodForm.get("card_holder_name")}get cart_transactions_no(){return this.cardPaymentMethodForm.get("cart_transactions_no")}get pay_later_day(){return this.payLaterMethodForm.get("day")}get pay_later_date(){return this.payLaterMethodForm.get("date")}get is_send_reminder(){return this.payLaterMethodForm.get("is_send_reminder")}get voucher_type(){return this.receiptPaymentForm.get("voucher_type")}get payment_type(){return this.receiptPaymentForm.get("payment_type")}get payment_mode(){return this.receiptPaymentForm.get("payment_mode")}get receipt_sales(){return this.receiptPaymentForm.get("receipt_sales")}get amount_receipt(){return this.receiptPaymentForm.get("amount_receipt")}get customer_receipt(){return this.receiptPaymentForm.get("customer_receipt")}get receipt_remark(){return this.receiptPaymentForm.get("receipt_remark")}get party_receipt(){return this.receiptPaymentForm.get("party_receipt")}get receipt_customer_bank_name(){return this.receiptPaymentForm.get("customer_bank_name")}get receipt_card_payment_amount(){return this.receiptPaymentForm.get("card_payment_amount")}get receipt_card_holder_name(){return this.receiptPaymentForm.get("card_holder_name")}get receipt_cart_transactions_no(){return this.receiptPaymentForm.get("cart_transactions_no")}get receipt_account_no(){return this.receiptPaymentForm.get("account_no")}get expense_non_gst(){return this.receiptPaymentForm.get("non_gst")}get expense_nongst(){return this.expensePaymentForm.get("non_gst")}get expense_party(){return this.expensePaymentForm.get("party")}get expense_amount(){return this.expensePaymentForm.get("amount")}get expense_remark(){return this.expensePaymentForm.get("remark")}get expense_payment_account(){return this.expensePaymentForm.get("payment_account")}get sales_amount(){return this.salesPaymentForm.get("amount")}get sales_remark(){return this.salesPaymentForm.get("remark")}get sales_payment_account(){return this.salesPaymentForm.get("payment_account")}get sales_payment_type(){return this.salesPaymentForm.get("payment_type")}get sales_payment_mode(){return this.salesPaymentForm.get("payment_mode")}get sales_sales(){return this.salesPaymentForm.get("sales")}get sales_customer_bank_name(){return this.salesPaymentForm.get("customer_bank_name")}get sales_card_payment_amount(){return this.salesPaymentForm.get("card_payment_amount")}get sales_card_holder_name(){return this.salesPaymentForm.get("card_holder_name")}get sales_cart_transactions_no(){return this.salesPaymentForm.get("cart_transactions_no")}get sales_account_no(){return this.salesPaymentForm.get("account_no")}get sales_upi_id(){return this.salesPaymentForm.get("upi_id")}get sales_customer(){return this.salesPaymentForm.get("customer")}get purchase_amount(){return this.purchasePaymentForm.get("amount")}get purchase_remark(){return this.purchasePaymentForm.get("remark")}get purchase_payment_account(){return this.purchasePaymentForm.get("payment_account")}get purchase_payment_type(){return this.purchasePaymentForm.get("payment_type")}get purchase_payment_mode(){return this.purchasePaymentForm.get("payment_mode")}get purchase_sales(){return this.purchasePaymentForm.get("sales")}get purchase_customer_bank_name(){return this.purchasePaymentForm.get("customer_bank_name")}get purchase_card_payment_amount(){return this.purchasePaymentForm.get("card_payment_amount")}get purchase_card_holder_name(){return this.purchasePaymentForm.get("card_holder_name")}get purchase_cart_transactions_no(){return this.purchasePaymentForm.get("cart_transactions_no")}get purchase_account_no(){return this.purchasePaymentForm.get("account_no")}get purchase_upi_id(){return this.purchasePaymentForm.get("upi_id")}get purchase_party(){return this.purchasePaymentForm.get("party")}handleMobileInputChange(e){this.mobile_no.valid&&this.http.get(`https://pv.greatfuturetechno.com/pv-api/pos/mobile_no_check_of_customer/?search=${e.target.value}`).subscribe({next:i=>{this.customerRegistrationNumberSame=!!i.Same},error:i=>{}})}onGstTypeChange(){"Registered Regular"===this.gst_type.value?this.gstin.setValidators([l.kI.required]):this.gstin.clearValidators(),this.gstin.updateValueAndValidity()}onAddress1Change(){"Registered Regular"===this.address_line_1.value?this.gstin.setValidators([l.kI.required]):this.gstin.clearValidators(),this.gstin.updateValueAndValidity()}setAddressValidators(){this.address_line_1.setValidators(l.kI.required),this.address_line_2.setValidators(l.kI.required),this.state.setValidators(l.kI.required),this.city.setValidators(l.kI.required),this.pincode.setValidators([l.kI.required,l.kI.pattern(/^[0-9]{6}$/)]),this.address_line_1.updateValueAndValidity(),this.address_line_2.updateValueAndValidity(),this.state.updateValueAndValidity(),this.city.updateValueAndValidity(),this.pincode.updateValueAndValidity()}clearAddressValidators(){this.address_line_1.clearValidators(),this.address_line_2.clearValidators(),this.state.clearValidators(),this.city.clearValidators(),this.pincode.clearValidators(),this.pincode.setValidators(l.kI.pattern(/^[0-9]{6}$/)),this.address_line_1.updateValueAndValidity(),this.address_line_2.updateValueAndValidity(),this.state.updateValueAndValidity(),this.city.updateValueAndValidity(),this.pincode.updateValueAndValidity()}resumeBill(e){this.playBeepSound();const n=this.heldBills.find(a=>a.id===e);if(n){this.cartService.clearCurrent(),this.currentItems=this.cartService.getCurrentItems();for(let a=0;a<n.currentItems.length;a++)this.cartService.addToCurrent(n.currentItems[a]);this.currentOrderAdditionalCharges=n.currentOrderAdditionalCharges.length>0?n.currentOrderAdditionalCharges:[],this.currentCustomer=n.currentCustomer,this.billHoldService.removeFromHold(e),this.heldBills=this.billHoldService.getHeldBills(),document.querySelector(".holdClose").click()}}removeFromHold(e){this.playBeepSound(),this.billHoldService.removeFromHold(e),this.heldBills=this.billHoldService.getHeldBills(),document.querySelector(".holdClose").click()}holdBill(e){if(this.playBeepSound(),this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let n={};n.currentItems=this.currentItems,n.currentOrderAdditionalCharges=this.currentOrderAdditionalCharges.length>0?this.currentOrderAdditionalCharges:[],"print"===e&&(this.holdBillActive=!0),n.totalAmt=this.totalAmount(),n.currentCustomer=this.currentCustomer,this.billHoldService.addToHold(n),this.discardCurrentBill(),this.customerAutoCompleteControl.setValue("")}else this.toastr.error("Please Items To Cart!")}discardCurrentBill(){this.cartService.clearCurrent(),this.currentItems=this.cartService.getCurrentItems(),this.currentOrderAdditionalCharges=[],this.currentCustomer=null}receiptFormSubmit(){this.receiptPaymentForm.invalid?Object.keys(this.receiptPaymentForm.controls).forEach(e=>{this.receiptPaymentForm.controls[e].markAsTouched()}):"sales"===this.voucher_type.value?this.formSubmitReceipt():"purchase"===this.voucher_type.value?this.formSubmitPurchase():this.formSubmitExpense()}formSubmitExpense(){if(this.playBeepSound(),this.expensePaymentForm.invalid)return void Object.keys(this.expensePaymentForm.controls).forEach(n=>{this.expensePaymentForm.controls[n].markAsTouched()});let e=new FormData;e.append("party",this.expense_party?.value?.id),e.append("amount",this.expense_amount.value),e.append("remarks",this.expense_remark.value),e.append("non_gst",this.expense_nongst.value),e.append("payment_account",this.expense_payment_account.value),this.cartService.expensePayment(e).subscribe({next:n=>{n.isSuccess?(this.toastr.success(n.msg),document.querySelector(".expenseModalClose").click(),this.expensePaymentForm.reset(),this.expense_nongst.setValue(!1),this.cartService.getExpensePayments().subscribe({next:a=>{this.expensePayments=a},error:a=>{}})):this.toastr.error(n.msg)},error:n=>{this.toastr.error(n.message)}})}formSubmitPurchase(){if(this.playBeepSound(),this.purchasePaymentForm.invalid)return void Object.keys(this.purchasePaymentForm.controls).forEach(n=>{this.purchasePaymentForm.controls[n].markAsTouched()});let e=new FormData;if("UPI"===this.purchase_payment_mode.value){let n={upi_no:Number(this.purchase_upi_id.value),payment_account:Number(this.purchase_payment_account.value)};"Advance"==this.purchase_payment_type.value?(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",""),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail",JSON.stringify(n))):(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",this.purchase_sales.value),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail",JSON.stringify(n)))}else if("Bank"===this.payment_mode.value){let n={payment_account:Number(this.purchase_payment_account.value),account_no:this.purchase_account_no.value};"Advance"==this.payment_type.value?(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",""),e.append("card_detail",""),e.append("bank_detail",JSON.stringify(n)),e.append("upi_detail","")):(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",this.purchase_sales.value),e.append("card_detail",""),e.append("bank_detail",JSON.stringify(n)),e.append("upi_detail",""))}else if("Card"===this.payment_mode.value){let n={payment_account:Number(this.purchase_payment_account.value),customer_bank_name:this.purchase_customer_bank_name.value,card_payment_amount:this.purchase_card_payment_amount.value,card_holder_name:this.purchase_card_holder_name.value,cart_transactions_no:this.purchase_cart_transactions_no.value};"Advance"==this.payment_type.value?(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",""),e.append("card_detail",JSON.stringify(n)),e.append("bank_detail",""),e.append("upi_detail","")):(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",this.purchase_sales.value),e.append("card_detail",JSON.stringify(n)),e.append("bank_detail",""),e.append("upi_detail",""))}else"Advance"==this.payment_type.value?(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",""),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail","")):(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",this.purchase_sales.value),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail",""));this.cartService.purchasePayment(e).subscribe({next:n=>{n.isSuccess?(this.toastr.success(n.msg),document.querySelector(".purchaseModalClose").click(),this.purchasePaymentForm.reset(),this.cartService.getPurchasePayments().subscribe({next:a=>{this.purchasePayments=a},error:a=>{}})):this.toastr.error(n.msg)},error:n=>{this.toastr.error(n.message)}})}formSubmitReceipt(){if(this.playBeepSound(),this.salesPaymentForm.invalid)return void Object.keys(this.salesPaymentForm.controls).forEach(n=>{this.salesPaymentForm.controls[n].markAsTouched()});let e=new FormData;if("UPI"===this.sales_payment_mode.value){let n={upi_no:Number(this.sales_upi_id.value),payment_account:Number(this.sales_payment_account.value)};"Advance"==this.sales_payment_type.value?(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",""),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail",JSON.stringify(n))):(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",this.sales_sales.value),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail",JSON.stringify(n)))}else if("Bank"===this.sales_payment_mode.value){let n={payment_account:Number(this.sales_payment_account.value),account_no:this.sales_account_no.value};"Advance"==this.sales_payment_type.value?(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",""),e.append("card_detail",""),e.append("bank_detail",JSON.stringify(n)),e.append("upi_detail","")):(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",this.sales_sales.value),e.append("card_detail",""),e.append("bank_detail",JSON.stringify(n)),e.append("upi_detail",""))}else if("Card"===this.sales_payment_mode.value){let n={payment_account:Number(this.sales_payment_account.value),customer_bank_name:this.sales_customer_bank_name.value,card_payment_amount:this.sales_card_payment_amount.value,card_holder_name:this.sales_card_holder_name.value,cart_transactions_no:this.sales_cart_transactions_no.value};"Advance"==this.sales_payment_type.value?(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",""),e.append("card_detail",JSON.stringify(n)),e.append("bank_detail",""),e.append("upi_detail","")):(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",this.sales_sales.value),e.append("card_detail",JSON.stringify(n)),e.append("bank_detail",""),e.append("upi_detail",""))}else"Advance"==this.sales_payment_type.value?(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",""),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail","")):(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",this.sales_sales.value),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail",""));this.cartService.receiptPayment(e).subscribe({next:n=>{n.isSuccess?(this.toastr.success(n.msg),document.querySelector(".salesModalClose").click(),this.salesPaymentForm.reset(),this.cartService.getSalesPayments().subscribe({next:a=>{this.salesPayments=a},error:a=>{}})):this.toastr.error(n.msg)},error:n=>{this.toastr.error(n.message)}})}payLaterGenerateOrder(){if(this.playBeepSound(),this.payLaterMethodForm.invalid)Object.keys(this.payLaterMethodForm.controls).forEach(e=>{this.payLaterMethodForm.controls[e].markAsTouched()});else if(this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let e=this.setItemsArr(),n={day:Number(this.pay_later_day.value),date:this.pay_later_date.value,is_send_reminder:"false"==this.is_send_reminder.value?"False":"True"};const i=new FormData;i.append("customer",JSON.stringify(this.currentCustomer.id)),i.append("additional_charge",JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString()))),i.append("total_amount",JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString()))),i.append("payment_mode","Paylater"),i.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),i.append("cart_data",JSON.stringify(e)),i.append("card_detail",""),i.append("Multipay",""),i.append("PayLatter",JSON.stringify(n)),i.append("bank_detail",""),i.append("upi_detail",""),this.cartService.generateOrderNew(i).subscribe({next:a=>{a.isSuccess?(this.customerAutoCompleteControl.setValue(""),this.discardCurrentBill(),this.toastr.success(a.msg),setTimeout(()=>{this.generatePdf(a?.order,"payLater")},1e3),document.querySelector(".payLaterModalClose").click(),this.payLaterMethodForm.reset(),this.cartService.getPOSOrders().subscribe({next:c=>{this.posOrders=c},error:c=>{}})):this.toastr.error(a.msg)},error:a=>{this.toastr.error(a.message)}})}else this.toastr.error("Please Add Items To Cart")}onPaymentTermChange(e){this.payment_terms=e}cardPaymentGenerateOrder(e){if(this.playBeepSound(),this.cardPaymentMethodForm.invalid)Object.keys(this.cardPaymentMethodForm.controls).forEach(n=>{this.cardPaymentMethodForm.controls[n].markAsTouched()});else if(this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let n=this.setItemsArr(),i={payment_account:this.payment_account_card.value,customer_bank_name:this.customer_bank_name.value,card_payment_amount:this.card_payment_amount.value,card_holder_name:this.card_holder_name.value,cart_transactions_no:this.cart_transactions_no.value};const a=new FormData;a.append("customer",JSON.stringify(this.currentCustomer.id)),a.append("additional_charge",JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString()))),a.append("total_amount",JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString()))),a.append("payment_mode","Card"),a.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),a.append("cart_data",JSON.stringify(n)),a.append("card_detail",JSON.stringify(i)),a.append("Multipay",""),a.append("PayLatter",""),a.append("bank_detail",""),a.append("upi_detail",""),this.cartService.generateOrderNew(a).subscribe({next:s=>{s.isSuccess?(this.customerAutoCompleteControl.setValue(""),this.discardCurrentBill(),this.toastr.success(s.msg),"print"==e?(setTimeout(()=>{this.generatePdf(s?.order,"card")},1e3),document.querySelector(".cardPrintModalClose").click()):document.querySelector(".cardModalClose").click(),this.cardPaymentMethodForm.reset()):this.toastr.error(s.msg)},error:s=>{this.toastr.error(s.message)}})}else this.toastr.error("Please Add Items To Cart")}getCustomer(e){return this.accountList.filter(i=>i?.id===e)[0]?.created_by}formatDate(e){const n=new Date(e);return`${String(n.getDate()).padStart(2,"0")}-${String(n.getMonth()+1).padStart(2,"0")}-${n.getFullYear()}`}formatHours(e){const n=new Date(e);let i=n.getHours();const s=i>=12?"PM":"AM";return i%=12,i=i||12,`${i}:${String(n.getMinutes()).padStart(2,"0")} ${s}`}truncateWithEllipsis(e,n){return e.length>n?e.substring(0,n-3)+"...":e}calculateSubTotal(){let e=0;for(let n=0;n<this.currentItems.length;n++){const i=this.currentItems[n],a=i.batch[0]?.selling_price_offline;e+=a*i.quantity}return e}checkPageOverflow(e){const n=(new He.default).internal.pageSize.height;this.textY>n-20&&(e.addPage(),this.textY=10)}holdDataPdf(){const e=new He.default;e.addImage("assets/dummy/pos.png","PNG",10,10,50,15),e.setFontSize(12),e.setTextColor(33,43,54),e.text("Pramod Fashion Retail Limited",15,40),this.textY=48,e.setFontSize(10),this.heldBills?.forEach(c=>{e.text(`ORD: ${c?.id?.substring(0,25)??"--"}`,10,this.textY),this.textY+=5,e.text(`GSTIn: ${c?.currentCustomer?.gstin?c?.currentCustomer?.gstin:"--"}`,10,this.textY),this.textY+=5,e.text("Customer Details",10,this.textY),this.textY+=5,e.text(`${this.getCustomer(c?.currentCustomer?.account)}`,10,this.textY),this.textY+=5;let d=c?.currentCustomer?.address[0]?.address_line_1,p=c?.currentCustomer?.address[0]?.address_line_2;e.text(`${d}, ${p}`,10,this.textY),this.textY+=10,e.text(`City: ${c?.currentCustomer?.address[0]?.city?.city??"--"}`,10,this.textY),this.textY+=5,e.text(`State: ${c?.currentCustomer?.address[0]?.state?.state??"--"}`,10,this.textY),this.textY+=5,e.text(`Country: ${c?.currentCustomer?.address[0]?.country?.country_name??"--"}`,10,this.textY),this.textY+=5,e.text(`Pincode: ${c?.currentCustomer?.address[0]?.pincode??"--"}`,10,this.textY),this.textY+=5,e.text(`Email: ${c?.currentCustomer?.email?c?.currentCustomer?.email:"--"}`,10,this.textY),this.textY+=5,e.text(`Mobile No: ${c?.currentCustomer?.mobile_no??"--"}`,10,this.textY),this.textY+=10,e.text("-------------------------------------------------------",10,this.textY),this.textY+=5,e.text("HSN",10,this.textY),e.text("Net Price",25,this.textY),e.text("Qty",45,this.textY),e.text("Value",60,this.textY),this.textY+=5,e.setFontSize(10),e.setTextColor(33,43,54),e.text("-------------------------------------------------------",10,this.textY),this.textY+=5,c?.currentItems?.forEach(g=>{e.text(g?.product?.hsncode?.hsn_code?g?.product?.hsncode?.hsn_code.toString():"--",10,this.textY),e.text(g.batch[0]?.selling_price_offline.toFixed(2).toString(),25,this.textY),e.text(g.quantity.toString(),45,this.textY),e.text((g.batch[0]?.selling_price_offline*g.quantity).toFixed(2).toString(),60,this.textY),this.textY+=5,e.text(g?.product?.title?this.truncateWithEllipsis(g?.product?.title,42):"--",10,this.textY),this.textY+=5}),e.text("-------------------------------------------------------",10,this.textY),this.textY+=5,e.text("Total Amount:",10,this.textY),e.text(`${c?.totalAmt}`,65,this.textY),this.textY+=5});const i=window.open("","_blank"),a=e.output("blob"),s=URL.createObjectURL(a);i.location.href=s,this.holdBillActive=!1}holdAndPrint(){this.holdBill("print"),this.holdBillActive&&setTimeout(()=>{this.holdDataPdf()},1e3)}generatePdf(e,n){const i=new He.default;i.addImage("assets/dummy/pos.png","PNG",10,10,50,15),i.setFontSize(12),i.setTextColor(33,43,54),i.text("Pramod Fashion Retail Limited",15,40),this.textY=48,i.setFontSize(10),i.text(`${this.companyDetails?.name??""}`,10,this.textY),this.textY+=5,i.text(`${this.companyDetails?.address??""}`,10,this.textY),this.textY+=5,i.text(`${this.companyDetails?.city?.city??""}, ${this.companyDetails?.state?.state??""}, ${this.companyDetails?.country?.country_name??""}, ${this.companyDetails?.pincode??""}`,10,this.textY),this.textY+=10,i.text(`Customer Care: ${this.companyDetails?.phone??"--"}`,10,this.textY),this.textY+=5,i.text(`GSTIN: ${this.companyDetails?.gst??"--"}`,10,this.textY),this.textY+=5,i.text(`Place of Supply & State code: ${this.companyDetails?.state_code?.gst_code} ${this.companyDetails?.state_code?.state_code}`,10,this.textY),this.textY+=10,i.text("-------------------------------------------------------",10,this.textY),this.textY+=10,i.text(`Customer GSTIN: ${e?.customer?.gstin?e?.customer?.gstin:"URD"}`,10,this.textY),this.textY+=5,i.text("Customer Details",10,this.textY),this.textY+=5,i.text(`${this.getCustomer(e?.customer?.account)}`,10,this.textY),this.textY+=5;const s_city=e?.customer?.address[0]?.city?.city??"",s_state=e?.customer?.address[0]?.state?.state??"",s_country=e?.customer?.address[0]?.country?.country_name??"",s_pincode=e?.customer?.address[0]?.pincode??"";let p=`${e?.customer?.address[0]?.address_line_1??""}, ${e?.customer?.address[0]?.address_line_2??""}`;i.setFontSize(10),i.text(p,10,this.textY),this.textY+=10,i.text(`City: ${s_city}`,10,this.textY),this.textY+=5,i.text(`State: ${s_state}`,10,this.textY),this.textY+=5,i.text(`Country: ${s_country}`,10,this.textY),this.textY+=5,i.text(`Pincode: ${s_pincode}`,10,this.textY),this.textY+=10,i.text("-------------------------------------------------------",10,this.textY),this.textY+=10,i.text("TAX INVOICE",25,this.textY),this.textY+=10,i.text(`Bill No.: ${e?.bill_no}`,10,this.textY),this.textY+=5,i.text(`Date: ${this.formatDate(e?.created_date)}   Time:${this.formatHours(e?.created_date)}`,10,this.textY),this.textY+=10,i.text("-------------------------------------------------------",10,this.textY),this.textY+=5,this.checkPageOverflow(i),i.text("HSN",10,this.textY),i.text("Net Price",25,this.textY),i.text("Qty",45,this.textY),i.text("Value",60,this.textY),this.textY+=5,i.setFontSize(10),i.setTextColor(33,43,54),i.text("-------------------------------------------------------",10,this.textY),this.textY+=5,e?.cart?.forEach(f=>{i.text(f?.variant?.product?.hsncode?.hsn_code?f?.variant?.product?.hsncode?.hsn_code.toString():"--",10,this.textY),i.text(f.net_cost.toFixed(2).toString(),25,this.textY),i.text(f.qty.toString(),45,this.textY),i.text((f.net_cost*f.qty).toFixed(2).toString(),60,this.textY),this.textY+=5,i.text(f?.variant?.product?.title?this.truncateWithEllipsis(f?.variant?.product?.title,42):"--",10,this.textY),this.textY+=5}),i.text("-------------------------------------------------------",10,this.textY),this.checkPageOverflow(i),this.textY+=5,i.text("Item Count:",10,this.textY),i.text(`${e?.get_item_count}`,65,this.textY),this.textY+=5,i.text("QTY:",10,this.textY),i.text(`${e?.total_qty}`,65,this.textY),this.textY+=5,i.text("SubTotal:",10,this.textY),i.text(`${e?.total_amount}`,65,this.textY),this.textY+=5,i.text("Total discount:",10,this.textY),i.text(`${e?.total_discount}`,65,this.textY),this.textY+=5,i.text("Credit Redeem:",10,this.textY),i.text(`${e?.credit_redeem}`,65,this.textY),this.textY+=5,i.text("Total Tax Amount:",10,this.textY),i.text(`${e?.total_tax}`,65,this.textY),this.textY+=5,i.text("Total Amount:",10,this.textY),i.text(`${e?.total_amount}`,65,this.textY),this.textY+=5,"upi"===n?(i.text("Amount Paid By UPI:",10,this.textY),i.text(""+(e?.total_amount-e?.due_amount),65,this.textY),this.textY+=5,i.text("Amount Pending By UPI:",10,this.textY),i.text(`${e?.due_amount}`,65,this.textY)):"bank"===n?(i.text("Amount Paid By Bank:",10,this.textY),i.text(""+(e?.total_amount-e?.due_amount),65,this.textY),this.textY+=5,i.text("Amount Pending By Bank:",10,this.textY),i.text(`${e?.due_amount}`,65,this.textY)):"cash"===n?(i.text("Amount Paid By Cash:",10,this.textY),i.text(""+(e?.total_amount-e?.due_amount),65,this.textY),this.textY+=5,i.text("Amount Pending By Cash:",10,this.textY),i.text(`${e?.due_amount}`,65,this.textY)):"card"===n?(i.text("Amount Paid By Card:",10,this.textY),i.text(""+(e?.total_amount-e?.due_amount),65,this.textY),this.textY+=5,i.text("Amount Pending By Card:",10,this.textY),i.text(`${e?.due_amount}`,65,this.textY)):"payLater"===n?(i.text("Amount Paid By PayLater:",10,this.textY),i.text(""+(e?.total_amount-e?.due_amount),65,this.textY),this.textY+=5,i.text("Amount Pending By PayLater:",10,this.textY),i.text(`${e?.due_amount}`,65,this.textY)):(i.text("Amount Paid:",10,this.textY),i.text(""+(e?.total_amount-e?.due_amount),65,this.textY),this.textY+=5,i.text("Amount Pending:",10,this.textY),i.text(`${e?.due_amount}`,65,this.textY)),this.textY+=5,i.text("-------------------------------------------------------",10,this.textY),this.checkPageOverflow(i),this.textY+=5,i.text("GST bill details ",10,this.textY),this.textY+=15,this.checkPageOverflow(i),i.text("-------------------------------------------------------",10,this.textY),this.textY+=5,this.checkPageOverflow(i),i.text("Tax %",10,this.textY),i.text("Taxable",25,this.textY),i.text("CGST",45,this.textY),i.text("SGST",60,this.textY),this.textY+=5,i.text("Amount",25,this.textY),this.textY+=5,i.setFontSize(10),i.setTextColor(33,43,54),i.text("-------------------------------------------------------",10,this.textY),this.textY+=5,e?.tax_summary?.forEach(f=>{i.text(f?.tax_percentage?f?.tax_percentage.toString():"0",10,this.textY),i.text(f.taxable_amount.toFixed(2).toString(),25,this.textY),i.text(f.cgst.toFixed(2).toString(),45,this.textY),i.text(f.sgst.toFixed(2).toString(),60,this.textY),this.textY+=10,this.totalTaxableAmount+=f.taxable_amount,this.totalCGST+=f.cgst,this.totalSGST+=f.sgst}),i.text("Total",10,this.textY),i.text(`${this.totalTaxableAmount.toFixed(2)}`,25,this.textY),i.text(`${this.totalCGST.toFixed(2)}`,45,this.textY),i.text(`${this.totalSGST.toFixed(2)}`,60,this.textY),this.checkPageOverflow(i),this.textY+=10,i.text("*  Thank You for Shopping with us  *",10,this.textY),this.textY+=5,i.text("Website: https://pramodfashion.com/",10,this.textY),this.textY+=5,i.text(`Customer Care email: ${this.companyDetails?.email}`,10,this.textY);const _=window.open("","_blank"),g=i.output("blob"),v=URL.createObjectURL(g);_.location.href=v}bankPaymentGenerateOrder(e){if(this.playBeepSound(),this.bankPaymentMethodForm.invalid)Object.keys(this.bankPaymentMethodForm.controls).forEach(n=>{this.bankPaymentMethodForm.controls[n].markAsTouched()});else if(this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let n=this.setItemsArr(),i={account_no:Number(this.account_no.value),payment_account:Number(this.payment_account_bank.value)};const a=new FormData;a.append("customer",JSON.stringify(this.currentCustomer.id)),a.append("additional_charge",JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString()))),a.append("total_amount",JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString()))),a.append("payment_mode","Bank"),a.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),a.append("cart_data",JSON.stringify(n)),a.append("card_detail",""),a.append("Multipay",""),a.append("PayLatter",""),a.append("bank_detail",JSON.stringify(i)),a.append("upi_detail",""),this.cartService.generateOrderNew(a).subscribe({next:s=>{s.isSuccess?(this.customerAutoCompleteControl.setValue(""),this.discardCurrentBill(),this.toastr.success(s.msg),"print"==e?(setTimeout(()=>{this.generatePdf(s?.order,"bank")},1e3),document.querySelector(".bankPrintModalClose").click()):document.querySelector(".bankModalClose").click(),this.bankPaymentMethodForm.reset(),this.cartService.getPOSOrders().subscribe({next:d=>{this.posOrders=d},error:d=>{}})):this.toastr.error(s.msg)},error:s=>{this.toastr.error(s.message)}})}else this.toastr.error("Please Add Items To Cart")}upiPaymentGenerateOrder(e){if(this.playBeepSound(),this.upiPaymentMethodForm.invalid)Object.keys(this.upiPaymentMethodForm.controls).forEach(n=>{this.upiPaymentMethodForm.controls[n].markAsTouched()});else if(this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let n=this.setItemsArr(),i={upi_no:Number(this.upi_id.value),payment_account:Number(this.payment_account_upi.value)};const a=new FormData;a.append("customer",JSON.stringify(this.currentCustomer.id)),a.append("additional_charge",JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString()))),a.append("total_amount",JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString()))),a.append("payment_mode","UPI"),a.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),a.append("cart_data",JSON.stringify(n)),a.append("card_detail",""),a.append("Multipay",""),a.append("PayLatter",""),a.append("bank_detail",""),a.append("upi_detail",JSON.stringify(i)),this.cartService.generateOrderNew(a).subscribe({next:s=>{s.isSuccess?(this.customerAutoCompleteControl.setValue(""),this.discardCurrentBill(),this.toastr.success(s.msg),"print"==e?(setTimeout(()=>{this.generatePdf(s?.order,"upi")},1e3),document.querySelector(".upiPrintModalClose").click()):document.querySelector(".upiModalClose").click(),this.upiPaymentMethodForm.reset(),this.cartService.getPOSOrders().subscribe({next:d=>{this.posOrders=d},error:d=>{}})):this.toastr.error(s.msg)},error:s=>{this.toastr.error(s.message)}})}else this.toastr.error("Please Add Items To Cart")}cashPaymentGenerateOrder(e){if(this.playBeepSound(),this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let n=this.setItemsArr();const i=new FormData;i.append("customer",JSON.stringify(this.currentCustomer.id)),i.append("additional_charge",JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString()))),i.append("total_amount",JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString()))),i.append("payment_mode","Cash"),i.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),i.append("cart_data",JSON.stringify(n)),i.append("total_qty",this.totalCartQuantity()),i.append("total_discount","0"),i.append("subtotal",this.calculateSubTotal()),i.append("Roundoff",this.getRoundOff()),i.append("card_detail",""),i.append("Multipay",""),i.append("PayLatter",""),i.append("bank_detail",""),i.append("upi_detail",""),this.cartService.generateOrderNew(i).subscribe({next:a=>{a.isSuccess?(this.customerAutoCompleteControl.setValue(""),this.discardCurrentBill(),this.tenderedAmount=0,this.toastr.success(a.msg),this.orderDetails=a?.order,"print"==e?(setTimeout(()=>{this.generatePdf(a?.order,"cash")},1e3),document.querySelector(".cashPrintModalClose").click()):document.querySelector(".cashModalClose").click(),this.cartService.getPOSOrders().subscribe({next:c=>{this.posOrders=c},error:c=>{}})):this.toastr.error(a.msg)},error:a=>{this.toastr.error(a.message)}})}else this.toastr.error("Please Add Items To Cart")}setItemsArr(){let e=[];for(let n=0;n<this.currentItems.length;n++){const i=this.currentItems[n];let a={variant:i.id,qty:i.quantity,mrp:i.batch[0].mrp,discount:i.batch[0].discount&&0!==i.batch[0].discount.length?i.batch[0].discount:0,add_discount:i.batch[0].additional_discount,unit_cost:i.batch[0]?.selling_price_offline,net_cost:Number(this.getNetAmount2(i?.batch[0],i?.quantity)).toFixed(2),tax_amount:Number(this.getProductTax(i.batch[0])*i.quantity).toFixed(2),remarks:i.notes,tax_percentage:i?.batch[0]?.sale_tax||0};e.push(a)}return e}totalCartQuantity(){return this.currentItems.reduce((n,i)=>n+i.quantity,0)}getDateForOrders(e){const n=new Date(e),i=n.getFullYear(),a=n.getMonth()+1,s=n.getDate();return`${i}-${a<10?"0":""}${a}-${s<10?"0":""}${s}`}getNumberInDecimalPlaces(e){const n=parseFloat(e);return Math.round(100*n)/100}playBeepSound(e){0!==this.currentItems.length||"btn"!==e?null!=this.currentCustomer||"btn"!==e?new Audio("assets/dummy/beep.mp3").play():this.toastr.error("Please Select/Add a Customer!"):this.toastr.error("Please Items To Cart!")}getExpense(){this.transactionService.getExpensVoucher().subscribe(e=>{this.expenseList=e})}sort(e){this.key=e,this.reverse=!this.reverse}getReciept(){this.transactionService.getRecieptVoucher().subscribe(e=>{this.recieptList=e})}getPayment(){this.transactionService.getPaymentVoucher().subscribe(e=>{this.paymentList=e})}getCreditNote(){this.transactionService.getCreditNote().subscribe(e=>{this.creditNoteList=e,console.log(e)})}selectedBatch(e,n){console.log(e),console.warn(this.currentBatch),this.selectBtch.push(e)}allDiscount(){console.log(this.discount,"discount"),this.discount.forEach((e,n)=>{if(e.discount.length>0&&e?.discount.forEach(i=>{this.discountTyp[n]||(this.discountTyp[n]=[]),this.discountTyp[n].push(i),this.compulsoryDiscounts=this.discountTyp[n].filter(a=>a.is_compulsory),console.log(this.compulsoryDiscounts)}),this.discountTyp[n]&&this.compulsoryDiscounts&&this.discount.length-1==n){const i=this.compulsoryDiscounts[this.compulsoryDiscounts.length-1];if(i?.is_compulsory)if("Price-range-free-item"==i?.discount_offer_type){if(this.currentItems[n]?.batch[0]?.selling_price_offline>=parseInt(i.start_price)&&this.currentItems[n]?.batch[0]?.selling_price_offline<=parseInt(i.end_price)){this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Free Item",this.isFreePriceRange[n]=!0;let a={product:{...i?.free_items,id:i?.free_items?.id||0,title:i?.free_items?.title||"",mrp:i?.free_items.mrp},batch:[{id:0,mrp:0,cost_price:0,selling_price_offline:0,is_active:!1,additional_discount:0,typeBatch:"Free Item",discount:[{discount_offer_type:"",discount_parent_id:"",discount_type:"",end_price:"",flat_discount:"",id:"",is_compulsory:!1,name:"",start_price:""}]}],type:"Free Item",variant_name:"",sku:"",id:0,quantity:1,notes:"",discount:0};this.freePriceProductSelected=a,this.discount.push(this.freePriceProductSelected?.batch[0]),console.log(this.discount,"discount"),this.addToCurrent(this.freePriceProductSelected),this.currentItems=this.cartService.getCurrentItems(),console.log(this.currentItems,"current items")}}else if("Price-range-discount"==i?.discount_offer_type){if(this.currentItems[n]?.batch[0]?.selling_price_offline>=parseInt(i.start_price)&&this.currentItems[n]?.batch[0]?.selling_price_offline<=parseInt(i.end_price))if(this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Discount","%"==i?.discount_type){let a=this.currentItems[n]?.batch[0]?.selling_price_offline*parseInt(i?.flat_discount)/100;this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n]?.batch[0]?.selling_price_offline-a,this.currentItems[n].discount=a}else{let a=this.currentItems[n]?.batch[0]?.selling_price_offline-parseInt(i?.flat_discount);this.currentItems[n].batch[0].selling_price_offline=a,this.currentItems[n].discount=parseInt(i?.flat_discount)}}else if("Free-item-on-invoice"==i?.discount_offer_type){if(this.finalAmount()>=parseInt(i?.invoice_amount)){this.isInvoiceFree[n]=!0,this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Free Item Invoice",console.log(this.selectedDiscount[n]),this.currentItems=this.cartService.getCurrentItems(),console.log(this.currentItems,"current items"),console.log(this.discount,"discount");let a={product:{...i?.free_items,id:i?.free_items?.id||0,title:i?.free_items?.title||"",mrp:i?.free_items.mrp},batch:[{id:0,mrp:0,cost_price:0,selling_price_offline:0,additional_discount:0,typeBatch:"Free Item Invoice",discount:[{discount_offer_type:"",discount_parent_id:"",discount_type:"",end_price:"",flat_discount:"",id:0,is_compulsory:!1,name:"",start_price:""}]}],type:"Free Item Invoice",variant_name:"",sku:"",quantity:1,id:0,notes:"",discount:0};this.productSelected=a,this.addToCurrent(this.productSelected),this.currentItems=this.cartService.getCurrentItems(),console.log(this.currentItems,"current items"),this.discount.push(this.productSelected?.batch[0]),console.log(this.discount,"discount")}}else if("Discount-on-Invoice"==i?.discount_offer_type)if(this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Discount Invoice","%"==i?.discount_type){let a=this.finalAmount()*parseInt(i?.flat_discount)/100,s=this.finalAmount()-a;console.warn(s),this.discountInvoice=a,this.currentItems[n].type="Discount Invoice"}else{let a=this.finalAmount()-parseInt(i?.flat_discount);console.warn(a),this.discountInvoice=parseFloat(i?.flat_discount),this.currentItems[n].type="Discount Invoice"}else if("Quantity-per-percentage"==i?.discount_offer_type)if(this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Qty % Discount",this.isQtyPerPercentage[n]=!0,this.discountTypeSelect.push(i),"%"==i?.discount_type){let a=this.currentItems[n]?.batch[0]?.selling_price_offline*parseInt(i?.flat_discount)/100;console.log(a);let s=this.currentItems[n]?.batch[0]?.selling_price_offline-a;console.warn(s),this.currentItems[n].batch[0].selling_price_offline=s,this.currentItems[n].discount=a,console.log(this.currentItems,"current items")}else{let a=this.currentItems[n]?.batch[0]?.selling_price_offline-parseInt(i?.flat_discount);console.warn(a),this.currentItems[n].batch[0].selling_price_offline=a,this.currentItems[n].discount=parseInt(i?.flat_discount),console.log(this.currentItems,"current items else")}else"Quantity-per-quantity"==i?.discount_offer_type&&(this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Qty Per Qty",this.discountTypeSelect.push(i),console.warn(i),console.warn(this.currentItems[n]?.quantity),this.currentItems[n]?.quantity>=parseInt(i?.purchase_qty)&&(this.isQtyPerQty[n]=!0,this.cartService.increaseCurrent(this.currentItems[n]),this.currentItems[n].type="Qty Per Qty",console.log(parseInt(i?.purchase_qty))))}})}discountQty(e){if(console.log(this.discountTyp),console.warn(this.discountTyp[e],"based on index discountType"),console.log(this.selectedDiscount[e]),console.log(this.currentItems[e],"curent item"),console.log(this.discountTypeSelect,"discount type"),console.log(this.discountTypeSelect[e],"discount type"),this.selectedDiscount)if("Qty Per Qty"==this.selectedDiscount[e])console.warn(this.currentItems[e]?.quantity),this.currentItems[e]?.quantity>=parseInt(this.discountTypeSelect[e]?.purchase_qty)&&(this.cartService.increaseCurrent(this.currentItems[e]),console.log(parseInt(this.discountTypeSelect[e]?.purchase_qty)));else if("Qty % Discount"==this.selectedDiscount[e])if("%"==this.discountTypeSelect[e]?.discount_type){console.log(this.currentItems[e]);let n=this.currentItems[e]?.batch[0]?.selling_price_offline*parseInt(this.discountTypeSelect[e]?.flat_discount)/100;console.log(n),this.flatDiscount[e]=n;let i=this.currentItems[e]?.batch[0]?.selling_price_offline-n;console.warn(i),this.currentItems[e].batch[0].selling_price_offline=i,this.currentItems[e].discount=n,console.log(this.currentItems,"current items")}else{let n=this.currentItems[e]?.batch[0]?.selling_price_offline-parseInt(this.discountTypeSelect[e]?.flat_discount);console.warn(n),this.flatDiscount[e]=this.discountTypeSelect[e]?.flat_discount,this.currentItems[e].batch[0].selling_price_offline=n,this.currentItems[e].discount=this.discountTypeSelect[e]?.flat_discount,console.log(this.currentItems,"current items")}}RemoveDiscountByQty(e){if(console.log(this.discountTyp),console.warn(this.discountTyp[e],"based on index discountType"),console.log(this.selectedDiscount[e]),console.log(this.currentItems[e],"curent item"),console.log(this.discountTypeSelect,"discount type"),console.log(this.discountTypeSelect[e],"discount type"),this.selectedDiscount&&this.selectedDiscount[e].quantity>1)if("Qty Per Qty"==this.selectedDiscount[e])console.warn(this.currentItems[e]?.quantity);else if("Qty % Discount"==this.selectedDiscount[e])if("%"==this.discountTypeSelect[e]?.discount_type){let n=this.currentItems[e].batch[0].selling_price_offline+this.currentItems[e].discount;this.currentItems[e].batch[0].selling_price_offline=n,console.log(n);let i=100*this.currentItems[e].discount/this.currentItems[e].batch[0].selling_price_offline;console.log(i),this.currentItems[e].discount=i,console.log(this.currentItems,"current items")}else{let n=this.currentItems[e]?.batch[0]?.selling_price_offline+this.currentItems[e].discount;this.flatDiscount[e]=this.discountTypeSelect[e]?.flat_discount,this.currentItems[e].batch[0].selling_price_offline=n,this.currentItems[e].discount=this.discountTypeSelect[e]?.flat_discount,console.log(this.currentItems,"current items")}}selectDiscount(e,n){if(this.isDiscountSelect[n]=!0,this.closeModalDiscount(n),console.warn(e,"selected discount"+n),"Price-range-free-item"==e?.discount_offer_type){if(this.selectedDiscount[n]="Free Item",this.currentItems[n]?.batch[0]?.selling_price_offline>=parseInt(e.start_price)&&this.currentItems[n]?.batch[0]?.selling_price_offline<=parseInt(e.end_price)){this.currentItems.forEach(a=>{console.log(a),0==a.id&&"Free Item Invoice"==a.type&&(this.removeOptionCurrent(a),console.log(this.currentItems,"current item")),a.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),a.quantity>1&&"Qty Per Qty"==a.type&&(this.currentItems[n].quantity=1),(a.type="Discount Invoice")&&(this.discountInvoice=0),this.discountTypeSelect[n]&&this.discountTypeSelect.splice(n,1),a.batch.forEach(s=>{"Free Item Invoice"==s.typeBatch&&this.removeOptionCurrent(a)})}),this.discount.forEach((a,s)=>{0==a.id&&"Free Item Invoice"==a.typeBatch&&this.discount.splice(s,1)}),console.warn(e);let i={product:{...e?.free_items,id:e?.free_items?.id||0,title:e?.free_items?.title||"",mrp:e?.free_items?.mrp},batch:[{id:0,mrp:0,cost_price:0,selling_price_offline:0,is_active:!1,additional_discount:0,typeBatch:"Free Item",discount:[{discount_offer_type:"",discount_parent_id:"",discount_type:"",end_price:"",flat_discount:"",id:0,is_compulsory:!1,name:"",start_price:""}]}],variant_name:"",sku:"",type:"Free Item",quantity:1,id:0,notes:"",discount:0};this.addToCurrent(i),this.currentItems=this.cartService.getCurrentItems(),this.discount.push(i?.batch[0]),console.log(this.discount,"discount"),console.log(this.currentItems[n]),console.log(this.currentItems,"current items")}}else if("Price-range-discount"==e?.discount_offer_type){if(this.selectedDiscount[n]="Discount",this.currentItems[n]?.batch[0]?.selling_price_offline>=parseInt(e.start_price)&&this.currentItems[n]?.batch[0]?.selling_price_offline<=parseInt(e.end_price))if("%"==e?.discount_type){this.currentItems.forEach(s=>{console.log(s),0==s.id&&"Free Item"==s.type&&(this.removeOptionCurrent(s),console.log(this.currentItems,"current item")),s.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),s.quantity>1&&"Qty Per Qty"==s.type&&(this.currentItems[n].quantity=1),(s.type="Discount Invoice")&&(this.discountInvoice=0),this.discountTypeSelect[n]&&this.discountTypeSelect.splice(n,1),s.batch.forEach(c=>{("Free Item"==c.typeBatch||"Free Item Invoice"==c.typeBatch)&&this.removeOptionCurrent(s)})}),this.discount.forEach((s,c)=>{0==s.id&&("Free Item"==this.discount[c].typeBatch||"Free Item Invoice"==this.discount[c].typeBatch)&&this.discount.splice(c,1)}),console.warn(this.discount,"discount after remove"),console.log(this.currentItems[n]);let i=this.currentItems[n]?.batch[0]?.selling_price_offline*parseInt(e?.flat_discount)/100;console.log(i);let a=this.currentItems[n]?.batch[0]?.selling_price_offline-i;console.warn(a),this.currentItems[n].batch[0].selling_price_offline=a,this.currentItems[n].discount=i,console.log(this.currentItems,"current items")}else{this.currentItems.forEach(a=>{console.log(a),0==a.id&&("Free Item"==a.type&&this.removeOptionCurrent(a),console.log(this.currentItems,"current item")),a.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),a.quantity>1&&"Qty Per Qty"==a.type&&(this.currentItems[n].quantity=1),(a.type="Discount Invoice")&&(this.discountInvoice=0),a.batch.forEach(s=>{("Free Item"==s.typeBatch||"Free Item Invoice"==s.typeBatch)&&this.removeOptionCurrent(a)})}),this.discount.forEach((a,s)=>{0==a.id&&("Free Item"==this.discount[s].typeBatch||"Free Item Invoice"==this.discount[s].typeBatch)&&this.discount.splice(s,1)}),console.warn(this.discount,"discount after remove");let i=this.currentItems[n]?.batch[0]?.selling_price_offline-parseInt(e?.flat_discount);console.warn(i),this.currentItems[n].batch[0].selling_price_offline=i,this.currentItems[n].discount=parseInt(e?.flat_discount),console.log(this.currentItems,"current items")}}else if("Free-item-on-invoice"==e?.discount_offer_type){if(this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Free Item Invoice",this.finalAmount()>=parseInt(e?.invoice_amount)){this.currentItems.forEach(a=>{console.log(a),0==a.id&&"Free Item"==a.type&&(this.removeOptionCurrent(a),console.log(this.currentItems,"current item")),a.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),a.quantity>1&&"Qty Per Qty"==a.type&&(this.currentItems[n].quantity=1),(a.type="Discount Invoice")&&(this.discountInvoice=0),this.discountTypeSelect[n]&&this.discountTypeSelect.splice(n,1),a.batch.forEach(s=>{"Free Item"==s.typeBatch&&this.removeOptionCurrent(a)})}),this.discount.forEach((a,s)=>{0==a.id&&"Free Item"==this.discount[s].typeBatch&&this.discount.splice(s,1)}),console.warn(this.discount,"discount after remove"),console.warn(e);let i={product:{...e?.free_items,id:e?.free_items?.id||0,title:e?.free_items?.title||"",mrp:e?.free_items?.mrp},batch:[{id:0,mrp:0,cost_price:0,selling_price_offline:0,is_active:!1,additional_discount:0,typeBatch:"Free Item Invoice",discount:[{discount_offer_type:"",discount_parent_id:"",discount_type:"",end_price:"",flat_discount:"",id:0,is_compulsory:!1,name:"",start_price:""}]}],variant_name:"",sku:"",type:"Free Item Invoice",quantity:1,id:0,notes:"",discount:0};this.addToCurrent(i),this.currentItems=this.cartService.getCurrentItems(),this.discount.push(i?.batch[0]),console.warn(i?.batch[0],"batch")}}else if("Discount-on-Invoice"==e?.discount_offer_type){if(this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Discount Invoice",console.log(e?.discount_offer_type,"discont type"),this.currentItems.forEach(i=>{console.log(i),0==i.id?("Free Item Invoice"==i.type&&this.removeOptionCurrent(i),console.log(this.currentItems,"current item")):(this.currentItems=this.currentItems.filter(a=>0!==a.id),console.log(this.currentItems,"current item")),i.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),i.quantity>1&&"Qty Per Qty"==i.type&&(this.currentItems[n].quantity=1),(i.type="Discount Invoice")&&(this.discountInvoice=0),this.discountTypeSelect[n]&&this.discountTypeSelect.splice(n,1),i.batch.forEach(a=>{("Free Item"==a.typeBatch||"Free Item Invoice"==a.typeBatch)&&this.removeOptionCurrent(i)})}),console.warn(this.currentItems,"discount after remove"),this.discount.forEach((i,a)=>{0==i.id&&("Free Item"==this.discount[a].typeBatch||"Free Item Invoice"==this.discount[a].typeBatch)&&this.discount.splice(a,1)}),console.warn(this.discount,"discount after remove"),this.finalAmount()>=parseInt(e?.invoice_amount))if("%"==e?.discount_type){let i=this.finalAmount()*parseInt(e?.flat_discount)/100;console.log(i,"flat disc");let a=this.finalAmount()-i;console.warn(a),this.discountInvoice=i,this.currentItems[n].type="Discount Invoice"}else{let i=this.finalAmount()-parseInt(e?.flat_discount);console.warn(i),this.discountInvoice=parseInt(e?.flat_discount),this.currentItems[n].type="Discount Invoice"}}else if("Quantity-per-percentage"==e?.discount_offer_type)if(this.selectedDiscount[n]="Qty % Discount","%"==e?.discount_type){this.discountTypeSelect.push(e),this.currentItems.forEach(s=>{console.log(s),0==s.id?"Free Item Invoice"==s.type&&(this.removeOptionCurrent(s),console.log(this.currentItems,"current item")):(this.currentItems=this.currentItems.filter(c=>0!==c.id),console.log(this.currentItems,"current item")),s.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),s.quantity>1&&"Qty Per Qty"==s.type&&(this.currentItems[n].quantity=1),(s.type="Discount Invoice")&&(this.discountInvoice=0),s.batch.forEach(c=>{console.log(c),("Free Item"==c.typeBatch||"Free Item Invoice"==c.typeBatch)&&(console.log(c),this.removeOptionCurrent(s))})}),this.discount.forEach((s,c)=>{0==s.id&&("Free Item"==this.discount[c].typeBatch||"Free Item Invoice"==this.discount[c].typeBatch)&&this.discount.splice(c,1)}),console.warn(this.discount,"discount after remove"),console.log(this.currentItems[n]);let i=this.currentItems[n]?.batch[0]?.selling_price_offline*parseInt(e?.flat_discount)/100;console.log(i),this.flatDiscount[n]=i;let a=this.currentItems[n]?.batch[0]?.selling_price_offline-i;console.warn(a),this.currentItems[n].batch[0].selling_price_offline=a,this.currentItems[n].discount=i,console.log(this.currentItems,"current items")}else{let i=this.currentItems[n]?.batch[0]?.selling_price_offline-parseInt(e?.flat_discount);this.currentItems.forEach(a=>{console.log(a),0==a.id?"Free Item Invoice"==a.type&&(this.removeOptionCurrent(a),console.log(this.currentItems,"current item")):(this.currentItems=this.currentItems.filter(s=>0!==s.id),console.log(this.currentItems,"current item")),a.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),a.quantity>1&&"Qty Per Qty"==a.type&&(this.currentItems[n].quantity=1),(a.type="Discount Invoice")&&(this.discountInvoice=0),a.batch.forEach(s=>{("Free Item"==s.typeBatch||"Free Item Invoice"==s.typeBatch)&&this.removeOptionCurrent(a)})}),this.discount.forEach((a,s)=>{0==a.id&&("Free Item"==this.discount[s].typeBatch||"Free Item Invoice"==this.discount[s].typeBatch)&&this.discount.splice(s,1)}),console.warn(this.discount,"discount after remove"),console.warn(i),this.flatDiscount[n]=e?.flat_discount,this.currentItems[n].batch[0].selling_price_offline=i,this.currentItems[n].discount=parseInt(e?.flat_discount),console.log(this.currentItems,"current items")}else"Quantity-per-quantity"==e?.discount_offer_type&&(this.selectedDiscount[n]="Qty Per Qty",console.warn(e),console.warn(this.currentItems[n]?.quantity),this.discountTypeSelect.push(e),this.currentItems.forEach(i=>{console.log(i),0==i.id?"Free Item Invoice"==i.type&&(this.removeOptionCurrent(i),console.log(this.currentItems,"current item")):(this.currentItems=this.currentItems.filter(a=>0!==a.id),console.log(this.currentItems,"current item")),i.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),i.quantity>1&&"Qty Per Qty"==i.type&&(this.currentItems[n].quantity=1),(i.type="Discount Invoice")&&(this.discountInvoice=0),i.batch.forEach(a=>{("Free Item"==a.typeBatch||"Free Item Invoice"==a.typeBatch)&&this.removeOptionCurrent(i)}),console.log(this.currentItems,"currentItems")}),this.discount.forEach((i,a)=>{0==i.id&&("Free Item"==this.discount[a].typeBatch||"Free Item Invoice"==this.discount[a].typeBatch)&&this.discount.splice(a,1)}),console.warn(this.discount,"discount after remove"),this.currentItems[n]?.quantity>=parseInt(e?.purchase_qty)&&(this.cartService.increaseCurrent(this.currentItems[n]),this.currentItems[n].type="Qty Per Qty",console.log(parseInt(e?.purchase_qty))))}freeItemBatch(e,n){console.warn(e),console.warn("index=>"+n),console.log(this.discount[n],"discount"),console.log(this.discount[n].discount,"discount"),0==this.discount[n].discount[0].id&&this.cartService.productSearch(e.product.sku).subscribe(i=>{i.length>0&&(console.warn(i[0].batch[0]?.discount,"search result"),console.log(this.discount[n]?.discount,"discount batch"),console.log(this.discount[n],"discount"),this.discount[n].discount=i[0].batch[0]?.discount,console.log(this.discount,"discount"),this.discount.forEach((a,s)=>{a?.discount.forEach(c=>{this.discountTyp[s]||(this.discountTyp[s]=[]),this.discountTyp[s].push(c),console.log(this.discountTyp[s])})}))})}openModalDiscount(e){this.discountCartIndex=e,this.cartItems.forEach(a=>{a.batch(s=>{})});const i=document.getElementById(`discountModal-${e}`);i&&(i.classList.add("show"),i.style.display="block")}closeModalDiscount(e){console.log(e,"index");const n=document.getElementById(`discountModal-${e}`);n&&(n.classList.remove("show"),n.style.display="none")}totalDiscountRupees(){let e=this.cartService.getCurrentItems(),n=0;return e.forEach(i=>{n+=parseFloat(i?.discount)||0}),this.discountInvoice&&(n+=this.discountInvoice),n}addPer(e){if("add"===e){let n=this.amount*this.f_d/100;this.d=n,this.amount-=n,console.log(this.amount),console.log(this.d)}else this.amount+=this.d,this.d=this.d==this.f_d?0:100*this.d/this.amount,console.log(this.amount),console.log(this.d)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(fe.p),t.Y36(E.F0),t.Y36(Oc.u),t.Y36(l.qu),t.Y36(ve._W),t.Y36(Uc.r),t.Y36(U.eN),t.Y36(Wt),t.Y36(Mc.K),t.Y36(wc.p),t.Y36(Sc.J))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-pos"]],hostBindings:function(e,n){1&e&&t.NdJ("keydown",function(a){return n.keyEvent(a)},!1,t.evT)},decls:979,vars:147,consts:[[1,"container-fluid","d-flex","flex-column","pos-container",3,"ngClass"],[1,"row","flex-fill",2,"min-height","0",3,"ngClass"],[1,"col-lg-9","col-sm-12","final-left",2,"width","81%"],[1,"final-test"],[1,"row"],[1,"col-sm-4","product-autocomplete"],[1,"form-ex"],["type","text","placeholder","Scan Barcode/Enter Product Name",1,"form-control",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected","keydown"],["auto","matAutocomplete"],["class","is-loading",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-4"],[1,"exam-form"],["type","text","placeholder","Search for a Customer",1,"form-control",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto1","matAutocomplete"],[1,"is-loading"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal1",1,"btn"],["type","text","placeholder","Scan Sales Invoice",1,"form-control"],[1,"row","mt-1"],[1,"col-sm-12"],[1,"table-responsive","table-pos"],[1,"table","table-nowrap","mb-0"],["class","table-light",4,"ngFor","ngForOf"],[1,"bottom-pos-left","mt-1"],["type","text","placeholder","Remarks",1,"form-control"],[1,"amt-info-div"],["type","button","data-bs-toggle","modal","data-bs-target","#addChargesModal",1,"btn","btn-dark",3,"click"],["data-bs-toggle","tooltip","title","fa fa-plus",1,"fas","fa-plus"],[1,"flat-disc-wrapper"],[1,"input-group","pos-i-grp"],["id","basic-addon1",1,"input-group-text"],["type","text","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],[1,"checkbox"],["type","checkbox","name","checkbox"],["type","text",1,"form-control","pos-s-input",3,"value"],[1,"btns-row"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal3",1,"btn","btn-dark",3,"click"],["data-bs-toggle","tooltip","title","fas fa-money-bill",1,"fas","fa-money-bill"],["type","button",1,"btn","btn-dark","holdF6",3,"click"],["data-bs-toggle","tooltip","title","fas fa-pause",1,"fas","fa-pause"],["type","button","data-bs-toggle","modal","data-bs-target","#upiMethodModal",1,"btn","btn-dark","upiF5",3,"click"],["data-bs-toggle","tooltip","title","fas fa-forward",1,"fas","fa-forward"],["type","button","data-bs-toggle","modal","data-bs-target","#cardMethodModal",1,"btn","btn-dark","cardF3",3,"click"],["data-bs-toggle","tooltip","title","fas fa-credit-card",1,"fas","fa-credit-card"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal5",1,"btn","btn-dark","cashF4",3,"click"],["data-bs-toggle","tooltip","title","fas fa-rupee-sign",1,"fas","fa-rupee-sign"],["type","button","data-bs-toggle","modal","data-bs-target","#bankMethodModal",1,"btn","btn-dark","bankF9",3,"click"],["data-bs-toggle","tooltip","title","fas fa-rupee-sign",1,"fas","fa-university"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal4",1,"btn","btn-dark","mpF12",3,"click"],["data-bs-toggle","tooltip","title","fas fa-dice-two",1,"fas","fa-dice-two"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal6",1,"btn","btn-dark","w-100",3,"click"],["data-bs-toggle","tooltip","title","fas fa-gift",1,"fas","fa-gift"],["type","button",1,"btn","btn-dark","w-100",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#upiPrintMethodModal",1,"btn","btn-dark","w-100","upF10",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#cardPrintMethodModal",1,"btn","btn-dark","w-100","cpF7",3,"click"],["data-bs-toggle","tooltip","title","fas fa-pause",1,"fas","fa-credit-card"],["type","button","data-bs-toggle","modal","data-bs-target","#printCashModal",1,"btn","btn-dark","w-100","cashprintF8",3,"click"],["data-bs-toggle","tooltip","title","fas fa-credit-card",1,"fas","fa-rupee-sign"],["type","button","data-bs-toggle","modal","data-bs-target","#bankPrintMethodModal",1,"btn","btn-dark","w-100","bankF9",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#payLaterMethodModal",1,"btn","btn-dark","w-100","plF11",3,"click"],["data-bs-toggle","tooltip","title","fas fa-calendar",1,"fas","fa-calendar"],[1,"col-lg-3","mh-100","col-sm-12",2,"overflow-y","scroll","width","19%"],[1,"row","py-2"],[1,"right-header-pos"],["type","button",1,"btn","btn-dark","btn-sm"],["data-bs-toggle","tooltip","title","fa fa-cog",1,"fa","fa-cog"],["data-bs-toggle","tooltip","title","fa fa-bars",1,"fa","fa-bars"],["data-bs-toggle","tooltip","title","fa fa-trash",1,"fa","fa-trash"],["data-bs-toggle","tooltip","title","fa fa-expand",1,"fa","fa-expand"],["data-bs-toggle","tooltip","title","fa fa-times",1,"fa","fa-times"],["data-bs-toggle","tooltip","title","fa fa-share-square",1,"fa","fa-share-square"],[1,"row","mb-3"],[1,"cus-details-wrapper","right-btns-wrapper"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasExample",1,"btn-pos",3,"click"],[1,"fas","fa-pause"],[1,"d-flex","align-items-baseline"],["type","button","data-bs-toggle","modal","data-bs-target","#posPaymentsModal",1,"btn-pos",3,"click"],["data-bs-toggle","tooltip","title","fa fa-th-list",1,"fa","fa-cash-register"],["data-bs-toggle","modal","data-bs-target","#posPaymentsVoucherModal",1,"p-0","m-0","border-0",3,"click"],[1,"fas","fa-plus","add-icon-wrapper"],["type","button","data-bs-toggle","modal","data-bs-target","#expenseModal",1,"btn-pos",3,"click"],["data-bs-toggle","tooltip","title","fas fa-money-bill",1,"fas","fa-money-check"],["data-bs-toggle","modal","data-bs-target","#posExpenseVoucherModal",1,"p-0","m-0","border-0",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#salesModal",1,"btn-pos",3,"click"],["data-bs-toggle","tooltip","title","fas fa-money-bill",1,"fas","fa-receipt"],["data-bs-toggle","modal","data-bs-target","#posReceiptVoucherModal",1,"p-0","m-0","border-0",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#purchaseModal",1,"btn-pos",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#creditNoteModal",1,"btn-pos",3,"click"],["data-bs-toggle","tooltip","title","fas fa-sticky-note",1,"fas","fa-sticky-note"],["data-bs-toggle","modal","data-bs-target","#posCreditNoteModal",1,"p-0","m-0","border-0",3,"click"],["type","button",1,"btn-pos"],["type","button","data-bs-toggle","modal","data-bs-target","#posOrdersModal",1,"btn-pos",3,"click"],["data-bs-toggle","tooltip","title","fa fa-th-list",1,"fa","fa-th-list"],[4,"ngIf"],[1,"cus-details-wrapper"],["id","debitNote",1,"outer","container"],["id","doc-target",1,"pdf-div"],[1,"top","mb-4"],[1,"container"],[1,"col-sm-7"],[1,"d-flex","justify-content-between","align-items-center","top-div",2,"float","inline-start"],[1,"left-top"],["src","assets/dummy/pos.png","alt",""],[1,"gst"],[1,"col-sm-5"],[1,"d-flex","justify-content-between","align-items-center","top-div","my-3",2,"float","inline-end"],[1,"right-top"],[1,"pb-4"],[1,"pdf-table1","mb-4"],[1,"table-responsive"],[1,"table","datanew"],[1,"thone",2,"white-space","normal !important"],[1,"pdf-footer"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-group"],["type","text","placeholder","Cash In Hand",1,"form-control"],[1,"modal-footer","mt-5"],["type","button",1,"btn","btn-dark","modal1BtnPos"],["id","exampleModal1","tabindex","-1","aria-labelledby","exampleModal1Label","aria-hidden","true",1,"modal","fade","modalCusDetails","posmodal"],[1,"modal-dialog","modal-lg","modal-dialog-centered","modal-dialog-scrollable"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","addCusModal",3,"click"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Name","formControlName","name",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","text","placeholder","Mobile No.","formControlName","mobile_no",1,"form-control",3,"input"],["type","text","placeholder","Whatsapp No.","formControlName","whatsapp_no",1,"form-control"],[1,"form-group","mb-0"],["type","date","placeholder","Date Of Birth","formControlName","date_of_birth",1,"form-control"],["type","date","placeholder","Anniversary","formControlName","anniversary_date",1,"form-control"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],["type","button",1,"add-more-details-btn","my-3",3,"click"],[1,"col-sm-12","d-flex","justify-content-center"],["type","submit",1,"btn","btn-dark","modal2BtnPos"],["id","exampleModal2","tabindex","-1","aria-labelledby","exampleModal2Label","aria-hidden","true",1,"modal","fade","modalPayment","posmodal"],["id","exampleModal2Label",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","receiptModalClose"],[1,"d-block"],[1,"row","justify-center"],[1,"radio-payments-modal-wrapper","d-flex","justify-content-around"],["class","form-check",4,"ngFor","ngForOf"],["class","col-sm-12",4,"ngIf"],["class","col-sm-6",4,"ngIf"],[1,"col-sm-6"],["type","number","formControlName","amount_receipt","placeholder","Enter Amount",1,"form-control"],["class","col-sm-8",4,"ngIf"],["class","row",4,"ngIf"],["type","text","formControlName","receipt_remark","placeholder","Enter Remark",1,"form-control"],[1,"row","mt-2"],["class","modal fade modalRedeem posmodal","id","exampleModal3","tabindex","-1","aria-labelledby","exampleModal3Label","aria-hidden","true",4,"ngIf"],["class","modal fade posmodal fullmodal-pos","id","exampleModal4","tabindex","-1","aria-labelledby","exampleModal4Label","aria-hidden","true",3,"ngClass",4,"ngIf"],["class","modal fade posmodal","id","exampleModal5","tabindex","-1","aria-labelledby","exampleModal5Label","aria-hidden","true",4,"ngIf"],["class","modal fade posmodal","id","exampleModal6","tabindex","-1","aria-labelledby","exampleModal6Label","aria-hidden","true",4,"ngIf"],["id","exampleModal7","tabindex","-1","aria-labelledby","exampleModal7Label","aria-hidden","true",1,"modal","fade","posmodal"],["id","exampleModal7Label",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],["id","batchModal","tabindex","-1","aria-labelledby","batchModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","batchModalLabel",1,"modal-title"],[1,"table","mb-0"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-dark","modal1BtnPos",3,"click"],["id","addChargesModal","tabindex","-1","aria-labelledby","addChargesModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","addChargesModalLabel",1,"modal-title"],[1,"me-1","btn","btn-link",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-dark","modal1BtnPos",3,"click"],["id","posOrdersModal","tabindex","-1","aria-labelledby","posOrdersModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["class","modal fade posmodal","id","upiMethodModal","tabindex","-1","aria-labelledby","upiModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade posmodal","id","bankMethodModal","tabindex","-1","aria-labelledby","bankModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade posmodal","id","payLaterMethodModal","tabindex","-1","aria-labelledby","payLaterModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade posmodal","id","cardMethodModal","tabindex","-1","aria-labelledby","cardModalLabel","aria-hidden","true",4,"ngIf"],["tabindex","-1","id","offcanvasExample","aria-labelledby","offcanvasExampleLabel",1,"offcanvas","offcanvas-end","pos-offcanvas"],[1,"offcanvas-header"],["id","offcanvasExampleLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset","holdClose",3,"click"],[1,"offcanvas-body"],["class","row",3,"click",4,"ngFor","ngForOf"],["id","expenseModal","tabindex","-1","aria-labelledby","expenseModalLabel","aria-hidden","true",1,"modal","fade","modalPayment","posmodal"],["id","expenseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","expenseModalClose",3,"click"],["id","mytable",1,"table","datanew"],[1,"thone",3,"click"],[1,"fa","fa-sort"],["id","salesModal","tabindex","-1","aria-labelledby","salesModalLabel","aria-hidden","true",1,"modal","fade","modalPayment","posmodal"],["id","salesModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","salesModalClose",3,"click"],["id","creditNoteModal","tabindex","-1","aria-labelledby","creditNoteModalLabel","aria-hidden","true",1,"modal","fade","modalPayment","posmodal"],["id","creditNoteModalLabel",1,"modal-title"],[1,"payment-voucher-wrapper"],["id","purchaseModal","tabindex","-1","aria-labelledby","purchaseModalLabel","aria-hidden","true",1,"modal","fade","modalPayment","posmodal"],["id","purchaseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","purchaseModalClose",3,"click"],["type","text","placeholder","Search for a Party",1,"form-control",3,"formControl","matAutocomplete"],["partyPurchase","matAutocomplete"],["formControlName","payment_mode",1,"form-select"],["disabled","","selected","","value",""],["type","number","formControlName","amount","placeholder","Enter Amount",1,"form-control"],["formControlName","payment_account",1,"form-select"],["value","","disabled","","selected",""],["type","text","formControlName","remark","placeholder","Enter Remark",1,"form-control"],[1,"row","mt-4"],["id","posPaymentsVoucherModal","tabindex","-1","aria-labelledby","posPaymentsModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","posPaymentsModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","posPaymentVoucher",3,"click"],["id","posExpenseVoucherModal","tabindex","-1","aria-labelledby","posExpenseVoucherModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","posExpenseVoucherModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","posExpenseVoucher",3,"click"],["id","posReceiptVoucherModal","tabindex","-1","aria-labelledby","posReceiptVoucherModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","posReceiptVoucherModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","posReceiptVoucher",3,"click"],["id","posCreditNoteModal","tabindex","-1","aria-labelledby","posCreditNoteModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","posCreditNoteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","posCreditNote",3,"click"],["id","posPaymentsModal","tabindex","-1","aria-labelledby","posPaymentsModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],[1,"progressbar"],["mode","indeterminate","class","progressbar",4,"ngIf"],["type","button","data-bs-dismiss","modal",1,"btn","btn-dark","modal1BtnPos"],["class","modal fade posmodal","id","printCashModal","tabindex","-1","aria-labelledby","printCashModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade posmodal","id","upiPrintMethodModal","tabindex","-1","aria-labelledby","upiPrintModalLabel","aria-hidden","true",4,"ngIf"],["id","multiPayLaterModal","tabindex","-1","aria-labelledby","multiPayLaterModalLabel","aria-hidden","true",1,"modal"],[1,"modal-header","border-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","multiPayLaterModalClose",3,"click"],[3,"ngSubmit"],[1,"form-group","me-3"],[3,"ngModel","ngModelOptions","ngModelChange","change"],["value","","selected","","disabled",""],["class","text-danger",4,"ngIf"],["type","date",1,"transaction-date-wrapper",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","m-0"],[1,"col-6","p-0"],[1,"mb-0"],[1,"col-6","d-flex","align-items-center"],["type","radio","name","option","value","True",1,"input-radio-wrapper",3,"ngModel","ngModelOptions","ngModelChange"],["for","sendReminderYes",1,"form-check-label","ms-2"],["type","radio","name","option","value","False",1,"input-radio-wrapper","ms-3",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","m-0","mt-3"],[1,"col-sm-12","d-flex","justify-content-end","p-0"],["type","submit",1,"btn","btn-dark","m-0"],["class","modal-backdrop fade show blur-background2",4,"ngIf"],["class","modal fade posmodal","id","cardPrintMethodModal","tabindex","-1","aria-labelledby","cardPrintModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade posmodal","id","bankPrintMethodModal","tabindex","-1","aria-labelledby","bankPrintModalLabel","aria-hidden","true",4,"ngIf"],["id","productDetailsModal","tabindex","-1","aria-labelledby","productDetailsModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","productDetailsModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","productDetailsModalClose",3,"click"],[3,"value"],[1,"table-light"],[1,"product-title-div"],[1,"product-title-cart"],["data-bs-toggle","modal","data-bs-target","#productDetailsModal",1,"cart-btn2","cart-btn1",3,"click"],[1,"fas","fa-info-circle"],[1,"cart-btn2",3,"click"],[1,"fas","fa-list"],["class","product-notes",4,"ngIf"],[1,"input-group","pos-i-grp","table-black-grp","qty-input"],["id","basic-addon1",1,"input-group-text","cursor-pointer-pos",3,"click"],["type","text","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"value"],["tabindex","-1","role","dialog","aria-labelledby","addressModalLabel","aria-hidden","true",1,"modal","fade",3,"id"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered",2,"max-width","57%"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"table-cross-btn",3,"click"],[1,"product-notes"],["rows","3","cols","3",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["data-bs-toggle","tooltip","title","ion-information",1,"ion-information","circle",3,"click"],[1,"boder","space-text"],[1,"boder"],["type","button",1,"btn","btn-primary","btn-sm",2,"float","right",3,"click"],[1,"alert","alert-danger"],["type","text","placeholder","Address Line1","formControlName","address_line_1",1,"form-control"],["type","text","placeholder","Address Line2","formControlName","address_line_2",1,"form-control"],["formControlName","state",1,"form-select",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["formControlName","city",1,"form-select",3,"change"],["type","text","placeholder","Pincode","formControlName","pincode",1,"form-control"],["formControlName","gst_type",1,"form-select",3,"change"],["type","text","placeholder","GSTIN","formControlName","gstin",1,"form-control"],[3,"value","selected"],[1,"form-check"],["type","radio","formControlName","voucher_type",1,"form-check-input",3,"value"],[1,"form-check-label"],["type","radio","formControlName","payment_type",1,"form-check-input",3,"value"],["formControlName","receipt_sales",1,"form-select"],[1,"col-sm-8"],[3,"optionSelected"],["autoReceipt","matAutocomplete"],["partyReceipt","matAutocomplete"],["type","text","placeholder","UPI ID","formControlName","upi_id",1,"form-control"],["type","text","placeholder","Account No","formControlName","account_no",1,"form-control"],["type","text","placeholder","Customer Bank Name","formControlName","customer_bank_name",1,"form-control"],["type","number","placeholder","Card Payment Amount","formControlName","card_payment_amount",1,"form-control"],["type","text","placeholder","Card Holder Name","formControlName","card_holder_name",1,"form-control"],["type","number","placeholder","Card Transaction No","formControlName","cart_transactions_no",1,"form-control"],["type","checkbox","formControlName","non_gst"],["id","exampleModal3","tabindex","-1","aria-labelledby","exampleModal3Label","aria-hidden","true",1,"modal","fade","modalRedeem","posmodal"],["id","exampleModal3Label",1,"modal-title"],[1,"col-sm-2"],["type","button",1,"btn","btn-dark","w-100"],["type","text","placeholder","Scan Barcode/Type Number",1,"form-control"],[1,"redeem-modal-details"],["type","number","value","0",1,"form-control"],[1,"redeem-modal-details","mt-2"],[1,"modal-footer","mt-2"],["type","button",1,"btn","btn-dark","modal2BtnPos"],["id","exampleModal4","tabindex","-1","aria-labelledby","exampleModal4Label","aria-hidden","true",1,"modal","fade","posmodal","fullmodal-pos",3,"ngClass"],[1,"modal-dialog","modal-fullscreen"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-dark","paymentModal",3,"click"],[1,"row","flex-fill","full-modal-row",2,"min-height","0"],[1,"col-sm-4","mh-100",2,"overflow-y","hidden"],[1,"left"],[1,"title"],[1,"desc"],[1,"product-detail-box","my-3"],[1,"other-product-details"],[1,"other-product-detail"],[1,"payment-details"],[1,"col-sm-8","mh-100",2,"overflow-y","scroll"],[1,"right"],[1,"total-amt"],[1,"input-group","pos-i-grp","table-black-grp"],[3,"formGroup"],[1,"address-details-wrapper"],[1,"w-100","text-right","my-3"],[1,"p-2","px-3","border-0","btn","btn-dark",3,"click"],[1,"addMore-btn"],[1,"plus-icon"],["formArrayName","addMorePayment",1,"mb-3","pb-3"],["style","border: 1px solid rgba(145, 158, 171, 0.32); margin-top: 10px;",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","mt-3"],["data-bs-toggle","tooltip","title","fa fa-long-arrow-right",1,"fa","fa-arrow-right","ms-1"],[2,"border","1px solid rgba(145, 158, 171, 0.32)","margin-top","10px",3,"formGroupName"],[1,"col-12","d-flex","align-items-center","justify-content-end","mt-2"],["class","btn me-2","style","color: red;",3,"click",4,"ngIf"],[1,"row","m-2"],[1,"col-lg-3","col-sm-3","col-12"],["formControlName","amount","type","text"],["formControlName","receipt_type",1,"form-select",3,"change"],["value","Cash"],["value","Bank"],["value","PayLater"],["class","col-lg-3 col-md-6 col-12",4,"ngIf"],["formControlName","note","type","text"],["class","row m-0",4,"ngIf"],["class","col-lg-3 col-sm-3 col-12",4,"ngIf"],[1,"btn","me-2",2,"color","red",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","28","height","28","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-circle",2,"width","28px","height","28px"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],[1,"text-danger"],[1,"col-lg-3","col-md-6","col-12"],["formControlName","payment_account",1,"form-control",3,"change"],["formControlName","transaction_date","type","date",1,"transaction-date-wrapper"],["selected","",3,"value",4,"ngFor","ngForOf"],["formControlName","transaction_id","type","text"],["selected","",3,"value"],["formControlName","days",3,"change"],["type","date","formControlName","date",1,"transaction-date-wrapper"],["id","exampleModal5","tabindex","-1","aria-labelledby","exampleModal5Label","aria-hidden","true",1,"modal","fade","posmodal"],["type","number","placeholder","Cash In Hand",1,"form-control",3,"value"],["type","number","placeholder","Tendered",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","number","disabled","","placeholder","Change",1,"form-control",3,"value"],[1,"cal-wrapper"],[1,"cal-div-wrapper"],[1,"cal-div",3,"click"],["type","button",1,"btn","btn-dark","mb-2","w-100",3,"click"],["id","exampleModal5Close","type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-dark","w-100","cashModalClose",3,"click"],["id","exampleModal6","tabindex","-1","aria-labelledby","exampleModal6Label","aria-hidden","true",1,"modal","fade","posmodal"],[1,"modal-dialog","modal-xl","modal-dialog-centered","modal-dialog-scrollable"],["id","exampleModal6Label",1,"modal-title"],[1,"col-sm-3"],[1,"register-left-wrapper"],[1,"register-left-div"],[1,"register-table"],[1,"table","table-striped","mb-0"],["type","text","placeholder","Scan Barcode/Type Number","value","0",1,"form-control"],[1,"form-select"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-dark","modal2BtnPos"],["type","radio","name","batchProduct",3,"value","ngModel","ngModelOptions","change","ngModelChange"],[1,"form-select",3,"ngModel","ngModelOptions","change","ngModelChange"],[1,"input-group"],["type","text","placeholder","value","aria-label","value","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelOptions","change","ngModelChange"],["id","basic-addon2",1,"input-group-text",3,"click"],["title","fa fa-times",1,"fa","fa-times"],["id","upiMethodModal","tabindex","-1","aria-labelledby","upiModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","upiModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","upiModalClose",3,"click"],["type","text","placeholder","Transaction ID","formControlName","transaction_id",1,"form-control"],["type","submit",1,"btn","btn-dark"],["id","bankMethodModal","tabindex","-1","aria-labelledby","bankModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","bankModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","bankModalClose",3,"click"],["id","payLaterMethodModal","tabindex","-1","aria-labelledby","payLaterModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","payLaterModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","payLaterModalClose",3,"click"],["formControlName","day",1,"form-select"],["type","date","placeholder","Due Date","formControlName","date",1,"form-control"],[1,"form-group","row"],[1,"col-lg-5"],[1,"col-lg-7"],[1,"form-check","form-check-inline"],["type","radio","formControlName","is_send_reminder","id","reminder_true","value","true",1,"form-check-input"],["for","reminder_true",1,"form-check-label"],["type","radio","formControlName","is_send_reminder","id","reminder_false","value","false",1,"form-check-input"],["for","reminder_false",1,"form-check-label"],["id","cardMethodModal","tabindex","-1","aria-labelledby","cardModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","cardModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","cardModalClose",3,"click"],[1,"row",3,"click"],[1,"on-hold-card"],["type","button",1,"holdRemove",3,"click"],[1,"on-hold-card-header"],[1,"mb-1"],[1,"productimgname"],[2,"line-height","3",3,"routerLink"],[1,"text-center"],["colspan","10"],[1,"center-textt"],["class","payment-voucher-wrapper",4,"ngFor","ngForOf"],[1,"badges",3,"ngClass"],["formControlName","sales",1,"form-select"],[3,"modalClose"],["mode","indeterminate",1,"progressbar"],["id","printCashModal","tabindex","-1","aria-labelledby","printCashModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","exampleModal5Close","type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-dark","w-100","cashPrintModalClose",3,"click"],["id","upiPrintMethodModal","tabindex","-1","aria-labelledby","upiPrintModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","upiPrintModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","upiPrintModalClose",3,"click"],[1,"modal-backdrop","fade","show","blur-background2"],["id","cardPrintMethodModal","tabindex","-1","aria-labelledby","cardPrintModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","cardPrintModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","cardPrintModalClose",3,"click"],["id","bankPrintMethodModal","tabindex","-1","aria-labelledby","bankPrintModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","bankPrintModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","bankPrintModalClose",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6),t._UZ(7,"input",7),t.TgZ(8,"mat-autocomplete",8,9),t.NdJ("optionSelected",function(a){return n.optionSelected(a)})("keydown",function(a){return n.onInputKeydown(a)}),t.YNc(10,Op,2,0,"mat-option",10),t.YNc(11,Up,2,0,"mat-option",10),t.YNc(12,kp,2,1,"mat-option",10),t.YNc(13,Mp,2,2,"mat-option",11),t.qZA()()(),t.TgZ(14,"div",12)(15,"form",13),t._UZ(16,"input",14),t.TgZ(17,"mat-autocomplete",15,16),t.NdJ("optionSelected",function(a){return n.optionSelected1(a)}),t.TgZ(19,"mat-option",17)(20,"button",18),t._uU(21,"Add New Customer"),t.qZA()(),t.YNc(22,wp,2,0,"mat-option",10),t.YNc(23,Sp,2,0,"mat-option",10),t.YNc(24,Ep,2,2,"mat-option",11),t.qZA()()(),t.TgZ(25,"div",12),t._UZ(26,"input",19),t.qZA()(),t.TgZ(27,"div",20)(28,"div",21)(29,"div",22)(30,"table",23)(31,"thead")(32,"tr")(33,"th"),t._uU(34,"#"),t.qZA(),t.TgZ(35,"th"),t._uU(36,"Itemcode"),t.qZA(),t.TgZ(37,"th"),t._uU(38,"Product"),t.qZA(),t.TgZ(39,"th"),t._uU(40,"Qty"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"MRP"),t.qZA(),t.TgZ(43,"th"),t._uU(44,"Unit Cost"),t.qZA(),t.TgZ(45,"th"),t._uU(46,"Discount %"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"Add Disc"),t.qZA(),t.TgZ(49,"th"),t._uU(50,"Tax"),t.qZA(),t.TgZ(51,"th"),t._uU(52,"Net Amount"),t.qZA(),t._UZ(53,"th"),t.qZA()(),t.TgZ(54,"tbody"),t.YNc(55,Bp,56,18,"tr",24),t.qZA()()()()(),t.TgZ(56,"div",25)(57,"div",4)(58,"div",21),t._UZ(59,"input",26),t.qZA()(),t.TgZ(60,"div",20)(61,"div",21)(62,"div",27)(63,"ul")(64,"li")(65,"p"),t._uU(66),t.qZA(),t.TgZ(67,"h5"),t._uU(68,"Quantity"),t.qZA()(),t.TgZ(69,"li")(70,"p"),t._uU(71),t.qZA(),t.TgZ(72,"h5"),t._uU(73,"MRP"),t.qZA()(),t.TgZ(74,"li")(75,"p"),t._uU(76),t.qZA(),t.TgZ(77,"h5"),t._uU(78,"Tax Amount"),t.qZA()(),t.TgZ(79,"li")(80,"p"),t._uU(81),t.qZA(),t.TgZ(82,"button",28),t.NdJ("click",function(){return n.playBeepSound()}),t._uU(83," Add Charges "),t._UZ(84,"i",29),t.qZA()(),t.TgZ(85,"li")(86,"p"),t._uU(87),t.qZA(),t.TgZ(88,"h5"),t._uU(89,"Discount "),t.qZA()(),t.TgZ(90,"li")(91,"div",30)(92,"div",31)(93,"span",32),t._uU(94,"%"),t.qZA(),t._UZ(95,"input",33),t.qZA(),t.TgZ(96,"div",34)(97,"label"),t._UZ(98,"input",35),t.qZA()()(),t.TgZ(99,"h5"),t._uU(100,"Flat Discount %"),t.qZA()(),t.TgZ(101,"li"),t._UZ(102,"input",36),t.TgZ(103,"h5"),t._uU(104,"Round Off"),t.qZA()(),t.TgZ(105,"li")(106,"p"),t._uU(107),t.qZA(),t.TgZ(108,"h5"),t._uU(109,"Amount"),t.qZA()()()()()(),t.TgZ(110,"div",20)(111,"div",21)(112,"div",37)(113,"button",38),t.NdJ("click",function(){return n.playBeepSound("btn")}),t._UZ(114,"i",39),t._uU(115," Redeem Credit"),t.qZA(),t.TgZ(116,"button",40),t.NdJ("click",function(){return n.holdBill()}),t._UZ(117,"i",41),t._uU(118," Hold(F6)"),t.qZA(),t.TgZ(119,"button",42),t.NdJ("click",function(){return n.playBeepSound("btn")}),t._UZ(120,"i",43),t._uU(121," UPI(F5)"),t.qZA(),t.TgZ(122,"button",44),t.NdJ("click",function(){return n.playBeepSound("btn")}),t._UZ(123,"i",45),t._uU(124," Card(F3)"),t.qZA(),t.TgZ(125,"button",46),t.NdJ("click",function(){return n.playBeepSound("btn")}),t._UZ(126,"i",47),t._uU(127," Cash(F4)"),t.qZA(),t.TgZ(128,"button",48),t.NdJ("click",function(){return n.playBeepSound("btn")}),t._UZ(129,"i",49),t._uU(130," Bank(F9)"),t.qZA(),t.TgZ(131,"button",50),t.NdJ("click",function(){return n.playBeepSound("btn"),n.multiplePay()}),t._UZ(132,"i",51),t._uU(133," Multiple Pay(F12)"),t.qZA()()()(),t.TgZ(134,"div",20)(135,"div",21)(136,"div",37)(137,"button",52),t.NdJ("click",function(){return n.playBeepSound("btn")}),t._UZ(138,"i",53),t._uU(139," Apply Coupon"),t.qZA(),t.TgZ(140,"button",54),t.NdJ("click",function(){return n.holdAndPrint()}),t._UZ(141,"i",41),t._uU(142," Hold&Print"),t.qZA(),t.TgZ(143,"button",55),t.NdJ("click",function(){return n.playBeepSound("btn")}),t._UZ(144,"i",43),t._uU(145," UPI&Print(F10)"),t.qZA(),t.TgZ(146,"button",56),t.NdJ("click",function(){return n.playBeepSound("btn")}),t._UZ(147,"i",57),t._uU(148," Card&Print(F7)"),t.qZA(),t.TgZ(149,"button",58),t.NdJ("click",function(){return n.playBeepSound("btn")}),t._UZ(150,"i",59),t._uU(151," Cash&Print(F8)"),t.qZA(),t.TgZ(152,"button",60),t.NdJ("click",function(){return n.playBeepSound("btn")}),t._UZ(153,"i",49),t._uU(154," Bank&Print"),t.qZA(),t.TgZ(155,"button",61),t.NdJ("click",function(){return n.playBeepSound("btn")}),t._UZ(156,"i",62),t._uU(157," Pay Later(F11)"),t.qZA()()()()()()(),t.TgZ(158,"div",63)(159,"div",64)(160,"div",65)(161,"button",66),t._UZ(162,"i",67),t.qZA(),t.TgZ(163,"button",66),t._UZ(164,"i",68),t.qZA(),t.TgZ(165,"button",66),t._UZ(166,"i",69),t.qZA(),t.TgZ(167,"button",66),t._UZ(168,"i",70),t.qZA(),t.TgZ(169,"button",66),t._UZ(170,"i",71),t.qZA(),t.TgZ(171,"button",66),t._UZ(172,"i",72),t.qZA()()(),t.TgZ(173,"div",73)(174,"div",21)(175,"div",74)(176,"ul")(177,"li")(178,"button",75),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(179,"i",76),t._uU(180," Hold Bill"),t.qZA()(),t.TgZ(181,"li")(182,"div",77)(183,"button",78),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(184,"i",79),t._uU(185," Payments"),t.qZA(),t.TgZ(186,"button",80),t.NdJ("click",function(){return n.playBeepSound(),n.isPaymentModalShown=!0}),t._UZ(187,"i",81),t.qZA()()(),t.TgZ(188,"li")(189,"div",77)(190,"button",82),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(191,"i",83),t._uU(192," Expense"),t.qZA(),t.TgZ(193,"button",84),t.NdJ("click",function(){return n.playBeepSound(),n.isExpanseModalShown=!0}),t._UZ(194,"i",81),t.qZA()()(),t.TgZ(195,"li")(196,"div",77)(197,"button",85),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(198,"i",86),t._uU(199," Receipts"),t.qZA(),t.TgZ(200,"button",87),t.NdJ("click",function(){return n.playBeepSound(),n.isReceiptModalShown=!0}),t._UZ(201,"i",81),t.qZA()()(),t.TgZ(202,"li")(203,"button",88),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(204,"i",39),t._uU(205," Payments"),t.qZA()(),t.TgZ(206,"li")(207,"div",77)(208,"button",89),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(209,"i",90),t._uU(210," Credit Notes"),t.qZA(),t.TgZ(211,"button",91),t.NdJ("click",function(){return n.playBeepSound(),n.isCreditNoteModalShown=!0}),t._UZ(212,"i",81),t.qZA()()(),t.TgZ(213,"li")(214,"button",92),t._UZ(215,"i",53),t._uU(216," Redeem Loyalty"),t.qZA()(),t.TgZ(217,"li")(218,"button",93),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(219,"i",94),t._uU(220," Orders"),t.qZA()(),t.YNc(221,$p,4,0,"li",95),t.qZA()()()(),t.TgZ(222,"div",73)(223,"div",21)(224,"div",96)(225,"h4"),t._uU(226,"Customer Details"),t.qZA(),t.TgZ(227,"ul")(228,"li")(229,"p"),t._uU(230," Last Visited:- "),t.qZA()(),t.TgZ(231,"li")(232,"p"),t._uU(233," Last Bill Amount:- "),t.qZA()(),t.TgZ(234,"li")(235,"p"),t._uU(236," Most Purchased Item:- "),t.qZA()(),t.TgZ(237,"li")(238,"p"),t._uU(239," Closing:- "),t.qZA()(),t.TgZ(240,"li")(241,"p"),t._uU(242," Total Purchase:- "),t.qZA()(),t.TgZ(243,"li")(244,"p"),t._uU(245," Loyalty Points:- "),t.qZA()(),t.TgZ(246,"li")(247,"p"),t._uU(248," Membership:- "),t.qZA()()()()()(),t.TgZ(249,"div",4)(250,"div",21)(251,"div",96)(252,"h4"),t._uU(253,"Customer Details"),t.qZA(),t.TgZ(254,"ul")(255,"li")(256,"p"),t._uU(257," Last Visited:- "),t.qZA()(),t.TgZ(258,"li")(259,"p"),t._uU(260," Last Bill Amount:- "),t.qZA()(),t.TgZ(261,"li")(262,"p"),t._uU(263," Most Purchased Item:- "),t.qZA()(),t.TgZ(264,"li")(265,"p"),t._uU(266," Closing:- "),t.qZA()(),t.TgZ(267,"li")(268,"p"),t._uU(269," Total Purchase:- "),t.qZA()(),t.TgZ(270,"li")(271,"p"),t._uU(272," Loyalty Points:- "),t.qZA()(),t.TgZ(273,"li")(274,"p"),t._uU(275," Membership:- "),t.qZA()()()()()()()()(),t.TgZ(276,"div",97)(277,"div",98)(278,"div",99)(279,"div",100)(280,"div",21)(281,"div",4)(282,"div",101)(283,"div",102)(284,"div",103),t._UZ(285,"img",104),t.TgZ(286,"p",105)(287,"span"),t._uU(288,"GST: "),t.qZA(),t._uU(289),t.qZA(),t.TgZ(290,"p")(291,"span"),t._uU(292,"Name"),t.qZA(),t._uU(293),t.qZA(),t.TgZ(294,"p")(295,"span"),t._uU(296,"Address: "),t.qZA(),t._uU(297),t.qZA(),t.TgZ(298,"p")(299,"span"),t._uU(300,"Phone"),t.qZA(),t._uU(301),t.qZA(),t.TgZ(302,"p")(303,"span"),t._uU(304,"Email"),t.qZA(),t._uU(305),t.qZA()()()(),t.TgZ(306,"div",106)(307,"div",107)(308,"div",108)(309,"h1",109),t._uU(310,"Invoice"),t.qZA(),t.TgZ(311,"p")(312,"span"),t._uU(313,"Invoice Date"),t.qZA(),t._uU(314),t.ALo(315,"date"),t.qZA(),t.TgZ(316,"p")(317,"span"),t._uU(318,"Invoice NO"),t.qZA(),t._uU(319),t.qZA(),t.TgZ(320,"p")(321,"span"),t._uU(322,"Expiry Date"),t.qZA(),t._uU(323),t.ALo(324,"date"),t.qZA()()()()()()()(),t.TgZ(325,"div",110)(326,"div",100)(327,"div",21)(328,"div",111)(329,"table",112)(330,"thead")(331,"tr")(332,"th",113),t._uU(333,"Payment Mode"),t.qZA(),t.TgZ(334,"th",113),t._uU(335,"Party Name"),t.qZA(),t.TgZ(336,"th",113),t._uU(337,"Total Amount"),t.qZA(),t.TgZ(338,"th",113),t._uU(339,"Created Date"),t.qZA(),t.TgZ(340,"th",113),t._uU(341,"Total Tax"),t.qZA()()(),t.TgZ(342,"tbody")(343,"tr")(344,"td"),t._uU(345),t.qZA(),t.TgZ(346,"td"),t._uU(347),t.qZA(),t.TgZ(348,"td"),t._uU(349),t.qZA(),t.TgZ(350,"td"),t._uU(351),t.ALo(352,"date"),t.qZA(),t.TgZ(353,"td"),t._uU(354),t.qZA()()()()()()()(),t.TgZ(355,"div",114)(356,"p"),t._uU(357,"Please make cheques payable to "),t.TgZ(358,"span"),t._uU(359,"PV LTD."),t.qZA()()()()(),t.TgZ(360,"div",115)(361,"div",116)(362,"div",117)(363,"div",118)(364,"h5",119),t._uU(365,"Cash In Hand Details"),t.qZA(),t.TgZ(366,"button",120),t._UZ(367,"i",71),t.qZA()(),t.TgZ(368,"div",121)(369,"div",122)(370,"label"),t._uU(371,"Cash In Hand"),t.qZA(),t._UZ(372,"input",123),t.qZA()(),t.TgZ(373,"div",124)(374,"button",125),t._uU(375,"Start Selling"),t.qZA()()()()(),t.TgZ(376,"div",126)(377,"div",127)(378,"div",117)(379,"div",118)(380,"h5",119),t._uU(381,"Add Customer Details"),t.qZA(),t.TgZ(382,"button",128),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(383,"i",71),t.qZA()(),t.TgZ(384,"div",121)(385,"form",129),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(386,"div",4)(387,"div",12)(388,"div",122)(389,"label"),t._uU(390,"Name"),t.qZA(),t._UZ(391,"input",130),t.qZA(),t.YNc(392,Hp,2,1,"div",131),t.qZA(),t.TgZ(393,"div",12)(394,"div",122)(395,"label"),t._uU(396,"Mobile No."),t.qZA(),t.TgZ(397,"input",132),t.NdJ("input",function(a){return n.handleMobileInputChange(a)}),t.qZA()(),t.YNc(398,Gp,2,0,"div",131),t.YNc(399,zp,3,2,"div",131),t.qZA(),t.TgZ(400,"div",12)(401,"div",122)(402,"label"),t._uU(403,"Whatsapp No."),t.qZA(),t._UZ(404,"input",133),t.qZA(),t.YNc(405,tm,3,2,"div",131),t.qZA()(),t.TgZ(406,"div",4)(407,"div",12)(408,"div",134)(409,"label"),t._uU(410,"Date Of Birth"),t.qZA(),t._UZ(411,"input",135),t.qZA(),t.YNc(412,nm,2,1,"div",131),t.qZA(),t.TgZ(413,"div",12)(414,"div",134)(415,"label"),t._uU(416,"Anniversary Date"),t.qZA(),t._UZ(417,"input",136),t.qZA(),t.YNc(418,im,2,1,"div",131),t.qZA(),t.TgZ(419,"div",12)(420,"div",122)(421,"label"),t._uU(422,"Email"),t.qZA(),t._UZ(423,"input",137),t.qZA(),t.YNc(424,sm,3,2,"div",131),t.qZA()(),t.TgZ(425,"button",138),t.NdJ("click",function(){return n.addMoreDetailsHandler()}),t._uU(426),t.qZA(),t.YNc(427,Pm,54,10,"div",95),t.TgZ(428,"div",4)(429,"div",139)(430,"button",140),t._uU(431,"Save"),t.qZA()()()()()()()(),t.TgZ(432,"div",141)(433,"div",116)(434,"div",117)(435,"div",118)(436,"h5",142),t._uU(437,"Payment"),t.qZA(),t.TgZ(438,"button",143),t._UZ(439,"i",71),t.qZA()(),t.TgZ(440,"div",121)(441,"form",129),t.NdJ("ngSubmit",function(){return n.receiptFormSubmit()}),t.TgZ(442,"div",4)(443,"div",21)(444,"div",122)(445,"label",144),t._uU(446,"Select Voucher Type"),t.qZA(),t.TgZ(447,"div",145)(448,"div",21)(449,"div",146),t.YNc(450,qm,4,2,"div",147),t.qZA()()()(),t.YNc(451,Im,2,1,"div",131),t.qZA()(),t.TgZ(452,"div",4),t.YNc(453,Mm,7,2,"div",148),t.YNc(454,Fm,9,2,"div",149),t.YNc(455,Ym,9,2,"div",149),t.TgZ(456,"div",150)(457,"div",122)(458,"label"),t._uU(459,"Amount"),t.qZA(),t._UZ(460,"input",151),t.qZA(),t.YNc(461,Lm,2,1,"div",131),t.qZA(),t.TgZ(462,"div",4),t.YNc(463,jm,12,7,"div",152),t.YNc(464,oh,12,8,"div",152),t.qZA()(),t.YNc(465,ph,12,4,"div",153),t.YNc(466,bh,25,4,"div",153),t.YNc(467,Th,7,1,"div",153),t.TgZ(468,"div",4)(469,"div",21)(470,"div",134)(471,"label"),t._uU(472,"Remark"),t.qZA(),t._UZ(473,"input",154),t.qZA(),t.YNc(474,qh,2,1,"div",131),t.qZA()(),t.TgZ(475,"div",155)(476,"div",139)(477,"button",140),t._uU(478,"Save"),t.qZA()()()()()()()(),t.YNc(479,Nh,50,0,"div",156),t.YNc(480,Gh,72,10,"div",157),t.YNc(481,Kh,82,5,"div",158),t.YNc(482,jh,169,0,"div",159),t.TgZ(483,"div",160)(484,"div",116)(485,"div",117)(486,"div",118)(487,"h5",161),t._uU(488,"Sync Orders"),t.qZA(),t.TgZ(489,"button",162),t.NdJ("click",function(){return n.closeSyncModal()}),t._UZ(490,"i",71),t.qZA()(),t.TgZ(491,"div",121)(492,"h4"),t._uU(493,"Do you want to sync your orders?"),t.qZA()(),t.TgZ(494,"div",124)(495,"button",125),t._uU(496,"Sync Orders"),t.qZA()()()()(),t.TgZ(497,"div",163)(498,"div",127)(499,"div",117)(500,"div",118)(501,"h5",164),t._uU(502,"Select Product Batch"),t.qZA(),t.TgZ(503,"button",162),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(504,"i",71),t.qZA()(),t.TgZ(505,"div",121)(506,"table",165)(507,"thead")(508,"tr"),t._UZ(509,"th"),t.TgZ(510,"th"),t._uU(511,"MRP"),t.qZA(),t.TgZ(512,"th"),t._uU(513,"Selling Price Offline"),t.qZA(),t.TgZ(514,"th"),t._uU(515,"Stock"),t.qZA(),t.TgZ(516,"th"),t._uU(517,"Minimum Stock Threshold"),t.qZA(),t.TgZ(518,"th"),t._uU(519,"Max Order Quantity"),t.qZA(),t.TgZ(520,"th"),t._uU(521,"Sale Tax"),t.qZA(),t.TgZ(522,"th"),t._uU(523,"Additional Discount %"),t.qZA()()(),t.TgZ(524,"tbody"),t.ynx(525),t.YNc(526,zh,18,11,"tr",166),t.BQk(),t.qZA()()(),t.TgZ(527,"div",167)(528,"button",168),t.NdJ("click",function(){return n.confirmBatch()}),t._uU(529,"Confirm"),t.qZA()()()()(),t.TgZ(530,"div",169)(531,"div",127)(532,"div",117)(533,"div",118)(534,"h5",170),t._uU(535,"Add Additional Charges"),t.qZA(),t.TgZ(536,"button",162),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(537,"i",71),t.qZA()(),t.TgZ(538,"div",121)(539,"table",165)(540,"thead")(541,"tr")(542,"th"),t._uU(543,"Additional Charge"),t.qZA(),t.TgZ(544,"th"),t._uU(545,"Value"),t.qZA(),t.TgZ(546,"th"),t._uU(547,"Tax"),t.qZA(),t.TgZ(548,"th"),t._uU(549,"Total"),t.qZA(),t._UZ(550,"th"),t.qZA()(),t.TgZ(551,"tbody"),t.YNc(552,tg,21,13,"tr",166),t.qZA(),t.TgZ(553,"tfoot")(554,"th")(555,"button",171),t.NdJ("click",function(){return n.addRowToCAC()}),t._uU(556,"Add More Additional Charge"),t.qZA()(),t._UZ(557,"th")(558,"th"),t.TgZ(559,"th"),t._uU(560),t.qZA(),t._UZ(561,"th"),t.qZA()()(),t.TgZ(562,"div",124)(563,"button",172),t.NdJ("click",function(){return n.playBeepSound()}),t._uU(564,"Confirm"),t.qZA()()()()(),t.TgZ(565,"div",173)(566,"div",127)(567,"div",117)(568,"div",118)(569,"h5",170),t._uU(570,"POS Orders"),t.qZA(),t.TgZ(571,"button",162),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(572,"i",71),t.qZA()(),t.TgZ(573,"div",121)(574,"table",165)(575,"thead")(576,"tr")(577,"th"),t._uU(578,"Invoice No."),t.qZA(),t.TgZ(579,"th"),t._uU(580,"Date"),t.qZA(),t.TgZ(581,"th"),t._uU(582,"Customer Name"),t.qZA(),t.TgZ(583,"th"),t._uU(584,"Customer Ph.No"),t.qZA(),t.TgZ(585,"th"),t._uU(586,"Total Amt"),t.qZA(),t.TgZ(587,"th"),t._uU(588,"Due Amt"),t.qZA(),t.TgZ(589,"th"),t._uU(590,"Payment Mode"),t.qZA()()(),t.TgZ(591,"tbody"),t.YNc(592,eg,15,7,"tr",166),t.qZA()()(),t.TgZ(593,"div",167)(594,"button",172),t.NdJ("click",function(){return n.playBeepSound()}),t._uU(595,"Close"),t.qZA()()()()(),t.YNc(596,cg,36,5,"div",174),t.YNc(597,hg,30,4,"div",175),t.YNc(598,xg,44,5,"div",176),t.YNc(599,Sg,48,7,"div",177),t.TgZ(600,"div",178)(601,"div",179)(602,"h5",180),t._uU(603,"On Hold"),t.qZA(),t.TgZ(604,"button",181),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(605,"i",71),t.qZA()(),t.TgZ(606,"div",182),t.YNc(607,Eg,15,4,"div",183),t.qZA()(),t.TgZ(608,"div",184)(609,"div",127)(610,"div",117)(611,"div",118)(612,"h5",185),t._uU(613,"Expense"),t.qZA(),t.TgZ(614,"button",186),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(615,"i",71),t.qZA()(),t.TgZ(616,"div",121)(617,"div",111)(618,"table",187)(619,"thead")(620,"tr")(621,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(622,"Sr. No."),t._UZ(623,"i",189),t.qZA(),t.TgZ(624,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(625,"Party"),t._UZ(626,"i",189),t.qZA(),t.TgZ(627,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(628,"Expense Voucher No."),t._UZ(629,"i",189),t.qZA(),t.TgZ(630,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(631,"Refrence Bill No."),t._UZ(632,"i",189),t.qZA(),t.TgZ(633,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(634,"Date"),t._UZ(635,"i",189),t.qZA(),t.TgZ(636,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(637,"Sub Total"),t._UZ(638,"i",189),t.qZA(),t.TgZ(639,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(640,"Total"),t._UZ(641,"i",189),t.qZA()()(),t.YNc(642,Jg,4,11,"tbody",95),t.YNc(643,Dg,5,0,"tbody",95),t.qZA()()()()()(),t.TgZ(644,"div",190)(645,"div",127)(646,"div",117)(647,"div",118)(648,"h5",191),t._uU(649,"Receipt"),t.qZA(),t.TgZ(650,"button",192),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(651,"i",71),t.qZA()(),t.TgZ(652,"div",121)(653,"div",111)(654,"table",187)(655,"thead")(656,"tr")(657,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(658,"Sr. No."),t._UZ(659,"i",189),t.qZA(),t.TgZ(660,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(661,"Account"),t._UZ(662,"i",189),t.qZA(),t.TgZ(663,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(664,"Reciept Type"),t._UZ(665,"i",189),t.qZA(),t.TgZ(666,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(667,"Mode Type"),t._UZ(668,"i",189),t.qZA(),t.TgZ(669,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(670,"Voucher No."),t._UZ(671,"i",189),t.qZA(),t.TgZ(672,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(673,"Payer"),t._UZ(674,"i",189),t.qZA(),t.TgZ(675,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(676,"Payment"),t._UZ(677,"i",189),t.qZA(),t.TgZ(678,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(679,"Date"),t._UZ(680,"i",189),t.qZA(),t.TgZ(681,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(682,"Transaction Date"),t._UZ(683,"i",189),t.qZA(),t.TgZ(684,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(685,"Transaction Id"),t._UZ(686,"i",189),t.qZA(),t.TgZ(687,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(688,"Amount"),t._UZ(689,"i",189),t.qZA()()(),t.YNc(690,Yg,3,5,"tbody",95),t.YNc(691,Qg,5,0,"tbody",95),t.qZA()()()()()(),t.TgZ(692,"div",193)(693,"div",127)(694,"div",117)(695,"div",118)(696,"h5",194),t._uU(697,"Credit Notes"),t.qZA(),t.TgZ(698,"button",192),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(699,"i",71),t.qZA()(),t.TgZ(700,"div",121)(701,"div",111)(702,"table",187)(703,"thead")(704,"tr",195)(705,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(706,"Sr. No."),t._UZ(707,"i",189),t.qZA(),t.TgZ(708,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(709,"Account"),t._UZ(710,"i",189),t.qZA(),t.TgZ(711,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(712,"Credit Note Date"),t._UZ(713,"i",189),t.qZA(),t.TgZ(714,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(715,"Credit Note No"),t._UZ(716,"i",189),t.qZA(),t.TgZ(717,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(718,"Sales Bill"),t._UZ(719,"i",189),t.qZA(),t.TgZ(720,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(721,"Reason"),t._UZ(722,"i",189),t.qZA(),t.TgZ(723,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(724,"Round off "),t._UZ(725,"i",189),t.qZA(),t.TgZ(726,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(727,"Tax "),t._UZ(728,"i",189),t.qZA(),t.TgZ(729,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(730,"Total "),t._UZ(731,"i",189),t.qZA(),t.TgZ(732,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(733,"Status "),t._UZ(734,"i",189),t.qZA()()(),t.YNc(735,$g,2,1,"tbody",95),t.YNc(736,Rg,5,0,"tbody",95),t.qZA()()()()()(),t.TgZ(737,"div",196)(738,"div",116)(739,"div",117)(740,"div",118)(741,"h5",197),t._uU(742,"Purchase"),t.qZA(),t.TgZ(743,"button",198),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(744,"i",71),t.qZA()(),t.TgZ(745,"div",121)(746,"form",129),t.NdJ("ngSubmit",function(){return n.formSubmitPurchase()}),t.TgZ(747,"div",4)(748,"div",21)(749,"div",122)(750,"label",144),t._uU(751,"Select Payment Type"),t.qZA(),t.TgZ(752,"div",146),t.YNc(753,Hg,4,2,"div",147),t.qZA()(),t.YNc(754,Kg,2,1,"div",131),t.qZA(),t.TgZ(755,"div",150)(756,"div",122)(757,"label"),t._uU(758,"Party"),t.qZA(),t._UZ(759,"input",199),t.TgZ(760,"mat-autocomplete",15,200),t.NdJ("optionSelected",function(a){return n.optionSelectedParty(a)}),t.YNc(762,jg,2,0,"mat-option",10),t.YNc(763,zg,2,0,"mat-option",10),t.YNc(764,Wg,2,1,"mat-option",10),t.YNc(765,Xg,2,2,"mat-option",11),t.qZA()(),t.YNc(766,e1,2,1,"div",131),t.qZA(),t.TgZ(767,"div",150)(768,"div",122)(769,"label"),t._uU(770,"Payment Mode"),t.qZA(),t.TgZ(771,"select",201)(772,"option",202),t._uU(773,"-- Select Payment Mode --"),t.qZA(),t.YNc(774,n1,2,2,"option",11),t.qZA()(),t.YNc(775,i1,2,1,"div",131),t.qZA(),t.YNc(776,l1,9,2,"div",149),t.TgZ(777,"div",150)(778,"div",122)(779,"label"),t._uU(780,"Amount"),t.qZA(),t._UZ(781,"input",203),t.qZA(),t.YNc(782,d1,2,1,"div",131),t.qZA(),t.TgZ(783,"div",150)(784,"div",122)(785,"label"),t._uU(786,"Payment Account"),t.qZA(),t.TgZ(787,"select",204)(788,"option",205),t._uU(789,"Select Payment Account"),t.qZA(),t.YNc(790,u1,2,2,"option",11),t.qZA()(),t.YNc(791,p1,2,1,"div",131),t.qZA(),t.TgZ(792,"div",150)(793,"div",122)(794,"label"),t._uU(795,"Remark"),t.qZA(),t._UZ(796,"input",206),t.qZA(),t.YNc(797,h1,2,1,"div",131),t.qZA()(),t.YNc(798,v1,7,1,"div",153),t.YNc(799,A1,7,1,"div",153),t.YNc(800,O1,25,4,"div",153),t.TgZ(801,"div",207)(802,"div",139)(803,"button",140),t._uU(804,"Save"),t.qZA()()()()()()()(),t.TgZ(805,"div",208)(806,"div",127)(807,"div",117)(808,"div",118)(809,"h5",209),t._uU(810,"Payment Voucher Add"),t.qZA(),t.TgZ(811,"button",210),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(812,"i",71),t.qZA()(),t.TgZ(813,"div",121),t.YNc(814,U1,2,0,"div",95),t.qZA()()()(),t.TgZ(815,"div",211)(816,"div",127)(817,"div",117)(818,"div",118)(819,"h5",212),t._uU(820,"Expense Voucher Add"),t.qZA(),t.TgZ(821,"button",213),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(822,"i",71),t.qZA()(),t.TgZ(823,"div",121),t.YNc(824,k1,2,0,"div",95),t.qZA()()()(),t.TgZ(825,"div",214)(826,"div",127)(827,"div",117)(828,"div",118)(829,"h5",215),t._uU(830,"Reciept Voucher Add"),t.qZA(),t.TgZ(831,"button",216),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(832,"i",71),t.qZA()(),t.TgZ(833,"div",121),t.YNc(834,M1,2,0,"div",95),t.qZA()()()(),t.TgZ(835,"div",217)(836,"div",127)(837,"div",117)(838,"div",118)(839,"h5",218),t._uU(840,"Add Credit Note"),t.qZA(),t.TgZ(841,"button",219),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(842,"i",71),t.qZA()(),t.TgZ(843,"div",121),t.YNc(844,w1,2,0,"div",95),t.qZA()()()(),t.TgZ(845,"div",220)(846,"div",127)(847,"div",117)(848,"div",118)(849,"h5",209),t._uU(850,"Payments"),t.qZA(),t.TgZ(851,"button",162),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(852,"i",71),t.qZA()(),t.TgZ(853,"div",121)(854,"div",122)(855,"div",111)(856,"table",187)(857,"thead")(858,"tr",195)(859,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(860,"Sr. No."),t._UZ(861,"i",189),t.qZA(),t.TgZ(862,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(863,"Supplier"),t._UZ(864,"i",189),t.qZA(),t.TgZ(865,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(866,"Payment Type"),t._UZ(867,"i",189),t.qZA(),t.TgZ(868,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(869,"Mode Type"),t._UZ(870,"i",189),t.qZA(),t.TgZ(871,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(872,"Voucher No."),t._UZ(873,"i",189),t.qZA(),t.TgZ(874,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(875,"Account"),t._UZ(876,"i",189),t.qZA(),t.TgZ(877,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(878,"Payment"),t._UZ(879,"i",189),t.qZA(),t.TgZ(880,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(881,"Date"),t._UZ(882,"i",189),t.qZA(),t.TgZ(883,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(884,"Transaction Date"),t._UZ(885,"i",189),t.qZA(),t.TgZ(886,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(887,"Transaction Id"),t._UZ(888,"i",189),t.qZA(),t.TgZ(889,"th",188),t.NdJ("click",function(){return n.sort("id")}),t._uU(890,"Amount"),t._UZ(891,"i",189),t.qZA()()(),t.YNc(892,E1,4,11,"tbody",95),t.YNc(893,F1,5,0,"tbody",95),t.qZA(),t.TgZ(894,"div",221),t.YNc(895,J1,1,0,"mat-progress-bar",222),t.qZA()()(),t.TgZ(896,"div",167)(897,"button",223),t._uU(898,"Close"),t.qZA()()()()()(),t.YNc(899,D1,82,5,"div",224),t.YNc(900,H1,36,5,"div",225),t.TgZ(901,"div",226)(902,"div",116)(903,"div",117)(904,"div",227)(905,"button",228),t.NdJ("click",function(){return n.playBeepSound(),n.closePayLaterModal()}),t._UZ(906,"i",71),t.qZA()(),t.TgZ(907,"div",121)(908,"form",229),t.NdJ("ngSubmit",function(){return n.submitMultiPayLater()}),t.TgZ(909,"div",230)(910,"label"),t._uU(911,"Payment Terms:"),t.qZA(),t.TgZ(912,"select",231),t.NdJ("ngModelChange",function(a){return n.payment_terms=a})("change",function(a){return n.onPaymentTermChange(a.target.value)}),t.TgZ(913,"option",232),t._uU(914,"Select days "),t.qZA(),t.YNc(915,G1,2,2,"option",11),t.qZA(),t.YNc(916,K1,2,0,"span",233),t.qZA(),t.TgZ(917,"div",230)(918,"label"),t._uU(919,"Due Date:"),t.qZA(),t.TgZ(920,"input",234),t.NdJ("ngModelChange",function(a){return n.due_date=a}),t.qZA(),t.YNc(921,j1,2,0,"span",233),t.qZA(),t.TgZ(922,"div",235)(923,"div",236)(924,"div",134)(925,"label",237),t._uU(926,"Send Reminder"),t.qZA()()(),t.TgZ(927,"div",238)(928,"input",239),t.NdJ("ngModelChange",function(a){return n.selectedReminder=a}),t.qZA(),t.TgZ(929,"label",240),t._uU(930,"Yes"),t.qZA(),t.TgZ(931,"input",241),t.NdJ("ngModelChange",function(a){return n.selectedReminder=a}),t.qZA(),t.TgZ(932,"label",240),t._uU(933,"No"),t.qZA()(),t.YNc(934,z1,2,0,"span",233),t.qZA(),t.TgZ(935,"div",242)(936,"div",243)(937,"button",244),t._uU(938,"Submit"),t.qZA()()()()()()()(),t.YNc(939,W1,1,0,"div",245),t.YNc(940,uf,48,7,"div",246),t.YNc(941,ff,30,4,"div",247),t.TgZ(942,"div",248)(943,"div",116)(944,"div",117)(945,"div",118)(946,"h5",249),t._uU(947,"Product Details"),t.qZA(),t.TgZ(948,"button",250),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(949,"i",71),t.qZA()(),t.TgZ(950,"div",121)(951,"table",165)(952,"thead")(953,"tr")(954,"th"),t._uU(955,"Title"),t.qZA(),t.TgZ(956,"th"),t._uU(957,"Value"),t.qZA()()(),t.TgZ(958,"tbody")(959,"tr")(960,"td"),t._uU(961,"Available Stock"),t.qZA(),t.TgZ(962,"td"),t._uU(963),t.qZA()(),t.TgZ(964,"tr")(965,"td"),t._uU(966,"Category"),t.qZA(),t.TgZ(967,"td"),t._uU(968),t.qZA()(),t.TgZ(969,"tr")(970,"td"),t._uU(971,"Brand"),t.qZA(),t.TgZ(972,"td"),t._uU(973),t.qZA()(),t.TgZ(974,"tr")(975,"td"),t._uU(976,"HSN Code"),t.qZA(),t.TgZ(977,"td"),t._uU(978),t.qZA()()()()()()()()),2&e){const i=t.MAs(9),a=t.MAs(18),s=t.MAs(761);t.Q6J("ngClass",t.VKq(139,Mi,n.isModalOpen)),t.xp6(1),t.Q6J("ngClass",t.VKq(141,Mi,n.isModalOpen)),t.xp6(6),t.Q6J("formControl",n.productsAutocompleteControl)("matAutocomplete",i),t.xp6(1),t.Q6J("displayWith",n.displayFn),t.xp6(2),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("ngIf",(null==n.productsAutocompleteControl.value?null:n.productsAutocompleteControl.value.length)<3),t.xp6(1),t.Q6J("ngIf",n.errorMsg),t.xp6(1),t.Q6J("ngForOf",n.filteredProducts),t.xp6(3),t.Q6J("formControl",n.customerAutoCompleteControl)("matAutocomplete",a),t.xp6(1),t.Q6J("displayWith",n.displayCus),t.xp6(5),t.Q6J("ngIf",(null==n.customerAutoCompleteControl.value?null:n.customerAutoCompleteControl.value.length)<3),t.xp6(1),t.Q6J("ngIf",n.cusIsLoading),t.xp6(1),t.Q6J("ngForOf",n.filteredCustomer),t.xp6(31),t.Q6J("ngForOf",n.currentItems),t.xp6(11),t.Oqu(n.totalQty()),t.xp6(5),t.hij("\u20b9",n.totalMrp(),""),t.xp6(5),t.hij("\u20b9",n.totalTaxAmount(),""),t.xp6(5),t.hij("\u20b9",n.currentTotalAdditionalCharges(),""),t.xp6(6),t.hij("\u20b9",n.totalDiscountRupees(),""),t.xp6(15),t.s9C("value",n.getRoundOff()),t.xp6(5),t.hij("\u20b9",n.finalAmount(),""),t.xp6(114),t.Q6J("ngIf",n.showSyncButton()),t.xp6(68),t.hij(" ",(null==n.orderDetails||null==n.orderDetails.customer?null:n.orderDetails.customer.gstin)||"--",""),t.xp6(4),t.hij(" : ",(null==n.orderDetails||null==n.orderDetails.customer?null:n.orderDetails.customer.name)||"--",""),t.xp6(4),t.hij(" : ",(null==n.orderDetails||null==n.orderDetails.customer||null==n.orderDetails.customer.address[0]||null==n.orderDetails.customer.address[0].city?null:n.orderDetails.customer.address[0].city.city)+","+(null==n.orderDetails||null==n.orderDetails.customer||null==n.orderDetails.customer.address[0]||null==n.orderDetails.customer.address[0].state?null:n.orderDetails.customer.address[0].state.state)+" , "+(null==n.orderDetails||null==n.orderDetails.customer||null==n.orderDetails.customer.address[0]||null==n.orderDetails.customer.address[0].country?null:n.orderDetails.customer.address[0].country.country_name)+" ,"+(null==n.orderDetails||null==n.orderDetails.customer||null==n.orderDetails.customer.address[0]?null:n.orderDetails.customer.address[0].pincode)," "),t.xp6(4),t.hij(" : ",(null==n.orderDetails||null==n.orderDetails.customer?null:n.orderDetails.customer.mobile_no)||"--",""),t.xp6(4),t.hij(" : ",(null==n.orderDetails||null==n.orderDetails.customer?null:n.orderDetails.customer.email)||"--",""),t.xp6(9),t.hij(" : ",null!=n.orderDetails&&n.orderDetails.estimate_date?t.xi3(315,130,null==n.orderDetails?null:n.orderDetails.estimate_date,"dd-MMMM-yyyy"):"--",""),t.xp6(5),t.hij(" : ",(null==n.orderDetails?null:n.orderDetails.estimate_no)||"--"," "),t.xp6(4),t.hij(" : ",null!=n.orderDetails&&n.orderDetails.estimate_expiry_date?t.xi3(324,133,null==n.orderDetails?null:n.orderDetails.estimate_expiry_date,"dd-MMMM-yyyy"):"--",""),t.xp6(22),t.Oqu(null==n.orderDetails?null:n.orderDetails.payment_mode),t.xp6(2),t.Oqu(null==n.orderDetails||null==n.orderDetails.customer?null:n.orderDetails.customer.name),t.xp6(2),t.Oqu(null==n.orderDetails?null:n.orderDetails.total_amount),t.xp6(2),t.Oqu(t.xi3(352,136,null==n.orderDetails?null:n.orderDetails.created_date,"dd-MMMM-yyyy")),t.xp6(3),t.Oqu(null==n.orderDetails?null:n.orderDetails.total_tax),t.xp6(31),t.Q6J("formGroup",n.registrationForm),t.xp6(7),t.Q6J("ngIf",n.name.invalid&&(n.name.dirty||n.name.touched)),t.xp6(6),t.Q6J("ngIf",n.mobile_no.valid&&n.customerRegistrationNumberSame),t.xp6(1),t.Q6J("ngIf",n.mobile_no.invalid&&(n.mobile_no.dirty||n.mobile_no.touched)),t.xp6(6),t.Q6J("ngIf",n.whatsapp_no.invalid&&(n.whatsapp_no.dirty||n.whatsapp_no.touched)),t.xp6(7),t.Q6J("ngIf",n.date_of_birth.invalid&&(n.date_of_birth.dirty||n.date_of_birth.touched)),t.xp6(6),t.Q6J("ngIf",n.anniversary_date.invalid&&(n.anniversary_date.dirty||n.anniversary_date.touched)),t.xp6(6),t.Q6J("ngIf",n.email.invalid&&(n.email.dirty||n.email.touched)),t.xp6(2),t.Oqu(n.addMoreDetails?"Hide More Details":"Add More Details"),t.xp6(1),t.Q6J("ngIf",n.addMoreDetails),t.xp6(14),t.Q6J("formGroup",n.receiptPaymentForm),t.xp6(9),t.Q6J("ngForOf",n.voucherType),t.xp6(1),t.Q6J("ngIf",n.voucher_type.invalid&&(n.voucher_type.dirty||n.voucher_type.touched)),t.xp6(2),t.Q6J("ngIf","sales"===n.receiptPaymentForm.get("voucher_type").value||"purchase"===n.receiptPaymentForm.get("voucher_type").value),t.xp6(1),t.Q6J("ngIf","sales"===n.receiptPaymentForm.get("voucher_type").value||"purchase"===n.receiptPaymentForm.get("voucher_type").value),t.xp6(1),t.Q6J("ngIf","Against Bill"===n.receiptPaymentForm.get("payment_type").value&&"expense"!==n.receiptPaymentForm.get("voucher_type").value),t.xp6(6),t.Q6J("ngIf",n.amount_receipt.invalid&&(n.amount_receipt.dirty||n.amount_receipt.touched)),t.xp6(2),t.Q6J("ngIf","sales"===n.receiptPaymentForm.get("voucher_type").value),t.xp6(1),t.Q6J("ngIf","purchase"===n.receiptPaymentForm.get("voucher_type").value||"expense"===n.receiptPaymentForm.get("voucher_type").value),t.xp6(1),t.Q6J("ngIf","cash in hand"!==n.receiptPaymentForm.get("voucher_type").value),t.xp6(1),t.Q6J("ngIf","Card"===n.receiptPaymentForm.get("payment_mode").value),t.xp6(1),t.Q6J("ngIf","expense"===n.receiptPaymentForm.get("voucher_type").value),t.xp6(7),t.Q6J("ngIf",n.receipt_remark.invalid&&(n.receipt_remark.dirty||n.receipt_remark.touched)),t.xp6(5),t.Q6J("ngIf",0!==n.currentItems.length&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==n.currentItems.length&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==n.currentItems.length&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==n.currentItems.length&&null!=n.currentCustomer),t.xp6(44),t.Q6J("ngForOf",null==n.currentProduct?null:n.currentProduct.batch),t.xp6(26),t.Q6J("ngForOf",n.currentOrderAdditionalCharges),t.xp6(8),t.Oqu(n.currentTotalAdditionalCharges()),t.xp6(32),t.Q6J("ngForOf",n.posOrders),t.xp6(4),t.Q6J("ngIf",0!==n.currentItems.length&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==n.currentItems.length&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==n.currentItems.length&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==n.currentItems.length&&null!=n.currentCustomer),t.xp6(8),t.Q6J("ngForOf",n.heldBills),t.xp6(35),t.Q6J("ngIf",(null==n.expenseList?null:n.expenseList.length)>=0),t.xp6(1),t.Q6J("ngIf",0===(null==n.expenseList?null:n.expenseList.length)&&!n.loader),t.xp6(47),t.Q6J("ngIf",(null==n.recieptList?null:n.recieptList.length)>=0),t.xp6(1),t.Q6J("ngIf",0===(null==n.recieptList?null:n.recieptList.length)&&!n.loader),t.xp6(44),t.Q6J("ngIf",(null==n.creditNoteList?null:n.creditNoteList.length)>=0),t.xp6(1),t.Q6J("ngIf",0===(null==n.creditNoteList?null:n.creditNoteList.length)&&!n.loader),t.xp6(10),t.Q6J("formGroup",n.purchasePaymentForm),t.xp6(7),t.Q6J("ngForOf",n.paymentType),t.xp6(1),t.Q6J("ngIf",n.purchase_payment_type.invalid&&(n.purchase_payment_type.dirty||n.purchase_payment_type.touched)),t.xp6(5),t.Q6J("formControl",n.purchasePaymentForm.get("party"))("matAutocomplete",s),t.xp6(1),t.Q6J("displayWith",n.displayParty),t.xp6(2),t.Q6J("ngIf",(null==n.purchasePaymentForm.get("party").value?null:n.purchasePaymentForm.get("party").value.length)<3),t.xp6(1),t.Q6J("ngIf",n.partyIsLoading),t.xp6(1),t.Q6J("ngIf",n.partyErrorMsg),t.xp6(1),t.Q6J("ngForOf",n.filteredParty),t.xp6(1),t.Q6J("ngIf",n.purchase_party.invalid&&(n.purchase_party.dirty||n.purchase_party.touched)),t.xp6(8),t.Q6J("ngForOf",n.paymentMode),t.xp6(1),t.Q6J("ngIf",n.purchase_payment_mode.invalid&&(n.purchase_payment_mode.dirty||n.purchase_payment_mode.touched)),t.xp6(1),t.Q6J("ngIf","Against Bill"===n.purchasePaymentForm.get("payment_type").value),t.xp6(6),t.Q6J("ngIf",n.purchase_amount.invalid&&(n.purchase_amount.dirty||n.purchase_amount.touched)),t.xp6(8),t.Q6J("ngForOf",n.companyBankList),t.xp6(1),t.Q6J("ngIf",n.purchase_payment_account.invalid&&(n.purchase_payment_account.dirty||n.purchase_payment_account.touched)),t.xp6(6),t.Q6J("ngIf",n.purchase_remark.invalid&&(n.purchase_remark.dirty||n.purchase_remark.touched)),t.xp6(1),t.Q6J("ngIf","UPI"===n.purchasePaymentForm.get("payment_mode").value),t.xp6(1),t.Q6J("ngIf","Bank"===n.purchasePaymentForm.get("payment_mode").value),t.xp6(1),t.Q6J("ngIf","Card"===n.purchasePaymentForm.get("payment_mode").value),t.xp6(14),t.Q6J("ngIf",n.isPaymentModalShown),t.xp6(10),t.Q6J("ngIf",n.isExpanseModalShown),t.xp6(10),t.Q6J("ngIf",n.isReceiptModalShown),t.xp6(10),t.Q6J("ngIf",n.isCreditNoteModalShown),t.xp6(48),t.Q6J("ngIf",(null==n.paymentList?null:n.paymentList.length)>=0),t.xp6(1),t.Q6J("ngIf",0===(null==n.paymentList?null:n.paymentList.length)&&!n.loader),t.xp6(2),t.Q6J("ngIf",n.loader),t.xp6(4),t.Q6J("ngIf",0!==n.currentItems.length&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==n.currentItems.length&&null!=n.currentCustomer),t.xp6(1),t.ekj("show",n.isModalShown),t.xp6(11),t.Q6J("ngModel",n.payment_terms)("ngModelOptions",t.DdM(143,ot)),t.xp6(3),t.Q6J("ngForOf",n.paymentTermsList),t.xp6(1),t.Q6J("ngIf",!n.payment_terms&&n.isFormSubmitted),t.xp6(4),t.Q6J("ngModel",n.due_date)("ngModelOptions",t.DdM(144,ot)),t.xp6(1),t.Q6J("ngIf",!n.due_date&&n.isFormSubmitted),t.xp6(7),t.Q6J("ngModel",n.selectedReminder)("ngModelOptions",t.DdM(145,ot)),t.xp6(3),t.Q6J("ngModel",n.selectedReminder)("ngModelOptions",t.DdM(146,ot)),t.xp6(3),t.Q6J("ngIf",!n.selectedReminder&&n.isFormSubmitted),t.xp6(5),t.Q6J("ngIf",n.isModalShown),t.xp6(1),t.Q6J("ngIf",0!==n.currentItems.length&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==n.currentItems.length&&null!=n.currentCustomer),t.xp6(22),t.Oqu(null==n.currentItems[n.currentCartIndex]||null==n.currentItems[n.currentCartIndex].batch[0]?null:n.currentItems[n.currentCartIndex].batch[0].stock),t.xp6(5),t.Oqu(null==n.currentItems[n.currentCartIndex]||null==n.currentItems[n.currentCartIndex].product||null==n.currentItems[n.currentCartIndex].product.category?null:n.currentItems[n.currentCartIndex].product.category.title),t.xp6(5),t.Oqu(null==n.currentItems[n.currentCartIndex]||null==n.currentItems[n.currentCartIndex].product||null==n.currentItems[n.currentCartIndex].product.brand?null:n.currentItems[n.currentCartIndex].product.brand.title),t.xp6(5),t.Oqu(null==n.currentItems[n.currentCartIndex]||null==n.currentItems[n.currentCartIndex].product?null:n.currentItems[n.currentCartIndex].product.hsncode)}},dependencies:[P.mk,P.sg,P.O5,E.yS,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l._,l.JJ,l.JL,l.On,l.F,l.oH,l.sg,l.u,l.x0,l.CE,nt.XC,nt.ZL,ye.ey,Ec.pW,uu,Lu,rp,Np,P.uU,Ui._s,Ip.T],styles:[".customer-type-div[_ngcontent-%COMP%]{display:flex;align-items:center}.customer-type-div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{margin-right:20px}.customer-type-div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px}.customer-type-div[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#000;accent-color:black}.customer-type-div[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked{background-color:#000;border-color:#000}.top-header-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.salesman-div[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:10px;font-weight:500;font-family:Roboto;font-style:normal;font-size:16px}.salesman-div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-left:15px}.right-header-pos[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.amt-info-div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;flex-wrap:wrap}.amt-info-div[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-right:1px solid black;padding:5px 0;flex:1;text-align:center;align-self:stretch;display:flex;flex-direction:column;justify-content:center}.amt-info-div[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border:none}.amt-info-div[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px;margin-bottom:0;line-height:1}.amt-info-div[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   p[_ngcontent-%COMP%]{font-size:24px;font-weight:600}.cus-details-wrapper[_ngcontent-%COMP%]{padding:14px 18px;border:1px solid #9C9C9C;border-radius:4px}.cus-details-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px;margin-top:8px}.btn-pos[_ngcontent-%COMP%]{border:none;background:no-repeat;display:flex;flex-direction:column;align-items:center;margin-left:auto;margin-right:auto;font-family:Roboto;font-style:normal;font-weight:500;font-size:14px;color:#9c9c9c}.btn-pos[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;margin-bottom:5px}.right-btns-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.right-btns-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:50%;margin-bottom:25px}.right-header-pos[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.right-btns-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .right-btns-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){margin-bottom:0}.flat-disc-wrapper[_ngcontent-%COMP%]{display:flex;align-items:end}.flat-disc-wrapper[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-left:5px}.amt-info-div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{align-items:center}.pos-left-wrapper[_ngcontent-%COMP%]{position:relative}.product-autocomplete[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.table-cross-btn[_ngcontent-%COMP%]{border:none;color:#201e1f;background:transparent}.table-cross-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.table-pos[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#000}.table-pos[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff;font-family:Roboto;font-style:normal;font-weight:500;font-size:16px}.table-pos[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:14px;color:#9c9c9c}.mrp-input-table[_ngcontent-%COMP%]{max-width:95px}.disc-input-table[_ngcontent-%COMP%], .add-disc-input-table[_ngcontent-%COMP%]{max-width:85px;text-align:left!important}.table-black-grp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;border-radius:0}.table-black-grp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:0}.table-black-grp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center}.cursor-pointer-pos[_ngcontent-%COMP%]{cursor:pointer}.amt-info-div[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px;line-height:1.2}.amt-info-div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;font-family:Roboto;font-style:normal;font-weight:500;padding:2px 4px;width:90%;margin-left:auto;margin-right:auto}.bottom-pos-left[_ngcontent-%COMP%]   .btns-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:14px;flex-grow:1}.bottom-pos-left[_ngcontent-%COMP%]   .btns-row[_ngcontent-%COMP%]{display:flex;gap:10px}.cus-details-wrapper[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:18px}.pos-container[_ngcontent-%COMP%]{height:calc(100vh - 60px);padding:5px}.table-pos[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 10px}.amt-info-div[_ngcontent-%COMP%]   .flat-disc-wrapper[_ngcontent-%COMP%]{justify-content:center;max-width:75%;margin-left:auto;margin-right:auto;margin-bottom:3px}.pos-s-input[_ngcontent-%COMP%]{max-width:70%;margin-left:auto;margin-right:auto;padding:0 5px;margin-bottom:3px}.amt-info-div[_ngcontent-%COMP%]   .flat-disc-wrapper[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{padding:0 2px;background-color:#000;color:#fff;border-radius:0}.amt-info-div[_ngcontent-%COMP%]   .flat-disc-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:0}.bottom-pos-left[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(2)   .col-sm-12[_ngcontent-%COMP%]{padding:0}.amt-info-div[_ngcontent-%COMP%]   .flat-disc-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:0 5px}.add-more-details-btn[_ngcontent-%COMP%]{text-decoration:none;border:none;background:transparent;font-size:1rem;color:#212529;font-weight:400}.posmodal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top:1px solid #dee2e6}.modal1BtnPos[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}.modal2BtnPos[_ngcontent-%COMP%]{width:30%;margin-left:auto;margin-right:auto}.posmodal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:22px;color:#000}.posmodal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:16px;color:#000}.posmodal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:300;font-family:Roboto;color:#9c9c9c}.posmodal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #201E1F}.posmodal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{border:1px solid #9C9C9C}.posmodal[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{margin-bottom:0}.posmodal[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{border-color:#000}.posmodal[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#000;border-color:#000}.pos-offcanvas[_ngcontent-%COMP%]{background:#F5F8F5}.pos-offcanvas[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{background-color:#000;color:#fff}.on-hold-card[_ngcontent-%COMP%]{padding:16px 16px 30px;background-color:#fff;border-radius:4px;position:relative}.on-hold-card[_ngcontent-%COMP%]   .holdRemove[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;background:transparent;border:none;font-size:20px;padding:0;line-height:0}.on-hold-card[_ngcontent-%COMP%]   .on-hold-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:16px}.on-hold-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:14px}.modalRedeem[_ngcontent-%COMP%]   .redeem-modal-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.modalRedeem[_ngcontent-%COMP%]   .redeem-modal-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px}.modalRedeem[_ngcontent-%COMP%]   .redeem-modal-details[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:12%;padding:0 5px}.modalRedeem[_ngcontent-%COMP%]   .redeem-modal-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:22px}.pos-offcanvas[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{opacity:1;padding-top:0}.pos-offcanvas[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.posmodal[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9c9c9c;font-size:20px}.fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{border-right:1px solid black;padding:32px}.fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   .total-amt[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:32px}.fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:16px}.fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .other-product-detail[_ngcontent-%COMP%]{border-bottom:1px solid #9C9C9C;padding:8px 0;display:flex;justify-content:space-between}.fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .other-product-detail[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:20px}.fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]{text-align:end;margin-top:15px}.fullmodal-pos[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .total-amt[_ngcontent-%COMP%]{display:flex;align-items:center}.fullmodal-pos[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .total-amt[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:175px;margin-left:20px}.fullmodal-pos[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .payment-wrapper-p[_ngcontent-%COMP%]{padding:18px 16px 0;background:#EEEEEE}.fullmodal-pos[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .payment-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.fullmodal-pos[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .payment-wrapper[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;padding:4px 10px;border-radius:50%;border-color:red;color:red}.fullmodal-pos[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .payment-wrapper[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;line-height:1.2}.add-more-details-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:black;color:#fff;border-radius:50%;font-size:13px;padding:5px 6px}.posmodal[_ngcontent-%COMP%]   .cal-wrapper[_ngcontent-%COMP%]   .cal-div-wrapper[_ngcontent-%COMP%]{display:flex}.posmodal[_ngcontent-%COMP%]   .cal-wrapper[_ngcontent-%COMP%]   .cal-div-wrapper[_ngcontent-%COMP%]   .cal-div[_ngcontent-%COMP%]{background-color:#fff;padding:10px 15px;border:1px solid black;flex-grow:1;text-align:center;font-family:Roboto;font-style:normal;font-weight:500;font-size:16px}.posmodal[_ngcontent-%COMP%]   .register-left-wrapper[_ngcontent-%COMP%]   .register-left-div[_ngcontent-%COMP%]{display:flex}.posmodal[_ngcontent-%COMP%]   .register-left-wrapper[_ngcontent-%COMP%]   .register-left-div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:16px;padding:10px 16px}.posmodal[_ngcontent-%COMP%]   .register-left-wrapper[_ngcontent-%COMP%]   .register-left-div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:first-child{width:80%;text-align:left;background-color:#ebecf2}.posmodal[_ngcontent-%COMP%]   .register-left-wrapper[_ngcontent-%COMP%]   .register-left-div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:last-child{width:20%;text-align:right;background-color:#f2f4f3}.posmodal[_ngcontent-%COMP%]   .register-left-wrapper[_ngcontent-%COMP%]   .register-left-div[_ngcontent-%COMP%]:nth-child(even)   h4[_ngcontent-%COMP%]:last-child{background-color:#fff}.posmodal[_ngcontent-%COMP%]   .register-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .posmodal[_ngcontent-%COMP%]   .register-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:16px;color:#000}.posmodal[_ngcontent-%COMP%]   .register-table[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin:0}.qty-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0;width:35px}.qty-input[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-radius:0}.full-modal-row[_ngcontent-%COMP%]{height:82vh}.pos-loader[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;top:0;left:0;width:100%;height:100%;background:black;opacity:.7}.pos-loader[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.25em;transform-origin:center;animation:rotate4 2s linear infinite}.pos-loader[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:none;stroke:#3189fc;stroke-width:2;stroke-dasharray:1,200;stroke-dashoffset:0;stroke-linecap:round;animation:dash4 1.5s ease-in-out infinite}@keyframes rotate4{to{transform:rotate(360deg)}}@keyframes dash4{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,200;stroke-dashoffset:-35px}to{stroke-dashoffset:-125px}}.table-pos[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .table-pos[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{padding:.2rem .75rem;line-height:1}.final-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;position:relative}.final-test[_ngcontent-%COMP%]{padding-right:10px;position:absolute;height:100%;flex-direction:column;display:flex;width:99%}.final-test[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex-shrink:0}.final-test[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){height:100%;overflow:auto}.final-test[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{flex-shrink:0}.cart-btn1[_ngcontent-%COMP%]{margin-left:5px}.cart-btn2[_ngcontent-%COMP%]{border:none;background:transparent}.product-title-cart[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:0}.product-notes[_ngcontent-%COMP%]{width:55%}.product-title-div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}select[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}.circle[_ngcontent-%COMP%]{margin-top:10px;display:inline-block;width:18px;height:18px;border-radius:50%;border:1px solid #FF9F43;text-align:center;line-height:16px;color:#ff9f43}#debitNote[_ngcontent-%COMP%]{display:none}#doc-target[_ngcontent-%COMP%]{font-family:sans-serif;-webkit-font-smoothing:antialiased;color:#000;line-height:1.6em;margin:0 auto}#outer[_ngcontent-%COMP%]{padding:72pt;border:1px solid #000;margin:0 auto;width:100%}.pdf-div[_ngcontent-%COMP%]{background:white}.right-top[_ngcontent-%COMP%]{color:#000}.right-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2px;font-size:14px;letter-spacing:1px;font-weight:500;text-transform:uppercase}.right-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-weight:600;margin:0}.right-top[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:12px;font-size:48px;letter-spacing:.8px}.right-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.left-top[_ngcontent-%COMP%]{color:#000;padding:20px 0}.left-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;margin-bottom:2px;font-size:14px;letter-spacing:1px;font-weight:500;text-transform:uppercase}.gst[_ngcontent-%COMP%]{font-weight:600!important;margin:0}.left-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.left-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35%}.top[_ngcontent-%COMP%]{padding-bottom:20px;border-bottom:2px solid #eee}.pdf-payment-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.pdf-pd[_ngcontent-%COMP%]{display:flex}.pdf-pd[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-weight:400;letter-spacing:.1px}.pdf-pd-right[_ngcontent-%COMP%]{margin-left:20px}.pdf-payment[_ngcontent-%COMP%]{padding:20px 0;border-top:2px solid #eee;border-bottom:2px solid #eee}.pdf-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;padding-top:15px;font-size:12px;font-weight:400;letter-spacing:.1px}.pdf-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase}.pdf-table2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .pdf-table2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #000;border-collapse:collapse;font-weight:500;font-size:14px;letter-spacing:.1px;margin:0;padding:0}.pdf-table2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.pdf-table2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px;color:#212b36;background-color:#ff9f43;text-align:center;vertical-align:middle;font-weight:600}.pdf-table2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:5px}.pdf-table2[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #000;font-weight:400;color:#000;font-size:13px}.pdf-table2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:600;letter-spacing:.1px}.pdf-address[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:400;letter-spacing:.1px}.pdf-address[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{color:#ff9f43;font-weight:600;text-transform:uppercase;margin-bottom:5px}.pdf-address[_ngcontent-%COMP%]   .heading2[_ngcontent-%COMP%]{font-size:15px;font-weight:400;letter-spacing:1px;line-height:1.6}.pdf-table1[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#FF9F43;border-bottom:3px solid #FF9F43}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:25px 10px}button[_ngcontent-%COMP%]{margin-right:8px}.heading[_ngcontent-%COMP%]{color:#ff9f43;font-size:16px;font-weight:600;text-align:center}.transaction-date-wrapper[_ngcontent-%COMP%]{width:100%;height:40px;padding:8px;border-radius:5px;outline:0;border:1px solid rgba(145,158,171,.32)}.input-radio-wrapper[_ngcontent-%COMP%]{height:18px;width:18px}.blur-modal[_ngcontent-%COMP%]{filter:blur(3px)}.add-icon-wrapper[_ngcontent-%COMP%]{padding:4px;border:1px solid #000;border-radius:50%}.payment-voucher-wrapper[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .payment-voucher-wrapper[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]}),o})();var L=(()=>{return(o=L||(L={})).F3="F3",o.F4="F4",o.F5="F5",o.F6="F6",o.F7="F7",o.F8="F8",o.F9="F9",o.F10="F10",o.F11="F11",o.F12="F12",o.UP_ARROW="ArrowUp",L;var o})(),yf=A(4159),Cf=A.n(yf);const Af=["invoice"];function bf(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6,"123456"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA()()),2&o){const e=r.$implicit,n=r.index;t.xp6(2),t.Oqu(n),t.xp6(2),t.hij("Item ",n,""),t.xp6(4),t.Oqu(null==e?null:e.qty),t.xp6(2),t.hij("Rs.",null==e?null:e.mrp,""),t.xp6(2),t.hij("Rs.",null==e?null:e.unit_cost,""),t.xp6(2),t.hij("",null==e?null:e.discount,"%"),t.xp6(2),t.AsE("",null==e?null:e.tax_amount,"(",null==e?null:e.tax_percentage,"%)"),t.xp6(2),t.hij("Rs.",null==e?null:e.net_cost,"")}}const xf=[{path:"",children:[{path:"",component:vf},{path:"invoice/:id",component:(()=>{class o{constructor(e,n,i){this.renderer=e,this.route=n,this.api=i,this.loading=!1}ngOnInit(){this.loading=!0,this.route.params.subscribe(e=>{this.api.getPOSOrderDetails(e.id).subscribe({next:i=>{this.order=i},error:i=>{},complete:()=>{this.loading=!1}})})}getSubTotal(e){let n=0;for(let i=0;i<e?.length;i++)n+=e[i]?.unit_cost;return n}getTaxTotal(e){let n=0;for(let i=0;i<e?.length;i++)n+=e[i]?.tax_amount;return n}getTotalQty(e){let n=0;for(let i=0;i<e?.length;i++)n+=e[i]?.qty;return n}getTotalMrp(e){let n=0;for(let i=0;i<e?.length;i++)n+=e[i]?.mrp;return n}getTotalNet(e){let n=0;for(let i=0;i<e?.length;i++)n+=e[i]?.net_cost;return n}getTotal(e){let n=e?.additional_charge,i=this.getSubTotal(e?.cart),a=e?.total_tax;return Number(n+i+a).toFixed(2)}getDateForOrders(e){const n=new Date(e),i=n.getFullYear(),a=n.getMonth()+1,s=n.getDate();return`${i}-${a<10?"0":""}${a}-${s<10?"0":""}${s}`}printInvoice(){const i=this.invoiceElement.nativeElement;Math.ceil(this.invoiceElement.nativeElement.offsetHeight/(1.5*(this.invoiceElement.nativeElement.offsetWidth+30)+30)),Cf()(i).then(f=>{const x=f.toDataURL("image/png");let b=new He.jsPDF("p","mm","a4");var T=b.internal.pageSize.getWidth();b.addImage(x,"PNG",0,0,T,f.height*T/f.width),b.save("invoice_1")})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.Qsj),t.Y36(E.gz),t.Y36(Wt))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-inovoice"]],viewQuery:function(e,n){if(1&e&&t.Gf(Af,5),2&e){let i;t.iGM(i=t.CRH())&&(n.invoiceElement=i.first)}},decls:207,vars:15,consts:[[1,"container","py-10",2,"margin-top","30px"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary",3,"click"],[1,"pad-10"],["invoice",""],[1,"container-fluid","sts","pt-5","first-part"],[1,"row"],[1,"col-md-7"],[1,"col-md-5"],["src","../../../../assets/logo/favicon_icon.png",1,"logo"],[2,"text-align","center"],[2,"color","#ff6600","font-weight","700"],[1,"container-fluid","hps"],[1,"col-md-8"],[1,"col-md-4"],["id","first-table",2,"margin-top","30px"],[1,"todo"],[4,"ngFor","ngForOf"],[1,"container-fluid","just"],[1,"col-md-6"],["id","second-table"],[2,"background-color","#ff6600"],[2,"color","white","font-weight","700"],[2,"color","white"],[2,"font-weight","700"],[1,"container-fluid",2,"margin-top","20px","margin-bottom","30px"],["id","last-table",1,"og"],[1,"cess-column"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"Invoice"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return n.printInvoice()}),t._uU(5,"Download Invoice"),t.qZA()()(),t.TgZ(6,"div")(7,"div",3,4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h4"),t._uU(13,"VasyERP"),t.qZA(),t.TgZ(14,"p"),t._uU(15,"Synthesis The First, Corporate House, THE FIRST, AS, Nyay Marg near ITC Narmada."),t.qZA(),t.TgZ(16,"p"),t._uU(17,"IIM, Vastrapur"),t.qZA(),t.TgZ(18,"p"),t._uU(19,"Ahmedabad - 380054"),t.qZA(),t.TgZ(20,"p"),t._uU(21,"Phone number: 1234567899"),t.qZA(),t.TgZ(22,"p"),t._uU(23,"Email: email.vasyerp@gmail.com"),t.qZA(),t.TgZ(24,"p"),t._uU(25,"State: 24-Gujarat"),t.qZA(),t.TgZ(26,"p"),t._uU(27,"GSTIN No: 071AAGFF2194N1Z1"),t.qZA(),t.TgZ(28,"p"),t._uU(29,"FSSAI No: 12345678901234"),t.qZA(),t.TgZ(30,"p"),t._uU(31,"Website: www.vasyerp.com"),t.qZA()(),t.TgZ(32,"div",8),t._UZ(33,"img",9),t.qZA()()(),t.TgZ(34,"div",10)(35,"h2",11),t._uU(36,"Tax Invoice"),t.qZA()(),t._UZ(37,"br"),t.TgZ(38,"div",12)(39,"div",6)(40,"div",13)(41,"h5"),t._uU(42,"Bill To:"),t.qZA(),t.TgZ(43,"h5"),t._uU(44,"c_first name c_last name"),t.qZA(),t.TgZ(45,"p"),t._uU(46,"Address Other - 123456 Other India"),t.qZA(),t.TgZ(47,"p"),t._uU(48),t.qZA(),t.TgZ(49,"p"),t._uU(50,"State: 37-Other"),t.qZA()(),t.TgZ(51,"div",14)(52,"p"),t._uU(53),t.qZA(),t.TgZ(54,"h5"),t._uU(55,"Invoice No: POS3644"),t.qZA(),t.TgZ(56,"h5"),t._uU(57),t.qZA()()()(),t.TgZ(58,"table",15)(59,"tr",16)(60,"th"),t._uU(61,"#"),t.qZA(),t.TgZ(62,"th"),t._uU(63,"Item Name"),t.qZA(),t.TgZ(64,"th"),t._uU(65,"HSN/SAC"),t.qZA(),t.TgZ(66,"th"),t._uU(67,"Quantity"),t.qZA(),t.TgZ(68,"th"),t._uU(69,"MRP"),t.qZA(),t.TgZ(70,"th"),t._uU(71,"Price/Unit"),t.qZA(),t.TgZ(72,"th"),t._uU(73,"Discount %"),t.qZA(),t.TgZ(74,"th"),t._uU(75,"Tax Amount"),t.qZA(),t.TgZ(76,"th"),t._uU(77,"Net Cost"),t.qZA()(),t.YNc(78,bf,19,9,"tr",17),t.TgZ(79,"tr")(80,"td"),t._uU(81,"\xa0"),t.qZA(),t.TgZ(82,"td"),t._uU(83,"Total"),t.qZA(),t._UZ(84,"td"),t.TgZ(85,"td"),t._uU(86),t.qZA(),t.TgZ(87,"td"),t._uU(88),t.qZA(),t.TgZ(89,"td"),t._uU(90),t.qZA(),t.TgZ(91,"td"),t._uU(92,"0%"),t.qZA(),t.TgZ(93,"td"),t._uU(94),t.qZA(),t.TgZ(95,"td"),t._uU(96),t.qZA()()(),t._UZ(97,"br"),t.TgZ(98,"div",18)(99,"div",6)(100,"div",19)(101,"h5"),t._uU(102,"INVOICE AMOUNT IN WORDS"),t.qZA(),t.TgZ(103,"p"),t._uU(104,"Ruppes Three Hundred and Eighty Five Only"),t.qZA(),t.TgZ(105,"h5"),t._uU(106,"TERMS AND CONDITIONS"),t.qZA(),t.TgZ(107,"p"),t._uU(108,"NO RETURN / NO EXCHANGE"),t.qZA(),t.TgZ(109,"p"),t._uU(110,"Please Check items before leave store"),t.qZA(),t.TgZ(111,"p"),t._uU(112,"dasdasdasd"),t.qZA(),t.TgZ(113,"p"),t._uU(114,"12345678"),t.qZA(),t.TgZ(115,"P"),t._uU(116,"T&C5"),t.qZA(),t.TgZ(117,"p"),t._uU(118,"wertyuiop"),t.qZA(),t.TgZ(119,"p"),t._uU(120,"zcxvbnm"),t.qZA()(),t.TgZ(121,"div",19)(122,"table",20)(123,"tr")(124,"td"),t._uU(125,"Sub Total"),t.qZA(),t.TgZ(126,"td"),t._uU(127),t.qZA()(),t.TgZ(128,"tr")(129,"td"),t._uU(130,"Additional Charge"),t.qZA(),t.TgZ(131,"td"),t._uU(132),t.qZA()(),t.TgZ(133,"tr")(134,"td"),t._uU(135,"Tax"),t.qZA(),t.TgZ(136,"td"),t._uU(137),t.qZA()(),t.TgZ(138,"tr",21)(139,"td",22),t._uU(140,"Total"),t.qZA(),t.TgZ(141,"td",23),t._uU(142),t.qZA()(),t.TgZ(143,"tr")(144,"td"),t._uU(145,"Received"),t.qZA(),t.TgZ(146,"td"),t._uU(147,"385.00"),t.qZA()(),t.TgZ(148,"tr")(149,"td"),t._uU(150,"Balance"),t.qZA(),t.TgZ(151,"td"),t._uU(152,"0.00"),t.qZA()(),t.TgZ(153,"tr")(154,"td"),t._uU(155,"Payment Mode"),t.qZA(),t.TgZ(156,"td"),t._uU(157),t.qZA()(),t.TgZ(158,"tr")(159,"td"),t._uU(160,"Previous Balance"),t.qZA(),t.TgZ(161,"td"),t._uU(162,"0.00"),t.qZA()()()()()(),t.TgZ(163,"div",10)(164,"h5",24),t._uU(165,"Tax Summary"),t.qZA()(),t.TgZ(166,"div",25)(167,"table",26)(168,"tr")(169,"th"),t._uU(170,"Tax rate"),t.qZA(),t.TgZ(171,"th"),t._uU(172,"Taxable Amount"),t.qZA(),t.TgZ(173,"th"),t._uU(174,"CGST"),t.qZA(),t.TgZ(175,"th"),t._uU(176,"SGST"),t.qZA(),t.TgZ(177,"th"),t._uU(178,"IGST"),t.qZA(),t.TgZ(179,"th",27),t._uU(180,"CESS"),t.qZA()(),t.TgZ(181,"tr")(182,"td"),t._uU(183,"0%"),t.qZA(),t.TgZ(184,"td"),t._uU(185,"100.00"),t.qZA(),t.TgZ(186,"td"),t._uU(187,"0.00"),t.qZA(),t.TgZ(188,"td"),t._uU(189,"0.00"),t.qZA(),t.TgZ(190,"td"),t._uU(191,"0.00"),t.qZA(),t.TgZ(192,"td",27),t._uU(193,"0.00"),t.qZA()(),t.TgZ(194,"tr")(195,"td"),t._uU(196,"18%"),t.qZA(),t.TgZ(197,"td"),t._uU(198,"241.94"),t.qZA(),t.TgZ(199,"td"),t._uU(200,"0.00"),t.qZA(),t.TgZ(201,"td"),t._uU(202,"0.00"),t.qZA(),t.TgZ(203,"td"),t._uU(204,"41.37"),t.qZA(),t.TgZ(205,"td",27),t._uU(206,"13.79"),t.qZA()()()()()()),2&e&&(t.xp6(48),t.hij("Contact no: ",null==n.order||null==n.order.customer?null:n.order.customer.mobile_no,""),t.xp6(5),t.AsE("Place of supply : ",null==n.order?null:n.order.place_of_supply_gst_code,"-",null==n.order?null:n.order.place_of_supply_state,""),t.xp6(4),t.hij("Date: ",n.getDateForOrders(null==n.order?null:n.order.date),""),t.xp6(21),t.Q6J("ngForOf",null==n.order?null:n.order.cart),t.xp6(8),t.Oqu(n.getTotalQty(null==n.order?null:n.order.cart)),t.xp6(2),t.hij("Rs.",n.getTotalMrp(null==n.order?null:n.order.cart),""),t.xp6(2),t.hij("Rs.",n.getSubTotal(null==n.order?null:n.order.cart),""),t.xp6(4),t.hij("Rs.",null==n.order?null:n.order.total_tax,""),t.xp6(2),t.hij("Rs.",n.getTotalNet(null==n.order?null:n.order.cart),""),t.xp6(31),t.Oqu(n.getSubTotal(null==n.order?null:n.order.cart)),t.xp6(5),t.Oqu(null==n.order?null:n.order.additional_charge),t.xp6(5),t.Oqu(null==n.order?null:n.order.total_tax),t.xp6(5),t.Oqu(null==n.order?null:n.order.total_amount),t.xp6(15),t.Oqu(null==n.order?null:n.order.payment_mode))},dependencies:[P.sg],styles:[".one[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.one[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:20px}.sts[_ngcontent-%COMP%]   .col-md-7[_ngcontent-%COMP%]{flex:7}.sts[_ngcontent-%COMP%]   .col-md-5[_ngcontent-%COMP%]{flex:5}.sts[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.one[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:20px;margin-left:75px}#first-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}#first-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #first-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:left}#first-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, #first-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none}#first-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, #first-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}#first-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f60;color:#fff}#first-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-left:none;border-right:none}#second-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;border:none}#second-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #second-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:left}#last-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}#last-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #last-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid black;padding:8px;text-align:right}#last-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.todo[_ngcontent-%COMP%]{background-color:#f60}.first-part[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.first-part[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:800}.logo[_ngcontent-%COMP%]{height:100px;object-fit:contain;width:auto}.first-part[_ngcontent-%COMP%]   .col-md-5[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end}.hps[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.hps[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:end}.todo[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:20%}#first-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700}#first-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-top:2px solid #000;border-bottom:2px solid #000}.pad-10[_ngcontent-%COMP%]{padding:0 100px}"]}),o})()}]}];let Zf=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[E.Bz.forChild(xf),E.Bz]}),o})();var Tf=A(8468),Pf=A(95113);let qf=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[P.ez,Zf,l.u5,l.UX,nt.Bb,Ce.lN,Ae.c,Ui.JX,Tf.I,Pf.LD]}),o})()}}]);