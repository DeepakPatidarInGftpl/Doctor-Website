"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[14313],{25062:(D,T,h)=>{h.d(T,{y:()=>x});var _=h(92340),f=h(94650),y=h(80529);let x=(()=>{class m{constructor(r){this.http=r,this.apiUrl=`${_.N.api}`}UpdateDefaultAddress(r){return this.http.post(this.apiUrl+"/pv-api/make_default_address/",r)}GetUsedPoints(r){return this.http.get(`${this.apiUrl+"/pv-api/total_use_point/?user_id="}${r}`)}getSupplier(){return this.http.get(this.apiUrl+"/pv-api/supplier/")}getSupplierById(r){return this.http.get(`${this.apiUrl+"/pv-api/supplier/?id="}${r}`)}SupplierIsActive(r,i){return this.http.patch(`${this.apiUrl+"/pv-api/supplier/?id="}${r}`,i)}addSupplier(r){return this.http.post(this.apiUrl+"/pv-api/supplier/",r)}updateSupplier(r,i){return this.http.put(`${this.apiUrl+"/pv-api/supplier/?id="}${i}`,r)}deleteSupplier(r){return this.http.delete(`${this.apiUrl+"/pv-api/supplier/?id="}${r}`)}getVendor(){return this.http.get(this.apiUrl+"/pv-api/vendor/")}getVendorById(r){return this.http.get(`${this.apiUrl+"/pv-api/vendor/?id="}${r}`)}VendorIsActive(r,i){return this.http.patch(`${this.apiUrl+"/pv-api/vendor/?id="}${r}`,i)}addVendor(r){return this.http.post(this.apiUrl+"/pv-api/vendor/",r)}updateVendor(r,i){return this.http.put(`${this.apiUrl+"/pv-api/vendor/?id="}${i}`,r)}deleteVendor(r){return this.http.delete(`${this.apiUrl+"/pv-api/vendor/?id="}${r}`)}getPaymentTerms(){return this.http.get(this.apiUrl+"/pv-api/payment_terms/")}getPaymentTermsById(r){return this.http.get(`${this.apiUrl+"/pv-api/payment_terms/?id="}${r}`)}PaymentTermsIsActive(r,i){return this.http.patch(`${this.apiUrl+"/pv-api/payment_terms/?id="}${r}`,i)}addPaymentTerms(r){return this.http.post(this.apiUrl+"/pv-api/payment_terms/",r)}updatePaymentTerms(r,i){return this.http.put(`${this.apiUrl+"/pv-api/payment_terms/?id="}${i}`,r)}deletePaymentTerms(r){return this.http.delete(`${this.apiUrl+"/pv-api/payment_terms/?id="}${r}`)}getTypeOfGst(){return this.http.get(this.apiUrl+"/pv-api/types_of_gst/")}getTransport(){return this.http.get(this.apiUrl+"/pv-api/transport/")}getTransportById(r){return this.http.get(`${this.apiUrl+"/pv-api/transport/?id="}${r}`)}TransportIsActive(r,i){return this.http.patch(`${this.apiUrl+"/pv-api/transport/?id="}${r}`,i)}addTransport(r){return this.http.post(this.apiUrl+"/pv-api/transport/",r)}updateTransport(r,i){return this.http.put(`${this.apiUrl+"/pv-api/transport/?id="}${i}`,r)}deleteTransport(r){return this.http.delete(`${this.apiUrl+"/pv-api/transport/?id="}${r}`)}getEmployee(){return this.http.get(this.apiUrl+"/pv-api/employee/")}getEmployeeById(r){return this.http.get(`${this.apiUrl+"/pv-api/employee/?id="}${r}`)}EmployeeIsActive(r,i){return this.http.patch(`${this.apiUrl+"/pv-api/employee/?id="}${r}`,i)}addEmployee(r){return this.http.post(this.apiUrl+"/pv-api/employee/",r)}updateEmployee(r,i){return this.http.put(`${this.apiUrl+"/pv-api/employee/?id="}${i}`,r)}deleteEmployee(r){return this.http.delete(`${this.apiUrl+"/pv-api/employee/?id="}${r}`)}getPermission(){return this.http.get(this.apiUrl+"/pv-api/permissions/")}getCustomer(){return this.http.get(this.apiUrl+"/pv-api/customer/")}getCustomerById(r){return this.http.get(`${this.apiUrl+"/pv-api/customer/?id="}${r}`)}CustomerIsActive(r,i){return this.http.patch(`${this.apiUrl+"/pv-api/customer/?id="}${r}`,i)}addCustomer(r){return this.http.post(this.apiUrl+"/pv-api/customer/",r)}updateCustomer(r,i){return this.http.put(`${this.apiUrl+"/pv-api/customer/?id="}${i}`,r)}deleteCustomer(r){return this.http.delete(`${this.apiUrl+"/pv-api/customer/?id="}${r}`)}getUser(){return this.http.get(this.apiUrl+"/pv-api/user/")}getUserById(r){return this.http.get(`${this.apiUrl+"/pv-api/user/?id="}${r}`)}UserIsActive(r,i){return this.http.patch(`${this.apiUrl+"/pv-api/user/?id="}${r}`,i)}addUser(r){return this.http.post(this.apiUrl+"/pv-api/user/",r)}updateUser(r,i){return this.http.put(`${this.apiUrl+"/pv-api/user/?id="}${i}`,r)}deleteUser(r){return this.http.delete(`${this.apiUrl+"/pv-api/user/?id="}${r}`)}getPermissionGroup(){return this.http.get(this.apiUrl+"/pv-api/group/")}getPermissionGroupById(r){return this.http.get(`${this.apiUrl+"/pv-api/group/?id="}${r}`)}addPermissionGroup(r){return this.http.post(this.apiUrl+"/pv-api/group/",r)}updatePermissionGroup(r,i){return this.http.put(`${this.apiUrl+"/pv-api/group/?group_id="}${i}`,r)}deletePermissionGroup(r){return this.http.delete(`${this.apiUrl+"/pv-api/group/?group_id="}${r}`)}getDealer(){return this.http.get(this.apiUrl+"/pv-api/dealer/")}getDealerById(r){return this.http.get(`${this.apiUrl+"/pv-api/dealer/?id="}${r}`)}DealerIsActive(r,i){return this.http.patch(`${this.apiUrl+"/pv-api/dealer/?id="}${r}`,i)}addDealer(r){return this.http.post(this.apiUrl+"/pv-api/dealer/",r)}updateDealer(r,i){return this.http.put(`${this.apiUrl+"/pv-api/dealer/?id="}${i}`,r)}deleteDealer(r){return this.http.delete(`${this.apiUrl+"/pv-api/dealer/?id="}${r}`)}getBranch(){return this.http.get(this.apiUrl+"/pv-api/branch/")}productVariant(){return this.http.get(this.apiUrl+"/pv-api/product_variant/")}searchProduct(r){return this.http.get(this.apiUrl+"/pv-api/variant-search/?search="+r)}getTerms(){return this.http.get(this.apiUrl+"/pv-api/terms/")}getTermsById(r){return this.http.get(`${this.apiUrl+"/pv-api/terms/?id="}${r}`)}TermsIsActive(r,i){return this.http.patch(`${this.apiUrl+"/pv-api/terms/?id="}${r}`,i)}addTerms(r){return this.http.post(this.apiUrl+"/pv-api/terms/",r)}updateTerms(r,i){return this.http.put(`${this.apiUrl+"/pv-api/terms/?id="}${i}`,r)}deleteTerms(r){return this.http.delete(`${this.apiUrl+"/pv-api/terms/?id="}${r}`)}getVoucherType(){return this.http.get(this.apiUrl+"/pv-api/voucher-type/")}getDepartment(){return this.http.get(this.apiUrl+"/pv-api/department/")}getDepartmentById(r){return this.http.get(`${this.apiUrl+"/pv-api/department/?id="}${r}`)}DepartmentIsActive(r,i){return this.http.patch(`${this.apiUrl+"/pv-api/department/?id="}${r}`,i)}addDepartment(r){return this.http.post(this.apiUrl+"/pv-api/department/",r)}updateDepartment(r,i){return this.http.put(`${this.apiUrl+"/pv-api/department/?id="}${i}`,r)}deleteDepartment(r){return this.http.delete(`${this.apiUrl+"/pv-api/department/?id="}${r}`)}getCreditLimitByUserId(r){return this.http.get(`${this.apiUrl+"/pv-api/get_credit_limit/?user_by_credit_id="}${r}`)}}return m.\u0275fac=function(r){return new(r||m)(f.LFG(y.eN))},m.\u0275prov=f.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},14313:(D,T,h)=>{h.r(T),h.d(T,{TargetGraphModule:()=>dt});var _=h(36895),f=h(4392),y=h(96166),x=h(12983),m=h.n(x),v=h(80574),r=h(94327),i=h(68675),s=h(54004),u=h(24006),t=h(94650),w=h(72266),q=h(25062),M=h(73162),Z=h(54333),U=h(6205),O=h(54040);const P=["chart"];function E(o,c){1&o&&(t.TgZ(0,"span",24),t._uU(1,"Select From Date"),t.qZA())}function S(o,c){1&o&&(t.TgZ(0,"span",24),t._uU(1,"Select To Date"),t.qZA())}function N(o,c){if(1&o&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&o){const e=c.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.name,"")}}function F(o,c){1&o&&(t.TgZ(0,"span",24),t._uU(1,"Select Employee "),t.qZA())}function I(o,c){if(1&o&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&o){const e=c.$implicit;t.Q6J("value",null==e?null:e.title),t.xp6(1),t.hij(" ",null==e?null:e.title,"")}}function J(o,c){1&o&&(t.TgZ(0,"span",24),t._uU(1,"Select Department "),t.qZA())}function k(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",42)(4,"a",43),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA()()),2&o){const e=c.$implicit,a=c.index;t.xp6(2),t.Oqu(a+1),t.xp6(3),t.Oqu(null==e?null:e.employee_name),t.xp6(2),t.Oqu(null==e?null:e.department),t.xp6(2),t.Oqu(null==e?null:e.assigned_target),t.xp6(2),t.Oqu(null==e?null:e.achieved_target),t.xp6(2),t.Oqu(null==e?null:e["%_achieved"])}}const C=function(o,c){return{itemsPerPage:o,currentPage:c}};function B(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.ynx(1),t.YNc(2,k,14,6,"tr",41),t.ALo(3,"paginate"),t.ALo(4,"orderBy"),t.BQk(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",t.xi3(3,1,t.Dn7(4,4,e.graphList,e.key,e.reverse),t.WLB(8,C,e.itemsPerPage,e.p)))}}function Y(o,c){1&o&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",44)(3,"p",45),t._uU(4,"Data not available"),t.qZA()()()())}function H(o,c){1&o&&t._UZ(0,"mat-progress-bar",46)}function Q(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",47)(2,"div",48),t._uU(3," Show per page "),t.TgZ(4,"select",49,50),t.NdJ("ngModelChange",function(n){t.CHM(e);const p=t.oxw(2);return t.KtG(p.itemsPerPage=n)})("change",function(){t.CHM(e);const n=t.MAs(5),p=t.oxw(2);return t.KtG(p.changePg(n.value))}),t.TgZ(6,"option",51),t._uU(7,"10"),t.qZA(),t.TgZ(8,"option",52),t._uU(9,"20"),t.qZA(),t.TgZ(10,"option",53),t._uU(11,"30"),t.qZA(),t.TgZ(12,"option",54),t._uU(13,"50"),t.qZA(),t.TgZ(14,"option",55),t._uU(15,"100"),t.qZA(),t.TgZ(16,"option",56),t._uU(17,"All"),t.qZA()()()(),t.TgZ(18,"div",57)(19,"div",58)(20,"pagination-controls",59),t.NdJ("pageChange",function(n){t.CHM(e);const p=t.oxw(2);return t.KtG(p.p=n)}),t.qZA(),t.TgZ(21,"div",60),t._uU(22),t.qZA()()()()}if(2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("ngModel",e.itemsPerPage),t.xp6(18),t.lnq("Showing ",e.itemsPerPage," to ",null==e.graphList?null:e.graphList.length," of ",e.p," entries")}}function K(o,c){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",26)(2,"div",27)(3,"ul")(4,"li")(5,"a",28),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.generatePDFAgain())}),t._UZ(6,"img",29),t.qZA()(),t.TgZ(7,"li")(8,"a",30),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.exportToExcel())}),t._UZ(9,"img",31),t.qZA()(),t.TgZ(10,"li")(11,"a",32),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.printTable())}),t._UZ(12,"img",33),t.qZA()()()()(),t.TgZ(13,"div",34)(14,"table",35)(15,"thead")(16,"tr")(17,"th",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.sort("id"))}),t._uU(18,"Sr.No."),t._UZ(19,"i",37),t.qZA(),t.TgZ(20,"th",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.sort("id"))}),t._uU(21,"Employee Name"),t._UZ(22,"i",37),t.qZA(),t.TgZ(23,"th",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.sort("id"))}),t._uU(24,"Department"),t._UZ(25,"i",37),t.qZA(),t.TgZ(26,"th",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.sort("id"))}),t._uU(27,"Assigned Target"),t._UZ(28,"i",37),t.qZA(),t.TgZ(29,"th",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.sort("id"))}),t._uU(30,"Achieved Target"),t._UZ(31,"i",37),t.qZA(),t.TgZ(32,"th",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.sort("id"))}),t._uU(33,"Achieved (%)"),t._UZ(34,"i",37),t.qZA()()(),t.YNc(35,B,5,11,"tbody",23),t.YNc(36,Y,5,0,"tbody",23),t.qZA(),t.TgZ(37,"div",38),t.YNc(38,H,1,0,"mat-progress-bar",39),t.qZA(),t.YNc(39,Q,23,4,"div",40),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(35),t.Q6J("ngIf",(null==e.graphList?null:e.graphList.length)>=0),t.xp6(1),t.Q6J("ngIf",0===(null==e.graphList?null:e.graphList.length)&&!e.loader),t.xp6(2),t.Q6J("ngIf",e.loader),t.xp6(1),t.Q6J("ngIf",!e.loader)}}function z(o,c){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",42)(4,"a",43),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA()()),2&o){const e=c.$implicit,a=c.index;t.xp6(2),t.Oqu(a+1),t.xp6(3),t.Oqu(null==e?null:e.employee_name),t.xp6(2),t.Oqu(null==e?null:e.department),t.xp6(2),t.Oqu(null==e?null:e.assigned_target),t.xp6(2),t.Oqu(null==e?null:e.achieved_target),t.xp6(2),t.Oqu(null==e?null:e["%_achieved"])}}function V(o,c){if(1&o&&(t.TgZ(0,"tbody"),t.ynx(1),t.YNc(2,z,14,6,"tr",41),t.ALo(3,"paginate"),t.ALo(4,"orderBy"),t.BQk(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",t.xi3(3,1,t.Dn7(4,4,e.targetGraphList,e.key,e.reverse),t.WLB(8,C,e.itemsPerPage,e.p)))}}function R(o,c){1&o&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",44)(3,"p",45),t._uU(4,"Data not available"),t.qZA()()()())}function j(o,c){1&o&&t._UZ(0,"mat-progress-bar",46)}function W(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",47)(2,"div",48),t._uU(3," Show per page "),t.TgZ(4,"select",61),t.NdJ("ngModelChange",function(n){t.CHM(e);const p=t.oxw(2);return t.KtG(p.itemsPerPage=n)}),t.TgZ(5,"option",51),t._uU(6,"10"),t.qZA(),t.TgZ(7,"option",52),t._uU(8,"20"),t.qZA(),t.TgZ(9,"option",53),t._uU(10,"30"),t.qZA(),t.TgZ(11,"option",54),t._uU(12,"50"),t.qZA(),t.TgZ(13,"option",55),t._uU(14,"100"),t.qZA(),t.TgZ(15,"option",56),t._uU(16,"All"),t.qZA()()()(),t.TgZ(17,"div",57)(18,"div",58)(19,"pagination-controls",59),t.NdJ("pageChange",function(n){t.CHM(e);const p=t.oxw(2);return t.KtG(p.p=n)}),t.qZA(),t.TgZ(20,"div",60),t._uU(21),t.qZA()()()()}if(2&o){const e=t.oxw(2);t.xp6(4),t.Q6J("ngModel",e.itemsPerPage),t.xp6(17),t.lnq("Showing ",e.itemsPerPage," to ",e.itemsPerPage," of ",e.itemsPerPage," entries")}}function X(o,c){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",26)(2,"div",27)(3,"ul")(4,"li")(5,"a",28),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.generatePDFAgain())}),t._UZ(6,"img",29),t.qZA()(),t.TgZ(7,"li")(8,"a",30),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.exportToExcel())}),t._UZ(9,"img",31),t.qZA()(),t.TgZ(10,"li")(11,"a",32),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.printTable())}),t._UZ(12,"img",33),t.qZA()()()()(),t.TgZ(13,"div",34)(14,"table",35)(15,"thead")(16,"tr")(17,"th",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.sort("id"))}),t._uU(18,"Sr.No."),t._UZ(19,"i",37),t.qZA(),t.TgZ(20,"th",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.sort("id"))}),t._uU(21,"Employee Name"),t._UZ(22,"i",37),t.qZA(),t.TgZ(23,"th",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.sort("id"))}),t._uU(24,"Department"),t._UZ(25,"i",37),t.qZA(),t.TgZ(26,"th",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.sort("id"))}),t._uU(27,"Assigned Target"),t._UZ(28,"i",37),t.qZA(),t.TgZ(29,"th",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.sort("id"))}),t._uU(30,"Achieved Target"),t._UZ(31,"i",37),t.qZA(),t.TgZ(32,"th",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.sort("id"))}),t._uU(33,"Achieved (%)"),t._UZ(34,"i",37),t.qZA()()(),t.YNc(35,V,5,11,"tbody",23),t.YNc(36,R,5,0,"tbody",23),t.qZA(),t.TgZ(37,"div",38),t.YNc(38,j,1,0,"mat-progress-bar",39),t.qZA(),t.YNc(39,W,22,4,"div",40),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(35),t.Q6J("ngIf",(null==e.targetGraphList?null:e.targetGraphList.length)>=0),t.xp6(1),t.Q6J("ngIf",0===(null==e.targetGraphList?null:e.targetGraphList.length)&&!e.loader),t.xp6(2),t.Q6J("ngIf",e.loader),t.xp6(1),t.Q6J("ngIf",!e.loader)}}const b=function(o){return{"is-invalid":o}},tt=[{path:"",component:(()=>{class o{constructor(e,a,n,p){this.router=e,this.hrmService=a,this.fb=n,this.contactService=p,this.chartSeries=[40,32,20,55,10,40,5],this.chartDetails={type:"pie",toolbar:{show:!0}},this.chartLabels=["apple","hp","dell","MI","Redmi","Microsoft","window"],this.chartTitle={text:"Loading Companies",align:"center"},this.chartDataLabel={enabled:!1},this.barChartOptions={scales:{xAxes:[{type:"category",labels:[]}],yAxes:[{ticks:{max:100,beginAtZero:!0,callback:function(d,l,g){return d.toLocaleString()}}}]},responsive:!0,maintainAspectRatio:!1,barThickness:20},this.dtOptions={},this.initChecked=!1,this.p=1,this.pageSize=10,this.itemsPerPage=10,this.row=!1,this.employeeControl=new u.NI,this.departmentControl=new u.NI,this.loader=!0,this.barChartLabels=[],this.barChartType="bar",this.barChartLegend=!0,this.barChartData=[],this.targetGraphList=[],this.graphList=[],this.employeeList=[],this.departmentList=[],this.isFilterData=!1,this.isEmployeeAvailable=!1,this.isDepartmentAvailable=!1,this.allSelected=!1,this.key="id",this.reverse=!1}get f(){return this.filterForm.controls}ngOnInit(){const e=new Date,a=e.getFullYear(),n=e.getMonth(),p=new Date(a,n,1),d=new Date(a,n+1,0);this.filterForm=this.fb.group({from_date:new u.NI(this.formatDate(p),[u.kI.required]),to_date:new u.NI(this.formatDate(d),[u.kI.required]),employee_id:new u.NI(""),department_id:new u.NI("")}),this.submit(),this.filteredemployee=this.employeeControl.valueChanges.pipe((0,i.O)(""),(0,s.U)(l=>this._filter(l,!0))),this.filtereddepartment=this.departmentControl.valueChanges.pipe((0,i.O)(""),(0,s.U)(l=>this._filter2(l,!0))),this.getEmployee(),this.getDepartment()}formatDate(e){return`${e.getFullYear()}-${("0"+(e.getMonth()+1)).slice(-2)}-${("0"+e.getDate()).slice(-2)}`}_filter(e,a){const n="string"==typeof e?e.toLowerCase():e.toString().toLowerCase(),p=this.employeeList.filter(a?d=>d.name.toLowerCase().includes(n):d=>!d.name.toLowerCase().includes(n));return!a&&0===p.length&&p.push({name:"No data found"}),p}_filter2(e,a){const n="string"==typeof e?e.toLowerCase():e.toString().toLowerCase(),p=this.departmentList.filter(a?d=>d.title.toLowerCase().includes(n):d=>!d.title.toLowerCase().includes(n));return!a&&0===p.length&&p.push({title:"No data found"}),p}getTargetGraph(e,a,n,p){this.isEmployeeAvailable?this.hrmService.getTargetGraph(e,a,n,p).subscribe(d=>{this.targetGraphList=d,console.warn(this.targetGraphList),this.loader=!1,this.chartOptions={series:[{name:"",data:this.targetGraphList.map(l=>l["%_achieved"])}],chart:{height:350,type:"bar"},plotOptions:{bar:{dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(l){return l+"%"},offsetY:-20,style:{fontSize:"12px",colors:["#304758"]}},xaxis:{categories:this.targetGraphList.map(l=>l.employee_name),crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}}},tooltip:{enabled:!0,offsetY:-35}},fill:{type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[50,0,100,100]}},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1,formatter:function(l){return l+"%"}}}}}):this.isDepartmentAvailable?this.hrmService.getTargetGraph(e,a,n,p).subscribe(d=>{this.targetGraphList=d?.employees,console.warn(this.targetGraphList),this.graphList=this.targetGraphList,this.loader=!1,this.chartOptions={series:[{name:"",data:this.targetGraphList.map(l=>l["%_achieved"])}],chart:{height:350,type:"bar"},plotOptions:{bar:{dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(l){return l+"%"},offsetY:-20,style:{fontSize:"12px",colors:["#304758"]}},xaxis:{categories:this.targetGraphList.map(l=>l.employee_name),crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}}},tooltip:{enabled:!0,offsetY:-35}},fill:{type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[50,0,100,100]}},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1,formatter:function(l){return l+"%"}}}}}):this.isEmployeeAvailable&&this.isDepartmentAvailable?this.hrmService.getTargetGraph(e,a,n,p).subscribe(d=>{this.targetGraphList=d,console.warn(this.targetGraphList),this.loader=!1,this.chartOptions={series:[{name:"",data:this.targetGraphList.map(l=>l["%_achieved"])}],chart:{height:350,type:"bar"},plotOptions:{bar:{dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(l){return l+"%"},offsetY:-20,style:{fontSize:"12px",colors:["#304758"]}},xaxis:{categories:this.targetGraphList.map(l=>l.employee_name),crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}}},tooltip:{enabled:!0,offsetY:-35}},fill:{type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[50,0,100,100]}},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1,formatter:function(l){return l+"%"}}}}}):this.hrmService.getTargetGraph(e,a,n,p).subscribe(d=>{this.targetGraphList=d?.all_departments_data,console.warn(this.targetGraphList),this.graphList=[],this.targetGraphList.forEach(l=>{this.graphList=this.graphList.concat(l?.employees_data),this.loader=!1}),this.chartOptions={series:[{name:"",data:this.graphList.map(l=>l["%_achieved"])}],chart:{height:350,type:"bar"},plotOptions:{bar:{dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(l){return l+"%"},offsetY:-20,style:{fontSize:"12px",colors:["#304758"]}},xaxis:{categories:this.graphList.map(l=>l.employee_name),crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}}},tooltip:{enabled:!0,offsetY:-35}},fill:{type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[50,0,100,100]}},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1,formatter:function(l){return l+"%"}}}}})}getEmployee(){this.contactService.getEmployee().subscribe(e=>{this.employeeList=e})}getDepartment(){this.contactService.getDepartment().subscribe(e=>{this.departmentList=e})}onCheck(e){console.log(e,"employeeId"),this.filterForm.get("employee_id").patchValue(e)}onCheck2(e){console.log(e,"departmentId"),this.filterForm.get("department_id").patchValue(e)}submit(){if(console.log(this.filterForm.value),this.filterForm.valid){let e=this.filterForm.value,a=e?.employee_id,n=e?.department_id,p=e?.to_date,d=e?.from_date;this.isFilterData=!0,a&&n?(this.isEmployee=a,this.isDepartment=n,this.isEmployeeAvailable=!0,this.isDepartmentAvailable=!0):n?(this.isDepartment=n,this.isDepartmentAvailable=!0):a&&(this.isEmployee=a,this.isEmployeeAvailable=!0),this.getTargetGraph(a,n,d,p)}else this.filterForm.markAllAsTouched()}selectAlll(){this.selectedRows.fill(this.allSelected)}selectAll(e){this.tableData.forEach(e?a=>{a.isSelected=!1}:a=>{a.isSelected=!0})}search(){if(""==this.titlee)this.ngOnInit();else{const e=this.titlee.toLocaleLowerCase();this.graphList=this.graphList.filter(a=>{const n=a?.employee_name.toLocaleLowerCase(),p=a?.department.toLocaleLowerCase();return!!n.match(e)||!!p.match(e)})}}sort(e){this.key=e,this.reverse=!this.reverse}generatePDF(){const e=new y.default;e.setFontSize(15),e.setTextColor(33,43,54),e.text("Tax Slab List",10,10),m()(e,{html:"#mytable",theme:"grid",headStyles:{fillColor:[255,159,67]},columns:[{header:"Sr No."},{header:"Department"},{header:"Start Date"},{header:"End Date"},{header:"Target Value"},{header:"Is Active"}]}),e.save("target.pdf")}generatePDFAgain(){const e=new y.default;e.setFontSize(12),e.setTextColor(33,43,54),e.text("Target Graph List ",82,10),e.text("",10,15),m()(e,{head:[["#","Employee Name"," Departmentt ","Assigned Target","Achieved Target","Achieved (%)"]],body:this.graphList.map((n,p)=>[p+1,n.employee_name,n.department,n.assigned_target,n.achieved_target,n?.["%_achieved"]]),theme:"grid",headStyles:{fillColor:[255,159,67]},startY:15}),e.save("target .pdf")}getVisibleDataFromTable(){const e=[],a=document.getElementById("mytable"),n=a.querySelector("thead tr"),p=a.querySelectorAll("tbody tr"),d=[];return n.querySelectorAll("th").forEach(l=>{const g=l.textContent.trim();"Is Active"!==g&&"Action"!==g&&d.push(g)}),e.push(d),p.forEach(l=>{const g=[];l.querySelectorAll("td").forEach(A=>{g.push(A.textContent.trim())}),e.push(g)}),e}exportToExcel(){const e=this.getVisibleDataFromTable(),a=v.P6.aoa_to_sheet(e),n=v.P6.book_new();v.P6.book_append_sheet(n,a,"Sheet1");const p=v.cW(n,{bookType:"xlsx",type:"array"}),d=new Blob([p],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,r.saveAs)(d,"target.xlsx")}printTable(){const e=document.getElementById("mytable"),p=document.querySelector(".titl").outerHTML,d=e.cloneNode(!0),l=d.querySelector("th.thone:nth-child(7)");l&&l.remove();const g=d.querySelector("th.thone:last-child");g&&g.remove(),d.querySelectorAll("tr").forEach(G=>{const L=G.querySelector("td:nth-child(7)");L&&L.remove();const $=G.querySelector("td:last-child");$&&$.remove()});const ut=d.outerHTML,gt="<style>.spaced-title { margin-top: 80px; }</style>"+p.replace("titl","spaced-title")+ut,mt=document.body.innerHTML;window.addEventListener("afterprint",()=>{console.log("afterprint"),window.location.reload()}),document.body.innerHTML=gt,window.print(),document.body.innerHTML=mt}get from_date(){return this.filterForm.get("from_date")}get to_date(){return this.filterForm.get("to_date")}get employee_id(){return this.filterForm.get("employee_id")}get department_id(){return this.filterForm.get("department_id")}changePg(e){console.log(e),-1==e&&(this.itemsPerPage=this.graphList?.length)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.F0),t.Y36(w.z),t.Y36(u.qu),t.Y36(q.y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-target-graph"]],viewQuery:function(e,a){if(1&e&&t.Gf(P,5),2&e){let n;t.iGM(n=t.CRH())&&(a.chart=n.first)}},decls:52,vars:23,consts:[[1,"page-header"],[1,"page-title"],[1,"titl"],[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","col-sm-4","col-md-4","col-xxl-2"],[1,"form-group"],["type","date","formControlName","from_date","id","from_date",3,"ngClass"],["class","text-danger",4,"ngIf"],["type","date","formControlName","to_date","id","to_date",3,"ngClass"],[2,"padding-left","12px"],[1,"search-input",2,"width","100%"],["formControlName","employee_id",1,"form-control"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","department_id",1,"form-control"],[1,"col-lg-3","col-sm-4","col-12","d-flex","align-items-center"],[1,"btn","btn-submit"],[1,"container"],["id","chart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","fill","title"],[4,"ngIf"],[1,"text-danger"],[3,"value"],[1,"table-top","d-flex","justify-content-end"],[1,"wordset"],["data-bs-toggle","tooltip","data-bs-placement","top","title","pdf",3,"click"],["src","assets/img/icons/pdf.svg","alt","img"],["data-bs-toggle","tooltip","data-bs-placement","top","title","excel",3,"click"],["src","assets/img/icons/excel.svg","alt","img"],["data-bs-toggle","tooltip","data-bs-placement","top","title","print",3,"click"],["src","assets/img/icons/printer.svg","alt","img"],[1,"table-responsive"],["id","mytable",1,"table","datanew"],[1,"thone",3,"click"],[1,"fa","fa-sort"],[1,"progressbar"],["mode","indeterminate","class","progressbar",4,"ngIf"],["class","row",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"productimgname"],[2,"line-height","3"],["colspan","10"],[1,"center-textt"],["mode","indeterminate",1,"progressbar"],[1,"col-lg-4","col-sm-4","col-12","mt-2"],[1,"entries"],[1,"pagination",3,"ngModel","ngModelChange","change"],["v",""],["value","10"],["value","20"],["value","30"],["value","50"],["value","100"],["value","-1"],[1,"col-lg-8","col-sm-8","col-12","mt-2"],[1,"f-right"],[3,"pageChange"],[1,"entries","f-right"],[1,"pagination",3,"ngModel","ngModelChange"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),t._uU(3,"Target Graph"),t.qZA(),t.TgZ(4,"h6"),t._uU(5,"View/Search Target Graph"),t.qZA()()(),t.TgZ(6,"div",3)(7,"div",4)(8,"form",5),t.NdJ("ngSubmit",function(){return a.submit()}),t.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"label"),t._uU(13,"From Date*"),t.qZA(),t._UZ(14,"input",9),t.YNc(15,E,2,0,"span",10),t.qZA()(),t.TgZ(16,"div",7)(17,"div",8)(18,"label"),t._uU(19,"To Date*"),t.qZA(),t._UZ(20,"input",11),t.YNc(21,S,2,0,"span",10),t.qZA()(),t.TgZ(22,"div",7)(23,"div",8)(24,"label",12),t._uU(25,"Select Employee"),t.qZA(),t.TgZ(26,"div",13)(27,"select",14)(28,"option",15),t._uU(29,"Select Employee"),t.qZA(),t.YNc(30,N,2,2,"option",16),t.qZA(),t.YNc(31,F,2,0,"span",10),t.qZA()()(),t.TgZ(32,"div",7)(33,"div",8)(34,"label",12),t._uU(35,"Select Department"),t.qZA(),t.TgZ(36,"div",13)(37,"select",17)(38,"option",15),t._uU(39,"Select Department"),t.qZA(),t.YNc(40,I,2,2,"option",16),t.qZA(),t.YNc(41,J,2,0,"span",10),t.qZA()()(),t.TgZ(42,"div",18)(43,"button",19),t._uU(44,"Apply Filter"),t.qZA()()()(),t.TgZ(45,"div",3)(46,"div",4)(47,"div",20)(48,"div",21),t._UZ(49,"apx-chart",22),t.qZA()()()(),t.YNc(50,K,40,4,"ng-container",23),t.YNc(51,X,40,4,"ng-container",23),t.qZA()()),2&e&&(t.xp6(8),t.Q6J("formGroup",a.filterForm),t.xp6(6),t.Q6J("ngClass",t.VKq(19,b,a.f.from_date.touched&&a.f.from_date.invalid)),t.xp6(1),t.Q6J("ngIf",a.from_date&&a.from_date.invalid&&a.from_date.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(21,b,a.f.to_date.touched&&a.f.to_date.invalid)),t.xp6(1),t.Q6J("ngIf",a.to_date&&a.to_date.invalid&&a.to_date.touched),t.xp6(9),t.Q6J("ngForOf",a.employeeList),t.xp6(1),t.Q6J("ngIf",a.employee_id&&a.employee_id.invalid&&a.employee_id.touched),t.xp6(9),t.Q6J("ngForOf",a.departmentList),t.xp6(1),t.Q6J("ngIf",a.department_id&&a.department_id.invalid&&a.department_id.touched),t.xp6(8),t.Q6J("series",null==a.chartOptions?null:a.chartOptions.series)("chart",null==a.chartOptions?null:a.chartOptions.chart)("dataLabels",null==a.chartOptions?null:a.chartOptions.dataLabels)("plotOptions",null==a.chartOptions?null:a.chartOptions.plotOptions)("yaxis",null==a.chartOptions?null:a.chartOptions.yaxis)("xaxis",null==a.chartOptions?null:a.chartOptions.xaxis)("fill",null==a.chartOptions?null:a.chartOptions.fill)("title",null==a.chartOptions?null:a.chartOptions.title),t.xp6(1),t.Q6J("ngIf",!a.isEmployeeAvailable),t.xp6(1),t.Q6J("ngIf",a.isEmployeeAvailable))},dependencies:[_.mk,_.sg,_.O5,u._Y,u.YN,u.Kr,u.Fj,u.EJ,u.JJ,u.JL,u.On,u.sg,u.u,M.pW,Z.LS,U.x,Z._s,O.T],styles:[".th[_ngcontent-%COMP%]{background:#EEF0F8;font-family:Poppins;font-style:normal;font-weight:500;font-size:18px;line-height:140%;color:#3b3b3b;border-right:2px solid white;border-bottom:2px solid white}.td[_ngcontent-%COMP%]{background-color:#f2f4f3;font-family:Poppins;font-style:normal;font-weight:400;font-size:16px;line-height:140%;color:#3b3b3b;border-right:2px solid white;border-bottom:2px solid white}.ng-dirty.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%], .mat-autocomplete-trigger.mat-input-element.mat-form-field-autofill-control.ng-tns-c114-0.ng-untouched.ng-pristine.ng-valid.cdk-text-field-autofill-monitored.is-invalid[_ngcontent-%COMP%]{border:1px solid red}select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=button][_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}.headingg[_ngcontent-%COMP%]{color:#ff9f43;font-size:16px;font-weight:600;text-align:center}.barchart[_ngcontent-%COMP%]{height:350px}.chartContainer[_ngcontent-%COMP%]{width:500px;height:500px}"]}),o})()}];let et=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[f.Bz.forChild(tt),f.Bz]}),o})();var rt=h(8468),it=h(3848),at=h(97392),nt=h(95113),ot=h(56709),lt=h(90455),st=h(47957),pt=h(59549),ht=h(44144),ct=h(64155);let dt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[_.ez,et,rt.I,it.Nh,at.Ps,nt.LD,ot.p9,lt.rP,u.u5,u.UX,st.Bb,pt.lN,ht.c,ct.vQ,U.X]}),o})()}}]);