"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[92111],{92111:(V,S,s)=>{s.r(S),s.d(S,{BatchVariantProductModule:()=>W});var h=s(36895),m=s(4392),o=s(24006),e=s(94650),q=s(80927),k=s(97185),g=s(92559);function B(i,l){if(1&i&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.hij(" ",r.Show.product_title," ")}}function f(i,l){1&i&&(e.TgZ(0,"p",26),e._uU(1," 1) Sale Tax Including "),e.O4$(),e.TgZ(2,"svg",27),e._UZ(3,"polyline",28),e.qZA()())}function y(i,l){1&i&&(e.TgZ(0,"p"),e._uU(1," 2) Purchase Tax Including "),e.O4$(),e.TgZ(2,"svg",27),e._UZ(3,"polyline",28),e.qZA()())}function C(i,l){1&i&&(e.TgZ(0,"span",29),e._uU(1,"Enter MRP "),e.qZA())}function b(i,l){1&i&&(e.TgZ(0,"span",29),e._uU(1,"Enter Cost Price"),e.qZA())}function Z(i,l){if(1&i&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(r.errorCost)}}function v(i,l){1&i&&(e.TgZ(0,"span",29),e._uU(1,"Enter Enter discount (ex:0-100)"),e.qZA())}function _(i,l){1&i&&(e.TgZ(0,"span",29),e._uU(1,"Enter Selling Price Online"),e.qZA())}function T(i,l){if(1&i&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(r.errorOnline)}}function F(i,l){if(1&i&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(r.errorOnlineMrp)}}function M(i,l){1&i&&(e.TgZ(0,"span",29),e._uU(1,"Enter Selling Price Offline"),e.qZA())}function O(i,l){if(1&i&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(r.errorOffline)}}function U(i,l){if(1&i&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(r.errorOfflineMrp)}}function I(i,l){1&i&&(e.TgZ(0,"span",29),e._uU(1,"Enter Selling Price Dealer"),e.qZA())}function N(i,l){if(1&i&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(r.errorDealer)}}function w(i,l){if(1&i&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(r.errorDealerMrp)}}function J(i,l){1&i&&(e.TgZ(0,"span",29),e._uU(1,"Enter Selling Price Employee"),e.qZA())}function E(i,l){if(1&i&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(r.errorEmployee)}}function D(i,l){if(1&i&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(r.errorEmployeeMrp)}}function Q(i,l){1&i&&(e.TgZ(0,"span",29),e._uU(1,"Enter opening stock"),e.qZA())}function x(i,l){1&i&&(e.TgZ(0,"span",29),e._uU(1,"Enter Minimum Stock Threshold"),e.qZA())}function Y(i,l){1&i&&(e.TgZ(0,"span",29),e._uU(1,"Enter Max Order Quantity"),e.qZA())}function L(i,l){1&i&&(e.TgZ(0,"button",30),e._uU(1,"Submit"),e.qZA())}function R(i,l){1&i&&(e.TgZ(0,"button",31),e._UZ(1,"span",32),e._uU(2,"Submit "),e.qZA())}const d=function(i){return{"is-invalid":i}},P=function(i){return{border:i}},z=[{path:"",component:(()=>{class i{constructor(r,t,n,a,c,p,u){this.coreService=r,this.fb=t,this.toastr=n,this.router=a,this.Arout=c,this.location=p,this.websiteService=u,this.p=1,this.pageSize=5,this.itemsPerPage=5,this.loader=!1}get f(){return this.batchForm.controls}ngOnInit(){this.batchForm=this.fb.group({mrp:new o.NI(0,[o.kI.required]),cost_price:new o.NI(0),selling_price_online:new o.NI(0),selling_price_offline:new o.NI(0),selling_price_dealer:new o.NI(0),selling_price_employee:new o.NI(0),opening_stock:new o.NI(0,[o.kI.required]),minimum_stock_threshold:new o.NI(0,[o.kI.required]),max_order_quantity:new o.NI(0),discount:new o.NI(0,[o.kI.pattern(/^(100|[0-9]{1,2})$/)]),additional_discount:new o.NI(0,[o.kI.pattern(/^(100|[0-9]{1,2})$/)])}),this.id=+this.Arout.snapshot.paramMap.get("id"),this.getAllProduct()}backLoc(){this.location.back()}getBrand(){this.coreService.getVariantBrandById(this.id).subscribe(r=>{if(console.log(r),this.brandList=r?.product?.brand,console.log(this.brandList),this.brandList?.markup_percentage_employee>0){let t=this.batchForm.value?.cost_price,a=t+t*this.brandList?.markup_percentage_employee/100;this.batchForm.get("selling_price_employee")?.patchValue(a),this.checkMrpSelling(),this.checkCostSelling(),this.checkEmployee()}if(this.brandList?.markup_percentage_online>0){let t=this.batchForm.value?.cost_price,a=t+t*this.brandList?.markup_percentage_online/100;this.batchForm.get("selling_price_online")?.patchValue(a),this.checkMrpSelling(),this.checkCostSelling(),this.checkOnline()}if(this.brandList?.markup_percentage_customer>0){let t=this.batchForm.value?.cost_price,a=t+t*this.brandList?.markup_percentage_customer/100;this.batchForm.get("selling_price_offline")?.patchValue(a),this.checkMrpSelling(),this.checkCostSelling(),this.checkOffline()}if(this.brandList?.markup_percentage_wholesale>0){let t=this.batchForm.value?.cost_price,a=t+t*this.brandList?.markup_percentage_wholesale/100;this.batchForm.get("selling_price_dealer")?.patchValue(a),this.checkMrpSelling(),this.checkCostSelling(),this.checkDealer()}})}getAllProduct(){this.websiteService.getVariantById(this.id).subscribe(r=>{console.log(r),this.Show=r})}checkCost(){let r=this.batchForm.value?.mrp,t=this.batchForm.value?.cost_price;console.log(this.batchForm.value),t<r?(this.errorCost="",this.getBrand(),this.batchForm.get("selling_price_employee")?.patchValue(t),this.batchForm.get("selling_price_online")?.patchValue(t),this.batchForm.get("selling_price_offline")?.patchValue(t),this.batchForm.get("selling_price_dealer")?.patchValue(t)):this.errorCost="Cost Price Should Be Less Than MRP"}checkMrpSelling(){let r=this.batchForm.value?.selling_price_offline,t=this.batchForm.value?.selling_price_online,n=this.batchForm.value?.selling_price_dealer,a=this.batchForm.value?.selling_price_employee,c=this.batchForm.value?.mrp;console.log(this.batchForm.value),r<=c&&t<=c&&n<=c&&a<=c?(this.errorMrp="",console.log(r<=c&&t<=c&&n<=c&&a<=c)):this.errorMrp="Selling Price Should Be Less Than Equal To MRP"}checkCostSelling(){let r=this.batchForm.value?.selling_price_offline,t=this.batchForm.value?.selling_price_online,n=this.batchForm.value?.selling_price_dealer,a=this.batchForm.value?.selling_price_employee,p=this.batchForm.value?.cost_price;console.log(this.batchForm.value),r>p&&t>p&&n>p&&a>p?(this.errorCostSell="",console.log(r>p&&t>p&&n>p&&a>p)):this.errorCostSell="Selling Price Should Be Grater Than Cost Price"}checkOnline(){let r=this.batchForm.value?.selling_price_online,t=this.batchForm.value?.mrp,n=this.batchForm.value?.cost_price;console.log(this.batchForm.value),r<=t?(this.errorOnlineMrp="",console.log(r<=t)):(console.log(r<=t),this.errorOnlineMrp="Selling Price Online Should Be Less Than Equal To MRP"),r>n?(this.errorOnline="",console.log(r>n)):this.errorOnline="Selling Price Online Should Be Greater Than Cost Price"}checkOffline(){let r=this.batchForm.value?.selling_price_offline,t=this.batchForm.value?.mrp,n=this.batchForm.value?.cost_price;console.log(this.batchForm.value),r<=t?(this.errorOfflineMrp="",console.log(r<=t)):(console.log(r<=t),this.errorOfflineMrp="Selling Price Offline Should Be Less Than Equal To MRP"),r>n?(this.errorOffline="",console.log(r>n)):this.errorOffline="Selling Price Offline Should Be Greater Than Cost Price"}checkDealer(){let r=this.batchForm.value?.selling_price_dealer,t=this.batchForm.value?.mrp,n=this.batchForm.value?.cost_price;console.log(this.batchForm.value),r<=t?(this.errorDealerMrp="",console.log(r<=t)):(console.log(r<=t),this.errorDealerMrp="Selling Price Dealer Should Be Less Than Equal To MRP"),r>n?(this.errorDealer="",console.log(r>n)):this.errorDealer="Selling Price Dealer Should Be Greater Than Cost Price"}checkEmployee(){let r=this.batchForm.value?.selling_price_employee,t=this.batchForm.value?.mrp,n=this.batchForm.value?.cost_price;console.log(this.batchForm.value),r<=t?(this.errorEmployeeMrp="",console.log(r<=t)):(console.log(r<=t),this.errorEmployeeMrp="Selling Price Employee Should Be Less Than Equal To MRP"),r>n?(this.errorEmployee="",console.log(r>n)):this.errorEmployee="Selling Price Employee Should Be Greater Than Cost Price"}submit(){if(console.log(this.batchForm.value),this.batchForm.valid){let r=this.batchForm.value?.selling_price_offline,t=this.batchForm.value?.selling_price_online,n=this.batchForm.value?.selling_price_dealer,a=this.batchForm.value?.selling_price_employee,c=this.batchForm.value?.mrp,p=this.batchForm.value?.cost_price;if(p<c)if(this.errorCost="",r>p&&t>p&&n>p&&a>p&&r<=c&&t<=c&&n<=c&&a<=c){this.errorMrp="",this.loader=!0;let u=new FormData;u.append("mrp",this.batchForm.get("mrp")?.value),u.append("cost_price",this.batchForm.get("cost_price")?.value),u.append("selling_price_online",this.batchForm.get("selling_price_online")?.value),u.append("selling_price_offline",this.batchForm.get("selling_price_offline")?.value),u.append("selling_price_dealer",this.batchForm.get("selling_price_dealer")?.value),u.append("selling_price_employee",this.batchForm.get("selling_price_employee")?.value),u.append("stock",this.batchForm.get("opening_stock")?.value),u.append("opening_stock",this.batchForm.get("opening_stock")?.value),u.append("minimum_stock_threshold",this.batchForm.get("minimum_stock_threshold")?.value),u.append("max_order_quantity",this.batchForm.get("max_order_quantity")?.value),u.append("discount",this.batchForm.get("discount")?.value),u.append("additional_discount",this.batchForm.get("additional_discount")?.value),this.coreService.addBatch(u,this.id).subscribe(A=>{this.addRes=A,"True"==this.addRes.sucess?(this.loader=!1,this.toastr.success(this.addRes.msg),this.batchForm.reset(),this.location.back()):this.loader=!1},A=>{this.loader=!1})}else this.toastr.error("Selling Price Should Be Grater Than Cost Price And Less Than Equal To MRP");else this.errorCost="Cost Price Should Be Less Than MRP"}else this.batchForm.markAllAsTouched(),this.toastr.error("Please Fill All The Required Fields")}get mrp(){return this.batchForm.get("mrp")}get cost_price(){return this.batchForm.get("cost_price")}get selling_price_offline(){return this.batchForm.get("selling_price_offline")}get selling_price_online(){return this.batchForm.get("selling_price_online")}get selling_price_vendor(){return this.batchForm.get("selling_price_dealer")}get selling_price_employee(){return this.batchForm.get("selling_price_employee")}get stock(){return this.batchForm.get("stock")}get minimum_stock_threshold(){return this.batchForm.get("minimum_stock_threshold")}get max_order_quantity(){return this.batchForm.get("max_order_quantity")}get variant(){return this.batchForm.get("variant")}get opening_stock(){return this.batchForm.get("opening_stock")}get discount(){return this.batchForm.get("discount")}get additional_discount(){return this.batchForm.get("additional_discount")}get employee_incentive(){return this.batchForm.get("employee_incentive")}get employee_incentive_type(){return this.batchForm.get("employee_incentive_type")}}return i.\u0275fac=function(r){return new(r||i)(e.Y36(q.p),e.Y36(o.qu),e.Y36(k._W),e.Y36(m.F0),e.Y36(m.gz),e.Y36(h.Ye),e.Y36(g.K))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-batch-variant-product"]],decls:93,vars:70,consts:[[1,"page-header"],[1,"page-title"],[1,"card"],[1,"card-body"],[1,"row","mb-5"],[4,"ngIf"],["class","m-0",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-3","col-sm-3","col-12"],[1,"form-group"],["type","number","formControlName","mrp","id","mrp","placeholder","0",3,"ngClass","blur"],["class","text-danger",4,"ngIf"],["type","number","formControlName","cost_price","id","cost_price","placeholder","0",3,"ngClass","ngStyle","blur"],["type","number","formControlName","additional_discount","id","additional_discount","placeholder","0",3,"ngClass"],["type","number","formControlName","selling_price_online","id","selling_price_online","placeholder","0",3,"ngClass","ngStyle","blur"],["type","number","formControlName","selling_price_offline","id","selling_price_offline","placeholder","0",3,"ngClass","ngStyle","blur"],["type","number","formControlName","selling_price_dealer","id","selling_price_dealer","placeholder","0",3,"ngClass","ngStyle","blur"],["type","number","formControlName","selling_price_employee","id","selling_price_employee","placeholder","0",3,"ngClass","ngStyle","blur"],["type","number","formControlName","opening_stock","id","opening_stock","placeholder","0",3,"ngClass"],["type","number","formControlName","minimum_stock_threshold","id","minimum_stock_threshold","placeholder","0",3,"ngClass"],["type","number","formControlName","max_order_quantity","id","max_order_quantity","placeholder","0",3,"ngClass"],[1,"col-lg-12"],["class","btn btn-submit me-2",4,"ngIf"],["class","btn btn-submit me-2","type","submit","disabled","",4,"ngIf"],[1,"btn","btn-cancel",3,"click"],[1,"m-0"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-check"],["points","20 6 9 17 4 12"],[1,"text-danger"],[1,"btn","btn-submit","me-2"],["type","submit","disabled","",1,"btn","btn-submit","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Add Batch"),e.qZA(),e.TgZ(4,"h6"),e._uU(5,"Create new Batch"),e.qZA()()(),e.TgZ(6,"div",2)(7,"div",3)(8,"div",4),e.YNc(9,B,2,1,"h2",5),e.YNc(10,f,4,0,"p",6),e.YNc(11,y,4,0,"p",5),e.qZA(),e.TgZ(12,"form",7),e.NdJ("ngSubmit",function(){return t.submit()}),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"label"),e._uU(17,"MRP*"),e.qZA(),e.TgZ(18,"input",11),e.NdJ("blur",function(){return t.checkCost()})("blur",function(){return t.checkMrpSelling()}),e.qZA(),e.YNc(19,C,2,0,"span",12),e.qZA()(),e.TgZ(20,"div",9)(21,"div",10)(22,"label"),e._uU(23,"Cost Price"),e.qZA(),e.TgZ(24,"input",13),e.NdJ("blur",function(){return t.checkCost()})("blur",function(){return t.checkMrpSelling()})("blur",function(){return t.checkCostSelling()}),e.qZA(),e.YNc(25,b,2,0,"span",12),e.YNc(26,Z,2,1,"span",12),e._UZ(27,"br"),e.qZA()(),e.TgZ(28,"div",9)(29,"div",10)(30,"label"),e._uU(31,"Additional Discount %"),e.qZA(),e._UZ(32,"input",14),e.YNc(33,v,2,0,"span",12),e.qZA()(),e.TgZ(34,"div",9)(35,"div",10)(36,"label"),e._uU(37,"Selling Price Online"),e.qZA(),e.TgZ(38,"input",15),e.NdJ("blur",function(){return t.checkOnline()}),e.qZA(),e.YNc(39,_,2,0,"span",12),e.YNc(40,T,2,1,"span",12),e._UZ(41,"br"),e.YNc(42,F,2,1,"span",12),e.qZA()(),e.TgZ(43,"div",9)(44,"div",10)(45,"label"),e._uU(46,"Selling Price Offline"),e.qZA(),e.TgZ(47,"input",16),e.NdJ("blur",function(){return t.checkOffline()}),e.qZA(),e.YNc(48,M,2,0,"span",12),e.YNc(49,O,2,1,"span",12),e._UZ(50,"br"),e.YNc(51,U,2,1,"span",12),e.qZA()(),e.TgZ(52,"div",9)(53,"div",10)(54,"label"),e._uU(55,"Selling Price Dealer"),e.qZA(),e.TgZ(56,"input",17),e.NdJ("blur",function(){return t.checkDealer()}),e.qZA(),e.YNc(57,I,2,0,"span",12),e.YNc(58,N,2,1,"span",12),e._UZ(59,"br"),e.YNc(60,w,2,1,"span",12),e.qZA()(),e.TgZ(61,"div",9)(62,"div",10)(63,"label"),e._uU(64,"Selling Price Employee"),e.qZA(),e.TgZ(65,"input",18),e.NdJ("blur",function(){return t.checkEmployee()}),e.qZA(),e.YNc(66,J,2,0,"span",12),e.YNc(67,E,2,1,"span",12),e._UZ(68,"br"),e.YNc(69,D,2,1,"span",12),e.qZA()(),e.TgZ(70,"div",9)(71,"div",10)(72,"label"),e._uU(73,"Opening Stock*"),e.qZA(),e._UZ(74,"input",19),e.YNc(75,Q,2,0,"span",12),e.qZA()(),e.TgZ(76,"div",9)(77,"div",10)(78,"label"),e._uU(79,"Minimum Stock Threshold*"),e.qZA(),e._UZ(80,"input",20),e.YNc(81,x,2,0,"span",12),e.qZA()(),e.TgZ(82,"div",9)(83,"div",10)(84,"label"),e._uU(85,"Max Order Quantity"),e.qZA(),e._UZ(86,"input",21),e.YNc(87,Y,2,0,"span",12),e.qZA()(),e.TgZ(88,"div",22),e.YNc(89,L,2,0,"button",23),e.YNc(90,R,3,0,"button",24),e.TgZ(91,"a",25),e.NdJ("click",function(){return t.backLoc()}),e._uU(92,"Cancel"),e.qZA()()()()()()),2&r&&(e.xp6(9),e.Q6J("ngIf",t.Show),e.xp6(1),e.Q6J("ngIf",t.Show&&(null==t.Show||null==t.Show.product?null:t.Show.product.sale_tax_including)),e.xp6(1),e.Q6J("ngIf",t.Show&&(null==t.Show||null==t.Show.product?null:t.Show.product.purchase_tax_including)),e.xp6(1),e.Q6J("formGroup",t.batchForm),e.xp6(6),e.Q6J("ngClass",e.VKq(40,d,t.f.mrp.touched&&t.f.mrp.invalid)),e.xp6(1),e.Q6J("ngIf",t.mrp&&t.mrp.invalid&&t.mrp.touched),e.xp6(5),e.Q6J("ngClass",e.VKq(42,d,t.f.cost_price.touched&&t.f.cost_price.invalid))("ngStyle",e.VKq(44,P,t.errorCost?"1px solid red":"")),e.xp6(1),e.Q6J("ngIf",t.cost_price&&t.cost_price.invalid&&t.cost_price.touched),e.xp6(1),e.Q6J("ngIf",t.errorCost),e.xp6(6),e.Q6J("ngClass",e.VKq(46,d,t.f.additional_discount.touched&&t.f.additional_discount.invalid)),e.xp6(1),e.Q6J("ngIf",t.additional_discount&&t.additional_discount.invalid&&t.additional_discount.touched),e.xp6(5),e.Q6J("ngClass",e.VKq(48,d,t.f.selling_price_online.touched&&t.f.selling_price_online.invalid))("ngStyle",e.VKq(50,P,t.errorOnline||t.errorOnlineMrp?"1px solid red":"")),e.xp6(1),e.Q6J("ngIf",t.selling_price_online&&t.selling_price_online.invalid&&t.selling_price_online.touched),e.xp6(1),e.Q6J("ngIf",t.errorOnline),e.xp6(2),e.Q6J("ngIf",t.errorOnlineMrp),e.xp6(5),e.Q6J("ngClass",e.VKq(52,d,t.f.selling_price_offline.touched&&t.f.selling_price_offline.invalid))("ngStyle",e.VKq(54,P,t.errorOffline||t.errorOfflineMrp?"1px solid red":"")),e.xp6(1),e.Q6J("ngIf",t.selling_price_offline&&t.selling_price_offline.invalid&&t.selling_price_offline.touched),e.xp6(1),e.Q6J("ngIf",t.errorOffline),e.xp6(2),e.Q6J("ngIf",t.errorOfflineMrp),e.xp6(5),e.Q6J("ngClass",e.VKq(56,d,t.f.selling_price_dealer.touched&&t.f.selling_price_dealer.invalid))("ngStyle",e.VKq(58,P,t.errorDealer||t.errorDealerMrp?"1px solid red":"")),e.xp6(1),e.Q6J("ngIf",t.selling_price_vendor&&t.selling_price_vendor.invalid&&t.selling_price_vendor.touched),e.xp6(1),e.Q6J("ngIf",t.errorDealer),e.xp6(2),e.Q6J("ngIf",t.errorDealerMrp),e.xp6(5),e.Q6J("ngClass",e.VKq(60,d,t.f.selling_price_employee.touched&&t.f.selling_price_employee.invalid))("ngStyle",e.VKq(62,P,t.errorEmployee||t.errorEmployeeMrp?"1px solid red":"")),e.xp6(1),e.Q6J("ngIf",t.selling_price_employee&&t.selling_price_employee.invalid&&t.selling_price_employee.touched),e.xp6(1),e.Q6J("ngIf",t.errorEmployee),e.xp6(2),e.Q6J("ngIf",t.errorEmployeeMrp),e.xp6(5),e.Q6J("ngClass",e.VKq(64,d,t.f.opening_stock.touched&&t.f.opening_stock.invalid)),e.xp6(1),e.Q6J("ngIf",t.opening_stock&&t.opening_stock.invalid&&t.opening_stock.touched),e.xp6(5),e.Q6J("ngClass",e.VKq(66,d,t.f.minimum_stock_threshold.touched&&t.f.minimum_stock_threshold.invalid)),e.xp6(1),e.Q6J("ngIf",t.minimum_stock_threshold&&t.minimum_stock_threshold.invalid&&t.minimum_stock_threshold.touched),e.xp6(5),e.Q6J("ngClass",e.VKq(68,d,t.f.max_order_quantity.touched&&t.f.max_order_quantity.invalid)),e.xp6(1),e.Q6J("ngIf",t.max_order_quantity&&t.max_order_quantity.invalid&&t.max_order_quantity.touched),e.xp6(2),e.Q6J("ngIf",!t.loader),e.xp6(1),e.Q6J("ngIf",t.loader))},dependencies:[h.mk,h.O5,h.PC,o._Y,o.Fj,o.wV,o.JJ,o.JL,o.sg,o.u],styles:["select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=button][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}"]}),i})(),canActivate:[s(30597).l],data:{allowedRoles:["add_batch"]}}];let $=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.Bz.forChild(z),m.Bz]}),i})(),W=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.ez,$,o.u5,o.UX]}),i})()},30597:(V,S,s)=>{s.d(S,{l:()=>k});var h=s(94650),m=s(4392),o=s(97185),e=s(42917),q=s(80927);let k=(()=>{class g{constructor(f,y,C,b,Z){this.router=f,this.Arout=y,this.toastr=C,this.profileService=b,this.coreService=Z}canActivate(f,y){const C=JSON.parse(localStorage.getItem("auth"));if(this.profileService.userDetails$.subscribe(b=>{this.userDetails=b,this.permissions=this.userDetails?.permission}),C){const b=f.data.allowedRoles,Z=C.some(_=>b.includes(_.codename));let v=this.coreService.profileData$.value;if(v&&v.username){this.userDetails=v,this.profileService.setUserDetails(this.userDetails),this.profileService.ProfileData$.next(v);const _=v?.permission,T=this.profileService.getUserDetails();(!T||T.length!==_.length)&&(this.profileService.setUserPermission(_),window.location.reload())}else this.coreService.getProfile().subscribe(_=>{this.userDetails=_,this.profileService.setUserDetails(this.userDetails),this.profileService.ProfileData$.next(_);const T=_?.permission,F=this.profileService.getUserDetails();(!F||F.length!==T.length)&&(this.profileService.setUserPermission(T),window.location.reload())});if(Z)return!0}return this.toastr.error("User have Not Permission to Access This page"),this.router.navigate(["/dashboard"]),!1}}return g.\u0275fac=function(f){return new(f||g)(h.LFG(m.F0),h.LFG(m.gz),h.LFG(o._W),h.LFG(e.J),h.LFG(q.p))},g.\u0275prov=h.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);