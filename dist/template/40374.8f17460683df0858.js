"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[40374],{40374:(C,h,s)=>{s.r(h),s.d(h,{CouponDetailsModule:()=>u});var a=s(36895),c=s(4392),t=s(94650),v=s(53989),f=s(97392);function D(o,i){if(1&o&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"table",11)(4,"tbody")(5,"tr")(6,"td",12),t._uU(7,"Title"),t.qZA(),t.TgZ(8,"td",13),t._uU(9),t.qZA()(),t.TgZ(10,"tr")(11,"td",12),t._uU(12,"Coupon Code"),t.qZA(),t.TgZ(13,"td",13),t._uU(14),t.qZA()(),t.TgZ(15,"tr")(16,"td",12),t._uU(17,"Discount"),t.qZA(),t.TgZ(18,"td",13),t._uU(19),t.qZA()(),t.TgZ(20,"tr")(21,"td",12),t._uU(22,"Upto"),t.qZA(),t.TgZ(23,"td",13),t._uU(24),t.qZA()(),t.TgZ(25,"tr")(26,"td",12),t._uU(27,"Expiry Date"),t.qZA(),t.TgZ(28,"td",13),t._uU(29),t.qZA()()()()()()()),2&o){const e=t.oxw();t.xp6(9),t.Oqu(null==e.tableData?null:e.tableData.title),t.xp6(5),t.Oqu(null==e.tableData?null:e.tableData.coupon_code),t.xp6(5),t.Oqu(null==e.tableData?null:e.tableData.discount),t.xp6(5),t.Oqu(null==e.tableData?null:e.tableData.up_to),t.xp6(5),t.Oqu(null==e.tableData?null:e.tableData.expiry_date)}}const n=[{path:"",component:(()=>{class o{constructor(e,l,p){this.location=e,this.router=l,this.offerService=p}ngOnInit(){this.getAllCoupons()}getAllCoupons(){this.offerService.getAllCoupons().subscribe(e=>{console.log(e),this.tableData=e[0]})}navigate(){this.router.navigate(["//offer/coupon-list"])}goBack(){this.location.back()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.Ye),t.Y36(c.F0),t.Y36(v.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-coupon-details"]],decls:12,vars:1,consts:[[1,"row","bg"],[1,"card"],[1,"card-body"],[1,"page-header"],[1,"page-title"],[1,"subhead-color",3,"click"],[2,"vertical-align","middle"],["class","company-details-card card mt-3",4,"ngIf"],[1,"company-details-card","card","mt-3"],[1,"sub-card","row"],[1,"table-responsive"],[1,"table"],[1,"th"],[1,"td"]],template:function(e,l){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6",5),t.NdJ("click",function(){return l.goBack()}),t.TgZ(6,"mat-icon",6),t._uU(7,"keyboard_backspace"),t.qZA(),t._uU(8,"Back to CouponList"),t.qZA(),t.TgZ(9,"h4"),t._uU(10,"Full details of a Coupon"),t.qZA()()(),t.YNc(11,D,30,5,"div",7),t.qZA()()()),2&e&&(t.xp6(11),t.Q6J("ngIf",l.tableData))},dependencies:[a.O5,f.Hw],styles:[".th[_ngcontent-%COMP%]{background:#EEF0F8;font-family:Poppins;font-style:normal;font-weight:500;font-size:18px;line-height:140%;color:#3b3b3b;border-right:2px solid white;border-bottom:2px solid white}.td[_ngcontent-%COMP%]{background-color:#f2f4f3;font-family:Poppins;font-style:normal;font-weight:400;font-size:16px;line-height:140%;color:#3b3b3b;border-right:2px solid white;border-bottom:2px solid white}"]}),o})(),canActivate:[s(30597).l],data:{allowedRoles:["add_discount"]}}];let g=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.Bz.forChild(n),c.Bz]}),o})();var d=s(8468);let u=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[a.ez,g,d.I,f.Ps]}),o})()},30597:(C,h,s)=>{s.d(h,{l:()=>D});var a=s(94650),c=s(4392),t=s(97185),v=s(42917),f=s(80927);let D=(()=>{class r{constructor(n,g,d,u,o){this.router=n,this.Arout=g,this.toastr=d,this.profileService=u,this.coreService=o}canActivate(n,g){const d=JSON.parse(localStorage.getItem("auth"));if(this.profileService.userDetails$.subscribe(u=>{this.userDetails=u,this.permissions=this.userDetails?.permission}),d){const u=n.data.allowedRoles,o=d.some(e=>u.includes(e.codename));let i=this.coreService.profileData$.value;if(i&&i.username){this.userDetails=i,this.profileService.setUserDetails(this.userDetails),this.profileService.ProfileData$.next(i);const e=i?.permission,l=this.profileService.getUserDetails();(!l||l.length!==e.length)&&(this.profileService.setUserPermission(e),window.location.reload())}else this.coreService.getProfile().subscribe(e=>{this.userDetails=e,this.profileService.setUserDetails(this.userDetails),this.profileService.ProfileData$.next(e);const l=e?.permission,p=this.profileService.getUserDetails();(!p||p.length!==l.length)&&(this.profileService.setUserPermission(l),window.location.reload())});if(o)return!0}return this.toastr.error("User have Not Permission to Access This page"),this.router.navigate(["/dashboard"]),!1}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(c.F0),a.LFG(c.gz),a.LFG(t._W),a.LFG(v.J),a.LFG(f.p))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}]);