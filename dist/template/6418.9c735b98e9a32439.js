"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[6418],{6418:(Z,d,i)=>{i.r(d),i.d(d,{ClosingFinancialYearModule:()=>b});var g=i(36895),s=i(4392),e=i(94650),u=i(43443),p=i(80927),m=i(42917),r=i(24006);const f=[{path:"",component:(()=>{class t{constructor(n,o,a,l){this.commonService=n,this.coreService=o,this.companyService=a,this.router=l,this.financialYearMap={6:12,12:14,14:null}}ngOnInit(){this.financialYear=localStorage.getItem("financialYear"),this.nextFinancialYear=this.getNextFinancialYearId(Number(this.financialYear))?.toString();let{minDate:n,maxDate:o}=this.commonService.determineMinMaxDates(this.financialYear);console.log(n.getFullYear()),console.log(o.getFullYear());const a=n.getFullYear()+"-"+o.getFullYear(),l=n.getFullYear()+1+"-"+(o.getFullYear()+1);console.log(a),this.current_financial_year=a,this.next_financial_year=l}getNextFinancialYearId(n){return this.financialYearMap[n]||0}submit(){this.coreService.closingStockFinancialYear({from_financial_year:this.financialYear,to_financial_year:this.nextFinancialYear}).subscribe(o=>{console.log(o),document.querySelector(".closeModal").click()})}closingAccountFinancialYear(){this.coreService.closingAccountFinancialYear({from_financial_year:this.financialYear,to_financial_year:this.nextFinancialYear}).subscribe(o=>{console.log(o),document.querySelector(".accountModal").click()})}ClosingAccountPreview(){document.querySelector(".accountModal").click(),this.router.navigate(["/settings/closingFinancialYear/account-ledger-preview"])}preview(){document.querySelector(".closeModal").click(),this.router.navigate(["/settings/closingFinancialYear/stock-preview"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.R),e.Y36(p.p),e.Y36(m.J),e.Y36(s.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-closing-financial-year"]],decls:116,vars:2,consts:[[1,"container-fluid"],[1,"page-header-wrapper"],[1,"header-title-wrapper"],[1,"title-wrapper"],[1,"cards-container-wrapper","mt-3"],[1,"row","m-0"],[1,"col-12","col-lg-6","py-3","px-4","card-list-wrapper"],[1,"card-title-wrapper"],[1,"title-wrapper","card-title"],[1,"card-description-wrapper"],[1,"mb-2"],[1,"col-12","px-0","col-lg-6","px-lg-2"],[1,"card-content-wrapper","bg-white","h-100","py-3","px-4","px-lg-2"],[1,"process-section-wrapper","mt-4"],[1,"stock-closing-card-wrapper","d-flex","align-items-center","justify-content-between"],[1,"d-md-flex","align-items-center"],[1,"badge","text-bg-primary","badge-btn"],[1,"ms-md-5","mt-2","mt-md-0","stock-closing-title"],[1,"d-flex","align-items-center"],["data-bs-toggle","modal","data-bs-target","#stock_closing_modal",1,"btn","d-flex","align-items-center","p-0"],[1,"processed-text","me-3"],[1,"fas","fa-angle-double-right","double-right-arrow"],[1,"stock-closing-card-wrapper","mt-3","d-flex","align-items-center","justify-content-between"],["data-bs-toggle","modal","data-bs-target","#ledger_closing_modal",1,"btn","d-flex","align-items-center","p-0"],["id","stock_closing_modal","role","dialog",1,"modal","custom-modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-danger"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","closeModal"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[1,"text-danger"],["type","text","name","currentFinancialYear","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"cal-icon"],["type","text","name","nextFinancialYear","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"submit-section","d-flex","justify-content-end","align-items-center"],["data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger","me-3"],[1,"btn","btn-secondary","me-3",3,"click"],[1,"btn","btn-primary",3,"click"],["id","ledger_closing_modal","role","dialog",1,"modal","custom-modal","fade"],[1,"modal-header","ledger-closing-header"],[1,"modal-title","ledger-closing-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","accountModal","d-none"],[1,"modal-body","ledge-closing-body"],[1,"mb-0","modal-body-text"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4,"Year End Closing Process"),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h3",8),e._uU(10,"Things to take-care:"),e.qZA()(),e.TgZ(11,"div",9)(12,"p",10),e._uU(13,"1. The process take 4 hours or more."),e.qZA(),e.TgZ(14,"p",10),e._uU(15,"2. During the process, avoid using the system. We recommend to start the process before/after your business hours. "),e.qZA(),e.TgZ(16,"p",10),e._uU(17,"3. Once year end closing process is completed, please change the Voucher Prefix is required, as per new year. (Optional) "),e.qZA(),e.TgZ(18,"p",10),e._uU(19," Go to Settings > General Settings > Prefix"),e.qZA()()(),e.TgZ(20,"div",11)(21,"div",12)(22,"h5"),e._uU(23,"1. What is it?"),e.qZA(),e.TgZ(24,"p",10),e._uU(25,"It is the completion of the accounting period when businesses close their accounts for financial year, so they can prepare profit and loss account and balance sheet. It is the procedure to close books. "),e.qZA(),e.TgZ(26,"h5"),e._uU(27,"Why to do it?"),e.qZA(),e.TgZ(28,"p",10),e._uU(29,"It helps to identify and balances or definition process identifies any balances or deficits on the company books, which are then carried over into the new fiscal year. It lets you create more realistic budgets based on what was actually spent in the previous year. "),e.qZA(),e.TgZ(30,"h5"),e._uU(31,"When to do?"),e.qZA(),e.TgZ(32,"p",10),e._uU(33,"As per your year-end closing date that best fits your industry and business performance. "),e.qZA()()()()(),e.TgZ(34,"div",13)(35,"div",14)(36,"div",15)(37,"span",16),e._uU(38,"Step 1"),e.qZA(),e.TgZ(39,"h4",17),e._uU(40,"Stock Closing"),e.qZA()(),e.TgZ(41,"div",18)(42,"button",19)(43,"span",20),e._uU(44," Proceed"),e.qZA(),e._UZ(45,"i",21),e.qZA()()(),e.TgZ(46,"div",22)(47,"div",15)(48,"span",16),e._uU(49,"Step 2"),e.qZA(),e.TgZ(50,"h4",17),e._uU(51,"Ledger Closing"),e.qZA()(),e.TgZ(52,"div",18)(53,"button",23)(54,"span",20),e._uU(55," Proceed"),e.qZA(),e._UZ(56,"i",21),e.qZA()()()()()(),e.TgZ(57,"div",24)(58,"div",25)(59,"div",26)(60,"div",27)(61,"h5",28),e._uU(62,"Do you want to Close the Financial Year?"),e.qZA(),e.TgZ(63,"button",29)(64,"span",30),e._uU(65,"\xd7"),e.qZA()()(),e.TgZ(66,"div",31)(67,"form")(68,"div",32)(69,"label"),e._uU(70,"Current financial Year "),e.TgZ(71,"span",33),e._uU(72,"*"),e.qZA()(),e.TgZ(73,"input",34),e.NdJ("ngModelChange",function(l){return o.current_financial_year=l}),e.qZA()(),e.TgZ(74,"div",32)(75,"label"),e._uU(76,"Next Financial Year "),e.TgZ(77,"span",33),e._uU(78,"*"),e.qZA()(),e.TgZ(79,"div",35)(80,"input",36),e.NdJ("ngModelChange",function(l){return o.next_financial_year=l}),e.qZA()()(),e.TgZ(81,"div",37)(82,"button",38),e._uU(83,"Cancel"),e.qZA(),e.TgZ(84,"button",39),e.NdJ("click",function(){return o.preview()}),e._uU(85,"Preview"),e.qZA(),e.TgZ(86,"button",40),e.NdJ("click",function(){return o.submit()}),e._uU(87,"Submit"),e.qZA()()()()()()(),e.TgZ(88,"div",41)(89,"div",25)(90,"div",26)(91,"div",42)(92,"h5",43),e._uU(93,"Are You Sure You Want To Transfer?"),e.qZA(),e.TgZ(94,"button",44)(95,"span",30),e._uU(96,"\xd7"),e.qZA()()(),e.TgZ(97,"div",45)(98,"ol")(99,"li"),e._uU(100,"Once You Start The Process, You Won't Be Able To Close The System Else You Need To Perform The Whole Process Again "),e.qZA(),e.TgZ(101,"li"),e._uU(102,"Once The System Completes The Transfer Process System Will Auto Logo Out The Merchant"),e.qZA(),e.TgZ(103,"li"),e._uU(104,"After Completing This Process Last Year's Closing Will Become The New Year's Opening"),e.qZA(),e.TgZ(105,"li"),e._uU(106,"Based On Your Data System Will Take Time, Thank You For Your Patience In Advance"),e.qZA()(),e.TgZ(107,"p",46),e._uU(108,"After The Transfer Is Complete System Will Logout"),e.qZA(),e.TgZ(109,"div",37)(110,"button",38),e._uU(111,"Cancel"),e.qZA(),e.TgZ(112,"button",39),e.NdJ("click",function(){return o.ClosingAccountPreview()}),e._uU(113,"Preview"),e.qZA(),e.TgZ(114,"button",40),e.NdJ("click",function(){return o.closingAccountFinancialYear()}),e._uU(115,"Yes, Transfer It!"),e.qZA()()()()()()),2&n&&(e.xp6(73),e.Q6J("ngModel",o.current_financial_year),e.xp6(7),e.Q6J("ngModel",o.next_financial_year))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.On,r.F],styles:[".title-wrapper[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#000}.card-list-wrapper[_ngcontent-%COMP%]{background-color:#ff000012}.card-title[_ngcontent-%COMP%]{color:#f007!important}.card-description-wrapper[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:18px;color:#000;font-weight:500}.card-content-wrapper[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#000}.card-content-wrapper[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-weight:500;color:#000}.stock-closing-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600}.badge-btn[_ngcontent-%COMP%]{background-color:#ffa600!important;color:#fff!important;font-size:20px;padding:10px 30px}.completed-text[_ngcontent-%COMP%]{font-size:20px;color:#4ed44e}.check-icon[_ngcontent-%COMP%]{color:#4ed44e;font-size:28px}.stock-closing-card-wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:15px}.processed-text[_ngcontent-%COMP%]{color:#000000a6;font-size:20px}.double-right-arrow[_ngcontent-%COMP%]{font-size:28px;color:#000000a6}ol[_ngcontent-%COMP%]{list-style:auto;padding:0 16px}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000;margin-bottom:12px}.ledger-closing-header[_ngcontent-%COMP%], .ledge-closing-body[_ngcontent-%COMP%]{padding:16px 24px;color:#000}.ledger-closing-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.modal-body-text[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000;margin-bottom:12px}"]}),t})()}];let h=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[s.Bz.forChild(f),s.Bz]}),t})();var _=i(8468);let b=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,h,_.I]}),t})()}}]);