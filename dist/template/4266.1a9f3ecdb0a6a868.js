"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[4266],{64266:(Z,h,o)=>{o.r(h),o.d(h,{DetailStockVerificationModule:()=>z});var l=o(36895),g=o(4392),v=o(4159),O=o.n(v),P=o(96166),t=o(94650),r=o(97185),b=o(42236),p=o(80927),m=o(97392);function u(n,a){if(1&n&&(t.TgZ(0,"div",22)(1,"a",23),t._UZ(2,"img",24),t._uU(3,"Edit Stock Verification "),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.MGl("routerLink","//inventory/update-stock-transfer/",null==e.stockVerifactionDetail?null:e.stockVerifactionDetail.id,"")}}function s(n,a){1&n&&(t.TgZ(0,"div",55)(1,"button",56),t._uU(2," Approve "),t.qZA(),t.TgZ(3,"button",57),t._uU(4," Reject "),t.qZA()())}function f(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA()()),2&n){const e=a.$implicit,i=a.index;t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(null==e?null:e.item_code),t.xp6(2),t.Oqu(null==e?null:e.item_name),t.xp6(2),t.Oqu(null==e?null:e.unit),t.xp6(2),t.Oqu(null==e?null:e.system_qty),t.xp6(2),t.Oqu(null==e?null:e.physical_qty),t.xp6(2),t.Oqu(null==e?null:e.discrepancy),t.xp6(2),t.Oqu(null==e?null:e.reason_for_adjustment)}}function _(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA()()),2&n){const e=a.$implicit,i=a.index;t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(null==e?null:e.userid),t.xp6(2),t.Oqu(null==e?null:e.operation_type),t.xp6(2),t.Oqu(t.xi3(9,4,null==e?null:e.date_time,"dd-MM-yyyy hh:mm:ss a"))}}function C(n,a){if(1&n&&(t.TgZ(0,"div",50)(1,"div",44)(2,"div",4)(3,"p",51),t._uU(4,"Logs Details"),t.qZA()(),t.TgZ(5,"div",52)(6,"div")(7,"table")(8,"thead")(9,"tr")(10,"th"),t._uU(11,"#"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"User"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Operation Type"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Date Time"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,_,10,7,"tr",53),t.qZA()()()()()()),2&n){const e=t.oxw(2);t.xp6(19),t.Q6J("ngForOf",null==e.stockVerifactionDetail?null:e.stockVerifactionDetail.logs)}}function M(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",29)(5,"div",30)(6,"div",31)(7,"span",32),t._uU(8),t.qZA()(),t.TgZ(9,"div",33),t.YNc(10,s,5,0,"div",34),t.TgZ(11,"div",33)(12,"button",35),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.printForm())}),t._UZ(13,"img",36),t.qZA(),t.TgZ(14,"button",37),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.generatePdf())}),t._UZ(15,"i",38),t.qZA()()()(),t.TgZ(16,"div",39)(17,"div",40)(18,"div",41)(19,"p",42),t._uU(20,"Stock Transfer Details"),t.qZA()(),t.TgZ(21,"div",43)(22,"div",44)(23,"div",45)(24,"div",46)(25,"table",47)(26,"thead")(27,"tr")(28,"th",48),t._uU(29,"Sr.No. "),t.qZA(),t.TgZ(30,"th",48),t._uU(31,"Voucher Date"),t.qZA(),t.TgZ(32,"th",48),t._uU(33,"Voucher No"),t.qZA(),t.TgZ(34,"th",48),t._uU(35,"Updater Name"),t.qZA()()(),t.TgZ(36,"tbody")(37,"tr")(38,"td"),t._uU(39),t.qZA(),t.TgZ(40,"td",49),t._uU(41),t.qZA(),t.TgZ(42,"td",49),t._uU(43),t.qZA(),t.TgZ(44,"td",49),t._uU(45),t.qZA()()()()()()()(),t.TgZ(46,"div",50)(47,"div",44)(48,"div",4)(49,"p",51),t._uU(50,"Product Details"),t.qZA()(),t.TgZ(51,"div",52)(52,"div")(53,"table")(54,"thead")(55,"tr")(56,"th"),t._uU(57,"#"),t.qZA(),t.TgZ(58,"th"),t._uU(59,"Barcode/SKU"),t.qZA(),t.TgZ(60,"th"),t._uU(61,"Product Name"),t.qZA(),t.TgZ(62,"th"),t._uU(63,"Unit"),t.qZA(),t.TgZ(64,"th"),t._uU(65,"System qty"),t.qZA(),t.TgZ(66,"th"),t._uU(67,"Physical qty"),t.qZA(),t.TgZ(68,"th"),t._uU(69,"Difference qty"),t.qZA(),t.TgZ(70,"th"),t._uU(71,"Remark"),t.qZA()()(),t.TgZ(72,"tbody"),t.YNc(73,f,17,8,"tr",53),t.qZA()()()(),t.TgZ(74,"div",45)(75,"p"),t._uU(76,"Please notify us on any disrepancies within 3 days of receipt "),t._UZ(77,"br"),t._uU(78," Overdue invoices will be charged 24% interest. "),t.qZA()()()(),t.YNc(79,C,20,1,"div",54),t.qZA()()()()()()()}if(2&n){const e=t.oxw();t.xp6(7),t.Q6J("ngClass",e.getBadgeClass(null==e.stockVerifactionDetail?null:e.stockVerifactionDetail.status)),t.xp6(1),t.Oqu(null==e.stockVerifactionDetail?null:e.stockVerifactionDetail.status),t.xp6(2),t.Q6J("ngIf","admin"===(null==e.userDetails?null:e.userDetails.role)&&"Pending"===(null==e.stockVerifactionDetail?null:e.stockVerifactionDetail.status)),t.xp6(29),t.Oqu(1),t.xp6(2),t.hij(" ",null==e.stockVerifactionDetail?null:e.stockVerifactionDetail.voucher_date,""),t.xp6(2),t.hij(" ",null==e.stockVerifactionDetail?null:e.stockVerifactionDetail.voucher_no,""),t.xp6(2),t.hij(" ",null==e.stockVerifactionDetail?null:e.stockVerifactionDetail.updater_name,""),t.xp6(28),t.Q6J("ngForOf",null==e.stockVerifactionDetail?null:e.stockVerifactionDetail.cart),t.xp6(6),t.Q6J("ngIf",(null==e.stockVerifactionDetail||null==e.stockVerifactionDetail.logs?null:e.stockVerifactionDetail.logs.length)>0)}}const T=[{path:"",component:(()=>{class n{constructor(e,i,c,d,x){this.Arout=e,this.toastr=i,this.stockService=c,this.location=d,this.coreService=x,this.totalPurchase=[],this.totalPurchaseRate=0,this.totalmrp=[],this.totalMrp=0,this.totallanding=[],this.totalLandingCost=0,this.loaderPdf=!1}ngOnInit(){this.id=this.Arout.snapshot.paramMap.get("id"),this.getdata(),this.coreService.profileDetails.subscribe(e=>{this.userDetails=e})}getdata(){this.stockService.getStockVerificationById(this.id).subscribe(e=>{this.id==e.id&&(this.stockVerifactionDetail=e)})}goBack(){this.location.back()}getBadgeClass(e){switch(e){case"Pending":return"pending-status-badge";case"Approved":return"approve-status-badge";case"Rejected":return"reject-status-badge";default:return""}}approve(){let e=Number(this.id);const i=new FormData;i.append("id",e),i.append("status","Approved"),this.stockService.stockVerificationStatusUpdate(i).subscribe(c=>{console.log(c),this.getdata(),document.querySelector(".closeApprovalModal").click()})}reject(){let e=Number(this.id);const i=new FormData;i.append("id",e),i.append("status","Rejected"),this.stockService.stockVerificationStatusUpdate(i).subscribe(c=>{console.log(c),this.getdata(),document.querySelector(".closeRejectModal").click()})}generatePdf(){this.loaderPdf=!0;const e=document.getElementById("debitNote");e&&O()(e).then(i=>{this.loaderPdf=!1;const c=i.toDataURL("image/png"),d=new P.default("p","mm","a4"),x=d.internal.pageSize.getWidth(),F=d.internal.pageSize.getHeight();d.addImage(c,"JPEG",0,0,x,F),d.save("stockVerification.pdf")})}printForm(){const e=document.getElementById("debitNote").outerHTML,i=document.body.innerHTML;document.body.innerHTML=e,window.print(),document.body.innerHTML=i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.gz),t.Y36(r._W),t.Y36(b.q),t.Y36(l.Ye),t.Y36(p.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-detail-stock-verification"]],decls:43,vars:2,consts:[[1,"row","bg"],[1,"card"],[1,"card-body"],[1,"page-header"],[1,"page-title"],[1,"subhead-color",3,"click"],[2,"vertical-align","middle"],["class","page-btn",4,"ngIf"],["class","company-details-card card",4,"ngIf"],["id","approval_modal","role","dialog",1,"modal","custom-modal","fade"],["role","document",1,"modal-dialog","modal-md","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","approve-modal-wrapper"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","closeApprovalModal","close-wrapper"],["aria-hidden","true"],[1,"modal-title"],[1,"modal-body","approve-modal-wrapper"],[1,"mt-2","d-flex","justify-content-end","align-items-center"],[1,"btn","btn-primary","me-3",3,"click"],["data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger","m-0"],["id","reject_modal","role","dialog",1,"modal","custom-modal","fade"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","closeRejectModal","close-wrapper"],[1,"page-btn"],[1,"btn","btn-added",3,"routerLink"],["src","assets/img/icons/edit.svg","alt","img",1,"me-1"],[1,"company-details-card","card"],[1,"sub-card","row"],[1,"content-part","my-3"],[1,"container","py-10"],[1,"py-3"],[1,"d-flex","justify-content-between","align-items-center","container","mb-3"],[1,"ps-2","ms-1"],[1,"badge","p-2",3,"ngClass"],[1,"d-flex","align-items-center"],["class","me-3",4,"ngIf"],["data-bs-toggle","tooltip","title","print",1,"me-3","d-flex","border-0","bg-white",3,"click"],["src","assets/img/icons/printer.svg","alt","img",1,"print-icon-wrapper"],[1,"chat-attach-download","border-0","bg-white",3,"click"],[1,"fas","fa-download","download-icon"],["id","debitNote",1,"outer","container"],["id","doc-target",1,"pdf-div"],[1,"page-title","mb-3"],[1,"heading"],[1,"pdf-table1","mb-4"],[1,"container"],[1,"col-sm-12"],[1,"table-responsive"],[1,"table","datanew"],[1,"thone",2,"white-space","normal !important"],[2,"color","black"],[1,"pdf-table2","mb-4"],[2,"color","#FF9F43","font-size","16px"],[1,"col-sm-12","mb-3"],[4,"ngFor","ngForOf"],["class","pdf-table2 mb-4",4,"ngIf"],[1,"me-3"],["data-bs-toggle","modal","data-bs-target","#approval_modal",1,"btn","approve-status-badge","me-3"],["data-bs-toggle","modal","data-bs-target","#reject_modal",1,"btn","reject-status-badge"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6",5),t.NdJ("click",function(){return i.goBack()}),t.TgZ(6,"mat-icon",6),t._uU(7,"keyboard_backspace"),t.qZA(),t._uU(8," Back to Stock Verification"),t.qZA(),t.TgZ(9,"h4"),t._uU(10,"New Stock Verification"),t.qZA()(),t.YNc(11,u,4,1,"div",7),t.qZA(),t.YNc(12,M,80,9,"div",8),t.qZA()(),t.TgZ(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"button",13)(18,"span",14),t._uU(19,"\xd7"),t.qZA()(),t.TgZ(20,"h5",15),t._uU(21,"Are you sure you want to approve stock verification?"),t.qZA()(),t.TgZ(22,"div",16)(23,"div",17)(24,"button",18),t.NdJ("click",function(){return i.approve()}),t._uU(25,"Submit"),t.qZA(),t.TgZ(26,"button",19),t._uU(27,"Cancel"),t.qZA()()()()()(),t.TgZ(28,"div",20)(29,"div",10)(30,"div",11)(31,"div",12)(32,"button",21)(33,"span",14),t._uU(34,"\xd7"),t.qZA()(),t.TgZ(35,"h5",15),t._uU(36,"Are you sure you want to reject stock verification?"),t.qZA()(),t.TgZ(37,"div",16)(38,"div",17)(39,"button",18),t.NdJ("click",function(){return i.reject()}),t._uU(40,"Submit"),t.qZA(),t.TgZ(41,"button",19),t._uU(42,"Cancel"),t.qZA()()()()()()()),2&e&&(t.xp6(11),t.Q6J("ngIf","Dispatched"==(null==i.stockVerifactionDetail?null:i.stockVerifactionDetail.status)),t.xp6(1),t.Q6J("ngIf",i.stockVerifactionDetail))},dependencies:[l.mk,l.sg,l.O5,g.yS,m.Hw,l.uU],styles:[".upper-nav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25%}.p-24[_ngcontent-%COMP%]{color:#2b2b2b;font-size:28px;font-weight:500}.p-14[_ngcontent-%COMP%]{color:#9c9c9c;font-size:14px}.lower-nav[_ngcontent-%COMP%]{display:flex;padding-bottom:20px}.container-fluid[_ngcontent-%COMP%]{padding:0 50px}.p-12[_ngcontent-%COMP%]{color:#000;font-size:12px}.p-14-500[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.purple[_ngcontent-%COMP%]{color:#c408a2;font-size:16px;font-weight:600}.invoice-3-sec[_ngcontent-%COMP%]{padding:30px 0;border-top:2px solid #eeeeee;border-bottom:2px solid #eeeeee}.invoice-1-sec[_ngcontent-%COMP%]{padding:0 0 30px;border-bottom:2px solid #eeeeee}.w-65[_ngcontent-%COMP%]{width:35%}.invoice-2-sec[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoice-2-sec[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;font-size:14px}.invoice-2-sec[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.invoice-2-sec[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f8f8f8}.invoice-2-sec[_ngcontent-%COMP%]{padding:30px 0}.invoice-1-sec[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none}.invoice-1-sec[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoice-1-sec[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0}.invoice-3-sec[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none}.p-16[_ngcontent-%COMP%]{font-size:14px}.invoice-3-sec[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0!important}.invoice-3-sec[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-right:30px!important;font-size:14px}.invoice-2-sec[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoice-2-sec[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #eee}.table_1[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between}.invoice-section[_ngcontent-%COMP%]{margin-top:100px;padding:50px}.table_amt[_ngcontent-%COMP%]{margin-bottom:30px}#doc-target[_ngcontent-%COMP%]{font-family:sans-serif;-webkit-font-smoothing:antialiased;color:#000;line-height:1.6em;margin:0 auto}#outer[_ngcontent-%COMP%]{padding:72pt;border:1px solid #000;margin:0 auto;width:100%}.pdf-div[_ngcontent-%COMP%]{background:white}.right-top[_ngcontent-%COMP%]{color:#000}.right-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2px;font-size:14px;letter-spacing:1px;font-weight:500;text-transform:uppercase}.right-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-weight:600;margin:0}.right-top[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:12px;font-size:48px;letter-spacing:.8px}.right-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.left-top[_ngcontent-%COMP%]{color:#000;padding:20px 0}.left-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;margin-bottom:2px;font-size:14px;letter-spacing:1px;font-weight:500;text-transform:uppercase}.gst[_ngcontent-%COMP%]{font-weight:600!important;margin:0}.left-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.left-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35%}.top[_ngcontent-%COMP%]{padding-bottom:20px;border-bottom:2px solid #eee}.pdf-payment-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.pdf-pd[_ngcontent-%COMP%]{display:flex}.pdf-pd[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-weight:400;letter-spacing:.1px}.pdf-pd-right[_ngcontent-%COMP%]{margin-left:20px}.pdf-payment[_ngcontent-%COMP%]{padding:20px 0;border-top:2px solid #eee;border-bottom:2px solid #eee}.pdf-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;padding-top:15px;font-size:12px;font-weight:400;letter-spacing:.1px}.pdf-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase}.pdf-table2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .pdf-table2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #000;border-collapse:collapse;font-weight:500;font-size:14px;letter-spacing:.1px;margin:0;padding:0}.pdf-table2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.pdf-table2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px;color:#212b36;background-color:#ff9f43;text-align:center;vertical-align:middle;font-weight:600}.pdf-table2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:5px}.pdf-table2[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #000;font-weight:400;color:#000;font-size:13px}.pdf-table2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:600;letter-spacing:.1px}.pdf-address[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:400;letter-spacing:.1px}.pdf-address[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{color:#ff9f43;font-weight:600;text-transform:uppercase;margin-bottom:5px}.pdf-address[_ngcontent-%COMP%]   .heading2[_ngcontent-%COMP%]{font-size:15px;font-weight:400;letter-spacing:1px;line-height:1.6}.pdf-table1[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#FF9F43;border-bottom:3px solid #FF9F43}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:25px 10px}button[_ngcontent-%COMP%]{margin-right:8px}.heading[_ngcontent-%COMP%]{color:#ff9f43;font-size:16px;font-weight:600;text-align:center}.select[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:40%;font-size:14px;font-weight:500;color:#637381;padding:10px 8px;border-radius:5px}.print-icon-wrapper[_ngcontent-%COMP%]{height:24px}.download-icon[_ngcontent-%COMP%]{color:#848080;font-size:24px}.pending-status-badge[_ngcontent-%COMP%]{color:#fff;background-color:#ff9f43;font-size:16px}.approve-status-badge[_ngcontent-%COMP%]{color:#fff;background-color:#5cb85c;font-size:16px}.reject-status-badge[_ngcontent-%COMP%]{color:#fff;background-color:#d9534f;font-size:16px}.approve-modal-wrapper[_ngcontent-%COMP%]{padding:20px}.close-wrapper[_ngcontent-%COMP%]{top:10px;right:10px;position:absolute}"]}),n})(),canActivate:[o(30597).l],data:{allowedRoles:["view_stockverification"]}}];let A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(T),g.Bz]}),n})();var U=o(8468),y=o(3848),S=o(95113),w=o(56709),q=o(90455),V=o(24006);let z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.ez,A,U.I,y.Nh,m.Ps,S.LD,w.p9,q.rP,V.u5]}),n})()},30597:(Z,h,o)=>{o.d(h,{l:()=>t});var l=o(94650),g=o(4392),v=o(97185),O=o(42917),P=o(80927);let t=(()=>{class r{constructor(p,m,u,s,f){this.router=p,this.Arout=m,this.toastr=u,this.profileService=s,this.coreService=f}canActivate(p,m){const u=JSON.parse(localStorage.getItem("auth"));if(this.profileService.userDetails$.subscribe(s=>{this.userDetails=s,this.permissions=this.userDetails?.permission}),u){const s=p.data.allowedRoles;console.log(s,"allowedRoles");const f=u.some(_=>s.includes(_.codename));if(console.log(f),this.coreService.getProfile().subscribe(_=>{this.userDetails=_,this.profileService.setUserDetails(this.userDetails);const C=_?.permission,M=this.profileService.getUserDetails();(!M||M.length!==C.length)&&(this.profileService.setUserPermission(C),window.location.reload())}),f)return!0}return this.toastr.error("User have Not Permission to Access This page"),this.router.navigate(["/dashboard"]),!1}}return r.\u0275fac=function(p){return new(p||r)(l.LFG(g.F0),l.LFG(g.gz),l.LFG(v._W),l.LFG(O.J),l.LFG(P.p))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}]);