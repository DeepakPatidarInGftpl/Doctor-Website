"use strict";var Il=Object.defineProperty,kl=(O,T,m)=>T in O?Il(O,T,{enumerable:!0,configurable:!0,writable:!0,value:m}):O[T]=m,b=(O,T,m)=>(kl(O,"symbol"!=typeof T?T+"":T,m),m);(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[86127],{86127:(O,T,m)=>{m.r(T),m.d(T,{PosModule:()=>Nl});var f=m(36895),x=m(4392),at=m(49671),j=m(80529),l=m(24006),nt=m(50727),z=m(39646),F=m(54968),rt=m(56451),vt=m(69751),M=m(68675),P=m(54004),I=m(18505),B=m(39300),L=m(71884),S=m(78372),w=m(63900),k=m(70262),U=m(28746),st=m(69718),ot=m(31446),W=m(96166),t=m(94650),E=m(71071),xt=m(76396),J=m(97185),yt=m(1809),V=m(47537),Ct=m(53989),lt=m(80927),Zt=m(42917),bt=m(61135),At=m(34986),Tt=m(5963);const qt=new t.OlP("ConnectionServiceOptionsToken"),ct={hasInternetAccess:!0,hasNetworkConnection:window.navigator.onLine},dt="http://localhost:3000";var R=(()=>{return(i=R||(R={})).HEAD="head",i.GET="get",i.POST="post",i.PUT="put",i.OPTIONS="options",R;var i})();const ut={enableHeartbeat:!1,heartbeatUrl:dt,heartbeatInterval:1e3,heartbeatRetryInterval:1e3,requestMethod:R.HEAD},K=class{constructor(r,e){b(this,"http"),b(this,"currentState",ct),b(this,"serviceOptions",ut),b(this,"subscription",new nt.w0),b(this,"httpSubscription",new nt.w0),b(this,"stateChanged$",new bt.X(ct)),this.http=r,this.serviceOptions={...ut,...e},this.checkNetworkState(),this.serviceOptions.enableHeartbeat&&this.checkInternetState()}checkNetworkState(){this.subscription.add((0,F.R)(window,"online").subscribe(()=>{this.currentState.hasNetworkConnection=!0,this.checkInternetState(),this.publishState()})),this.subscription.add((0,F.R)(window,"offline").subscribe(()=>{this.currentState.hasNetworkConnection=!1,this.checkInternetState(),this.publishState()}))}checkInternetState(){var r=this;this.serviceOptions.enableHeartbeat?this.subscription=function Pt(i=0,r=At.z){return i<0&&(i=0),(0,Tt.H)(i,i,r)}(3e3).pipe((0,w.w)((0,at.Z)(function*(){return r.http[r.serviceOptions.requestMethod||R.HEAD](r.serviceOptions.heartbeatUrl||dt,{responseType:"text"}).subscribe({next:e=>{r.currentState.hasInternetAccess=!0,r.publishState()},error:e=>{throw r.currentState.hasInternetAccess=!1,r.publishState(),e}})}))).subscribe(e=>{}):(this.currentState.hasInternetAccess=!1,this.publishState())}publishState(){this.stateChanged$.next(this.currentState)}monitor(r){return r&&(this.serviceOptions={...this.serviceOptions,...r}),this.serviceOptions.enableHeartbeat&&this.checkInternetState(),this.stateChanged$}ngOnDestroy(){this.subscription.unsubscribe()}};let Q=K;b(Q,"\u0275fac",function(e){return new(e||K)(t.LFG(j.eN),t.LFG(qt,8))}),b(Q,"\u0275prov",t.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}));const et=class{};let D=et;b(D,"\u0275fac",function(e){return new(e||et)}),b(D,"\u0275mod",t.oAB({type:et})),b(D,"\u0275inj",t.cJS({providers:[Q],imports:[j.JF]}));var _t=m(25062),A=m(47957),G=m(3238),Mt=m(73162),X=m(43443),$=m(59549),H=m(44144);function It(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",44),t.NdJ("onSelectionChange",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.oncheck(a))}),t._uU(1),t.qZA()}if(2&i){const e=r.$implicit;t.Q6J("value",e.company_name+" "+e.name),t.xp6(1),t.Oqu(e.company_name+" "+e.name)}}function kt(i,r){1&i&&(t.TgZ(0,"mat-option",47)(1,"a",48),t._uU(2,"+ Add Supplier"),t.qZA()()),2&i&&t.Q6J("value","No data found")}function Ut(i,r){1&i&&(t.TgZ(0,"mat-option",49),t._uU(1,"Please Enter 3 or more characters"),t.qZA())}function Ot(i,r){if(1&i&&(t.ynx(0),t.YNc(1,kt,3,1,"mat-option",45),t.YNc(2,Ut,2,0,"mat-option",46),t.BQk()),2&i){const e=r.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.supplierControl.value?null:n.supplierControl.value.length)<3)}}function Ft(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Select Supplier "),t.qZA())}function St(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Enter Date"),t.qZA())}function wt(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Enter Mode Type"),t.qZA())}function Jt(i,r){if(1&i&&(t.TgZ(0,"option",47),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.prefix)}}function Vt(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Select Payment Voucher No"),t.qZA())}function Qt(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Enter Amount"),t.qZA())}function Dt(i,r){if(1&i&&(t.TgZ(0,"option",47),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",e.title," ")}}function Yt(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Select Payment Account"),t.qZA())}function Bt(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Enter Description"),t.qZA())}function Lt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"span",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.addCart())}),t._uU(1,"Add Cart+"),t.qZA()}}function Et(i,r){if(1&i){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",75),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.addCart())}),t._UZ(1,"path",62)(2,"path",76),t.qZA()}}function Rt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",44),t.NdJ("onSelectionChange",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw().index,s=t.oxw(3);return t.KtG(s.oncheck3(o,a))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.refrence_bill_no),t.xp6(1),t.hij(" ",null==e?null:e.refrence_bill_no," ")}}function Gt(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Rt,2,2,"mat-option",77),t.BQk()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==(null==e?null:e.is_active))}}function $t(i,r){1&i&&(t.TgZ(0,"mat-option",47)(1,"a",78),t._uU(2,"+ Add Purchase Bill"),t.qZA()()),2&i&&t.Q6J("value","No data found")}function Ht(i,r){1&i&&(t.TgZ(0,"mat-option",49),t._uU(1," Please Enter 1 or more characters "),t.qZA())}function Kt(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Select Purchase Bill"),t.qZA())}function jt(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Enter Original Amount "),t.qZA())}function zt(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Enter debit Paid Amount"),t.qZA())}function Wt(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Enter Pending Amount"),t.qZA())}function Xt(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Enter Payment"),t.qZA())}function te(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"span",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,a=t.oxw(3);return t.KtG(a.debitNoteCartIndex1(o))}),t._uU(1,"Redeem Debit Note"),t.qZA()}}function ee(i,r){if(1&i){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",75),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3).index,a=t.oxw(3);return t.KtG(a.addDebitNoteCartForm1(o))}),t._UZ(1,"path",62)(2,"path",76),t.qZA()}}function ne(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",44),t.NdJ("onSelectionChange",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw().index,s=t.oxw(2).index,c=t.oxw(3);return t.KtG(c.oncheckBankDebit1(o,s,a))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.debit_note_no),t.xp6(1),t.hij(" ",null==e?null:e.debit_note_no," ")}}function oe(i,r){if(1&i&&(t.ynx(0),t.YNc(1,ne,2,2,"mat-option",77),t.BQk()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==(null==e?null:e.is_active))}}function ie(i,r){1&i&&(t.TgZ(0,"mat-option",47)(1,"a",86),t._uU(2,"+ Add Debit Note"),t.qZA()()),2&i&&t.Q6J("value","No data found")}function ae(i,r){1&i&&(t.TgZ(0,"mat-option",49),t._uU(1," Please Enter 1 or more characters"),t.qZA())}function re(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",59)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"div")(6,"div",60),t.O4$(),t.TgZ(7,"svg",61),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(2).index,c=t.oxw(3);return t.KtG(c.removeDebitNoteForm1(s,a))}),t._UZ(8,"path",62)(9,"path",63),t.qZA()(),t.YNc(10,ee,3,0,"svg",64),t.qZA()(),t.kcU(),t.TgZ(11,"td")(12,"div",65)(13,"mat-form-field",12)(14,"input",82),t.NdJ("input",function(o){t.CHM(e);const a=t.oxw(5);return t.KtG(a.getFilterDebit(o.target.value))}),t.qZA(),t.TgZ(15,"mat-autocomplete",null,83),t.YNc(17,oe,2,1,"ng-container",57),t.YNc(18,ie,3,1,"mat-option",45),t.YNc(19,ae,2,0,"mat-option",46),t.qZA()()()(),t.TgZ(20,"td"),t._UZ(21,"input",69),t.qZA(),t.TgZ(22,"td"),t._UZ(23,"input",84),t.qZA(),t.TgZ(24,"td"),t._UZ(25,"input",71),t.qZA(),t.TgZ(26,"td"),t._UZ(27,"input",85),t.qZA()(),t.BQk()}if(2&i){const e=r.index,n=t.MAs(16),o=t.oxw(2).index,a=t.oxw(3);let s;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(2),t.Oqu(e+1+"."),t.xp6(7),t.Q6J("ngIf",a.isLastDebitNote1(o,e)),t.xp6(4),t.Q6J("formControl",a.debitNoteControl.at(e))("matAutocomplete",n),t.xp6(3),t.Q6J("ngForOf",a.filterdebitNote),t.xp6(1),t.Q6J("ngIf",0===(null==a.filterdebitNote?null:a.filterdebitNote.length)),t.xp6(1),t.Q6J("ngIf",(null==(s=a.debitNoteControl.at(o))||null==s.value?null:s.value.length)<1)}}function se(i,r){if(1&i&&(t.TgZ(0,"div",80)(1,"table",53)(2,"thead")(3,"tr")(4,"td"),t._uU(5,"#"),t.qZA(),t._UZ(6,"th"),t.TgZ(7,"th"),t._uU(8,"Debit Note"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Original Amount"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Redeem Amount"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Pending Amount"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Amount"),t.qZA()()(),t.TgZ(17,"tbody"),t.ynx(18,81),t.YNc(19,re,28,8,"ng-container",57),t.BQk(),t.qZA()()()),2&i){const e=t.oxw().index,n=t.oxw(3);t.xp6(19),t.Q6J("ngForOf",n.getDebitNoteCartForm1(e).controls)}}function le(i,r){if(1&i){const e=t.EpF();t.ynx(0)(1,59),t.TgZ(2,"tr")(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div")(7,"div",60),t.O4$(),t.TgZ(8,"svg",61),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(3);return t.KtG(s.removeCart(a))}),t._UZ(9,"path",62)(10,"path",63),t.qZA()(),t.YNc(11,Et,3,0,"svg",64),t.qZA()(),t.kcU(),t.TgZ(12,"td")(13,"div",65)(14,"mat-form-field",12)(15,"input",66),t.NdJ("input",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.getFilter(o.target.value))}),t.qZA(),t.TgZ(16,"mat-autocomplete",null,67),t.YNc(18,Gt,2,1,"ng-container",57),t.YNc(19,$t,3,1,"mat-option",45),t.YNc(20,Ht,2,0,"mat-option",46),t.qZA()()(),t.YNc(21,Kt,2,0,"span",68),t.qZA(),t.TgZ(22,"td"),t._UZ(23,"input",69),t.YNc(24,jt,2,0,"span",68),t.qZA(),t.TgZ(25,"td"),t._UZ(26,"input",70),t.YNc(27,zt,2,0,"span",68),t.qZA(),t.TgZ(28,"td"),t._UZ(29,"input",71),t.YNc(30,Wt,2,0,"span",68),t.qZA(),t.TgZ(31,"td"),t._UZ(32,"input",72),t.YNc(33,Xt,2,0,"span",68),t.qZA()(),t.TgZ(34,"tr"),t._UZ(35,"td"),t.TgZ(36,"td",73),t.YNc(37,te,2,0,"span",55),t.YNc(38,se,20,1,"div",74),t.qZA()(),t.BQk()()}if(2&i){const e=r.index,n=t.MAs(17),o=t.oxw(3);let a;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.Oqu(e+1+"."),t.xp6(7),t.Q6J("ngIf",o.isLastCart(e)),t.xp6(4),t.Q6J("formControl",o.myControls.at(e))("matAutocomplete",n),t.xp6(3),t.Q6J("ngForOf",o.filterPurchaseBill),t.xp6(1),t.Q6J("ngIf",0===(null==o.filterPurchaseBill?null:o.filterPurchaseBill.length)),t.xp6(1),t.Q6J("ngIf",(null==(a=o.myControls.at(e))||null==a.value?null:a.value.length)<1),t.xp6(1),t.Q6J("ngIf",o.sale_bill(e)&&o.sale_bill(e).invalid&&o.sale_bill(e).touched),t.xp6(3),t.Q6J("ngIf",o.original_amount(e)&&o.original_amount(e).invalid&&o.original_amount(e).touched),t.xp6(3),t.Q6J("ngIf",o.paid_amount(e)&&o.paid_amount(e).invalid&&o.paid_amount(e).touched),t.xp6(3),t.Q6J("ngIf",o.pending_amount(e)&&o.pending_amount(e).invalid&&o.pending_amount(e).touched),t.xp6(3),t.Q6J("ngIf",o.payment(e)&&o.payment(e).invalid&&o.payment(e).touched),t.xp6(4),t.Q6J("ngIf",!o.isDebitNoteCart1[e]),t.xp6(1),t.Q6J("ngIf",o.isDebitNoteCart1[e])}}function ce(i,r){if(1&i&&(t.TgZ(0,"div",51)(1,"div",2)(2,"div",9)(3,"div",52)(4,"table",53)(5,"thead")(6,"tr")(7,"th"),t._uU(8,"#"),t.qZA(),t._UZ(9,"th"),t.TgZ(10,"th"),t._uU(11,"Purchase Bill"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Original Amount"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Paid Amount"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Pending Amount"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Payment"),t.qZA()(),t.TgZ(20,"tr")(21,"th",54),t.YNc(22,Lt,2,0,"span",55),t.qZA()()(),t.TgZ(23,"tbody"),t.ynx(24,56),t.YNc(25,le,39,15,"ng-container",57),t.BQk(),t.qZA()()()()()()),2&i){const e=t.oxw(2);t.xp6(22),t.Q6J("ngIf",e.isCart),t.xp6(3),t.Q6J("ngForOf",e.getCart().controls)}}function de(i,r){1&i&&(t.TgZ(0,"button",87),t._uU(1,"Submit"),t.qZA())}function ue(i,r){1&i&&(t.TgZ(0,"button",88),t._UZ(1,"span",89),t._uU(2,"\xa0 Submit"),t.qZA())}const q=function(i){return{"is-invalid":i}};function _e(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSubmit())}),t.TgZ(3,"div",4)(4,"div",5)(5,"input",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleCash())}),t.qZA(),t.TgZ(6,"label",7),t._uU(7,"Cash"),t.qZA()(),t.TgZ(8,"div",5)(9,"input",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleBank())}),t.qZA(),t.TgZ(10,"label",7),t._uU(11,"Bank"),t.qZA()()(),t.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"label"),t._uU(16,"Supplier*"),t.qZA(),t.TgZ(17,"mat-form-field",12),t._UZ(18,"input",13),t.TgZ(19,"mat-autocomplete",null,14),t.YNc(21,It,2,2,"mat-option",15),t.ALo(22,"async"),t.YNc(23,Ot,3,2,"ng-container",16),t.ALo(24,"async"),t.qZA()(),t.YNc(25,Ft,2,0,"span",17),t.qZA()(),t.TgZ(26,"div",18)(27,"div",11)(28,"label"),t._uU(29,"Date"),t.qZA(),t._UZ(30,"input",19),t.YNc(31,St,2,0,"span",17),t.qZA()(),t.TgZ(32,"div",20)(33,"div",11)(34,"div",9)(35,"div",21)(36,"div",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setRadioValue("On Account"))}),t.TgZ(37,"div",2)(38,"div",23),t._UZ(39,"input",24),t.TgZ(40,"label",25),t._uU(41,"On Account"),t.qZA()(),t.TgZ(42,"span",26),t._uU(43,"Upfront Payment"),t.qZA()()()(),t.TgZ(44,"div",21)(45,"div",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setRadioValue("Advance Payment"))}),t.TgZ(46,"div",2)(47,"div",23),t._UZ(48,"input",27),t.TgZ(49,"label",28),t._uU(50,"Advance Payment"),t.qZA()(),t.TgZ(51,"span",29),t._uU(52,"Will be offset by upcoming bills"),t.qZA()()()(),t.TgZ(53,"div",21)(54,"div",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setRadioValue("Against Bill"))}),t.TgZ(55,"div",2)(56,"div",23),t._UZ(57,"input",30),t.TgZ(58,"label",31),t._uU(59,"Against Bill"),t.qZA()(),t.TgZ(60,"span",29),t._uU(61,"Offset against Current Bills"),t.qZA()()()(),t.YNc(62,wt,2,0,"span",17),t.qZA()()(),t.TgZ(63,"div",21)(64,"div",11)(65,"label"),t._uU(66,"Payment Voucher No"),t.qZA(),t.TgZ(67,"select",32)(68,"option",33),t._uU(69,"Select Payment Voucher No"),t.qZA(),t.YNc(70,Jt,2,2,"option",34),t.qZA(),t.YNc(71,Vt,2,0,"span",17),t.qZA()(),t.TgZ(72,"div",21)(73,"div",11)(74,"label"),t._uU(75,"Amount"),t.qZA(),t._UZ(76,"input",35),t.YNc(77,Qt,2,0,"span",17),t.qZA()(),t.TgZ(78,"div",21)(79,"div",11)(80,"label"),t._uU(81,"Payment Account*"),t.qZA(),t.TgZ(82,"select",36)(83,"option",37),t._uU(84,"Select Payment Account "),t.qZA(),t.YNc(85,Dt,2,2,"option",34),t.qZA(),t.YNc(86,Yt,2,0,"span",17),t.qZA()(),t.TgZ(87,"div",21)(88,"div",11)(89,"label"),t._uU(90,"Description"),t.qZA(),t._UZ(91,"textarea",38),t.YNc(92,Bt,2,0,"span",17),t.qZA()(),t.YNc(93,ce,26,2,"div",39),t.TgZ(94,"div",40),t.YNc(95,de,2,0,"button",41),t.YNc(96,ue,3,0,"button",42),t.TgZ(97,"button",43),t._uU(98,"Cancel"),t.qZA()()()()()()}if(2&i){const e=t.MAs(20),n=t.oxw();t.xp6(2),t.Q6J("formGroup",n.paymentVoucherForm),t.xp6(3),t.Q6J("id","checkboxCash")("value","Cash"),t.xp6(1),t.Q6J("for","checkboxCash"),t.xp6(3),t.Q6J("id","checkbox-Bnak")("value","Bank"),t.xp6(1),t.Q6J("for","checkbox-Bnak"),t.xp6(8),t.Q6J("formControl",n.supplierControl)("matAutocomplete",e)("ngClass",t.VKq(36,q,n.h.supplier.touched&&n.h.supplier.invalid)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(22,32,n.filteredsupplier)),t.xp6(2),t.Q6J("ngIf",t.lcZ(24,34,n.filteredsupplier)),t.xp6(2),t.Q6J("ngIf",n.Supplier1&&n.Supplier1.invalid&&n.Supplier1.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(38,q,n.h.date.touched&&n.h.date.invalid)),t.uIk("min",n.minDate)("max",n.maxDate),t.xp6(1),t.Q6J("ngIf",n.date&&n.date.invalid&&n.date.touched),t.xp6(8),t.Q6J("value","On Account"),t.xp6(9),t.Q6J("value","Advance Payment"),t.xp6(9),t.Q6J("value","Against Bill"),t.xp6(5),t.Q6J("ngIf",n.mode_type&&n.mode_type.invalid&&n.mode_type.touched),t.xp6(8),t.Q6J("ngForOf",n.prefixNo),t.xp6(1),t.Q6J("ngIf",n.payment_voucher_no&&n.payment_voucher_no.invalid&&n.payment_voucher_no.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(40,q,n.h.amount.touched&&n.h.amount.invalid)),t.xp6(1),t.Q6J("ngIf",n.amount&&n.amount.invalid&&n.amount.touched),t.xp6(8),t.Q6J("ngForOf",n.accountListData),t.xp6(1),t.Q6J("ngIf",n.paymentVoucherForm.get("payment_account").invalid&&n.paymentVoucherForm.get("payment_account").touched),t.xp6(5),t.Q6J("ngClass",t.VKq(42,q,n.h.note.touched&&n.h.note.invalid)),t.xp6(1),t.Q6J("ngIf",n.description&&n.description.invalid&&n.description.touched),t.xp6(1),t.Q6J("ngIf",n.isAgainstBill),t.xp6(2),t.Q6J("ngIf",!n.loaders),t.xp6(1),t.Q6J("ngIf",n.loaders)}}function pe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",44),t.NdJ("onSelectionChange",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.oncheckBank(a))}),t._uU(1),t.qZA()}if(2&i){const e=r.$implicit;t.Q6J("value",e.company_name+" "+e.name),t.xp6(1),t.Oqu(e.company_name+" "+e.name)}}function me(i,r){1&i&&(t.TgZ(0,"mat-option",47)(1,"a",48),t._uU(2,"+ Add Supplier"),t.qZA()()),2&i&&t.Q6J("value","No data found")}function ge(i,r){1&i&&(t.TgZ(0,"mat-option",49),t._uU(1,"Please Enter 3 or more characters"),t.qZA())}function he(i,r){if(1&i&&(t.ynx(0),t.YNc(1,me,3,1,"mat-option",45),t.YNc(2,ge,2,0,"mat-option",46),t.BQk()),2&i){const e=r.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.supplierControl.value?null:n.supplierControl.value.length)<3)}}function fe(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Select Supplier "),t.qZA())}function ve(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Enter Date"),t.qZA())}function xe(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Select Transaction Date"),t.qZA())}function ye(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Enter Transaction Id"),t.qZA())}function Ce(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Enter Mode Type"),t.qZA())}function Ze(i,r){if(1&i&&(t.TgZ(0,"option",47),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.prefix)}}function be(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Select Payment Voucher No."),t.qZA())}function Ae(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Enter Amount"),t.qZA())}function Te(i,r){if(1&i&&(t.TgZ(0,"option",47),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",e.title," ")}}function Pe(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Select Payment Account"),t.qZA())}function qe(i,r){1&i&&(t.TgZ(0,"span",50),t._uU(1,"Enter Description"),t.qZA())}function Ne(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"span",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.addCartBank())}),t._uU(1,"Add Cart+"),t.qZA()}}function Me(i,r){if(1&i){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",75),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.addCartBank())}),t._UZ(1,"path",62)(2,"path",76),t.qZA()}}function Ie(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",44),t.NdJ("onSelectionChange",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw().index,s=t.oxw(3);return t.KtG(s.oncheckBank3(o,a))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.refrence_bill_no),t.xp6(1),t.hij(" ",null==e?null:e.refrence_bill_no," ")}}function ke(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Ie,2,2,"mat-option",77),t.BQk()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==(null==e?null:e.is_active))}}function Ue(i,r){1&i&&(t.TgZ(0,"mat-option",47)(1,"a",78),t._uU(2,"+ Add Purchase Bill"),t.qZA()()),2&i&&t.Q6J("value","No data found")}function Oe(i,r){1&i&&(t.TgZ(0,"mat-option",49),t._uU(1," Please Enter 1 or more characters "),t.qZA())}function Fe(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Select Purchase Bill"),t.qZA())}function Se(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Enter Original Amount"),t.qZA())}function we(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Enter debit Paid Amount"),t.qZA())}function Je(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Enter Pending Amount"),t.qZA())}function Ve(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Enter Payment"),t.qZA())}function Qe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"span",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,a=t.oxw(3);return t.KtG(a.debitNoteCartIndex(o))}),t._uU(1,"Redeem Debit Note"),t.qZA()}}function De(i,r){if(1&i){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",75),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3).index,a=t.oxw(3);return t.KtG(a.addDebitNoteCartForm(o))}),t._UZ(1,"path",62)(2,"path",76),t.qZA()}}function Ye(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",44),t.NdJ("onSelectionChange",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw().index,s=t.oxw(2).index,c=t.oxw(3);return t.KtG(c.oncheckBankDebit2(o,s,a))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.debit_note_no),t.xp6(1),t.hij(" ",null==e?null:e.debit_note_no," ")}}function Be(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Ye,2,2,"mat-option",77),t.BQk()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==(null==e?null:e.is_active))}}function Le(i,r){1&i&&(t.TgZ(0,"mat-option",47)(1,"a",86),t._uU(2,"+ Add Debit Note"),t.qZA()()),2&i&&t.Q6J("value","No data found")}function Ee(i,r){1&i&&(t.TgZ(0,"mat-option",49),t._uU(1," Please Enter 1 or more characters"),t.qZA())}function Re(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",59)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"div")(6,"div",60),t.O4$(),t.TgZ(7,"svg",61),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(2).index,c=t.oxw(3);return t.KtG(c.removeDebitNoteForm(s,a))}),t._UZ(8,"path",62)(9,"path",63),t.qZA()(),t.YNc(10,De,3,0,"svg",64),t.qZA()(),t.kcU(),t.TgZ(11,"td")(12,"div",65)(13,"mat-form-field",12)(14,"input",82),t.NdJ("input",function(o){t.CHM(e);const a=t.oxw(5);return t.KtG(a.getFilterDebit(o.target.value))}),t.qZA(),t.TgZ(15,"mat-autocomplete",null,83),t.YNc(17,Be,2,1,"ng-container",57),t.YNc(18,Le,3,1,"mat-option",45),t.YNc(19,Ee,2,0,"mat-option",46),t.qZA()()()(),t.TgZ(20,"td"),t._UZ(21,"input",69),t.qZA(),t.TgZ(22,"td"),t._UZ(23,"input",84),t.qZA(),t.TgZ(24,"td"),t._UZ(25,"input",71),t.qZA(),t.TgZ(26,"td"),t._UZ(27,"input",85),t.qZA()(),t.BQk()}if(2&i){const e=r.index,n=t.MAs(16),o=t.oxw(2).index,a=t.oxw(3);let s;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(2),t.Oqu(e+1+"."),t.xp6(7),t.Q6J("ngIf",a.isLastDebitNote(o,e)),t.xp6(4),t.Q6J("formControl",a.debitNoteControl.at(e))("matAutocomplete",n),t.xp6(3),t.Q6J("ngForOf",a.filterdebitNote),t.xp6(1),t.Q6J("ngIf",0===(null==a.filterdebitNote?null:a.filterdebitNote.length)),t.xp6(1),t.Q6J("ngIf",(null==(s=a.debitNoteControl.at(o))||null==s.value?null:s.value.length)<1)}}function Ge(i,r){if(1&i&&(t.TgZ(0,"div",80)(1,"table",53)(2,"thead")(3,"tr")(4,"th"),t._uU(5,"#"),t.qZA(),t._UZ(6,"th"),t.TgZ(7,"th"),t._uU(8,"Debit Note"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Original Amount"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Redeem Amount"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Pending Amount"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Amount"),t.qZA()()(),t.TgZ(17,"tbody"),t.ynx(18,81),t.YNc(19,Re,28,8,"ng-container",57),t.BQk(),t.qZA()()()),2&i){const e=t.oxw().index,n=t.oxw(3);t.xp6(19),t.Q6J("ngForOf",n.getDebitNoteCartForm(e).controls)}}function $e(i,r){if(1&i){const e=t.EpF();t.ynx(0)(1,59),t.TgZ(2,"tr")(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div")(7,"div",60),t.O4$(),t.TgZ(8,"svg",61),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(3);return t.KtG(s.removeCartBank(a))}),t._UZ(9,"path",62)(10,"path",63),t.qZA()(),t.YNc(11,Me,3,0,"svg",64),t.qZA()(),t.kcU(),t.TgZ(12,"td")(13,"div",65)(14,"mat-form-field",12)(15,"input",66),t.NdJ("input",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.getFilter(o.target.value))}),t.qZA(),t.TgZ(16,"mat-autocomplete",null,83),t.YNc(18,ke,2,1,"ng-container",57),t.YNc(19,Ue,3,1,"mat-option",45),t.YNc(20,Oe,2,0,"mat-option",46),t.qZA()()(),t.YNc(21,Fe,2,0,"span",68),t.qZA(),t.TgZ(22,"td"),t._UZ(23,"input",69),t.YNc(24,Se,2,0,"span",68),t.qZA(),t.TgZ(25,"td"),t._UZ(26,"input",70),t.YNc(27,we,2,0,"span",68),t.qZA(),t.TgZ(28,"td"),t._UZ(29,"input",71),t.YNc(30,Je,2,0,"span",68),t.qZA(),t.TgZ(31,"td"),t._UZ(32,"input",72),t.YNc(33,Ve,2,0,"span",68),t.qZA()(),t.TgZ(34,"tr"),t._UZ(35,"td")(36,"td"),t.TgZ(37,"td",73),t.YNc(38,Qe,2,0,"span",55),t.YNc(39,Ge,20,1,"div",74),t.qZA()(),t.BQk()()}if(2&i){const e=r.index,n=t.MAs(17),o=t.oxw(3);let a;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.Oqu(e+1+"."),t.xp6(7),t.Q6J("ngIf",o.isLastCartBank(e)),t.xp6(4),t.Q6J("formControl",o.myControls.at(e))("matAutocomplete",n),t.xp6(3),t.Q6J("ngForOf",o.filterPurchaseBill),t.xp6(1),t.Q6J("ngIf",0===(null==o.filterPurchaseBill?null:o.filterPurchaseBill.length)),t.xp6(1),t.Q6J("ngIf",(null==(a=o.myControls.at(e))||null==a.value?null:a.value.length)<1),t.xp6(1),t.Q6J("ngIf",o.sale_bill1(e)&&o.sale_bill1(e).invalid&&o.sale_bill1(e).touched),t.xp6(3),t.Q6J("ngIf",o.original_amount1(e)&&o.original_amount1(e).invalid&&o.original_amount1(e).touched),t.xp6(3),t.Q6J("ngIf",o.paid_amount1(e)&&o.paid_amount1(e).invalid&&o.paid_amount1(e).touched),t.xp6(3),t.Q6J("ngIf",o.pending_amount1(e)&&o.pending_amount1(e).invalid&&o.pending_amount1(e).touched),t.xp6(3),t.Q6J("ngIf",o.payment1(e)&&o.payment1(e).invalid&&o.payment1(e).touched),t.xp6(5),t.Q6J("ngIf",!o.isDebitNoteCart[e]),t.xp6(1),t.Q6J("ngIf",o.isDebitNoteCart[e])}}function He(i,r){if(1&i&&(t.TgZ(0,"div",51)(1,"div",2)(2,"div",9)(3,"div",52)(4,"table",53)(5,"thead")(6,"tr")(7,"th"),t._uU(8,"#"),t.qZA(),t._UZ(9,"th"),t.TgZ(10,"th"),t._uU(11,"Purchase Bill"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Original Amount"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Paid Amount"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Pending Amount"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Payment"),t.qZA()(),t.TgZ(20,"tr")(21,"th",54),t.YNc(22,Ne,2,0,"span",55),t.qZA()()(),t.TgZ(23,"tbody"),t.ynx(24,56),t.YNc(25,$e,40,15,"ng-container",57),t.BQk(),t.qZA()()()()()()),2&i){const e=t.oxw(2);t.xp6(22),t.Q6J("ngIf",e.isCartBank),t.xp6(3),t.Q6J("ngForOf",e.getCartBank().controls)}}function Ke(i,r){1&i&&(t.TgZ(0,"button",87),t._uU(1,"Submit"),t.qZA())}function je(i,r){1&i&&(t.TgZ(0,"button",88),t._UZ(1,"span",89),t._uU(2," \xa0 Submit"),t.qZA())}function ze(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onBankSubmit())}),t.TgZ(3,"div",4)(4,"div",5)(5,"input",90),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleCash())}),t.qZA(),t.TgZ(6,"label",7),t._uU(7,"Cash"),t.qZA()(),t.TgZ(8,"div",5)(9,"input",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleBank())}),t.qZA(),t.TgZ(10,"label",7),t._uU(11,"Bank"),t.qZA()()(),t.TgZ(12,"div",9)(13,"div",91)(14,"div",11)(15,"label"),t._uU(16,"Supplier*"),t.qZA(),t.TgZ(17,"mat-form-field",12),t._UZ(18,"input",13),t.TgZ(19,"mat-autocomplete",null,92),t.YNc(21,pe,2,2,"mat-option",15),t.ALo(22,"async"),t.YNc(23,he,3,2,"ng-container",16),t.ALo(24,"async"),t.qZA()(),t.YNc(25,fe,2,0,"span",17),t.qZA()(),t.TgZ(26,"div",93)(27,"div",11)(28,"label"),t._uU(29,"Date"),t.qZA(),t._UZ(30,"input",19),t.YNc(31,ve,2,0,"span",17),t.qZA()(),t.TgZ(32,"div",93)(33,"div",11)(34,"label"),t._uU(35,"Transaction Date"),t.qZA(),t._UZ(36,"input",94),t.YNc(37,xe,2,0,"span",17),t.qZA()(),t.TgZ(38,"div",93)(39,"div",11)(40,"label"),t._uU(41,"Transaction Id"),t.qZA(),t._UZ(42,"input",95),t.YNc(43,ye,2,0,"span",17),t.qZA()(),t.TgZ(44,"div",20)(45,"div",11)(46,"div",9)(47,"div",21)(48,"div",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setRadioValue1("On Account"))}),t.TgZ(49,"div",2)(50,"div",23),t._UZ(51,"input",24),t.TgZ(52,"label",25),t._uU(53,"On Account"),t.qZA()(),t.TgZ(54,"span",26),t._uU(55,"Upfront Payment"),t.qZA()()()(),t.TgZ(56,"div",21)(57,"div",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setRadioValue1("Advance Payment"))}),t.TgZ(58,"div",2)(59,"div",23),t._UZ(60,"input",27),t.TgZ(61,"label",28),t._uU(62,"Advance Payment"),t.qZA()(),t.TgZ(63,"span",29),t._uU(64,"Will be offset by upcoming bills"),t.qZA()()()(),t.TgZ(65,"div",21)(66,"div",96),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setRadioValue1("Against Bill"))}),t.TgZ(67,"div",2)(68,"div",23),t._UZ(69,"input",30),t.TgZ(70,"label",31),t._uU(71,"Against Bill"),t.qZA()(),t.TgZ(72,"span",29),t._uU(73,"Offset against Current Bills"),t.qZA()()()(),t.YNc(74,Ce,2,0,"span",17),t.qZA()()(),t.TgZ(75,"div",21)(76,"div",11)(77,"label"),t._uU(78,"Payment Voucher No"),t.qZA(),t.TgZ(79,"select",32)(80,"option",33),t._uU(81,"Select Payment Voucher No"),t.qZA(),t.YNc(82,Ze,2,2,"option",34),t.qZA(),t.YNc(83,be,2,0,"span",17),t.qZA()(),t.TgZ(84,"div",21)(85,"div",11)(86,"label"),t._uU(87,"Payment Mode"),t.qZA(),t.TgZ(88,"div",23)(89,"select",97)(90,"option",33),t._uU(91,"Select Payment Mode"),t.qZA(),t.TgZ(92,"option"),t._uU(93,"Online"),t.qZA(),t.TgZ(94,"option"),t._uU(95,"Cheque"),t.qZA(),t.TgZ(96,"option"),t._uU(97,"NEFT-RTGS"),t.qZA()()()()(),t.TgZ(98,"div",21)(99,"div",11)(100,"label"),t._uU(101,"Amount"),t.qZA(),t._UZ(102,"input",98),t.YNc(103,Ae,2,0,"span",17),t.qZA()(),t.TgZ(104,"div",21)(105,"div",11)(106,"label"),t._uU(107,"Payment Account*"),t.qZA(),t.TgZ(108,"select",36)(109,"option",37),t._uU(110,"Select Payment Account "),t.qZA(),t.YNc(111,Te,2,2,"option",34),t.qZA(),t.YNc(112,Pe,2,0,"span",17),t.qZA()(),t.TgZ(113,"div",21)(114,"div",11)(115,"label"),t._uU(116,"Description"),t.qZA(),t._UZ(117,"textarea",38),t.YNc(118,qe,2,0,"span",17),t.qZA()(),t.YNc(119,He,26,2,"div",39),t.TgZ(120,"div",40),t.YNc(121,Ke,2,0,"button",41),t.YNc(122,je,3,0,"button",42),t.TgZ(123,"button",43),t._uU(124,"Cancel"),t.qZA()()()()()()}if(2&i){const e=t.MAs(20),n=t.oxw();t.xp6(2),t.Q6J("formGroup",n.paymentVoucherBankForm),t.xp6(3),t.Q6J("id","checkboxCash"),t.xp6(1),t.Q6J("for","checkboxCash"),t.xp6(3),t.Q6J("id","checkbox-Bnak")("value","Bank"),t.xp6(1),t.Q6J("for","checkbox-Bnak"),t.xp6(8),t.Q6J("formControl",n.supplierControl)("matAutocomplete",e)("ngClass",t.VKq(41,q,n.g.supplier.touched&&n.g.supplier.invalid)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(22,37,n.filteredsupplier)),t.xp6(2),t.Q6J("ngIf",t.lcZ(24,39,n.filteredsupplier)),t.xp6(2),t.Q6J("ngIf",n.Supplier&&n.Supplier.invalid&&n.Supplier.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(43,q,n.g.date.touched&&n.g.date.invalid)),t.uIk("min",n.bankMinDate)("max",n.bankMaxDate),t.xp6(1),t.Q6J("ngIf",n.date1&&n.date1.invalid&&n.date1.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(45,q,n.g.transaction_date.touched&&n.g.transaction_date.invalid)),t.uIk("min",n.transactionMinDate)("max",n.transactionMaxDate),t.xp6(1),t.Q6J("ngIf",n.transaction_date&&n.transaction_date.invalid&&n.transaction_date.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(47,q,n.g.transaction_id.touched&&n.g.transaction_id.invalid)),t.xp6(1),t.Q6J("ngIf",n.transaction_id&&n.transaction_id.invalid&&n.transaction_id.touched),t.xp6(8),t.Q6J("value","On Account"),t.xp6(9),t.Q6J("value","Advance Payment"),t.xp6(9),t.Q6J("value","Against Bill"),t.xp6(5),t.Q6J("ngIf",n.mode_type1&&n.mode_type1.invalid&&n.mode_type1.touched),t.xp6(8),t.Q6J("ngForOf",n.prefixNo),t.xp6(1),t.Q6J("ngIf",n.payment_voucher_no1&&n.payment_voucher_no1.invalid&&n.payment_voucher_no1.touched),t.xp6(19),t.Q6J("ngClass",t.VKq(49,q,n.g.amount.touched&&n.g.amount.invalid)),t.xp6(1),t.Q6J("ngIf",n.amount1&&n.amount1.invalid&&n.amount1.touched),t.xp6(8),t.Q6J("ngForOf",n.accountListData),t.xp6(1),t.Q6J("ngIf",n.paymentVoucherBankForm.get("payment_account").invalid&&n.paymentVoucherBankForm.get("payment_account").touched),t.xp6(5),t.Q6J("ngClass",t.VKq(51,q,n.g.note.touched&&n.g.note.invalid)),t.xp6(1),t.Q6J("ngIf",n.description1&&n.description1.invalid&&n.description1.touched),t.xp6(1),t.Q6J("ngIf",n.isAgainstBillBank),t.xp6(2),t.Q6J("ngIf",!n.loaders),t.xp6(1),t.Q6J("ngIf",n.loaders)}}let We=(()=>{class i{constructor(e,n,o,a,s,c){this.fb=e,this.toastr=n,this.router=o,this.transactionService=a,this.commonService=s,this.posCartService=c,this.supplierControl=new l.NI,this.saleBillControl=new l.NI,this.modalClose=new t.vpe,this.minDate="",this.maxDate="",this.bankMinDate="",this.bankMaxDate="",this.transactionMinDate="",this.transactionMaxDate="",this.isCart=!1,this.isCartBank=!1,this.isAgainstBill=!1,this.isAgainstBillBank=!1,this.isDebitNoteCart=[],this.isDebitNoteCart1=[],this.supplierList=[],this.accountList=[],this.purchaseBillList=[],this.filterPurchaseBill=[],this.debitNoteList=[],this.filterdebitNote=[],this.isBank=!1,this.isCash=!0,this.loaders=!1}get h(){return this.paymentVoucherForm.controls}get g(){return this.paymentVoucherBankForm.controls}ngOnInit(){const e=(new Date).toISOString().split("T")[0];this.myControls=new l.Oe([]),this.debitNoteControl=new l.Oe([]),this.paymentVoucherForm=this.fb.group({payment_type:new l.NI("Cash"),supplier:new l.NI("",[l.kI.required]),payment_account:new l.NI("",[l.kI.required]),date:new l.NI(e),payment_voucher_no:new l.NI(""),mode_type:new l.NI(""),amount:new l.NI(0),note:new l.NI(""),payment_voucher_cart:this.fb.array([])}),this.paymentVoucherBankForm=this.fb.group({payment_type:new l.NI("Bank"),supplier:new l.NI("",[l.kI.required]),payment_account:new l.NI("",[l.kI.required]),date:new l.NI(e),payment_voucher_no:new l.NI(""),mode_type:new l.NI(""),amount:new l.NI(0),note:new l.NI(""),bank_payment:new l.NI(""),transaction_id:new l.NI(""),transaction_date:new l.NI(e),payment_voucher_cart:this.fb.array([])}),this.filteredsupplier=this.supplierControl.valueChanges.pipe((0,M.O)(""),(0,P.U)(o=>this._filter(o,!0)));const n=localStorage.getItem("financialYear");this.dateValidation(n),this.bankDateValidation(n),this.bankTransactionDateValidation(n),this.supplierControl.valueChanges.subscribe(o=>{o?.length>=3?this.getSupplier(o):(this.supplierList=[],this.filteredsupplier=this.supplierControl.valueChanges.pipe((0,M.O)(""),(0,P.U)(a=>this._filter(a,!0))))}),this.getAccount(),this.getPurchaseBill(),this.getDebitNote(),this.getprefix(),this.getAccountByAlies("cash-in-hand")}dateValidation(e){const n=this.paymentVoucherForm.get("date"),{formattedMinDate:o,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.minDate=o,this.maxDate=a}bankDateValidation(e){const n=this.paymentVoucherBankForm.get("date"),{formattedMinDate:o,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.bankMinDate=o,this.bankMaxDate=a}bankTransactionDateValidation(e){const n=this.paymentVoucherBankForm.get("transaction_date"),{formattedMinDate:o,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.transactionMinDate=o,this.transactionMaxDate=a}getprefix(){this.transactionService.getPaymentVoucherPrefix().subscribe(e=>{console.log(e),e.success?(this.prefixNo=e?.data,this.paymentVoucherForm.get("payment_voucher_no").patchValue(this.prefixNo[0]?.id),this.paymentVoucherBankForm.get("payment_voucher_no").patchValue(this.prefixNo[0]?.id)):this.toastr.error(e.msg)},e=>{this.toastr.error(e.error.msg)})}cart(){return this.fb.group({purchase_bill:new l.NI(0),original_amount:new l.NI(0),paid_amount:new l.NI(0),pending_amount:new l.NI(0),payment:new l.NI(0),debit_note_cart:this.fb.array([])})}getCart(){return this.paymentVoucherForm.get("payment_voucher_cart")}addCart(){this.getCart().push(this.cart()),this.myControls.push(new l.NI("")),this.isCart=!1}removeCart(e){this.getCart().removeAt(e),0==this.paymentVoucherForm?.value?.payment_voucher_cart?.length&&(this.isCart=!0)}debitNoteIntoCart(){return this.fb.group({debit_note:new l.NI(0),original_amount:new l.NI(0),redeem_amount:new l.NI(0),pending_amount:new l.NI(0),amount:new l.NI(0)})}getDebitNoteCartForm1(e){return this.getCart().at(e).get("debit_note_cart")}addDebitNoteCartForm1(e){this.getDebitNoteCartForm1(e).push(this.debitNoteIntoCart()),this.debitNoteControl.push(new l.NI(""))}removeDebitNoteForm1(e,n){this.getDebitNoteCartForm1(e).removeAt(n),0==this.paymentVoucherForm?.value?.payment_voucher_cart[e]?.debit_note_cart?.length&&(this.isDebitNoteCart1[e]=!1)}getCartBank(){return this.paymentVoucherBankForm.get("payment_voucher_cart")}addCartBank(){this.getCartBank().push(this.cart()),this.myControls.push(new l.NI("")),this.isCartBank=!1}removeCartBank(e){this.getCartBank().removeAt(e),0==this.paymentVoucherBankForm?.value?.payment_voucher_cart?.length&&(this.isCartBank=!0)}getDebitNoteCartForm(e){return this.getCartBank().at(e).get("debit_note_cart")}addDebitNoteCartForm(e){this.getDebitNoteCartForm(e).push(this.debitNoteIntoCart()),this.debitNoteControl.push(new l.NI(""))}removeDebitNoteForm(e,n){this.getDebitNoteCartForm(e).removeAt(n),0==this.paymentVoucherBankForm?.value?.payment_voucher_cart[e]?.debit_note_cart?.length&&(this.isDebitNoteCart[e]=!1)}setRadioValue(e){this.paymentVoucherForm.get("mode_type").setValue(e),"Against Bill"==e?(this.isAgainstBill=!0,this.paymentVoucherForm.get("payment_voucher_cart").clear(),this.addCart()):this.isAgainstBill=!1}setRadioValue1(e){this.paymentVoucherBankForm.get("mode_type").setValue(e),"Against Bill"==e?(this.isAgainstBillBank=!0,this.paymentVoucherBankForm.get("payment_voucher_cart").clear(),this.addCartBank()):this.isAgainstBillBank=!1}isLastCart(e){return e===this.getCart().controls.length-1}isLastCartBank(e){return e===this.getCartBank().controls.length-1}isLastDebitNote(e,n){return n===this.getCartBank().at(e).get("debit_note_cart").length-1}isLastDebitNote1(e,n){return n===this.getCart().at(e).get("debit_note_cart").length-1}debitNoteCartIndex(e){this.isDebitNoteCart[e]=!0,this.addDebitNoteCartForm(e)}debitNoteCartIndex1(e){this.isDebitNoteCart1[e]=!0,this.addDebitNoteCartForm1(e)}getSupplier(e){this.transactionService.getSupplier(e).pipe((0,S.b)(2e3)).subscribe(n=>{this.supplierList=n,this.filteredsupplier=this.supplierControl.valueChanges.pipe((0,M.O)(""),(0,P.U)(o=>this._filter(o,!0)))})}getAccount(){this.transactionService.getAccount().subscribe(e=>{this.accountList=e})}getPurchaseBill(){this.transactionService.getPurchaseBill().subscribe(e=>{this.purchaseBillList=e,this.filterPurchaseBill=e})}getFilter(e){this.filterPurchaseBill=this.purchaseBillList.filter(n=>!(!n||!n?.refrence_bill_no)&&n?.refrence_bill_no.toLowerCase().includes(e)),console.log(this.filterPurchaseBill)}getDebitNote(){this.transactionService.getDebitNote().subscribe(e=>{this.debitNoteList=e,this.filterdebitNote=e})}getFilterDebit(e){this.filterdebitNote=this.debitNoteList.filter(n=>!(!n||!n?.debit_note_no)&&n?.debit_note_no?.toLowerCase().includes(e)),console.log(this.filterdebitNote)}_filter(e,n){const o="string"==typeof e?e?.toLowerCase():e?.toString().toLowerCase(),a=this.supplierList.filter(n?s=>s.name.toLowerCase().includes(o)||s.company_name.toLowerCase().includes(o):s=>!(s.name.toLowerCase().includes(o)||s.company_name.toLowerCase().includes(o)));return!n&&0===a.length&&a.push({name:"No data found"}),a}_filterr(e,n){const o="string"==typeof e?e.toLowerCase():e.toString().toLowerCase(),a=this.accountList.filter(n?s=>s?.account_id?.toLowerCase().includes(o):s=>!s?.account_id?.toLowerCase().includes(o));return!n&&0===a.length&&a.push({account:"No data found"}),a}get supplier(){return this.paymentVoucherForm.get("supplier")}oncheck(e){this.paymentVoucherForm.patchValue({supplier:e.id})}oncheck1(e){this.paymentVoucherForm.patchValue({payment_account:e.id})}oncheck3(e,n){console.log(e),this.paymentVoucherForm.get("payment_voucher_cart").at(n).patchValue({purchase_bill:e?.id,original_amount:e?.total||0,paid_amount:e?.paid_amount||0,pending_amount:e?.pending_amount||0})}oncheckBankDebit1(e,n,o){this.paymentVoucherForm.get("payment_voucher_cart").at(n).get("debit_note_cart").at(o).patchValue({debit_note:e?.id,original_amount:e?.total||0,redeem_amount:e?.redeem_amount||0,pending_amount:e?.pending_amount||0})}oncheckBank(e){this.paymentVoucherBankForm.patchValue({supplier:e.id})}oncheckBank1(e){this.paymentVoucherBankForm.patchValue({payment_account:e.id})}oncheckBank3(e,n){this.paymentVoucherBankForm.get("payment_voucher_cart").at(n).patchValue({purchase_bill:e?.id,original_amount:e?.total||0,paid_amount:e?.paid_amount||0,pending_amount:e?.pending_amount||0})}oncheckBankDebit2(e,n,o){this.paymentVoucherBankForm.get("payment_voucher_cart").at(n).get("debit_note_cart").at(o).patchValue({debit_note:e?.id,original_amount:e?.total||0,redeem_amount:e?.redeem_amount||0,pending_amount:e?.pending_amount||0})}toggleBank(){this.isBank=!0,this.isCash=!1,this.supplierControl.reset(),this.getAccountByAlies("bank-accounts")}toggleCash(){this.isBank=!1,this.isCash=!0,this.supplierControl.reset(),this.getAccountByAlies("cash-in-hand")}getAccountByAlies(e){this.transactionService.getAccoutAlies(e).subscribe(n=>{this.accountListData=n})}onSubmit(){if(console.log(this.paymentVoucherForm.value),this.paymentVoucherForm.valid){const e=new FormData;e.append("payment_type",this.paymentVoucherForm.get("payment_type")?.value),e.append("supplier",this.paymentVoucherForm.get("supplier")?.value),e.append("date",this.paymentVoucherForm.get("date")?.value),e.append("payment_voucher_no",this.paymentVoucherForm.get("payment_voucher_no")?.value),e.append("mode_type",this.paymentVoucherForm.get("mode_type")?.value),e.append("amount",this.paymentVoucherForm.get("amount")?.value),e.append("note",this.paymentVoucherForm.get("note")?.value),e.append("payment_account",this.paymentVoucherForm.get("payment_account")?.value);const n=this.paymentVoucherForm.get("payment_voucher_cart"),o=[];n.controls.forEach(a=>{const s=a,c={};Object.keys(s.controls).forEach(_=>{const p=s.controls[_];c[_]=isNaN(p.value)?p.value:parseFloat(p.value)});const d=s.get("debit_note_cart"),u=[];d.controls.forEach(_=>{const p=_,h={};Object.keys(p.controls).forEach(v=>{const Z=p.controls[v];h[v]=isNaN(Z.value)?Z.value:parseFloat(Z.value)}),u.push(h)}),c.debit_note_cart=u,o.push(c)}),e.append("payment_voucher_cart",JSON.stringify(o)),this.loaders=!0,this.posCartService.addPosPaymentVoucher(e).subscribe(a=>{this.loaders=!1,a.success?(this.toastr.success(a.msg),this.paymentVoucherForm.reset(),this.supplierControl.setValue(""),this.modalClose.next(new Date)):(this.loaders=!1,this.toastr.error(a.msg),a.error.amount&&this.toastr.error(a.error.amount[0]))},a=>{this.loaders=!1})}else this.paymentVoucherForm.markAllAsTouched(),this.toastr.error("Please Fill All The Required Fields")}onBankSubmit(){if(console.log(this.paymentVoucherBankForm.value),this.paymentVoucherBankForm.valid){const e=new FormData;e.append("payment_type",this.paymentVoucherBankForm.get("payment_type")?.value),e.append("supplier",this.paymentVoucherBankForm.get("supplier")?.value),e.append("date",this.paymentVoucherBankForm.get("date")?.value),e.append("payment_voucher_no",this.paymentVoucherBankForm.get("payment_voucher_no")?.value),e.append("mode_type",this.paymentVoucherBankForm.get("mode_type")?.value),e.append("amount",this.paymentVoucherBankForm.get("amount")?.value),e.append("note",this.paymentVoucherBankForm.get("note")?.value),e.append("payment_account",this.paymentVoucherBankForm.get("payment_account")?.value),e.append("bank_payment",this.paymentVoucherBankForm.get("bank_payment")?.value),e.append("transaction_id",this.paymentVoucherBankForm.get("transaction_id")?.value),e.append("transaction_date",this.paymentVoucherBankForm.get("transaction_date")?.value);const n=this.paymentVoucherBankForm.get("payment_voucher_cart"),o=[];n.controls.forEach(a=>{const s=a,c={};Object.keys(s.controls).forEach(_=>{const p=s.controls[_];c[_]=isNaN(p.value)?p.value:parseFloat(p.value)});const d=s.get("debit_note_cart"),u=[];d.controls.forEach(_=>{const p=_,h={};Object.keys(p.controls).forEach(v=>{const Z=p.controls[v];h[v]=isNaN(Z.value)?Z.value:parseFloat(Z.value)}),u.push(h)}),c.debit_note_cart=u,o.push(c)}),e.append("payment_voucher_cart",JSON.stringify(o)),this.loaders=!0,this.transactionService.addPaymentVoucher(e).subscribe(a=>{this.loaders=!1,a.success?(this.toastr.success(a.msg),this.paymentVoucherBankForm.reset(),this.supplierControl.setValue(""),this.modalClose.next(new Date)):(this.loaders=!1,this.toastr.error(a.msg),a.error.amount&&this.toastr.error(a.error.amount[0]))},a=>{this.loaders=!1})}else console.log("invalid"),this.paymentVoucherBankForm.markAllAsTouched(),this.toastr.error("Please Fill All The Required Fields")}get Supplier(){return this.paymentVoucherBankForm.get("supplier")}get date1(){return this.paymentVoucherBankForm.get("date")}get payer1(){return this.paymentVoucherBankForm.get("payment_account")}get amount1(){return this.paymentVoucherBankForm.get("amount")}get description1(){return this.paymentVoucherBankForm.get("note")}get payment_voucher_no1(){return this.paymentVoucherBankForm.get("payment_voucher_no")}get mode_type1(){return this.paymentVoucherBankForm.get("mode_type")}sale_bill1(e){return this.getCartBank().controls[e].get("purchase_bill")}original_amount1(e){return this.getCartBank().controls[e].get("original_amount")}paid_amount1(e){return this.getCartBank().controls[e].get("paid_amount")}pending_amount1(e){return this.getCartBank().controls[e].get("pending_amount")}payment1(e){return this.getCartBank().controls[e].get("payment")}get bank_payment(){return this.paymentVoucherBankForm.get("bank_payment")}get transaction_id(){return this.paymentVoucherBankForm.get("transaction_id")}get transaction_date(){return this.paymentVoucherBankForm.get("transaction_date")}get Supplier1(){return this.paymentVoucherForm.get("supplier")}get date(){return this.paymentVoucherForm.get("date")}get payer(){return this.paymentVoucherForm.get("payment_account")}get amount(){return this.paymentVoucherForm.get("amount")}get description(){return this.paymentVoucherForm.get("note")}get payment_voucher_no(){return this.paymentVoucherForm.get("payment_voucher_no")}get mode_type(){return this.paymentVoucherForm.get("mode_type")}sale_bill(e){return this.getCart().controls[e].get("purchase_bill")}original_amount(e){return this.getCart().controls[e].get("original_amount")}paid_amount(e){return this.getCart().controls[e].get("paid_amount")}pending_amount(e){return this.getCart().controls[e].get("pending_amount")}payment(e){return this.getCart().controls[e].get("payment")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.qu),t.Y36(J._W),t.Y36(x.F0),t.Y36(E.p),t.Y36(X.R),t.Y36(V.b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-pos-add-payment-voucher"]],outputs:{modalClose:"modalClose"},decls:2,vars:2,consts:[["class","card border-0",4,"ngIf"],[1,"card","border-0"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"d-flex","mb-5"],[1,"d-flex","mx-3"],["type","radio","formControlName","payment_type",3,"id","value","click"],[1,"d_flex",2,"margin-bottom","0","margin-left","5px",3,"for"],["type","radio",3,"id","value","click"],[1,"row"],[1,"col-lg-4","col-md-6","col-12"],[1,"form-group"],[1,"w-100",2,"padding","0","width","100%","min-width","100%","border-top","none"],["type","text","placeholder","Search Customer","aria-label","Customer","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","ngClass"],["auto","matAutocomplete"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"col-lg-4","col-sm-4","col-12"],["type","date","formControlName","date","id","date",3,"ngClass"],[1,"col-lg-12","col-sm-12","col-12"],[1,"col-sm-4","col-12"],[1,"card","mb-0","h-100",3,"click"],[1,"d-flex"],["type","radio","formControlName","mode_type","id","on-account-radio",3,"value"],["for","on-account-radio",1,"d_flex",2,"margin-bottom","0","margin-left","15px"],[2,"margin-left","33px","font-size","12px"],["type","radio","formControlName","mode_type","id","advance-payment-radio",3,"value"],["for","advance-payment-radio",1,"d_flex",2,"margin-bottom","0","margin-left","15px"],[2,"font-size","12px"],["type","radio","formControlName","mode_type","id","against-bill-radio",3,"value"],["for","against-bill-radio",1,"d_flex",2,"margin-bottom","0","margin-left","15px"],["formControlName","payment_voucher_no"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","amount","id","amount","placeholder","Enter Amount",3,"ngClass"],["formControlName","payment_account",1,"form-control"],["value","","disabled","","selected",""],["formControlName","note","placeholder","Enter Description",3,"ngClass"],["class","card",4,"ngIf"],[1,"col-lg-12"],["class","btn btn-submit me-2",4,"ngIf"],["class","btn btn-submit me-2","type","submit","disabled","",4,"ngIf"],["routerLink","//transaction/paymentVoucherList","type","button",1,"btn","btn-cancel"],[2,"color","#FF9F43",3,"value","onSelectionChange"],[3,"value",4,"ngIf"],["class","is-loading",4,"ngIf"],[3,"value"],["routerLink","//contacts/addSupplier",2,"color","#FF9F43"],[1,"is-loading"],[1,"text-danger"],[1,"card"],[1,"table-responsive"],[1,"table","datanew"],["colspan","2"],["class","debitIntoCart",3,"click",4,"ngIf"],["formArrayName","payment_voucher_cart"],[4,"ngFor","ngForOf"],[1,"debitIntoCart",3,"click"],[3,"formGroupName"],[1,"me-2"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-circle",2,"color","red",3,"click"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],["style","color:green","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","class","bi bi-plus-circle","viewBox","0 0 16 16",3,"click",4,"ngIf"],[1,"form-group",2,"margin-bottom","-1%"],["type","text","placeholder","Search purchaseBill","aria-label","Search purchaseBills","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","input"],["autos","matAutocomplete"],["class","text-danger","style","display: block;",4,"ngIf"],["type","number","formControlName","original_amount",1,"input"],["type","number","formControlName","paid_amount",1,"input"],["type","number","formControlName","pending_amount",1,"input"],["type","number","formControlName","payment",1,"input"],["colspan","5"],["class","table-responsive","style","border:1px solid #FF9F43;",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-circle",2,"color","green",3,"click"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngIf"],["routerLink","//purchase/goodsReceivedNote-list",2,"color","#FF9F43"],[1,"text-danger",2,"display","block"],[1,"table-responsive",2,"border","1px solid #FF9F43"],["formArrayName","debit_note_cart"],["type","text","placeholder","Search Debit Note","aria-label","Search debitNote","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","input"],["autosBankCart","matAutocomplete"],["type","number","formControlName","redeem_amount",1,"input"],["type","number","formControlName","amount",1,"input"],["routerLink","//transaction/adddebitnote",2,"color","#FF9F43"],[1,"btn","btn-submit","me-2"],["type","submit","disabled","",1,"btn","btn-submit","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","radio",3,"id","click"],[1,"col-lg-3","col-md-6","col-12"],["autobank","matAutocomplete"],[1,"col-lg-3","col-sm-4","col-12"],["type","date","formControlName","transaction_date","id","transaction_date",3,"ngClass"],["type","text","formControlName","transaction_id","placeholder","Enter Transaction Id","id","transaction_id",3,"ngClass"],[1,"card","m-0","h-100",3,"click"],["formControlName","bank_payment"],["type","number","formControlName","amount","placeholder","Enter Amount","id","amount",3,"ngClass"]],template:function(e,n){1&e&&(t.YNc(0,_e,99,44,"div",0),t.YNc(1,ze,125,53,"div",0)),2&e&&(t.Q6J("ngIf",n.isCash),t.xp6(1),t.Q6J("ngIf",n.isBank))},dependencies:[f.mk,f.sg,f.O5,x.rH,x.yS,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l._,l.JJ,l.JL,l.oH,l.sg,l.u,l.x0,l.CE,A.XC,A.ZL,G.ey,$.KE,H.Nt,f.Ov],styles:[".ng-dirty.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}.select[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:40%;font-size:14px;font-weight:500;color:#637381;padding:10px 8px;border-radius:5px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.cdk-overlay-pane[_ngcontent-%COMP%]{width:300.85px!important}a[_ngcontent-%COMP%]{text-decoration:none;color:#ff9f43}@media (max-width: 1023px){h5[_ngcontent-%COMP%]{font-size:13px}}.table[_ngcontent-%COMP%]   th.product-name[_ngcontent-%COMP%]{width:40%}.table[_ngcontent-%COMP%]   th.qty[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th.mrp[_ngcontent-%COMP%]{width:10%}.space-text[_ngcontent-%COMP%]{white-space:pre-wrap!important}.circle[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;border-radius:50%;border:1px solid #FF9F43;text-align:center;line-height:16px;color:#ff9f43}.button[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;display:flex;padding:10px 15px;border-radius:5px;justify-content:space-between;align-items:center;background:white}input[type=radio][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#e27005}.debitIntoCart[_ngcontent-%COMP%]{background:#FF9F43;color:#fff;font-size:14px;font-weight:700;padding:5px 10px;transition:all .2s ease}"]}),i})();function Xe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",48),t.NdJ("onSelectionChange",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.oncheckParty(o.id))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("value",(null==e?null:e.name)+" - "+(null==e?null:e.username)),t.xp6(1),t.Oqu((null==e?null:e.name)+" - "+(null==e?null:e.username))}}function tn(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Xe,2,2,"mat-option",47),t.BQk()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active)}}function en(i,r){1&i&&(t.TgZ(0,"mat-option",51)(1,"a",52),t._uU(2,"+ Add Party"),t.qZA()()),2&i&&t.Q6J("value","No data found")}function nn(i,r){1&i&&(t.TgZ(0,"mat-option",53),t._uU(1,"Please Enter 1 or more characters"),t.qZA())}function on(i,r){if(1&i&&(t.ynx(0),t.YNc(1,en,3,1,"mat-option",49),t.YNc(2,nn,2,0,"mat-option",50),t.BQk()),2&i){const e=r.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.fromPartyControl.value?null:n.fromPartyControl.value.length)<3)}}function an(i,r){1&i&&(t.TgZ(0,"span",54),t._uU(1,"Select party "),t.qZA())}function rn(i,r){1&i&&(t.TgZ(0,"span",54),t._uU(1,"Select Expense Date"),t.qZA())}function sn(i,r){if(1&i&&(t.TgZ(0,"option",51),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.prefix)}}function ln(i,r){1&i&&(t.TgZ(0,"span",54),t._uU(1,"Enter Expence Voucher No"),t.qZA())}function cn(i,r){1&i&&(t.TgZ(0,"span",54),t._uU(1,"Enter Refrence Bill No."),t.qZA())}function dn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"span",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addCart(0))}),t._uU(1,"Add Cart+"),t.qZA()}}function un(i,r){if(1&i){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",76),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,a=t.oxw();return t.KtG(a.addCart(o+1))}),t._UZ(1,"path",59)(2,"path",77),t.qZA()}}function _n(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",48),t.NdJ("onSelectionChange",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw().index,s=t.oxw();return t.KtG(s.oncheck(o,a))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.account_id),t.xp6(1),t.Oqu((null==e?null:e.account_id)+" - "+(null==e?null:e.title))}}function pn(i,r){if(1&i&&(t.ynx(0),t.YNc(1,_n,2,2,"mat-option",47),t.BQk()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active)}}function mn(i,r){1&i&&(t.TgZ(0,"mat-option",51)(1,"a",78),t._uU(2,"+ Add Account"),t.qZA()()),2&i&&t.Q6J("value","No data found")}function gn(i,r){1&i&&(t.TgZ(0,"mat-option",53),t._uU(1,"Please Enter 1 or more characters"),t.qZA())}function hn(i,r){if(1&i&&(t.ynx(0),t.YNc(1,mn,3,1,"mat-option",49),t.YNc(2,gn,2,0,"mat-option",50),t.BQk()),2&i){const e=r.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.fromAccountControl.value?null:n.fromAccountControl.value.length)<3)}}function fn(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Select Account"),t.qZA())}function vn(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Select Amount Type"),t.qZA())}function xn(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Enter Amount"),t.qZA())}function yn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"span",80),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,a=t.oxw();return t.KtG(a.percentage(o))}),t._uU(1,"%"),t.qZA()}}function Cn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"span",80),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,a=t.oxw();return t.KtG(a.rupees(o))}),t._uU(1,"\u20b9"),t.qZA()}}function Zn(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Enter Discount (ex:1-100)"),t.qZA())}function bn(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Enter Tax (ex:1-100)"),t.qZA())}function An(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Enter Tax Value"),t.qZA())}function Tn(i,r){1&i&&(t.TgZ(0,"span",79),t._uU(1,"Enter Total"),t.qZA())}function Pn(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",56)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"div")(6,"div",57),t.O4$(),t.TgZ(7,"svg",58),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw();return t.KtG(s.removeCart(a))}),t._UZ(8,"path",59)(9,"path",60),t.qZA()(),t.YNc(10,un,3,0,"svg",61),t.qZA()(),t.kcU(),t.TgZ(11,"td")(12,"div",62)(13,"mat-form-field",7),t._UZ(14,"input",63),t.TgZ(15,"mat-autocomplete",null,64),t.YNc(17,pn,2,1,"ng-container",10),t.ALo(18,"async"),t.YNc(19,hn,3,2,"ng-container",11),t.ALo(20,"async"),t.qZA()()(),t.YNc(21,fn,2,0,"span",65),t.qZA(),t.TgZ(22,"td")(23,"select",66)(24,"option",67),t._uU(25,"Service"),t.qZA(),t.TgZ(26,"option",68),t._uU(27,"Product"),t.qZA()(),t.YNc(28,vn,2,0,"span",65),t.qZA(),t.TgZ(29,"td"),t._UZ(30,"input",69),t.qZA(),t.TgZ(31,"td")(32,"input",70),t.NdJ("blur",function(){const a=t.CHM(e).index,s=t.oxw();return t.KtG(s.calculateTotalEveryIndex(a))}),t.qZA(),t.YNc(33,xn,2,0,"span",65),t.qZA(),t.TgZ(34,"td")(35,"input",71),t.NdJ("blur",function(){const a=t.CHM(e).index,s=t.oxw();return t.KtG(s.calculateTotalEveryIndex(a))}),t.qZA(),t.YNc(36,yn,2,0,"span",72),t.YNc(37,Cn,2,0,"span",72),t.YNc(38,Zn,2,0,"span",65),t.qZA(),t.TgZ(39,"td")(40,"input",73),t.NdJ("blur",function(){const a=t.CHM(e).index,s=t.oxw();return t.KtG(s.calculateTotalEveryIndex(a))}),t.qZA(),t.YNc(41,bn,2,0,"span",65),t.qZA(),t.TgZ(42,"td"),t._UZ(43,"input",74),t.YNc(44,An,2,0,"span",65),t.qZA(),t.TgZ(45,"td"),t._UZ(46,"input",75),t.YNc(47,Tn,2,0,"span",65),t.qZA()(),t.BQk()}if(2&i){const e=r.index,n=t.MAs(16),o=t.oxw();t.xp6(1),t.Q6J("formGroupName",e),t.xp6(2),t.Oqu(e+1+"."),t.xp6(7),t.Q6J("ngIf",o.isLastCart(e)),t.xp6(4),t.Q6J("formControl",o.fromAccountControl)("matAutocomplete",n),t.xp6(3),t.Q6J("ngForOf",t.lcZ(18,16,o.filteredFromAccount)),t.xp6(2),t.Q6J("ngIf",t.lcZ(20,18,o.filteredFromAccount)),t.xp6(2),t.Q6J("ngIf",o.account(e)&&o.account(e).invalid&&o.account(e).touched),t.xp6(7),t.Q6J("ngIf",o.service_or_product(e)&&o.service_or_product(e).invalid&&o.service_or_product(e).touched),t.xp6(5),t.Q6J("ngIf",o.amount(e)&&o.amount(e).invalid&&o.amount(e).touched),t.xp6(3),t.Q6J("ngIf",o.isPercentage[e]),t.xp6(1),t.Q6J("ngIf",o.isAmount[e]),t.xp6(1),t.Q6J("ngIf",o.discount(e)&&o.discount(e).invalid&&o.discount(e).touched),t.xp6(3),t.Q6J("ngIf",o.tax(e)&&o.tax(e).invalid&&o.tax(e).touched),t.xp6(3),t.Q6J("ngIf",o.tax_value(e)&&o.tax_value(e).invalid&&o.tax_value(e).touched),t.xp6(3),t.Q6J("ngIf",o.total(e)&&o.total(e).invalid&&o.total(e).touched)}}function qn(i,r){1&i&&(t.TgZ(0,"span",54),t._uU(1,"Enter note "),t.qZA())}function Nn(i,r){1&i&&(t.TgZ(0,"button",81),t._uU(1,"Submit"),t.qZA())}function Mn(i,r){1&i&&(t.TgZ(0,"button",82),t._UZ(1,"span",83),t._uU(2,"\xa0 Submit"),t.qZA())}const tt=function(i){return{"is-invalid":i}},pt=function(i){return{color:i}};let In=(()=>{class i{constructor(e,n,o,a,s,c,d){this.fb=e,this.router=n,this.toastrService=o,this.transactionService=a,this.contactService=s,this.commonService=c,this.posCartService=d,this.minDate="",this.maxDate="",this.modalClose=new t.vpe,this.fromAccountControl=new l.NI,this.fromPartyControl=new l.NI,this.accountList=[],this.userList=[],this.isCart=!1,this.dateError=null,this.loaders=!1,this.isPercentage=[],this.isAmount=[],this.taxIntoRupees=[],this.roundOff=0,this.isMinus=!1}get f(){return this.expensevoucherForm.controls}ngOnInit(){const e=(new Date).toISOString().split("T")[0];this.expensevoucherForm=this.fb.group({party:new l.NI("",[l.kI.required]),expense_date:new l.NI(e,[l.kI.required]),expense_no:new l.NI("",[l.kI.required]),refrence_bill_no:new l.NI(""),reverse_charge:new l.NI(""),created_from:new l.NI("POS"),expenses_voucher_cart:this.fb.array([]),tax_amount:new l.NI(0),total_amount:new l.NI(0),round_off:new l.NI(0),net_amount:new l.NI(0),paid_amount:new l.NI(0),status:new l.NI(""),note:new l.NI("")}),this.getAccount(),this.getUser(),this.getprefix(),this.addCart(0),this.filteredFromAccount=this.fromAccountControl.valueChanges.pipe((0,M.O)(""),(0,P.U)(o=>this._filter(o,!0))),this.filteredFromParty=this.fromPartyControl.valueChanges.pipe((0,M.O)(""),(0,P.U)(o=>this._filter2(o,!0)));const n=localStorage.getItem("financialYear");this.dateValidation(n),this.isPercentage[0]=!0,this.isAmount[0]=!1}dateValidation(e){const n=this.expensevoucherForm.get("expense_date"),{formattedMinDate:o,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.minDate=o,this.maxDate=a}getprefix(){this.transactionService.getExpenceVoucherPrefix().subscribe(e=>{console.log(e),e.success?(this.prefixNo=e?.data,this.expensevoucherForm.get("expense_no").patchValue(this.prefixNo[0]?.id)):this.toastr.error(e.msg)},e=>{this.toastrService.error(e.error.msg)})}getAccount(){this.transactionService.getAccount().subscribe(e=>{this.accountList=e})}getUser(){this.contactService.getUser().subscribe(e=>{this.userList=e})}_filter(e,n){const o="string"==typeof e?e.toLowerCase():e.toString().toLowerCase(),a=this.accountList.filter(n?s=>s?.account_id?.toLowerCase().includes(o)||s?.title?.toLowerCase().includes(o):s=>!s?.account_id?.toLowerCase().includes(o)||s?.title?.toLowerCase().includes(o));return!n&&0===a.length&&a.push({account:"No data found"}),a}_filter2(e,n){const o="string"==typeof e?e.toLowerCase():e.toString().toLowerCase(),a=this.userList.filter(n?s=>s?.name?.toLowerCase().includes(o)||s?.username?.toLowerCase().includes(o):s=>!s?.name?.toLowerCase().includes(o)||!s?.username?.toLowerCase().includes(o));return!n&&0===a.length&&a.push({party:"No data found"}),a}oncheck(e,n){this.expensevoucherForm.get("expenses_voucher_cart").at(n).patchValue({account:e?.id})}oncheckParty(e){let n=e;this.expensevoucherForm.get("party")?.patchValue(n)}cart(){return this.fb.group({account:new l.NI("",[l.kI.required]),service_or_product:new l.NI("Service"),amount:new l.NI(0,[l.kI.required]),discount:new l.NI(0,[l.kI.required,l.kI.pattern(/^(100|[0-9]{1,2})$/)]),tax:new l.NI(0,[l.kI.pattern(/^(100|[0-9]{1,2})$/)]),tax_value:new l.NI(0),total:new l.NI(0),description:""})}getCart(){return this.expensevoucherForm.get("expenses_voucher_cart")}addCart(e){this.getCart().push(this.cart()),this.isCart=!1,e>0&&(this.isPercentage[e]=!0,this.isAmount[e]=!1)}removeCart(e){this.getCart().removeAt(e),0==this.expensevoucherForm?.value?.expenses_voucher_cart?.length&&(this.isCart=!0)}isLastCart(e){return e===this.getCart().controls.length-1}submit(){if(console.log(this.expensevoucherForm.value),this.expensevoucherForm.valid){this.loaders=!0;let e=new FormData;e.append("party",this.expensevoucherForm.get("party")?.value),e.append("expense_date",this.expensevoucherForm.get("expense_date")?.value),e.append("expense_no",this.expensevoucherForm.get("expense_no")?.value),e.append("refrence_bill_no",this.expensevoucherForm.get("refrence_bill_no")?.value),e.append("reverse_charge",this.expensevoucherForm.get("reverse_charge")?.value),e.append("created_from",this.expensevoucherForm.get("created_from")?.value),e.append("tax_amount",this.expensevoucherForm.get("tax_amount")?.value),e.append("total_amount",this.expensevoucherForm.get("total_amount")?.value.toFixed(2)),e.append("round_off",this.expensevoucherForm.get("round_off")?.value),e.append("net_amount",this.expensevoucherForm.get("net_amount")?.value),e.append("status",this.expensevoucherForm.get("status")?.value),e.append("note",this.expensevoucherForm.get("note")?.value);const n=this.expensevoucherForm.get("expenses_voucher_cart"),o=[];n.controls.forEach(a=>{const s=a,c={};Object.keys(s.controls).forEach(d=>{const u=s.controls[d];c[d]="service_or_product"===d||"description"===d||isNaN(u.value)?u.value:parseFloat(u.value).toFixed(2)}),o.push(c)}),e.append("expenses_voucher_cart",JSON.stringify(o)),this.posCartService.addPosExpenseVoucher(e).subscribe(a=>{this.loaders=!1,this.addRes=a,this.addRes.success?(this.toastrService.success(this.addRes.msg),this.expensevoucherForm.reset(),this.fromPartyControl.setValue(""),this.fromAccountControl.setValue(""),this.modalClose.next(new Date)):(this.loaders=!1,a.error&&this.toastrService.error(a.error.party[0]))},a=>{this.loaders=!1})}else this.expensevoucherForm.markAllAsTouched(),this.toastrService.error("Please Fill All The Required Fields")}get party(){return this.expensevoucherForm.get("party")}get expense_date(){return this.expensevoucherForm.get("expense_date")}get expense_no(){return this.expensevoucherForm.get("expense_no")}get refrence_bill_no(){return this.expensevoucherForm.get("refrence_bill_no")}get reverse_charge(){return this.expensevoucherForm.get("reverse_charge")}get created_from(){return this.expensevoucherForm.get("created_from")}get tax_amount(){return this.expensevoucherForm.get("tax_amount")}get total_amount(){return this.expensevoucherForm.get("total_amount")}get round_off(){return this.expensevoucherForm.get("round_off")}get net_amount(){return this.expensevoucherForm.get("net_amount")}get paid_amount(){return this.expensevoucherForm.get("paid_amount")}get note(){return this.expensevoucherForm.get("note")}account(e){return this.getCart().controls[e].get("account")}service_or_product(e){return this.getCart().controls[e].get("service_or_product")}amount(e){return this.getCart().controls[e].get("amount")}discount(e){return this.getCart().controls[e].get("discount")}tax(e){return this.getCart().controls[e].get("tax")}tax_value(e){return this.getCart().controls[e].get("tax_value")}total(e){return this.getCart().controls[e].get("total")}totalDiscount(){let e=0;return this.getCart().controls.forEach((n,o)=>{const a=this.getCart().controls[o].get("discount");a&&(e+=+a.value||0)}),e}totalAmount(){let e=0;return this.getCart().controls.forEach((n,o)=>{const a=this.getCart().controls[o].get("amount");a&&(e+=+a.value||0)}),e}totalTax(){let e=0;return this.getCart().controls.forEach((n,o)=>{const a=this.getCart().controls[o].get("tax");a&&(e+=+a.value||0)}),e}totalTaxValue(){let e=0;return this.getCart().controls.forEach((n,o)=>{const a=this.getCart().controls[o].get("tax_value");a&&(e+=+a.value||0)}),e}totalTotal(){let e=0;return this.getCart().controls.forEach((n,o)=>{const a=this.getCart().controls[o].get("total");a&&(e+=+a.value||0)}),e}percentage(e){this.isPercentage[e]=!1,this.isAmount[e]=!0}rupees(e){this.isPercentage[e]=!0,this.isAmount[e]=!1}calculateTotalEveryIndex(e){const n=this.getCart().controls[e],o=n.get("amount"),a=n.get("tax"),s=n.get("discount");if(o&&a&&s){const c=+s.value||0,d=+o.value||0,u=+a.value||0;if(console.log(c,"discountPercentage"),console.log(d,"amountControlValue"),console.log(u,"taxPercentageValue"),1==this.isPercentage[e]){let _=d*c/100;console.log(_,"discount price");let p=d-_;console.log(p,"getCoastPrice");let h=p*u/100;console.log(h,"taxPrice"),this.taxIntoRupees[e]=h||0,console.log(this.taxIntoRupees,"tax value"),n.get("tax_value")?.patchValue(h);let v=d+h;n.get("total")?.patchValue(v)}else if(1==this.isAmount[e]){let _=d-c;console.log(_,"getCoastPrice");let p=_*u/100;console.log(p,"taxPrice"),this.taxIntoRupees[e]=p||0,console.log(this.taxIntoRupees,"tax value"),n.get("tax_value")?.patchValue(p);let h=d+p;n.get("total")?.patchValue(h)}}return 0}changeValue(e){this.roundOff=this.expensevoucherForm.get("round_off")?.value,console.log(this.roundOff,"this.roundoff"),e?(this.expensevoucherForm.get("round_off")?.patchValue(e),console.log(this.expensevoucherForm.get("round_off")?.value),this.roundOff=e,console.log(this.expensevoucherForm.value)):this.expensevoucherForm.get("round_off")?.patchValue(this.roundOff)}updateValue(e){this.roundOff="+"===e?Math.abs(this.roundOff):-Math.abs(this.roundOff),this.isMinus="-"===e}calculateTotal(){let e=0,n=0,o=this.expensevoucherForm.get("round_off")?.value;this.getCart().controls.forEach((s,c)=>{const d=this.getCart().controls[c].get("total");d&&(e+=+d.value||0)});const a=parseFloat(o)||0;return n=e+a,n}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.qu),t.Y36(x.F0),t.Y36(J._W),t.Y36(E.p),t.Y36(_t.y),t.Y36(X.R),t.Y36(V.b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-pos-add-expense-voucher"]],outputs:{modalClose:"modalClose"},decls:157,vars:66,consts:[["id","purchaseForm",1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-4","col-md-6","col-12"],[1,"form-group"],[2,"color","red"],[1,"w-100",2,"padding","0","width","100%","min-width","100%","border-top","none"],["type","text","placeholder","Search Party","aria-label","Party","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","ngClass"],["autos","matAutocomplete"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"col-lg-4","col-sm-6","col-12"],["type","date","formControlName","expense_date",3,"ngClass"],["formControlName","expense_no"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","refrence_bill_no","placeholder","Enter Refrence Bill No.",3,"ngClass"],[1,"col-lg-3","col-sm-3","col-12","d-flex","align-items-center"],[1,"form-group","mt-4"],[1,"d-flex"],["type","checkbox","formControlName","reverse_charge",3,"id","ngModel"],[1,"d_flex",2,"margin-bottom","0","margin-left","5px",3,"for"],[1,"card"],[1,"table-responsive"],[1,"table","datanew"],["colspan","3"],["class","debitIntoCart",3,"click",4,"ngIf"],["formArrayName","expenses_voucher_cart"],[2,"background","rgba(145, 158, 171, 0.32)"],[1,"text-start"],[1,"col-lg-6","my-3"],["formControlName","note","placeholder","Enter Note",3,"ngClass"],[1,"total-order"],["type","text","formControlName","tax_amount",1,"input",2,"display","none",3,"ngModel"],["type","text","formControlName","net_amount",1,"input",2,"display","none",3,"ngModel"],[2,"display","inline-grid"],["data-bs-toggle","tooltip","title","ion-plus-circled",1,"ion-plus-circled","mx-1",3,"ngStyle","click"],["data-bs-toggle","tooltip","title","ion-minus-circled",1,"ion-minus-circled","mx-1",3,"ngStyle","click"],["type","text",1,"input",2,"width","34%",3,"value","blur"],[1,"total"],["type","text","formControlName","total_amount",1,"input",2,"display","none",3,"ngModel"],[1,"col-lg-12"],["class","btn btn-submit me-2",4,"ngIf"],["class","btn btn-submit me-2","type","submit","disabled","",4,"ngIf"],["routerLink","//transaction/expensesList",1,"btn","btn-cancel","text-white"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngIf"],[2,"color","#FF9F43",3,"value","onSelectionChange"],[3,"value",4,"ngIf"],["class","is-loading",4,"ngIf"],[3,"value"],["routerLink","//contacts/addSupplier",2,"color","#FF9F43"],[1,"is-loading"],[1,"text-danger"],[1,"debitIntoCart",3,"click"],[3,"formGroupName"],[1,"me-2"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-circle",2,"color","red",3,"click"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],["style","color:green","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","class","bi bi-plus-circle","viewBox","0 0 16 16",3,"click",4,"ngIf"],[1,"form-group",2,"margin-bottom","-1%"],["type","text","placeholder","Select From Account","aria-label","from_account","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],["class","text-danger","style","display: block;",4,"ngIf"],["formControlName","service_or_product"],["value","Service","selected",""],["value","Product"],["type","text","formControlName","description","placeholder","Enter Note",1,"input"],["type","number","formControlName","amount",1,"input",3,"blur"],["type","number","formControlName","discount",1,"input",3,"blur"],["class","symbol",3,"click",4,"ngIf"],["type","number","formControlName","tax",1,"input",3,"blur"],["type","number","formControlName","tax_value","readonly","",1,"input"],["type","number","formControlName","total","readonly","",1,"input"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-circle",2,"color","green",3,"click"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],["routerLink","//account/accountlist",2,"color","#FF9F43"],[1,"text-danger",2,"display","block"],[1,"symbol",3,"click"],[1,"btn","btn-submit","me-2"],["type","submit","disabled","",1,"btn","btn-submit","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return n.submit()}),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"label"),t._uU(7,"Party"),t.TgZ(8,"span",6),t._uU(9,"*"),t.qZA()(),t.TgZ(10,"mat-form-field",7),t._UZ(11,"input",8),t.TgZ(12,"mat-autocomplete",null,9),t.YNc(14,tn,2,1,"ng-container",10),t.ALo(15,"async"),t.YNc(16,on,3,2,"ng-container",11),t.ALo(17,"async"),t.qZA()(),t.YNc(18,an,2,0,"span",12),t.qZA()(),t.TgZ(19,"div",13)(20,"div",5)(21,"label"),t._uU(22,"Expense Date"),t.TgZ(23,"span",6),t._uU(24,"*"),t.qZA()(),t._UZ(25,"input",14),t.YNc(26,rn,2,0,"span",12),t.qZA()(),t.TgZ(27,"div",13)(28,"div",5)(29,"label"),t._uU(30,"Expence Voucher No"),t.TgZ(31,"span",6),t._uU(32,"*"),t.qZA()(),t.TgZ(33,"select",15)(34,"option",16),t._uU(35,"Select Expence Voucher No"),t.qZA(),t.YNc(36,sn,2,2,"option",17),t.qZA(),t.YNc(37,ln,2,0,"span",12),t.qZA()(),t.TgZ(38,"div",13)(39,"div",5)(40,"label"),t._uU(41,"Refrence Bill No."),t.qZA(),t._UZ(42,"input",18),t.YNc(43,cn,2,0,"span",12),t.qZA()()(),t.TgZ(44,"div",19)(45,"div",20)(46,"div",21),t._UZ(47,"input",22),t.TgZ(48,"label",23),t._uU(49,"Reverse Charge"),t.qZA()()()(),t.TgZ(50,"div",24)(51,"div",1)(52,"div",3)(53,"div",25)(54,"table",26)(55,"thead")(56,"tr")(57,"th"),t._uU(58,"#"),t.qZA(),t._UZ(59,"th"),t.TgZ(60,"th"),t._uU(61,"From Account"),t.TgZ(62,"span",6),t._uU(63,"*"),t.qZA()(),t.TgZ(64,"th"),t._uU(65,"Service/Product"),t.qZA(),t.TgZ(66,"th"),t._uU(67,"Note"),t.qZA(),t.TgZ(68,"th"),t._uU(69,"Amount"),t.TgZ(70,"span",6),t._uU(71,"*"),t.qZA()(),t.TgZ(72,"th"),t._uU(73,"Discount (%)"),t.qZA(),t.TgZ(74,"th"),t._uU(75,"Tax (%)"),t.TgZ(76,"span",6),t._uU(77,"*"),t.qZA()(),t.TgZ(78,"th"),t._uU(79,"Tax Value"),t.qZA(),t.TgZ(80,"th"),t._uU(81,"Total"),t.qZA()(),t.TgZ(82,"tr")(83,"th",27),t.YNc(84,dn,2,0,"span",28),t.qZA()()(),t.TgZ(85,"tbody"),t.ynx(86,29),t.YNc(87,Pn,48,20,"ng-container",10),t.BQk(),t.TgZ(88,"tr",30),t._UZ(89,"td")(90,"td")(91,"td"),t.TgZ(92,"td",31)(93,"strong"),t._uU(94,"Total"),t.qZA()(),t._UZ(95,"td"),t.TgZ(96,"td",31)(97,"strong"),t._uU(98),t.qZA()(),t.TgZ(99,"td",31)(100,"strong"),t._uU(101),t.qZA()(),t.TgZ(102,"td",31)(103,"strong"),t._uU(104),t.qZA()(),t.TgZ(105,"td",31)(106,"strong"),t._uU(107),t.qZA()(),t.TgZ(108,"td",31)(109,"strong"),t._uU(110),t.qZA()()()()()()()()(),t.TgZ(111,"div",3)(112,"div",32)(113,"div",5)(114,"label"),t._uU(115,"Note"),t.qZA(),t._UZ(116,"textarea",33),t.YNc(117,qn,2,0,"span",12),t.qZA()(),t.TgZ(118,"div",32)(119,"div",5)(120,"div",34)(121,"ul")(122,"li")(123,"h4"),t._uU(124,"Tax Amount"),t.qZA(),t.TgZ(125,"h5"),t._uU(126),t.ALo(127,"currency"),t.qZA(),t._UZ(128,"input",35),t.qZA(),t.TgZ(129,"li")(130,"h4"),t._uU(131,"Sub Total"),t.qZA(),t.TgZ(132,"h5"),t._uU(133),t.ALo(134,"currency"),t.qZA(),t._UZ(135,"input",36),t.qZA(),t.TgZ(136,"li")(137,"h4"),t._uU(138,"Round Off"),t.qZA(),t.TgZ(139,"h5")(140,"span",37)(141,"i",38),t.NdJ("click",function(){return n.updateValue("+")}),t.qZA(),t.TgZ(142,"i",39),t.NdJ("click",function(){return n.updateValue("-")}),t.qZA()(),t.TgZ(143,"input",40),t.NdJ("blur",function(a){return n.changeValue(a.target.value)}),t.ALo(144,"number"),t.qZA()()(),t.TgZ(145,"li",41)(146,"h4"),t._uU(147,"Total Amount"),t.qZA(),t.TgZ(148,"h5"),t._uU(149),t.ALo(150,"currency"),t.qZA(),t._UZ(151,"input",42),t.qZA()()()()()(),t.TgZ(152,"div",43),t.YNc(153,Nn,2,0,"button",44),t.YNc(154,Mn,3,0,"button",45),t.TgZ(155,"a",46),t._uU(156,"Cancel"),t.qZA()()()()()),2&e){const o=t.MAs(13);t.xp6(2),t.Q6J("formGroup",n.expensevoucherForm),t.xp6(9),t.Q6J("formControl",n.fromPartyControl)("matAutocomplete",o)("ngClass",t.VKq(54,tt,n.f.party.touched&&n.f.party.invalid)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(15,38,n.filteredFromParty)),t.xp6(2),t.Q6J("ngIf",t.lcZ(17,40,n.filteredFromParty)),t.xp6(2),t.Q6J("ngIf",n.party&&n.party.invalid&&n.party.touched),t.xp6(7),t.Q6J("ngClass",t.VKq(56,tt,n.f.expense_date.touched&&n.f.expense_date.invalid)),t.uIk("min",n.minDate)("max",n.maxDate),t.xp6(1),t.Q6J("ngIf",n.expense_date&&n.expense_date.invalid&&n.expense_date.touched),t.xp6(10),t.Q6J("ngForOf",n.prefixNo),t.xp6(1),t.Q6J("ngIf",n.expense_no&&n.expense_no.invalid&&n.expense_no.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(58,tt,n.f.refrence_bill_no.touched&&n.f.refrence_bill_no.invalid)),t.xp6(1),t.Q6J("ngIf",n.refrence_bill_no&&n.refrence_bill_no.invalid&&n.refrence_bill_no.touched),t.xp6(4),t.Q6J("id","checkboxTax-")("ngModel",!0),t.xp6(1),t.Q6J("for","checkboxTax-"),t.xp6(36),t.Q6J("ngIf",n.isCart),t.xp6(3),t.Q6J("ngForOf",n.getCart().controls),t.xp6(11),t.Oqu(n.totalAmount().toFixed(2)),t.xp6(3),t.Oqu(n.totalDiscount()),t.xp6(3),t.Oqu(n.totalTax()),t.xp6(3),t.Oqu(n.totalTaxValue().toFixed(2)),t.xp6(3),t.Oqu(n.totalTotal().toFixed(2)),t.xp6(6),t.Q6J("ngClass",t.VKq(60,tt,n.f.note.touched&&n.f.note.invalid)),t.xp6(1),t.Q6J("ngIf",n.note&&n.note.invalid&&n.note.touched),t.xp6(9),t.Oqu(t.xi3(127,42,n.totalTaxValue().toFixed(2),"INR")),t.xp6(2),t.Q6J("ngModel",n.totalTaxValue().toFixed(2)),t.xp6(5),t.hij(" ",t.xi3(134,45,n.totalAmount().toFixed(2),"INR"),""),t.xp6(2),t.Q6J("ngModel",n.totalAmount().toFixed(2)),t.xp6(6),t.Q6J("ngStyle",t.VKq(62,pt,n.isMinus?"gray":"#FF9F43")),t.xp6(1),t.Q6J("ngStyle",t.VKq(64,pt,n.isMinus?"#FF9F43":"gray")),t.xp6(1),t.Q6J("value",t.xi3(144,48,n.roundOff,"1.2-2")),t.xp6(6),t.hij(" ",t.xi3(150,51,n.calculateTotal(),"INR"),""),t.xp6(2),t.Q6J("ngModel",n.calculateTotal()),t.xp6(2),t.Q6J("ngIf",!n.loaders),t.xp6(1),t.Q6J("ngIf",n.loaders)}},dependencies:[f.mk,f.sg,f.O5,f.PC,x.yS,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l.JJ,l.JL,l.oH,l.sg,l.u,l.x0,l.CE,A.XC,A.ZL,G.ey,$.KE,H.Nt,f.Ov,f.JJ,f.H9],styles:[".ng-pristine.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=datetime-local][_ngcontent-%COMP%], .input[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}.select[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:40%;font-size:14px;font-weight:500;color:#637381;padding:10px 8px;border-radius:5px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.cdk-overlay-pane[_ngcontent-%COMP%]{width:300.85px!important}a[_ngcontent-%COMP%]{text-decoration:none;color:#ff9f43}@media (max-width: 1023px){h5[_ngcontent-%COMP%]{font-size:13px}}.table[_ngcontent-%COMP%]   th.product-name[_ngcontent-%COMP%]{width:40%}.table[_ngcontent-%COMP%]   th.qty[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th.mrp[_ngcontent-%COMP%]{width:10%}.form-control[_ngcontent-%COMP%]{border-bottom:1px solid #9c9c9c;border-top:none;border-right:none;border-left:none;font-size:15px;color:#606060;border-radius:0;padding-left:2px}.space-text[_ngcontent-%COMP%]{white-space:pre-wrap!important}.circle[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;border-radius:50%;border:1px solid #FF9F43;text-align:center;line-height:16px;color:#ff9f43}.button[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;display:flex;padding:10px 15px;border-radius:5px;justify-content:space-between;align-items:center;background:white}.symbol[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px;border-radius:5px}"]}),i})();var kn=m(54270);function Un(i,r){if(1&i&&(t.TgZ(0,"option",45),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",e.title," ")}}function On(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select Payment Account"),t.qZA())}function Fn(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Enter Date"),t.qZA())}function Sn(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select Mode Type"),t.qZA())}function wn(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Enter Mode Type"),t.qZA())}function Jn(i,r){if(1&i&&(t.TgZ(0,"option",45),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.prefix)}}function Vn(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select Receipt Voucher No"),t.qZA())}function Qn(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Enter Amount"),t.qZA())}function Dn(i,r){if(1&i&&(t.TgZ(0,"option",45),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.slab_title," ")}}function Yn(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select Tax Slab"),t.qZA())}function Bn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",47),t.NdJ("onSelectionChange",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.oncheck1(a))}),t._uU(1),t.qZA()}if(2&i){const e=r.$implicit;t.Q6J("value",e.account_id),t.xp6(1),t.Oqu(e.account_id)}}function Ln(i,r){1&i&&(t.TgZ(0,"mat-option",45)(1,"a",50),t._uU(2,"+ Add Account"),t.qZA()()),2&i&&t.Q6J("value","No data found")}function En(i,r){1&i&&(t.TgZ(0,"mat-option",51),t._uU(1,"Please Enter 1 or more characters"),t.qZA())}function Rn(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Ln,3,1,"mat-option",48),t.YNc(2,En,2,0,"mat-option",49),t.BQk()),2&i){const e=r.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.payerControl.value?null:n.payerControl.value.length)<3)}}function Gn(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select Payer"),t.qZA())}function $n(i,r){if(1&i&&(t.TgZ(0,"option",45),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.state_code,"")}}function Hn(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select State Code"),t.qZA())}function Kn(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Enter Description"),t.qZA())}function jn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"span",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.addCart())}),t._uU(1,"Add Cart+"),t.qZA()}}function zn(i,r){if(1&i){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",73),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.addCart())}),t._UZ(1,"path",62)(2,"path",74),t.qZA()}}function Wn(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",47),t.NdJ("onSelectionChange",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw().index,s=t.oxw(3);return t.KtG(s.oncheck3(o,a))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.customer_bill_no),t.xp6(1),t.hij(" ",null==e?null:e.customer_bill_no," ")}}function Xn(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Wn,2,2,"mat-option",75),t.BQk()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==(null==e?null:e.is_active))}}function to(i,r){1&i&&(t.TgZ(0,"mat-option",45)(1,"a",76),t._uU(2,"+ Add Sale Bill"),t.qZA()()),2&i&&t.Q6J("value","No data found")}function eo(i,r){1&i&&(t.TgZ(0,"mat-option",51),t._uU(1," Please Enter 1 or more characters "),t.qZA())}function no(i,r){1&i&&(t.TgZ(0,"span",77),t._uU(1,"Select Sale Bill"),t.qZA())}function oo(i,r){1&i&&(t.TgZ(0,"span",77),t._uU(1,"Enter Original Amount "),t.qZA())}function io(i,r){1&i&&(t.TgZ(0,"span",77),t._uU(1,"Enter debit Paid Amount"),t.qZA())}function ao(i,r){1&i&&(t.TgZ(0,"span",77),t._uU(1,"Enter Pending Amount"),t.qZA())}function ro(i,r){1&i&&(t.TgZ(0,"span",77),t._uU(1,"Enter Payment"),t.qZA())}function so(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",59)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"div")(6,"div",60),t.O4$(),t.TgZ(7,"svg",61),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(3);return t.KtG(s.removeCart(a))}),t._UZ(8,"path",62)(9,"path",63),t.qZA()(),t.YNc(10,zn,3,0,"svg",64),t.qZA()(),t.kcU(),t.TgZ(11,"td")(12,"div",65)(13,"mat-form-field",34)(14,"input",66),t.NdJ("input",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.getFilter(o.target.value))}),t.qZA(),t.TgZ(15,"mat-autocomplete",null,67),t.YNc(17,Xn,2,1,"ng-container",57),t.YNc(18,to,3,1,"mat-option",48),t.YNc(19,eo,2,0,"mat-option",49),t.qZA()()(),t.YNc(20,no,2,0,"span",68),t.qZA(),t.TgZ(21,"td"),t._UZ(22,"input",69),t.YNc(23,oo,2,0,"span",68),t.qZA(),t.TgZ(24,"td"),t._UZ(25,"input",70),t.YNc(26,io,2,0,"span",68),t.qZA(),t.TgZ(27,"td"),t._UZ(28,"input",71),t.YNc(29,ao,2,0,"span",68),t.qZA(),t.TgZ(30,"td"),t._UZ(31,"input",72),t.YNc(32,ro,2,0,"span",68),t.qZA()(),t.BQk()}if(2&i){const e=r.index,n=t.MAs(16),o=t.oxw(3);let a;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(2),t.Oqu(e+1+"."),t.xp6(7),t.Q6J("ngIf",o.isLastCart(e)),t.xp6(4),t.Q6J("formControl",o.myControls.at(e))("matAutocomplete",n),t.xp6(3),t.Q6J("ngForOf",o.filterSaleBill),t.xp6(1),t.Q6J("ngIf",0===(null==o.filterSaleBill?null:o.filterSaleBill.length)),t.xp6(1),t.Q6J("ngIf",(null==(a=o.myControls.at(e))||null==a.value?null:a.value.length)<1),t.xp6(1),t.Q6J("ngIf",o.sale_bill(e)&&o.sale_bill(e).invalid&&o.sale_bill(e).touched),t.xp6(3),t.Q6J("ngIf",o.original_amount(e)&&o.original_amount(e).invalid&&o.original_amount(e).touched),t.xp6(3),t.Q6J("ngIf",o.paid_amount(e)&&o.paid_amount(e).invalid&&o.paid_amount(e).touched),t.xp6(3),t.Q6J("ngIf",o.pending_amount(e)&&o.pending_amount(e).invalid&&o.pending_amount(e).touched),t.xp6(3),t.Q6J("ngIf",o.payment(e)&&o.payment(e).invalid&&o.payment(e).touched)}}function lo(i,r){if(1&i&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",9)(3,"div",52)(4,"table",53)(5,"thead")(6,"tr")(7,"th"),t._uU(8,"#"),t.qZA(),t._UZ(9,"th"),t.TgZ(10,"th"),t._uU(11,"Sale Bill"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Original Amount"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Paid Amount"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Pending Amount"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Payment"),t.qZA()(),t.TgZ(20,"tr")(21,"th",54),t.YNc(22,jn,2,0,"span",55),t.qZA()()(),t.TgZ(23,"tbody"),t.ynx(24,56),t.YNc(25,so,33,13,"ng-container",57),t.BQk(),t.qZA()()()()()()),2&i){const e=t.oxw(2);t.xp6(22),t.Q6J("ngIf",e.isCart),t.xp6(3),t.Q6J("ngForOf",e.getCart().controls)}}function co(i,r){1&i&&(t.TgZ(0,"button",78),t._uU(1,"Submit"),t.qZA())}function uo(i,r){1&i&&(t.TgZ(0,"button",79),t._UZ(1,"span",80),t._uU(2," \xa0 Submit"),t.qZA())}const N=function(i){return{"is-invalid":i}},it=function(i){return{border:i}};function _o(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSubmit())}),t.TgZ(3,"div",4)(4,"div",5)(5,"input",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleCash())}),t.qZA(),t.TgZ(6,"label",7),t._uU(7,"Cash"),t.qZA()(),t.TgZ(8,"div",5)(9,"input",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleBank())}),t.qZA(),t.TgZ(10,"label",7),t._uU(11,"Bank"),t.qZA()()(),t.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"label"),t._uU(16,"Payment Account*"),t.qZA(),t.TgZ(17,"select",12)(18,"option",13),t._uU(19,"Select Payment Account "),t.qZA(),t.YNc(20,Un,2,2,"option",14),t.qZA(),t.YNc(21,On,2,0,"span",15),t.qZA()(),t.TgZ(22,"div",16)(23,"div",11)(24,"label"),t._uU(25,"Date"),t.qZA(),t._UZ(26,"input",17),t.YNc(27,Fn,2,0,"span",15),t.qZA()(),t.TgZ(28,"div",18)(29,"div",11)(30,"div",9)(31,"div",19)(32,"div",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setRadioValue("On Account"))}),t.TgZ(33,"div",2)(34,"div",21),t._UZ(35,"input",22),t.TgZ(36,"label",23),t._uU(37,"On Account"),t.qZA()(),t.TgZ(38,"span",24),t._uU(39,"Upfront Payment"),t.qZA()()()(),t.TgZ(40,"div",19)(41,"div",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setRadioValue("Advance Payment"))}),t.TgZ(42,"div",2)(43,"div",21),t._UZ(44,"input",25),t.TgZ(45,"label",26),t._uU(46,"Advance Payment"),t.qZA()(),t.TgZ(47,"span",27),t._uU(48,"Will be offset by upcoming bills"),t.qZA()()()(),t.TgZ(49,"div",19)(50,"div",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setRadioValue("Against Bill"))}),t.TgZ(51,"div",2)(52,"div",21),t._UZ(53,"input",28),t.TgZ(54,"label",29),t._uU(55,"Against Bill"),t.qZA()(),t.TgZ(56,"span",27),t._uU(57,"Offset against Current Bills"),t.qZA()()()(),t.YNc(58,Sn,2,0,"span",15),t.YNc(59,wn,2,0,"span",15),t.qZA()()(),t.TgZ(60,"div",19)(61,"div",11)(62,"label"),t._uU(63,'Receipt Voucher *ngFor="let item of stream | async as list"'),t.qZA(),t.TgZ(64,"select",30)(65,"option",31),t._uU(66,"Select Receipt Voucher No "),t.qZA(),t.YNc(67,Jn,2,2,"option",14),t.qZA(),t.YNc(68,Vn,2,0,"span",15),t.qZA()(),t.TgZ(69,"div",19)(70,"div",11)(71,"label"),t._uU(72,"Amount"),t.qZA(),t._UZ(73,"input",32),t.YNc(74,Qn,2,0,"span",15),t.qZA()(),t.TgZ(75,"div",19)(76,"div",11)(77,"label"),t._uU(78,"Tax Percentage"),t.qZA(),t.TgZ(79,"select",33),t.NdJ("change",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onChangePercentage(o,"bank"))}),t.TgZ(80,"option",31),t._uU(81,"Select Tax Percentage"),t.qZA(),t.YNc(82,Dn,2,2,"option",14),t.qZA(),t.YNc(83,Yn,2,0,"span",15),t.qZA()(),t.TgZ(84,"div",19)(85,"div",11)(86,"label"),t._uU(87,"Payer*"),t.qZA(),t.TgZ(88,"mat-form-field",34),t._UZ(89,"input",35),t.TgZ(90,"mat-autocomplete",null,36),t.YNc(92,Bn,2,2,"mat-option",37),t.ALo(93,"async"),t.YNc(94,Rn,3,2,"ng-container",38),t.ALo(95,"async"),t.qZA()(),t.YNc(96,Gn,2,0,"span",15),t.qZA()(),t.TgZ(97,"div",19)(98,"div",11)(99,"label"),t._uU(100,"Place of Supply"),t.qZA(),t.TgZ(101,"select",39)(102,"option",31),t._uU(103,"Select state code "),t.qZA(),t.YNc(104,$n,2,2,"option",14),t.qZA(),t.YNc(105,Hn,2,0,"span",15),t.qZA()(),t.TgZ(106,"div",19)(107,"div",11)(108,"label"),t._uU(109,"Description"),t.qZA(),t._UZ(110,"textarea",40),t.YNc(111,Kn,2,0,"span",15),t.qZA()(),t.YNc(112,lo,26,2,"div",0),t.TgZ(113,"div",41),t.YNc(114,co,2,0,"button",42),t.YNc(115,uo,3,0,"button",43),t.TgZ(116,"button",44),t._uU(117,"Cancel"),t.qZA()()()()()()}if(2&i){const e=t.MAs(91),n=t.oxw();t.xp6(2),t.Q6J("formGroup",n.recieptVoucherForm),t.xp6(3),t.Q6J("id","checkboxCash")("value","Cash"),t.xp6(1),t.Q6J("for","checkboxCash"),t.xp6(3),t.Q6J("id","checkbox-Bnak")("value","Bank"),t.xp6(1),t.Q6J("for","checkbox-Bnak"),t.xp6(10),t.Q6J("ngForOf",n.accountListData),t.xp6(1),t.Q6J("ngIf",n.recieptVoucherForm.get("payment_account").invalid&&n.recieptVoucherForm.get("payment_account").touched),t.xp6(5),t.Q6J("ngClass",t.VKq(45,N,n.h.date.touched&&n.h.date.invalid)),t.uIk("min",n.minDate)("max",n.maxDate),t.xp6(1),t.Q6J("ngIf",n.date&&n.date.invalid&&n.date.touched),t.xp6(8),t.Q6J("value","On Account")("ngStyle",t.VKq(47,it,n.modeError?"1px solid red":"")),t.xp6(9),t.Q6J("value","Advance Payment")("ngStyle",t.VKq(49,it,n.modeError?"1px solid red":"")),t.xp6(9),t.Q6J("value","Against Bill")("ngStyle",t.VKq(51,it,n.modeError?"1px solid red":"")),t.xp6(5),t.Q6J("ngIf",n.modeError),t.xp6(1),t.Q6J("ngIf",n.mode_type&&n.mode_type.invalid&&n.mode_type.touched),t.xp6(8),t.Q6J("ngForOf",n.prefixNo),t.xp6(1),t.Q6J("ngIf",n.receipt_voucher_no&&n.receipt_voucher_no.invalid&&n.receipt_voucher_no.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(53,N,n.h.amount.touched&&n.h.amount.invalid)),t.xp6(1),t.Q6J("ngIf",n.amount&&n.amount.invalid&&n.amount.touched),t.xp6(5),t.Q6J("formControl",n.taxPercentage),t.xp6(3),t.Q6J("ngForOf",n.taxSlabList),t.xp6(1),t.Q6J("ngIf",n.taxPercentage&&n.taxPercentage.invalid&&n.taxPercentage.touched),t.xp6(6),t.Q6J("formControl",n.payerControl)("matAutocomplete",e)("ngClass",t.VKq(55,N,n.h.payer.touched&&n.h.payer.invalid)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(93,41,n.filteredPayer)),t.xp6(2),t.Q6J("ngIf",t.lcZ(95,43,n.filteredPayer)),t.xp6(2),t.Q6J("ngIf",n.payer&&n.payer.invalid&&n.payer.touched),t.xp6(8),t.Q6J("ngForOf",n.stateList),t.xp6(1),t.Q6J("ngIf",n.place_of_supply&&n.place_of_supply.invalid&&n.place_of_supply.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(57,N,n.h.note.touched&&n.h.note.invalid)),t.xp6(1),t.Q6J("ngIf",n.description&&n.description.invalid&&n.description.touched),t.xp6(1),t.Q6J("ngIf",n.isAgainstBill),t.xp6(2),t.Q6J("ngIf",!n.loaders),t.xp6(1),t.Q6J("ngIf",n.loaders)}}function po(i,r){if(1&i&&(t.TgZ(0,"option",45),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",e.title," ")}}function mo(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select Payment Account"),t.qZA())}function go(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select Date"),t.qZA())}function ho(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select Transaction Date"),t.qZA())}function fo(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Enter Receipt Voucher no."),t.qZA())}function vo(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select Mode Type"),t.qZA())}function xo(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select Mode Type"),t.qZA())}function yo(i,r){if(1&i&&(t.TgZ(0,"option",45),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.prefix)}}function Co(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select Receipt Voucher No"),t.qZA())}function Zo(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Enter Amount"),t.qZA())}function bo(i,r){if(1&i&&(t.TgZ(0,"option",45),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.slab_title,"")}}function Ao(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select Tax Slab"),t.qZA())}function To(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",47),t.NdJ("onSelectionChange",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.oncheckBank1(a))}),t._uU(1),t.qZA()}if(2&i){const e=r.$implicit;t.Q6J("value",e.account_id),t.xp6(1),t.Oqu(e.account_id)}}function Po(i,r){1&i&&(t.TgZ(0,"mat-option",45)(1,"a",50),t._uU(2,"+ Add Account"),t.qZA()()),2&i&&t.Q6J("value","No data found")}function qo(i,r){1&i&&(t.TgZ(0,"mat-option",51),t._uU(1,"Please Enter 1 or more characters"),t.qZA())}function No(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Po,3,1,"mat-option",48),t.YNc(2,qo,2,0,"mat-option",49),t.BQk()),2&i){const e=r.ngIf,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.payerControl.value?null:n.payerControl.value.length)<3)}}function Mo(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select Payer"),t.qZA())}function Io(i,r){if(1&i&&(t.TgZ(0,"option",45),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.state_code,"")}}function ko(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Select State Code"),t.qZA())}function Uo(i,r){1&i&&(t.TgZ(0,"span",46),t._uU(1,"Enter Description"),t.qZA())}function Oo(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"span",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.addCartBank())}),t._uU(1,"Add Cart+"),t.qZA()}}function Fo(i,r){if(1&i){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",73),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.addCartBank())}),t._UZ(1,"path",62)(2,"path",74),t.qZA()}}function So(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",47),t.NdJ("onSelectionChange",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw().index,s=t.oxw(3);return t.KtG(s.oncheckBank3(o,a))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.customer_bill_no),t.xp6(1),t.hij(" ",null==e?null:e.customer_bill_no," ")}}function wo(i,r){if(1&i&&(t.ynx(0),t.YNc(1,So,2,2,"mat-option",75),t.BQk()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==(null==e?null:e.is_active))}}function Jo(i,r){1&i&&(t.TgZ(0,"mat-option",45)(1,"a",76),t._uU(2,"+ Add Sale Bill"),t.qZA()()),2&i&&t.Q6J("value","No data found")}function Vo(i,r){1&i&&(t.TgZ(0,"mat-option",51),t._uU(1," Please Enter 1 or more characters "),t.qZA())}function Qo(i,r){1&i&&(t.TgZ(0,"span",77),t._uU(1,"Select Sale Bill"),t.qZA())}function Do(i,r){1&i&&(t.TgZ(0,"span",77),t._uU(1,"Enter Original Amount "),t.qZA())}function Yo(i,r){1&i&&(t.TgZ(0,"span",77),t._uU(1,"Enter Debit Paid Amount"),t.qZA())}function Bo(i,r){1&i&&(t.TgZ(0,"span",77),t._uU(1,"Enter Pending Amount"),t.qZA())}function Lo(i,r){1&i&&(t.TgZ(0,"span",77),t._uU(1,"Enter Payment"),t.qZA())}function Eo(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr",59)(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"div")(6,"div",60),t.O4$(),t.TgZ(7,"svg",61),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw(3);return t.KtG(s.removeCartBank(a))}),t._UZ(8,"path",62)(9,"path",63),t.qZA()(),t.YNc(10,Fo,3,0,"svg",64),t.qZA()(),t.kcU(),t.TgZ(11,"td")(12,"div",65)(13,"mat-form-field",34)(14,"input",66),t.NdJ("input",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.getFilter(o.target.value))}),t.qZA(),t.TgZ(15,"mat-autocomplete",null,93),t.YNc(17,wo,2,1,"ng-container",57),t.YNc(18,Jo,3,1,"mat-option",48),t.YNc(19,Vo,2,0,"mat-option",49),t.qZA()()(),t.YNc(20,Qo,2,0,"span",68),t.qZA(),t.TgZ(21,"td"),t._UZ(22,"input",69),t.YNc(23,Do,2,0,"span",68),t.qZA(),t.TgZ(24,"td"),t._UZ(25,"input",70),t.YNc(26,Yo,2,0,"span",68),t.qZA(),t.TgZ(27,"td"),t._UZ(28,"input",71),t.YNc(29,Bo,2,0,"span",68),t.qZA(),t.TgZ(30,"td"),t._UZ(31,"input",72),t.YNc(32,Lo,2,0,"span",68),t.qZA()(),t.BQk()}if(2&i){const e=r.index,n=t.MAs(16),o=t.oxw(3);let a;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(2),t.Oqu(e+1+"."),t.xp6(7),t.Q6J("ngIf",o.isLastCartBank(e)),t.xp6(4),t.Q6J("formControl",o.myControls.at(e))("matAutocomplete",n),t.xp6(3),t.Q6J("ngForOf",o.filterSaleBill),t.xp6(1),t.Q6J("ngIf",0===(null==o.filterSaleBill?null:o.filterSaleBill.length)),t.xp6(1),t.Q6J("ngIf",(null==(a=o.myControls.at(e))||null==a.value?null:a.value.length)<1),t.xp6(1),t.Q6J("ngIf",o.sale_bill1(e)&&o.sale_bill1(e).invalid&&o.sale_bill1(e).touched),t.xp6(3),t.Q6J("ngIf",o.original_amount1(e)&&o.original_amount1(e).invalid&&o.original_amount1(e).touched),t.xp6(3),t.Q6J("ngIf",o.paid_amount1(e)&&o.paid_amount1(e).invalid&&o.paid_amount1(e).touched),t.xp6(3),t.Q6J("ngIf",o.pending_amount1(e)&&o.pending_amount1(e).invalid&&o.pending_amount1(e).touched),t.xp6(3),t.Q6J("ngIf",o.payment1(e)&&o.payment1(e).invalid&&o.payment1(e).touched)}}function Ro(i,r){if(1&i&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",9)(3,"div",52)(4,"table",53)(5,"thead")(6,"tr")(7,"th"),t._uU(8,"#"),t.qZA(),t._UZ(9,"th"),t.TgZ(10,"th"),t._uU(11,"Sale Bill"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Original Amount"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Paid Amount"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Pending Amount"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Payment"),t.qZA()(),t.TgZ(20,"tr")(21,"th",54),t.YNc(22,Oo,2,0,"span",55),t.qZA()()(),t.TgZ(23,"tbody"),t.ynx(24,56),t.YNc(25,Eo,33,13,"ng-container",57),t.BQk(),t.qZA()()()()()()),2&i){const e=t.oxw(2);t.xp6(22),t.Q6J("ngIf",e.isCartBank),t.xp6(3),t.Q6J("ngForOf",e.getCartBank().controls)}}function Go(i,r){1&i&&(t.TgZ(0,"button",78),t._uU(1,"Submit"),t.qZA())}function $o(i,r){1&i&&(t.TgZ(0,"button",79),t._UZ(1,"span",80),t._uU(2,"\xa0 Submit"),t.qZA())}function Ho(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",81)(2,"form",3),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onBankSubmit())}),t.TgZ(3,"div",4)(4,"div",5)(5,"input",82),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleCash())}),t.qZA(),t.TgZ(6,"label",7),t._uU(7,"Cash"),t.qZA()(),t.TgZ(8,"div",5)(9,"input",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleBank())}),t.qZA(),t.TgZ(10,"label",7),t._uU(11,"Bank"),t.qZA()()(),t.TgZ(12,"div",9)(13,"div",83)(14,"div",11)(15,"label"),t._uU(16,"Payment Account*"),t.qZA(),t.TgZ(17,"select",12)(18,"option",13),t._uU(19,"Select Payment Account "),t.qZA(),t.YNc(20,po,2,2,"option",14),t.qZA(),t.YNc(21,mo,2,0,"span",15),t.qZA()(),t.TgZ(22,"div",84)(23,"div",11)(24,"label"),t._uU(25,"Date"),t.qZA(),t._UZ(26,"input",17),t.YNc(27,go,2,0,"span",15),t.qZA()(),t.TgZ(28,"div",84)(29,"div",11)(30,"label"),t._uU(31,"Transaction Date"),t.qZA(),t._UZ(32,"input",85),t.YNc(33,ho,2,0,"span",15),t.qZA()(),t.TgZ(34,"div",84)(35,"div",11)(36,"label"),t._uU(37,"Transaction Id"),t.qZA(),t._UZ(38,"input",86),t.YNc(39,fo,2,0,"span",15),t.qZA()(),t.TgZ(40,"div",18)(41,"div",11)(42,"div",9)(43,"div",19)(44,"div",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setRadioValue1("On Account"))}),t.TgZ(45,"div",2)(46,"div",21),t._UZ(47,"input",87),t.TgZ(48,"label",23),t._uU(49,"On Account"),t.qZA()(),t.TgZ(50,"span",24),t._uU(51,"Upfront Payment"),t.qZA()()()(),t.TgZ(52,"div",19)(53,"div",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setRadioValue1("Advance Payment"))}),t.TgZ(54,"div",2)(55,"div",21),t._UZ(56,"input",88),t.TgZ(57,"label",26),t._uU(58,"Advance Payment"),t.qZA()(),t.TgZ(59,"span",27),t._uU(60,"Will be offset by upcoming bills"),t.qZA()()()(),t.TgZ(61,"div",19)(62,"div",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.setRadioValue1("Against Bill"))}),t.TgZ(63,"div",2)(64,"div",21),t._UZ(65,"input",89),t.TgZ(66,"label",29),t._uU(67,"Against Bill"),t.qZA()(),t.TgZ(68,"span",27),t._uU(69,"Offset against Current Bills"),t.qZA()()()(),t.YNc(70,vo,2,0,"span",15),t.YNc(71,xo,2,0,"span",15),t.qZA()()(),t.TgZ(72,"div",19)(73,"div",11)(74,"label"),t._uU(75,"Receipt Voucher No"),t.qZA(),t.TgZ(76,"select",30)(77,"option",31),t._uU(78,"Select Receipt Voucher No "),t.qZA(),t.YNc(79,yo,2,2,"option",14),t.qZA(),t.YNc(80,Co,2,0,"span",15),t.qZA()(),t.TgZ(81,"div",19)(82,"div",11)(83,"label"),t._uU(84,"Payment Mode"),t.qZA(),t.TgZ(85,"div",21)(86,"select",90)(87,"option",31),t._uU(88,"Select Payment Mode"),t.qZA(),t.TgZ(89,"option"),t._uU(90,"Online"),t.qZA(),t.TgZ(91,"option"),t._uU(92,"Cheque"),t.qZA(),t.TgZ(93,"option"),t._uU(94,"NEFT-RTGS"),t.qZA()()()()(),t.TgZ(95,"div",19)(96,"div",11)(97,"label"),t._uU(98,"Amount"),t.qZA(),t._UZ(99,"input",91),t.YNc(100,Zo,2,0,"span",15),t.qZA()(),t.TgZ(101,"div",19)(102,"div",11)(103,"label"),t._uU(104,"Tax Percentage"),t.qZA(),t.TgZ(105,"select",33),t.NdJ("change",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onChangePercentage(o,"bank"))}),t.TgZ(106,"option",31),t._uU(107,"Select Tax Percentage "),t.qZA(),t.YNc(108,bo,2,2,"option",14),t.qZA(),t.YNc(109,Ao,2,0,"span",15),t.qZA()(),t.TgZ(110,"div",19)(111,"div",11)(112,"label"),t._uU(113,"Payer*"),t.qZA(),t.TgZ(114,"mat-form-field",34),t._UZ(115,"input",35),t.TgZ(116,"mat-autocomplete",null,92),t.YNc(118,To,2,2,"mat-option",37),t.ALo(119,"async"),t.YNc(120,No,3,2,"ng-container",38),t.ALo(121,"async"),t.qZA()(),t.YNc(122,Mo,2,0,"span",15),t.qZA()(),t.TgZ(123,"div",19)(124,"div",11)(125,"label"),t._uU(126,"Place of Supply"),t.qZA(),t.TgZ(127,"select",39)(128,"option",31),t._uU(129,"Select state code "),t.qZA(),t.YNc(130,Io,2,2,"option",14),t.qZA(),t.YNc(131,ko,2,0,"span",15),t.qZA()(),t.TgZ(132,"div",19)(133,"div",11)(134,"label"),t._uU(135,"Description"),t.qZA(),t._UZ(136,"textarea",40),t.YNc(137,Uo,2,0,"span",15),t.qZA()(),t.YNc(138,Ro,26,2,"div",0),t.TgZ(139,"div",41),t.YNc(140,Go,2,0,"button",42),t.YNc(141,$o,3,0,"button",43),t.TgZ(142,"button",44),t._uU(143,"Cancel"),t.qZA()()()()()()}if(2&i){const e=t.MAs(117),n=t.oxw();t.xp6(2),t.Q6J("formGroup",n.recieptVoucherBankForm),t.xp6(3),t.Q6J("id","checkboxCash"),t.xp6(1),t.Q6J("for","checkboxCash"),t.xp6(3),t.Q6J("id","checkbox-Bnak")("value","Bank"),t.xp6(1),t.Q6J("for","checkbox-Bnak"),t.xp6(10),t.Q6J("ngForOf",n.accountListData),t.xp6(1),t.Q6J("ngIf",n.recieptVoucherBankForm.get("payment_account").invalid&&n.recieptVoucherBankForm.get("payment_account").touched),t.xp6(5),t.Q6J("ngClass",t.VKq(47,N,n.g.date.touched&&n.g.date.invalid)),t.uIk("min",n.bankMinDate)("max",n.bankMaxDate),t.xp6(1),t.Q6J("ngIf",n.date1&&n.date1.invalid&&n.date1.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(49,N,n.g.transaction_date.touched&&n.g.transaction_date.invalid)),t.uIk("min",n.transactionMinDate)("max",n.transactionMaxDate),t.xp6(1),t.Q6J("ngIf",n.transaction_date&&n.transaction_date.invalid&&n.transaction_date.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(51,N,n.g.transaction_id.touched&&n.g.transaction_id.invalid)),t.xp6(1),t.Q6J("ngIf",n.transaction_id&&n.transaction_id.invalid&&n.transaction_id.touched),t.xp6(8),t.Q6J("value","On Account"),t.xp6(9),t.Q6J("value","Advance Payment"),t.xp6(9),t.Q6J("value","Against Bill"),t.xp6(5),t.Q6J("ngIf",n.modeError),t.xp6(1),t.Q6J("ngIf",n.mode_type1&&n.mode_type1.invalid&&n.mode_type1.touched),t.xp6(8),t.Q6J("ngForOf",n.prefixNo),t.xp6(1),t.Q6J("ngIf",n.receipt_voucher_no1&&n.receipt_voucher_no1.invalid&&n.receipt_voucher_no1.touched),t.xp6(19),t.Q6J("ngClass",t.VKq(53,N,n.g.amount.touched&&n.g.amount.invalid)),t.xp6(1),t.Q6J("ngIf",n.amount1&&n.amount1.invalid&&n.amount1.touched),t.xp6(5),t.Q6J("formControl",n.bankTaxPercentage),t.xp6(3),t.Q6J("ngForOf",n.taxSlabList),t.xp6(1),t.Q6J("ngIf",n.bankTaxPercentage&&n.bankTaxPercentage.invalid&&n.bankTaxPercentage.touched),t.xp6(6),t.Q6J("formControl",n.payerControl)("matAutocomplete",e)("ngClass",t.VKq(55,N,n.g.payer.touched&&n.g.payer.invalid)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(119,43,n.filteredPayer)),t.xp6(2),t.Q6J("ngIf",t.lcZ(121,45,n.filteredPayer)),t.xp6(2),t.Q6J("ngIf",n.payer1&&n.payer1.invalid&&n.payer1.touched),t.xp6(8),t.Q6J("ngForOf",n.stateList),t.xp6(1),t.Q6J("ngIf",n.place_of_supply1&&n.place_of_supply1.invalid&&n.place_of_supply1.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(57,N,n.g.note.touched&&n.g.note.invalid)),t.xp6(1),t.Q6J("ngIf",n.description1&&n.description1.invalid&&n.description1.touched),t.xp6(1),t.Q6J("ngIf",n.isAgainstBillBank),t.xp6(2),t.Q6J("ngIf",!n.loaders),t.xp6(1),t.Q6J("ngIf",n.loaders)}}let Ko=(()=>{class i{constructor(e,n,o,a,s,c,d,u){this.fb=e,this.posService=n,this.toastr=o,this.router=a,this.transactionService=s,this.commonService=c,this.posCartService=d,this.coreService=u,this.customerControlName="payment_account",this.payerControl=new l.NI,this.saleBillControl=new l.NI,this.modalClose=new t.vpe,this.minDate="",this.maxDate="",this.bankMinDate="",this.bankMaxDate="",this.transactionMinDate="",this.transactionMaxDate="",this.stateList=[],this.taxSlabList=[],this.taxPercentage=new l.NI("",[l.kI.required]),this.bankTaxPercentage=new l.NI("",[l.kI.required]),this.isCart=!1,this.isCartBank=!1,this.isAgainstBill=!1,this.isAgainstBillBank=!1,this.accountList=[],this.saleBillList=[],this.filterSaleBill=[],this.isBank=!1,this.isCash=!0,this.loaders=!1}get h(){return this.recieptVoucherForm.controls}get g(){return this.recieptVoucherBankForm.controls}ngOnInit(){const e=(new Date).toISOString().split("T")[0];this.myControls=new l.Oe([]),this.recieptVoucherForm=this.fb.group({receipt_type:new l.NI("Cash"),payment_account:new l.NI("",[l.kI.required]),date:new l.NI(e),receipt_voucher_no:new l.NI(""),place_of_supply:new l.NI("",[l.kI.required]),mode_type:new l.NI(""),amount:new l.NI(0),note:new l.NI(""),payer:new l.NI("",[l.kI.required]),receipt_voucher_cart:this.fb.array([])}),this.recieptVoucherBankForm=this.fb.group({receipt_type:new l.NI("Bank"),payment_account:new l.NI("",[l.kI.required]),date:new l.NI(e),receipt_voucher_no:new l.NI(""),place_of_supply:new l.NI("",[l.kI.required]),mode_type:new l.NI(""),amount:new l.NI(0),note:new l.NI(""),payer:new l.NI("",[l.kI.required]),bank_payment:new l.NI(""),transaction_id:new l.NI(""),transaction_date:new l.NI(e),receipt_voucher_cart:this.fb.array([])}),this.filteredPayer=this.payerControl.valueChanges.pipe((0,M.O)(""),(0,P.U)(o=>this._filterr(o,!0)));const n=localStorage.getItem("financialYear");this.dateValidation(n),this.bankDateValidation(n),this.bankTransactionDateValidation(n),this.getAccount(),this.getSaleBill(),this.getprefix(),this.getAccountByAlies("cash-in-hand"),this.getStateList(),this.getTaxSlabList()}dateValidation(e){const n=this.recieptVoucherForm.get("date"),{formattedMinDate:o,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.minDate=o,this.maxDate=a}bankDateValidation(e){const n=this.recieptVoucherBankForm.get("date"),{formattedMinDate:o,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.bankMinDate=o,this.bankMaxDate=a}bankTransactionDateValidation(e){const n=this.recieptVoucherBankForm.get("transaction_date"),{formattedMinDate:o,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.transactionMinDate=o,this.transactionMaxDate=a}getprefix(){this.transactionService.getReceiptVoucherPrefix().subscribe(e=>{console.log(e),e.success?(this.prefixNo=e?.data,this.recieptVoucherForm.get("receipt_voucher_no").patchValue(this.prefixNo[0]?.id),this.recieptVoucherBankForm.get("receipt_voucher_no").patchValue(this.prefixNo[0]?.id)):this.toastr.error(e.msg)},e=>{this.toastr.error(e.error.msg)})}getStateList(){this.coreService.getstate().subscribe(e=>{console.log(e),this.stateList=e})}cart(){return this.fb.group({sale_bill:new l.NI(0),original_amount:new l.NI(0),paid_amount:new l.NI(0),pending_amount:new l.NI(0),payment:new l.NI(0)})}getCart(){return this.recieptVoucherForm.get("receipt_voucher_cart")}addCart(){this.getCart().push(this.cart()),this.myControls.push(new l.NI("")),this.isCart=!1}removeCart(e){this.getCart().removeAt(e),0==e&&(this.isCart=!0)}getCartBank(){return this.recieptVoucherBankForm.get("receipt_voucher_cart")}addCartBank(){this.getCartBank().push(this.cart()),this.myControls.push(new l.NI("")),this.isCartBank=!1}removeCartBank(e){this.getCartBank().removeAt(e),0==this.recieptVoucherBankForm?.value?.receipt_voucher_cart?.length&&(this.isCartBank=!0)}setRadioValue(e){this.recieptVoucherForm.get("mode_type").setValue(e),"Against Bill"==e?(this.isAgainstBill=!0,this.recieptVoucherForm.get("receipt_voucher_cart").clear(),this.addCart()):this.isAgainstBill=!1}setRadioValue1(e){this.recieptVoucherBankForm.get("mode_type").setValue(e),"Against Bill"==e?(this.isAgainstBillBank=!0,this.recieptVoucherBankForm.get("receipt_voucher_cart").clear(),this.addCartBank()):this.isAgainstBillBank=!1}isLastCart(e){return e===this.getCart().controls.length-1}isLastCartBank(e){return e===this.getCartBank().controls.length-1}getAccount(){this.transactionService.getAccount().subscribe(e=>{this.accountList=e})}getSaleBill(){this.transactionService.getSalesBill().subscribe(e=>{this.saleBillList=e,this.filterSaleBill=e})}getFilter(e){this.filterSaleBill=this.saleBillList.filter(n=>!(!n||!n?.customer_bill_no)&&n?.customer_bill_no.toLowerCase().includes(e)),console.log(this.filterSaleBill)}_filter(e,n){const o="string"==typeof e?e.toLowerCase():e?.toString().toLowerCase(),a=this.accountList.filter(n?s=>s?.account_id?.toLowerCase().includes(o):s=>!s?.account_id?.toLowerCase().includes(o));return!n&&0===a.length&&a.push({account:"No data found"}),a}_filterr(e,n){const o="string"==typeof e?e.toLowerCase():e?.toString().toLowerCase(),a=this.accountList.filter(n?s=>s?.account_id?.toLowerCase().includes(o):s=>!s?.account_id?.toLowerCase().includes(o));return!n&&0===a.length&&a.push({account:"No data found"}),a}get payment_account(){return this.recieptVoucherForm.get("payment_account")}oncheck(e){this.recieptVoucherForm.patchValue({payment_account:e.id})}oncheck1(e){this.recieptVoucherForm.patchValue({payer:e.id})}oncheck3(e,n){console.log(e),this.recieptVoucherForm.get("receipt_voucher_cart").at(n).patchValue({sale_bill:e?.id,original_amount:e?.original_amount,paid_amount:e?.paid_amount,pending_amount:e?.pending_amount})}oncheckBank(e){this.recieptVoucherBankForm.patchValue({payment_account:e.id})}oncheckBank1(e){this.recieptVoucherBankForm.patchValue({payer:e.id})}oncheckBank3(e,n){this.recieptVoucherBankForm.get("receipt_voucher_cart").at(n).patchValue({sale_bill:e?.id,original_amount:e?.original_amount,paid_amount:e?.paid_amount,pending_amount:e?.pending_amount})}getTaxSlabList(){this.coreService.getTaxSlab().subscribe(e=>{console.log(e),this.taxSlabList=e})}calculateTaxAmout(e){if(this.selectedPercentageData?.variable_tax)if(this.totalAmout="cash"===e?this.recieptVoucherForm.get("amount")?.value:this.recieptVoucherBankForm.get("amount")?.value,this.selectedPercentageData?.amount_tax_slabs[1]?.from_amount<this.totalAmout){const n=this.selectedPercentageData?.amount_tax_slabs[1]?.tax?.tax_percentage;if("cash"===e){const o=this.recieptVoucherForm.get("amount")?.value;this.taxPercentage.setValue(n),this.taxAmount=o*n/100}else{const o=this.recieptVoucherBankForm.get("amount")?.value;this.bankTaxPercentage.setValue(n),this.taxAmount=o*n/100}}else{const n=this.selectedPercentageData?.amount_tax_slabs[0]?.tax?.tax_percentage;if("cash"===e){const o=this.recieptVoucherForm.get("amount")?.value;this.taxPercentage.setValue(n),this.taxAmount=o*n/100}else{const o=this.recieptVoucherBankForm.get("amount")?.value;this.bankTaxPercentage.setValue(n),this.taxAmount=o*n/100}}else{const n=this.selectedPercentageData?.amount_tax_slabs[0]?.tax?.tax_percentage;if("cash"===e){const o=this.recieptVoucherForm.get("amount")?.value;this.taxPercentage.setValue(n),this.taxAmount=o*n/100}else{const o=this.recieptVoucherBankForm.get("amount")?.value;this.bankTaxPercentage.setValue(n),this.taxAmount=o*n/100}}}onChangePercentage(e,n){const a=e.target.value,s=this.taxSlabList.find(c=>c.id===Number(a));s&&(this.selectedPercentageData=s)}toggleBank(){this.isBank=!0,this.isCash=!1,this.payerControl.reset(),this.getAccountByAlies("bank-accounts")}toggleCash(){this.isBank=!1,this.isCash=!0,this.payerControl.reset(),this.getAccountByAlies("cash-in-hand")}getAccountByAlies(e){this.transactionService.getAccoutAlies(e).subscribe(n=>{this.accountListData=n})}onSubmit(){if(this.calculateTaxAmout("cash"),console.log(this.recieptVoucherForm.value),this.recieptVoucherForm.valid){const e=new FormData;e.append("receipt_type",this.recieptVoucherForm.get("receipt_type")?.value),e.append("payment_account",this.recieptVoucherForm.get("payment_account")?.value),e.append("date",this.recieptVoucherForm.get("date")?.value),e.append("receipt_voucher_no",this.recieptVoucherForm.get("receipt_voucher_no")?.value),e.append("mode_type",this.recieptVoucherForm.get("mode_type")?.value),e.append("amount",this.recieptVoucherForm.get("amount")?.value),e.append("note",this.recieptVoucherForm.get("note")?.value),e.append("payer",this.recieptVoucherForm.get("payer")?.value),e.append("tax_percentage",this.taxPercentage.value),e.append("tax_amount",this.taxAmount),e.append("place_of_supply",this.recieptVoucherForm.get("place_of_supply")?.value);const n=this.recieptVoucherForm.get("receipt_voucher_cart"),o=[];n.controls.forEach(a=>{const s=a,c={};Object.keys(s.controls).forEach(d=>{const u=s.controls[d];c[d]=isNaN(u.value)?u.value:parseFloat(u.value).toFixed(2)}),o.push(c)}),e.append("receipt_voucher_cart",JSON.stringify(o)),this.loaders=!0,this.posCartService.addPosRecieptVoucher(e).subscribe(a=>{this.loaders=!1,a.success?(this.toastr.success(a.msg),this.recieptVoucherForm.reset(),this.payerControl.setValue(""),this.modalClose.next(new Date)):(this.loaders=!1,a.error?.mode_type&&(this.toastr.error("Select Mode Type",a.error?.mode_type[0]),this.modeError=a.error?.mode_type[0],setTimeout(()=>{this.modeError=""},5e3)))},a=>{this.loaders=!1})}else this.recieptVoucherForm.markAllAsTouched(),this.toastr.error("Please Fill All The Required Fields")}onBankSubmit(){if(this.calculateTaxAmout("bank"),console.log(this.recieptVoucherBankForm.value),this.recieptVoucherBankForm.valid){const e=new FormData;e.append("receipt_type",this.recieptVoucherBankForm.get("receipt_type")?.value),e.append("payment_account",this.recieptVoucherBankForm.get("payment_account")?.value),e.append("date",this.recieptVoucherBankForm.get("date")?.value),e.append("receipt_voucher_no",this.recieptVoucherBankForm.get("receipt_voucher_no")?.value),e.append("mode_type",this.recieptVoucherBankForm.get("mode_type")?.value),e.append("amount",this.recieptVoucherBankForm.get("amount")?.value),e.append("note",this.recieptVoucherBankForm.get("note")?.value),e.append("payer",this.recieptVoucherBankForm.get("payer")?.value),e.append("bank_payment",this.recieptVoucherBankForm.get("bank_payment")?.value),e.append("transaction_id",this.recieptVoucherBankForm.get("transaction_id")?.value),e.append("transaction_date",this.recieptVoucherBankForm.get("transaction_date")?.value),e.append("tax_percentage",this.bankTaxPercentage.value),e.append("tax_amount",this.taxAmount),e.append("place_of_supply",this.recieptVoucherBankForm.get("place_of_supply")?.value);const n=this.recieptVoucherBankForm.get("receipt_voucher_cart"),o=[];n.controls.forEach(a=>{const s=a,c={};Object.keys(s.controls).forEach(d=>{const u=s.controls[d];c[d]=isNaN(u.value)?u.value:parseFloat(u.value).toFixed(2)}),o.push(c)}),e.append("receipt_voucher_cart",JSON.stringify(o)),this.loaders=!0,this.posCartService.addPosRecieptVoucher(e).subscribe(a=>{this.loaders=!1,a.success?(this.toastr.success(a.msg),this.recieptVoucherBankForm.reset(),this.payerControl.setValue(""),this.modalClose.next(new Date)):(this.loaders=!1,a.error?.mode_type&&(this.toastr.error("Select Mode Type",a.error?.mode_type[0]),this.modeError=a.error?.mode_type[0],setTimeout(()=>{this.modeError=""},5e3)))},a=>{this.loaders=!1})}else console.log("invalid"),this.recieptVoucherBankForm.markAllAsTouched(),this.toastr.error("Please Fill All The Required Fields")}get date1(){return this.recieptVoucherBankForm.get("date")}get payer1(){return this.recieptVoucherBankForm.get("payer")}get amount1(){return this.recieptVoucherBankForm.get("amount")}get place_of_supply1(){return this.recieptVoucherBankForm.get("place_of_supply")}get description1(){return this.recieptVoucherBankForm.get("note")}get receipt_voucher_no1(){return this.recieptVoucherBankForm.get("receipt_voucher_no")}get mode_type1(){return this.recieptVoucherBankForm.get("mode_type")}sale_bill1(e){return this.getCartBank().controls[e].get("sale_bill")}original_amount1(e){return this.getCartBank().controls[e].get("original_amount")}paid_amount1(e){return this.getCartBank().controls[e].get("paid_amount")}pending_amount1(e){return this.getCartBank().controls[e].get("pending_amount")}payment1(e){return this.getCartBank().controls[e].get("payment")}get bank_payment(){return this.recieptVoucherBankForm.get("bank_payment")}get transaction_id(){return this.recieptVoucherBankForm.get("transaction_id")}get transaction_date(){return this.recieptVoucherBankForm.get("transaction_date")}get date(){return this.recieptVoucherForm.get("date")}get payer(){return this.recieptVoucherForm.get("payer")}get amount(){return this.recieptVoucherForm.get("amount")}get place_of_supply(){return this.recieptVoucherForm.get("place_of_supply")}get description(){return this.recieptVoucherForm.get("note")}get receipt_voucher_no(){return this.recieptVoucherForm.get("receipt_voucher_no")}get mode_type(){return this.recieptVoucherForm.get("mode_type")}sale_bill(e){return this.getCart().controls[e].get("sale_bill")}original_amount(e){return this.getCart().controls[e].get("original_amount")}paid_amount(e){return this.getCart().controls[e].get("paid_amount")}pending_amount(e){return this.getCart().controls[e].get("pending_amount")}payment(e){return this.getCart().controls[e].get("payment")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.qu),t.Y36(kn.v),t.Y36(J._W),t.Y36(x.F0),t.Y36(E.p),t.Y36(X.R),t.Y36(V.b),t.Y36(lt.p))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-pos-add-receipts-voucher"]],outputs:{modalClose:"modalClose"},decls:2,vars:2,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"d-flex","mb-5"],[1,"d-flex","mx-3"],["type","radio","formControlName","receipt_type",3,"id","value","click"],[1,"d_flex",2,"margin-bottom","0","margin-left","5px",3,"for"],["type","radio",3,"id","value","click"],[1,"row"],[1,"col-lg-4","col-md-6","col-12"],[1,"form-group"],["formControlName","payment_account",1,"form-control"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"col-lg-4","col-sm-4","col-12"],["type","date","formControlName","date","id","date",3,"ngClass"],[1,"col-lg-12","col-sm-12","col-12"],[1,"col-sm-4","col-12"],[1,"card","mb-0","h-100",3,"click"],[1,"d-flex"],["type","radio","formControlName","mode_type","id","on-account-radio",3,"value","ngStyle"],["for","on-account-radio",1,"d_flex",2,"margin-bottom","0","margin-left","15px"],[2,"margin-left","33px","font-size","12px"],["type","radio","formControlName","mode_type","id","advance-payment-radio",3,"value","ngStyle"],["for","advance-payment-radio",1,"d_flex",2,"margin-bottom","0","margin-left","15px"],[2,"font-size","12px"],["type","radio","formControlName","mode_type","id","against-bill-radio",3,"value","ngStyle"],["for","against-bill-radio",1,"d_flex",2,"margin-bottom","0","margin-left","15px"],["formControlName","receipt_voucher_no"],["value","","selected","","disabled",""],["type","number","formControlName","amount","id","amount",3,"ngClass"],[3,"formControl","change"],[1,"w-100",2,"padding","0","width","100%","min-width","100%","border-top","none"],["type","text","placeholder","Search Payer","aria-label","Payer","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","ngClass"],["Payerauto","matAutocomplete"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","place_of_supply"],["formControlName","note","placeholder","Enter Description",3,"ngClass"],[1,"col-lg-12"],["class","btn btn-submit me-2",4,"ngIf"],["class","btn btn-submit me-2","type","submit","disabled","",4,"ngIf"],["routerLink","//transaction/recieptVoucherList","type","button",1,"btn","btn-cancel"],[3,"value"],[1,"text-danger"],[2,"color","#FF9F43",3,"value","onSelectionChange"],[3,"value",4,"ngIf"],["class","is-loading",4,"ngIf"],["routerLink","//account/accountlist",2,"color","#FF9F43"],[1,"is-loading"],[1,"table-responsive"],[1,"table","datanew"],["colspan","3"],["class","debitIntoCart",3,"click",4,"ngIf"],["formArrayName","receipt_voucher_cart"],[4,"ngFor","ngForOf"],[1,"debitIntoCart",3,"click"],[3,"formGroupName"],[1,"me-2"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-circle",2,"color","red",3,"click"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],["style","color:green","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","class","bi bi-plus-circle","viewBox","0 0 16 16",3,"click",4,"ngIf"],[1,"form-group",2,"margin-bottom","-1%"],["type","text","placeholder","Search saleBill","aria-label","Search saleBills","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete","input"],["autos","matAutocomplete"],["class","text-danger","style","display: block;",4,"ngIf"],["type","number","formControlName","original_amount",1,"input"],["type","number","formControlName","paid_amount",1,"input"],["type","number","formControlName","pending_amount",1,"input"],["type","number","formControlName","payment",1,"input"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-circle",2,"color","green",3,"click"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngIf"],["routerLink","//sales/addsalesbill",2,"color","#FF9F43"],[1,"text-danger",2,"display","block"],[1,"btn","btn-submit","me-2"],["type","submit","disabled","",1,"btn","btn-submit","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"card-body","border-0"],["type","radio",3,"id","click"],[1,"col-lg-3","col-md-6","col-12"],[1,"col-lg-3","col-sm-4","col-12"],["type","date","formControlName","transaction_date","id","transaction_date",3,"ngClass"],["type","text","formControlName","transaction_id","placeholder","Enter Transaction Id","id","transaction_id",3,"ngClass"],["type","radio","formControlName","mode_type","id","on-account-radio",3,"value"],["type","radio","formControlName","mode_type","id","advance-payment-radio",3,"value"],["type","radio","formControlName","mode_type","id","against-bill-radio",3,"value"],["formControlName","bank_payment"],["type","number","formControlName","amount","placeholder","Enter Amount","id","amount",3,"ngClass"],["Payerautobank","matAutocomplete"],["autosBankCart","matAutocomplete"]],template:function(e,n){1&e&&(t.YNc(0,_o,118,59,"div",0),t.YNc(1,Ho,144,59,"div",0)),2&e&&(t.Q6J("ngIf",n.isCash),t.xp6(1),t.Q6J("ngIf",n.isBank))},dependencies:[f.mk,f.sg,f.O5,f.PC,x.rH,x.yS,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l._,l.JJ,l.JL,l.oH,l.sg,l.u,l.x0,l.CE,A.XC,A.ZL,G.ey,$.KE,H.Nt,f.Ov],styles:[".ng-dirty.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%], .ng-untouched.ng-pristine.ng-valid.cdk-text-field-autofill-monitored.is-invalid[_ngcontent-%COMP%]{border:1px solid red}select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}.select[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:40%;font-size:14px;font-weight:500;color:#637381;padding:10px 8px;border-radius:5px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.cdk-overlay-pane[_ngcontent-%COMP%]{width:300.85px!important}a[_ngcontent-%COMP%]{text-decoration:none;color:#ff9f43}@media (max-width: 1023px){h5[_ngcontent-%COMP%]{font-size:13px}}.table[_ngcontent-%COMP%]   th.product-name[_ngcontent-%COMP%]{width:40%}.table[_ngcontent-%COMP%]   th.qty[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th.mrp[_ngcontent-%COMP%]{width:10%}.space-text[_ngcontent-%COMP%]{white-space:pre-wrap!important}.circle[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;border-radius:50%;border:1px solid #FF9F43;text-align:center;line-height:16px;color:#ff9f43}.button[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;display:flex;padding:10px 15px;border-radius:5px;justify-content:space-between;align-items:center;background:white}input[type=radio][_ngcontent-%COMP%]{width:20px;height:20px;accent-color:#e27005}"]}),i})();var jo=m(72170);function zo(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",28),t.NdJ("onSelectionChange",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.oncheck(o))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("value",null==e?null:e.account_id),t.xp6(1),t.Oqu(null==e?null:e.account_id)}}function Wo(i,r){if(1&i&&(t.ynx(0),t.YNc(1,zo,2,2,"mat-option",27),t.BQk()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active)}}function Xo(i,r){1&i&&(t.TgZ(0,"mat-option",31)(1,"a",32),t._uU(2,"+ Add Account"),t.qZA()()),2&i&&t.Q6J("value","No data found")}function ti(i,r){1&i&&(t.TgZ(0,"mat-option",33),t._uU(1,"Please Enter 1 or more characters"),t.qZA())}function ei(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Xo,3,1,"mat-option",29),t.YNc(2,ti,2,0,"mat-option",30),t.BQk()),2&i){const e=r.ngIf,n=t.oxw();t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngIf",(null==n.fromAccountControl.value?null:n.fromAccountControl.value.length)<3)}}function ni(i,r){1&i&&(t.TgZ(0,"span",34),t._uU(1,"Select Account "),t.qZA())}function oi(i,r){1&i&&(t.TgZ(0,"span",34),t._uU(1,"Select Date "),t.qZA())}function ii(i,r){if(1&i&&(t.TgZ(0,"option",31),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.prefix)}}function ai(i,r){1&i&&(t.TgZ(0,"span",34),t._uU(1,"Select Credit Note No "),t.qZA())}function ri(i,r){if(1&i&&(t.TgZ(0,"option",31),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.bill_no,"")}}function si(i,r){1&i&&(t.TgZ(0,"span",34),t._uU(1,"Select Pos Bill No. "),t.qZA())}function li(i,r){1&i&&(t.TgZ(0,"span",34),t._uU(1,"Enter Reason"),t.qZA())}function ci(i,r){1&i&&(t.TgZ(0,"span",34),t._uU(1,"Enter Round Off"),t.qZA())}function di(i,r){1&i&&(t.TgZ(0,"span",34),t._uU(1,"Enter Tax ex: (1-100)"),t.qZA())}function ui(i,r){1&i&&(t.TgZ(0,"span",34),t._uU(1,"Enter Total"),t.qZA())}function _i(i,r){1&i&&(t.TgZ(0,"span",34),t._uU(1,"Enter Note"),t.qZA())}function pi(i,r){1&i&&(t.TgZ(0,"button",35),t._uU(1,"Submit"),t.qZA())}function mi(i,r){1&i&&(t.TgZ(0,"button",36),t._UZ(1,"span",37),t._uU(2,"\xa0 Submit"),t.qZA())}const Y=function(i){return{"is-invalid":i}};let gi=(()=>{class i{constructor(e,n,o,a,s,c,d){this.fb=e,this.transactionService=n,this.saleService=o,this.toastr=a,this.router=s,this.commonService=c,this.posCartService=d,this.minDate="",this.maxDate="",this.filteredPosBillList=[],this.page=1,this.pageSize=10,this.modalClose=new t.vpe,this.fromAccountControl=new l.NI,this.accountList=[],this.saleBillList=[],this.FiltersaleBillList=[],this.dateError=null,this.loaders=!1}get f(){return this.debitNoteForm.controls}ngOnInit(){const e=(new Date).toISOString().split("T")[0];this.debitNoteForm=this.fb.group({account:new l.NI("",[l.kI.required]),date:new l.NI(e,[l.kI.required]),credit_note_no:new l.NI(""),pos_bill:new l.NI("",[l.kI.required]),reason:new l.NI(""),roundoff:new l.NI(""),tax:new l.NI("",[l.kI.pattern(/^(100|[0-9]{1,2})$/)]),note:new l.NI(""),total:new l.NI(""),status:new l.NI("")}),this.getAccount(),this.getprefix(),this.getSaleBill(),this.getPosOrder(),this.filteredFromAccount=this.fromAccountControl.valueChanges.pipe((0,M.O)(""),(0,P.U)(o=>this._filter(o,!0)));const n=localStorage.getItem("financialYear");this.dateValidation(n)}dateValidation(e){const n=this.debitNoteForm.get("date"),{formattedMinDate:o,formattedMaxDate:a}=this.commonService.setMinMaxDates(n,e);this.minDate=o,this.maxDate=a}getprefix(){this.transactionService.getCreditNotePrefix().subscribe(e=>{console.log(e),e.success?(this.prefixNo=e?.data,this.debitNoteForm.get("credit_note_no").patchValue(this.prefixNo[0]?.id)):this.toastr.error(e.msg)},e=>{this.toastr.error(e.error.msg)})}getAccount(){this.transactionService.getAccount().subscribe(e=>{this.accountList=e})}getSaleBill(){this.saleService.getSalesBill().subscribe(e=>{this.saleBillList=e})}getFilterBill(e){this.FiltersaleBillList=this.saleBillList.filter(n=>!(!n||!n?.customer_bill_no)&&n?.customer_bill_no.toLowerCase().includes(e)),console.log(this.FiltersaleBillList)}_filter(e,n){const o="string"==typeof e?e.toLowerCase():e.toString().toLowerCase(),a=this.accountList.filter(n?s=>s?.account_id?.toLowerCase().includes(o):s=>!s?.account_id?.toLowerCase().includes(o));return!n&&0===a.length&&a.push({account:"No data found"}),a}calculateTax(){this.totals=this.taxs?(this.amounts+(this.amounts-this.amounts*(100/(100+this.taxs)))).toFixed(2):this.amounts.toFixed(2)}oncheck(e){this.debitNoteForm.patchValue({account:e.id})}oncheck2(e){console.log(e),this.debitNoteForm.patchValue({sale_bill_no:e.id})}getPosOrder(){this.posCartService.getPOSOrders(this.page,this.pageSize).subscribe(e=>{this.filteredPosBillList=e?.data?.filter(n=>null!==n?.bill_no&&!!n?.bill_no&&void 0!==n?.bill_no)})}submit(){if(this.debitNoteForm.valid){this.loaders=!0;const e=new FormData;e.append("account",this.debitNoteForm.get("account")?.value),e.append("sale_bill_no",""),e.append("date",this.debitNoteForm.get("date")?.value),e.append("credit_note_no",this.debitNoteForm.get("credit_note_no")?.value),e.append("reason",this.debitNoteForm.get("reason")?.value),e.append("roundoff",this.debitNoteForm.get("roundoff")?.value),e.append("note",this.debitNoteForm.get("note")?.value),e.append("tax",this.debitNoteForm.get("tax")?.value),e.append("total",this.debitNoteForm.get("total")?.value),e.append("pos_bill",this.debitNoteForm.get("pos_bill")?.value),e.append("type","POS"),this.posCartService.addPosCreditNoteList(e).subscribe(n=>{this.loaders=!1,this.addRes=n,this.addRes.success?(this.toastr.success(this.addRes.msg),this.debitNoteForm.reset(),this.fromAccountControl.setValue(""),this.modalClose.next(new Date)):this.loaders=!1},n=>{this.loaders=!1})}else this.debitNoteForm.markAllAsTouched(),this.toastr.error("Please Fill All The Required Fields")}get account(){return this.debitNoteForm.get("account")}get date(){return this.debitNoteForm.get("date")}get credit_note_no(){return this.debitNoteForm.get("credit_note_no")}get pos_bill(){return this.debitNoteForm.get("pos_bill")}get reason(){return this.debitNoteForm.get("reason")}get sale_bill_no(){return this.debitNoteForm.get("sale_bill_no")}get tax(){return this.debitNoteForm.get("tax")}get note(){return this.debitNoteForm.get("note")}get total(){return this.debitNoteForm.get("total")}get roundoff(){return this.debitNoteForm.get("roundoff")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.qu),t.Y36(E.p),t.Y36(jo.M),t.Y36(J._W),t.Y36(x.F0),t.Y36(X.R),t.Y36(V.b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-pos-add-credit-note"]],outputs:{modalClose:"modalClose"},decls:76,vars:42,consts:[[1,"card"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-4","col-md-6","col-12"],[1,"form-group"],[1,"w-100",2,"padding","0","width","100%","min-width","100%","border-top","none"],["type","text","placeholder","Select From Account","aria-label","from_account","matInput","",2,"box-sizing","border-box",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"col-lg-4","col-sm-4","col-12"],["type","date","formControlName","date","id","date",3,"ngClass"],["formControlName","credit_note_no"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","pos_bill"],["type","text","formControlName","reason","placeholder","Enter Reason",3,"ngClass"],["type","number","formControlName","roundoff","placeholder","Enter Round off",3,"ngClass"],["type","number","formControlName","tax","placeholder","Enter Tax",3,"ngClass"],["type","number","formControlName","total","placeholder","Enter Total","id","total",3,"ngClass"],["formControlName","note","placeholder","Enter Note",3,"ngClass"],[1,"col-lg-12"],["class","btn btn-submit me-2",4,"ngIf"],["class","btn btn-submit me-2","type","submit","disabled","",4,"ngIf"],["routerLink","//transaction/creditnoteList",1,"btn","btn-cancel","text-white"],["style","color:#FF9F43",3,"value","onSelectionChange",4,"ngIf"],[2,"color","#FF9F43",3,"value","onSelectionChange"],[3,"value",4,"ngIf"],["class","is-loading",4,"ngIf"],[3,"value"],["routerLink","//account/accountlist",2,"color","#FF9F43"],[1,"is-loading"],[1,"text-danger"],[1,"btn","btn-submit","me-2"],["type","submit","disabled","",1,"btn","btn-submit","me-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return n.submit()}),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"label"),t._uU(7,"Account Name*"),t.qZA(),t.TgZ(8,"mat-form-field",6),t._UZ(9,"input",7),t.TgZ(10,"mat-autocomplete",null,8),t.YNc(12,Wo,2,1,"ng-container",9),t.ALo(13,"async"),t.YNc(14,ei,3,2,"ng-container",10),t.ALo(15,"async"),t.qZA()(),t.YNc(16,ni,2,0,"span",11),t.qZA()(),t.TgZ(17,"div",12)(18,"div",5)(19,"label"),t._uU(20,"Credit Note Date*"),t.qZA(),t._UZ(21,"input",13),t.YNc(22,oi,2,0,"span",11),t.qZA()(),t.TgZ(23,"div",12)(24,"div",5)(25,"label"),t._uU(26,"Credit Note No"),t.qZA(),t.TgZ(27,"select",14)(28,"option",15),t._uU(29,"Select Credit Note No"),t.qZA(),t.YNc(30,ii,2,2,"option",16),t.qZA(),t.YNc(31,ai,2,0,"span",11),t.qZA()(),t.TgZ(32,"div",12)(33,"div",5)(34,"label"),t._uU(35,"Select Pos Bill*"),t.qZA(),t.TgZ(36,"select",17)(37,"option",15),t._uU(38,"Select POS bill No"),t.qZA(),t.YNc(39,ri,2,2,"option",16),t.qZA(),t.YNc(40,si,2,0,"span",11),t.qZA()(),t.TgZ(41,"div",12)(42,"div",5)(43,"label"),t._uU(44,"Reason"),t.qZA(),t._UZ(45,"input",18),t.YNc(46,li,2,0,"span",11),t.qZA()(),t.TgZ(47,"div",12)(48,"div",5)(49,"label"),t._uU(50,"Round Off"),t.qZA(),t._UZ(51,"input",19),t.YNc(52,ci,2,0,"span",11),t.qZA()(),t.TgZ(53,"div",12)(54,"div",5)(55,"label"),t._uU(56,"Tax %"),t.qZA(),t._UZ(57,"input",20),t.YNc(58,di,2,0,"span",11),t.qZA()(),t.TgZ(59,"div",12)(60,"div",5)(61,"label"),t._uU(62,"Total"),t.qZA(),t._UZ(63,"input",21),t.YNc(64,ui,2,0,"span",11),t.qZA()(),t.TgZ(65,"div",12)(66,"div",5)(67,"label"),t._uU(68,"Note"),t.qZA(),t._UZ(69,"textarea",22),t.YNc(70,_i,2,0,"span",11),t.qZA()(),t.TgZ(71,"div",23),t.YNc(72,pi,2,0,"button",24),t.YNc(73,mi,3,0,"button",25),t.TgZ(74,"a",26),t._uU(75,"Cancel"),t.qZA()()()()()()),2&e){const o=t.MAs(11);t.xp6(2),t.Q6J("formGroup",n.debitNoteForm),t.xp6(7),t.Q6J("formControl",n.fromAccountControl)("matAutocomplete",o),t.xp6(3),t.Q6J("ngForOf",t.lcZ(13,26,n.filteredFromAccount)),t.xp6(2),t.Q6J("ngIf",t.lcZ(15,28,n.filteredFromAccount)),t.xp6(2),t.Q6J("ngIf",n.account&&n.account.invalid&&n.account.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(30,Y,n.f.date.touched&&n.f.date.invalid)),t.uIk("min",n.minDate)("max",n.maxDate),t.xp6(1),t.Q6J("ngIf",n.date&&n.date.invalid&&n.date.touched),t.xp6(8),t.Q6J("ngForOf",n.prefixNo),t.xp6(1),t.Q6J("ngIf",n.credit_note_no&&n.credit_note_no.invalid&&n.credit_note_no.touched),t.xp6(8),t.Q6J("ngForOf",n.filteredPosBillList),t.xp6(1),t.Q6J("ngIf",n.pos_bill&&n.pos_bill.invalid&&n.pos_bill.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(32,Y,n.f.reason.touched&&n.f.reason.invalid)),t.xp6(1),t.Q6J("ngIf",n.reason&&n.reason.invalid&&n.reason.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(34,Y,n.f.roundoff.touched&&n.f.roundoff.invalid)),t.xp6(1),t.Q6J("ngIf",n.roundoff&&n.roundoff.invalid&&n.roundoff.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(36,Y,n.f.tax.touched&&n.f.tax.invalid)),t.xp6(1),t.Q6J("ngIf",n.tax&&n.tax.invalid&&n.tax.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(38,Y,n.f.total.touched&&n.f.total.invalid)),t.xp6(1),t.Q6J("ngIf",n.total&&n.total.invalid&&n.total.touched),t.xp6(5),t.Q6J("ngClass",t.VKq(40,Y,n.f.note.touched&&n.f.note.invalid)),t.xp6(1),t.Q6J("ngIf",n.tax&&n.tax.invalid&&n.tax.touched),t.xp6(2),t.Q6J("ngIf",!n.loaders),t.xp6(1),t.Q6J("ngIf",n.loaders)}},dependencies:[f.mk,f.sg,f.O5,x.yS,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.oH,l.sg,l.u,A.XC,A.ZL,G.ey,$.KE,H.Nt,f.Ov],styles:[".ng-dirty.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%], .mat-autocomplete-trigger.mat-input-element.mat-form-field-autofill-control.ng-tns-c116-0.ng-untouched.ng-pristine.ng-valid.cdk-text-field-autofill-monitored.is-invalid[_ngcontent-%COMP%], .ng-pristine.ng-invalid.is-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}textarea[_ngcontent-%COMP%]{height:40px}select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=datetime-local][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]{position:relative;display:inline-block}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .selected-items[_ngcontent-%COMP%]{display:inline-block;padding:6px;border:1px solid #ccc;border-radius:4px;background-color:#fff;cursor:pointer}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-list-container[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:9999;width:100%;padding:6px;border:1px solid #ccc;border-top:none;border-radius:0 0 4px 4px;background-color:#fff;box-shadow:0 2px 4px #0003}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-list-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px;cursor:pointer}.custom-dropdown[_ngcontent-%COMP%]   .dropdown-list[_ngcontent-%COMP%]   .dropdown-list-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.cdk-overlay-pane[_ngcontent-%COMP%]{width:300.85px!important}a[_ngcontent-%COMP%]{text-decoration:none;color:#ff9f43}@media (max-width: 1023px){h5[_ngcontent-%COMP%]{font-size:13px}}.table[_ngcontent-%COMP%]   th.product-name[_ngcontent-%COMP%]{width:40%}.table[_ngcontent-%COMP%]   th.qty[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th.mrp[_ngcontent-%COMP%]{width:10%}.form-control[_ngcontent-%COMP%]{border-bottom:1px solid #9c9c9c;border-top:none;border-right:none;border-left:none;font-size:15px;color:#606060;border-radius:0;padding-left:2px}.space-text[_ngcontent-%COMP%]{white-space:pre-wrap!important}.circle[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;border-radius:50%;border:1px solid #FF9F43;text-align:center;line-height:16px;color:#ff9f43}.button[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;display:flex;padding:10px 15px;border-radius:5px;justify-content:space-between;align-items:center;background:white}"]}),i})();var mt=m(54333),hi=m(54040);function fi(i,r){1&i&&(t.TgZ(0,"mat-option",17),t._uU(1,"Loading..."),t.qZA())}function vi(i,r){1&i&&(t.TgZ(0,"mat-option",17),t._uU(1,"Please Enter 3 or"),t.qZA())}function xi(i,r){if(1&i&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.errorMsg)}}function yi(i,r){if(1&i&&(t.TgZ(0,"mat-option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit,n=t.oxw();t.Q6J("value",e),t.xp6(1),t.Oqu(n.displayFn(e))}}function Ci(i,r){1&i&&(t.TgZ(0,"mat-option",17),t._uU(1,"Please Enter 3 or more characters"),t.qZA())}function Zi(i,r){1&i&&(t.TgZ(0,"mat-option",17),t._uU(1,"Loading..."),t.qZA())}function bi(i,r){if(1&i&&(t.TgZ(0,"mat-option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit,n=t.oxw();t.Q6J("value",e),t.xp6(1),t.hij(" ",n.displayCus(e)," ")}}const C=function(){return{standalone:!0}};function Ai(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",269)(1,"textarea",270),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw().$implicit;return t.KtG(a.notes=o)}),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",e.notes)("ngModelOptions",t.DdM(2,C))}}function Ti(i,r){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw().index,n=t.oxw();t.xp6(1),t.Oqu(n.selectedDiscount[e])}}function Pi(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"i",271),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),a=o.index,s=o.$implicit,c=t.oxw();return c.openModalDiscount(a),t.KtG(c.freeItemBatch(s,a))}),t.qZA(),t.BQk()}}function qi(i,r){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"i",271),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,a=t.oxw();return t.KtG(a.openModalDiscount(o))}),t.qZA(),t.BQk()}}function Ni(i,r){1&i&&(t.TgZ(0,"thead")(1,"tr")(2,"th",272),t._uU(3,"Sr.No. "),t.qZA(),t.TgZ(4,"th",272),t._uU(5,"Offer Type"),t.qZA(),t.TgZ(6,"th",272),t._uU(7,"Free Items"),t.qZA(),t.TgZ(8,"th",272),t._uU(9,"Price Range"),t.qZA(),t.TgZ(10,"th",272),t._uU(11,"Invoice Amount"),t.qZA(),t.TgZ(12,"th",272),t._uU(13,"Flat Discount"),t.qZA(),t.TgZ(14,"th",272),t._uU(15,"Action "),t.qZA()()())}function Mi(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",273),t._uU(2),t.qZA(),t.TgZ(3,"td",273),t._uU(4),t.qZA(),t.TgZ(5,"td",273),t._uU(6),t.qZA(),t.TgZ(7,"td",273),t._uU(8),t.qZA(),t.TgZ(9,"td",273),t._uU(10),t.qZA(),t.TgZ(11,"td",273),t._uU(12),t.qZA(),t.TgZ(13,"td")(14,"button",274),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw().index,c=t.oxw();return t.KtG(c.selectDiscount(a,s))}),t._uU(15,"Select"),t.qZA()()()}if(2&i){const e=r.$implicit,n=r.index;t.xp6(2),t.hij("",n+1+"."," "),t.xp6(2),t.hij("",null==e?null:e.discount_offer_type," "),t.xp6(2),t.hij("",null==e||null==e.free_items?null:e.free_items.name," "),t.xp6(2),t.AsE("",null!=e&&e.start_price?null==e?null:e.start_price:""," - ",null!=e&&e.end_price?null==e?null:e.end_price:""," "),t.xp6(2),t.hij(" ",null!=e&&e.invoice_amount?null==e?null:e.invoice_amount:"-"," "),t.xp6(2),t.AsE("",null!=e&&e.flat_discount?null==e?null:e.flat_discount:""," ",null!=e&&e.discount_type?e.discount_type:""," ")}}function Ii(i,r){1&i&&(t.TgZ(0,"tbody")(1,"p"),t._uU(2,"Discount Not Available"),t.qZA()())}function ki(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr",251)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",252)(6,"div",253)(7,"p",254),t._uU(8),t.TgZ(9,"button",255),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw();return t.KtG(s.setIndexForProductDetails(a))}),t._UZ(10,"i",256),t.qZA()(),t.TgZ(11,"button",257),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw();return t.KtG(s.setIndexForNotes(a))}),t._UZ(12,"i",258),t.qZA()(),t.YNc(13,Ai,2,3,"div",259),t.qZA(),t.TgZ(14,"td")(15,"div",260)(16,"span",261),t.NdJ("click",function(){const o=t.CHM(e),a=o.$implicit,s=o.index,c=t.oxw();return t.KtG(c.decreaseQtyCurrent(a,s))}),t._uU(17,"-"),t.qZA(),t._UZ(18,"input",262),t.TgZ(19,"span",261),t.NdJ("click",function(){const o=t.CHM(e),a=o.$implicit,s=o.index,c=t.oxw();return t.KtG(c.increaseQtyCurrent(a,s))}),t._uU(20,"+"),t.qZA()()(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA(),t.TgZ(25,"td"),t.YNc(26,Ti,2,1,"ng-container",94),t.YNc(27,Pi,2,0,"ng-container",94),t.YNc(28,qi,2,0,"ng-container",94),t.TgZ(29,"div",263)(30,"div",264)(31,"div",117)(32,"div",118)(33,"h1",265),t._uU(34,"Select Discount"),t.qZA(),t.TgZ(35,"button",266),t.NdJ("click",function(){const a=t.CHM(e).index,s=t.oxw();return t.KtG(s.closeModalDiscount(a))}),t.TgZ(36,"span",267),t._uU(37,"\xd7"),t.qZA()()(),t.TgZ(38,"div",121)(39,"div",122)(40,"div",4)(41,"div",110)(42,"table",111),t.YNc(43,Ni,16,0,"thead",94),t.TgZ(44,"tbody"),t.YNc(45,Mi,16,8,"tr",170),t.qZA(),t.YNc(46,Ii,3,0,"tbody",94),t.qZA()()()()()()()()(),t.TgZ(47,"td"),t._uU(48),t.qZA(),t.TgZ(49,"td"),t._uU(50),t.qZA(),t.TgZ(51,"td"),t._uU(52),t.qZA(),t.TgZ(53,"td")(54,"button",268),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.removeOptionCurrent(a))}),t._UZ(55,"i",72),t.qZA()()()}if(2&i){const e=r.$implicit,n=r.index,o=t.oxw();t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(null==e?null:e.sku),t.xp6(4),t.AsE(" ",null!=e&&null!=e.product&&e.product.title?null==e.product?null:e.product.title:null==e||null==e.product?null:e.product.name," | ",null==e?null:e.variant_name," "),t.xp6(5),t.Q6J("ngIf",o.currentCartIndex1==n),t.xp6(5),t.s9C("value",null==e?null:e.quantity),t.xp6(4),t.hij(" ",null!=e&&null!=e.batch[0]&&e.batch[0].mrp?null==e||null==e.batch[0]?null:e.batch[0].mrp:null==e||null==e.product?null:e.product.mrp," "),t.xp6(2),t.Oqu(null==e||null==e.batch[0]?null:e.batch[0].selling_price_offline),t.xp6(2),t.Q6J("ngIf",o.isDiscountSelect[n]),t.xp6(1),t.Q6J("ngIf",e.product.name),t.xp6(1),t.Q6J("ngIf",e.id>0),t.xp6(1),t.MGl("id","discountModal-",n,""),t.xp6(14),t.Q6J("ngIf",o.discountTyp[o.discountCartIndex]),t.xp6(2),t.Q6J("ngForOf",o.discountTyp[o.discountCartIndex]),t.xp6(1),t.Q6J("ngIf",!o.discountTyp[o.discountCartIndex]),t.xp6(2),t.Oqu(o.getProductAddDisc(null==e?null:e.batch[0])),t.xp6(2),t.Oqu(o.getProductTax(null==e?null:e.batch[0])),t.xp6(2),t.Oqu(o.getNetAmount2(null==e?null:e.batch[0],null==e?null:e.quantity).toFixed(2))}}function Ui(i,r){1&i&&(t.TgZ(0,"li")(1,"button",275),t._UZ(2,"i",41),t._uU(3," Sync Orders"),t.qZA()())}function Oi(i,r){1&i&&(t.TgZ(0,"div",276)(1,"div",277)(2,"span",278),t._uU(3,"Loading..."),t.qZA()()())}function Fi(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Name is required. "),t.qZA())}function Si(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,Fi,2,0,"div",94),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.name.errors?null:e.name.errors.required)}}function wi(i,r){1&i&&(t.TgZ(0,"div",279),t._uU(1," Mobile No. already exists."),t.qZA())}function Ji(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Mobile No is required. "),t.qZA())}function Vi(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Mobile No pattern not match. "),t.qZA())}function Qi(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,Ji,2,0,"div",94),t.YNc(2,Vi,2,0,"div",94),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.mobile_no.errors?null:e.mobile_no.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.mobile_no.errors?null:e.mobile_no.errors.pattern)}}function Di(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Whatsapp No is required. "),t.qZA())}function Yi(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Whatsapp No pattern not match. "),t.qZA())}function Bi(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,Di,2,0,"div",94),t.YNc(2,Yi,2,0,"div",94),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.whatsapp_no.errors?null:e.whatsapp_no.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.whatsapp_no.errors?null:e.whatsapp_no.errors.pattern)}}function Li(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," DOB is required. "),t.qZA())}function Ei(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,Li,2,0,"div",94),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.date_of_birth.errors?null:e.date_of_birth.errors.required)}}function Ri(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Anniversary Date is required. "),t.qZA())}function Gi(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,Ri,2,0,"div",94),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.anniversary_date.errors?null:e.anniversary_date.errors.required)}}function $i(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Email is required. "),t.qZA())}function Hi(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Email pattern not match. "),t.qZA())}function Ki(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,$i,2,0,"div",94),t.YNc(2,Hi,2,0,"div",94),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.email.errors?null:e.email.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.email.errors?null:e.email.errors.email)}}function ji(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Address 1 is required. "),t.qZA())}function zi(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,ji,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.address_line_1.errors?null:e.address_line_1.errors.required)}}function Wi(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Address 2 is required. "),t.qZA())}function Xi(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,Wi,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.address_line_2.errors?null:e.address_line_2.errors.required)}}function ta(i,r){if(1&i&&(t.TgZ(0,"option",289),t._uU(1),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e.id)("selected",e.id==n.currentState),t.xp6(1),t.Oqu(null==e?null:e.state)}}function ea(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," State is required. "),t.qZA())}function na(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,ea,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.state.errors?null:e.state.errors.required)}}function oa(i,r){if(1&i&&(t.TgZ(0,"option",289),t._uU(1),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",null==e?null:e.id)("selected",(null==e?null:e.id)==n.currentCities),t.xp6(1),t.Oqu(null==e?null:e.city)}}function ia(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," City is required. "),t.qZA())}function aa(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,ia,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.city.errors?null:e.city.errors.required)}}function ra(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Pincode is required. "),t.qZA())}function sa(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Pincode pattern not match. "),t.qZA())}function la(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,ra,2,0,"div",94),t.YNc(2,sa,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.pincode.errors?null:e.pincode.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.pincode.errors?null:e.pincode.errors.pattern)}}function ca(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.label)}}function da(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," GST Type is required. "),t.qZA())}function ua(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,da,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.gst_type.errors?null:e.gst_type.errors.required)}}function _a(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," GSTIN is required. "),t.qZA())}function pa(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,_a,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.gstin.errors?null:e.gstin.errors.required)}}function ma(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",4)(2,"div",12)(3,"div",122)(4,"label"),t._uU(5,"Address Line"),t.qZA(),t._UZ(6,"input",280),t.qZA(),t.YNc(7,zi,2,1,"div",131),t.qZA(),t.TgZ(8,"div",12)(9,"div",122)(10,"label"),t._uU(11,"Address Line"),t.qZA(),t._UZ(12,"input",281),t.qZA(),t.YNc(13,Xi,2,1,"div",131),t.qZA(),t.TgZ(14,"div",12)(15,"div",122)(16,"label"),t._uU(17,"State"),t.qZA(),t.TgZ(18,"select",282),t.NdJ("change",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onStateChange(o))}),t.TgZ(19,"option",283),t._uU(20,"Select State"),t.qZA(),t.YNc(21,ta,2,3,"option",284),t.qZA()(),t.YNc(22,na,2,1,"div",131),t.qZA(),t.TgZ(23,"div",12)(24,"div",122)(25,"label"),t._uU(26,"City"),t.qZA(),t.TgZ(27,"select",285),t.NdJ("change",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onCityChange(o))}),t.TgZ(28,"option",283),t._uU(29,"Select City"),t.qZA(),t.YNc(30,oa,2,3,"option",284),t.qZA()(),t.YNc(31,aa,2,1,"div",131),t.qZA(),t.TgZ(32,"div",12)(33,"div",122)(34,"label"),t._uU(35,"Pincode"),t.qZA(),t._UZ(36,"input",286),t.qZA(),t.YNc(37,la,3,2,"div",131),t.qZA()(),t.TgZ(38,"div",4)(39,"div",12)(40,"div",122)(41,"label"),t._uU(42,"GST Type"),t.qZA(),t.TgZ(43,"select",287),t.NdJ("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onGstTypeChange())}),t.TgZ(44,"option",283),t._uU(45,"Select GST Type"),t.qZA(),t.YNc(46,ca,2,2,"option",11),t.qZA()(),t.YNc(47,ua,2,1,"div",131),t.qZA(),t.TgZ(48,"div",12)(49,"div",122)(50,"label"),t._uU(51,"GSTIN"),t.qZA(),t._UZ(52,"input",288),t.qZA(),t.YNc(53,pa,2,1,"div",131),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(7),t.Q6J("ngIf",e.address_line_1.invalid&&(e.address_line_1.dirty||e.address_line_1.touched)),t.xp6(6),t.Q6J("ngIf",e.address_line_2.invalid&&(e.address_line_2.dirty||e.address_line_2.touched)),t.xp6(8),t.Q6J("ngForOf",e.stateList),t.xp6(1),t.Q6J("ngIf",e.state.invalid&&(e.state.dirty||e.state.touched)),t.xp6(8),t.Q6J("ngForOf",e.cityList),t.xp6(1),t.Q6J("ngIf",e.city.invalid&&(e.city.dirty||e.city.touched)),t.xp6(6),t.Q6J("ngIf",e.pincode.invalid&&(e.pincode.dirty||e.pincode.touched)),t.xp6(9),t.Q6J("ngForOf",e.gstType),t.xp6(1),t.Q6J("ngIf",e.gst_type.invalid&&(e.gst_type.dirty||e.gst_type.touched)),t.xp6(6),t.Q6J("ngIf",e.gstin.invalid&&(e.gstin.dirty||e.gstin.touched))}}function ga(i,r){if(1&i&&(t.TgZ(0,"div",290),t._UZ(1,"input",291),t.TgZ(2,"label",292),t._uU(3),t.qZA()()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("value",e.value),t.xp6(2),t.Oqu(e.label)}}function ha(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Voucher Type is required. "),t.qZA())}function fa(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,ha,2,0,"div",94),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.voucher_type.errors?null:e.voucher_type.errors.required)}}function va(i,r){if(1&i&&(t.TgZ(0,"div",290),t._UZ(1,"input",293),t.TgZ(2,"label",292),t._uU(3),t.qZA()()),2&i){const e=r.$implicit;t.xp6(1),t.Q6J("value",e.value),t.xp6(2),t.Oqu(e.label)}}function xa(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Payment Type is required. "),t.qZA())}function ya(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,xa,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.payment_type.errors?null:e.payment_type.errors.required)}}function Ca(i,r){if(1&i&&(t.TgZ(0,"div",21)(1,"div",122)(2,"label",144),t._uU(3,"Select Payment Type"),t.qZA(),t.TgZ(4,"div",146),t.YNc(5,va,4,2,"div",147),t.qZA()(),t.YNc(6,ya,2,1,"div",131),t.qZA()),2&i){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.paymentType),t.xp6(1),t.Q6J("ngIf",e.payment_type.invalid&&(e.payment_type.dirty||e.payment_type.touched))}}function Za(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij("",e.label," ")}}function ba(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Payment Mode is required. "),t.qZA())}function Aa(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,ba,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.payment_mode.errors?null:e.payment_mode.errors.required)}}function Ta(i,r){if(1&i&&(t.TgZ(0,"div",150)(1,"div",122)(2,"label"),t._uU(3,"Payment Mode"),t.qZA(),t.TgZ(4,"select",294)(5,"option",295),t._uU(6,"-- Select Payment Mode --"),t.qZA(),t.YNc(7,Za,2,2,"option",11),t.qZA()(),t.YNc(8,Aa,2,1,"div",131),t.qZA()),2&i){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.paymentMode),t.xp6(1),t.Q6J("ngIf",e.payment_mode.invalid&&(e.payment_mode.dirty||e.payment_mode.touched))}}function Pa(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.dueAmount,"")}}function qa(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Selecting Sales is required. "),t.qZA())}function Na(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,qa,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.receipt_sales.errors?null:e.receipt_sales.errors.required)}}function Ma(i,r){if(1&i&&(t.TgZ(0,"div",150)(1,"div",122)(2,"label"),t._uU(3,"Select Sales"),t.qZA(),t.TgZ(4,"select",296)(5,"option",295),t._uU(6,"-- Select Sales --"),t.qZA(),t.YNc(7,Pa,2,2,"option",11),t.qZA()(),t.YNc(8,Na,2,1,"div",131),t.qZA()),2&i){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.receiptSales),t.xp6(1),t.Q6J("ngIf",e.receipt_sales.invalid&&(e.receipt_sales.dirty||e.receipt_sales.touched))}}function Ia(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Amount is required. "),t.qZA())}function ka(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,Ia,2,0,"div",94),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.amount_receipt.errors?null:e.amount_receipt.errors.required)}}function Ua(i,r){1&i&&(t.TgZ(0,"mat-option",17),t._uU(1," Please Enter 3 or more characters "),t.qZA())}function Oa(i,r){1&i&&(t.TgZ(0,"mat-option",17),t._uU(1," Loading... "),t.qZA())}function Fa(i,r){if(1&i&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.cusErrorMsg," ")}}function Sa(i,r){if(1&i&&(t.TgZ(0,"mat-option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e),t.xp6(1),t.hij(" ",n.displayCus(e)," ")}}function wa(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Customer is required. "),t.qZA())}function Ja(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,wa,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.customer_receipt.errors?null:e.customer_receipt.errors.required)}}function Va(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",297)(1,"div",122)(2,"label"),t._uU(3,"Customer"),t.qZA(),t._UZ(4,"input",14),t.TgZ(5,"mat-autocomplete",298,299),t.NdJ("optionSelected",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.optionSelectedReceipt(o))}),t.YNc(7,Ua,2,0,"mat-option",10),t.YNc(8,Oa,2,0,"mat-option",10),t.YNc(9,Fa,2,1,"mat-option",10),t.YNc(10,Sa,2,2,"mat-option",11),t.qZA()(),t.YNc(11,Ja,2,1,"div",131),t.qZA()}if(2&i){const e=t.MAs(6),n=t.oxw();t.xp6(4),t.Q6J("formControl",n.receiptPaymentForm.get("customer_receipt"))("matAutocomplete",e),t.xp6(3),t.Q6J("ngIf",(null==n.receiptPaymentForm.get("customer_receipt").value?null:n.receiptPaymentForm.get("customer_receipt").value.length)<3),t.xp6(1),t.Q6J("ngIf",n.cusIsLoading),t.xp6(1),t.Q6J("ngIf",n.cusErrorMsg),t.xp6(1),t.Q6J("ngForOf",n.filteredCustomer2),t.xp6(1),t.Q6J("ngIf",n.customer_receipt.invalid&&(n.customer_receipt.dirty||n.customer_receipt.touched))}}function Qa(i,r){1&i&&(t.TgZ(0,"mat-option",17),t._uU(1,"Please Enter 3 or more characters"),t.qZA())}function Da(i,r){1&i&&(t.TgZ(0,"mat-option",17),t._uU(1,"Loading..."),t.qZA())}function Ya(i,r){if(1&i&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.cusErrorMsg)}}function Ba(i,r){if(1&i&&(t.TgZ(0,"mat-option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit,n=t.oxw(2);t.Q6J("value",e),t.xp6(1),t.hij(" ",n.displayParty(e)," ")}}function La(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Party is required. "),t.qZA())}function Ea(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,La,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.party_receipt.errors?null:e.party_receipt.errors.required)}}function Ra(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",297)(1,"div",122)(2,"label"),t._uU(3,"Party"),t.qZA(),t._UZ(4,"input",300),t.TgZ(5,"mat-autocomplete",15,301),t.NdJ("optionSelected",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.optionSelectedParty(o))}),t.YNc(7,Qa,2,0,"mat-option",10),t.YNc(8,Da,2,0,"mat-option",10),t.YNc(9,Ya,2,1,"mat-option",10),t.YNc(10,Ba,2,2,"mat-option",11),t.qZA()(),t.YNc(11,Ea,2,1,"div",131),t.qZA()}if(2&i){const e=t.MAs(6),n=t.oxw();t.xp6(4),t.Q6J("formControl",n.receiptPaymentForm.get("party_receipt"))("matAutocomplete",e),t.xp6(1),t.Q6J("displayWith",n.displayParty),t.xp6(2),t.Q6J("ngIf",(null==n.receiptPaymentForm.get("party_receipt").value?null:n.receiptPaymentForm.get("party_receipt").value.length)<3),t.xp6(1),t.Q6J("ngIf",n.partyIsLoading),t.xp6(1),t.Q6J("ngIf",n.partyErrorMsg),t.xp6(1),t.Q6J("ngForOf",n.filteredParty),t.xp6(1),t.Q6J("ngIf",n.party_receipt.invalid&&(n.party_receipt.dirty||n.party_receipt.touched))}}function Ga(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",null==e?null:e.name," ")}}function $a(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Payment Account is required. "),t.qZA())}function Ha(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,$a,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.payment_account_receipt.errors?null:e.payment_account_receipt.errors.required)}}function Ka(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," UPI ID is required. "),t.qZA())}function ja(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,Ka,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.upi_id_receipt.errors?null:e.upi_id_receipt.errors.required)}}function za(i,r){if(1&i&&(t.TgZ(0,"div",150)(1,"div",122)(2,"label"),t._uU(3,"UPI Id"),t.qZA(),t._UZ(4,"input",303),t.qZA(),t.YNc(5,ja,2,1,"div",131),t.qZA()),2&i){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",e.upi_id_receipt.invalid&&(e.upi_id_receipt.dirty||e.upi_id_receipt.touched))}}function Wa(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Account No is required. "),t.qZA())}function Xa(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,Wa,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.receipt_account_no.errors?null:e.receipt_account_no.errors.required)}}function tr(i,r){if(1&i&&(t.TgZ(0,"div",150)(1,"div",122)(2,"label"),t._uU(3,"Account No"),t.qZA(),t._UZ(4,"input",304),t.qZA(),t.YNc(5,Xa,2,1,"div",131),t.qZA()),2&i){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",e.receipt_account_no.invalid&&(e.receipt_account_no.dirty||e.receipt_account_no.touched))}}function er(i,r){if(1&i&&(t.TgZ(0,"div",4)(1,"div",150)(2,"div",122)(3,"label"),t._uU(4,"Payment Account"),t.qZA(),t.TgZ(5,"select",302)(6,"option",283),t._uU(7,"Select Payment Account"),t.qZA(),t.YNc(8,Ga,2,2,"option",11),t.qZA()(),t.YNc(9,Ha,2,1,"div",131),t.qZA(),t.YNc(10,za,6,1,"div",149),t.YNc(11,tr,6,1,"div",149),t.qZA()),2&i){const e=t.oxw();t.xp6(8),t.Q6J("ngForOf",e.companyBankList),t.xp6(1),t.Q6J("ngIf",e.payment_account_receipt.invalid&&(e.payment_account_receipt.dirty||e.payment_account_receipt.touched)),t.xp6(1),t.Q6J("ngIf","UPI"===e.receiptPaymentForm.get("payment_mode").value&&"expense"!==e.receiptPaymentForm.get("voucher_type").value),t.xp6(1),t.Q6J("ngIf","Bank"===e.receiptPaymentForm.get("payment_mode").value)}}function nr(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Customer Bank Name is required. "),t.qZA())}function or(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,nr,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.receipt_customer_bank_name.errors?null:e.receipt_customer_bank_name.errors.required)}}function ir(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Card Payment Amount is required. "),t.qZA())}function ar(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,ir,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.receipt_card_payment_amount.errors?null:e.receipt_card_payment_amount.errors.required)}}function rr(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Card Holder Name is required. "),t.qZA())}function sr(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,rr,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.receipt_card_holder_name.errors?null:e.receipt_card_holder_name.errors.required)}}function lr(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Card Transaction No. is required. "),t.qZA())}function cr(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,lr,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.receipt_cart_transactions_no.errors?null:e.receipt_cart_transactions_no.errors.required)}}function dr(i,r){if(1&i&&(t.TgZ(0,"div",4)(1,"div",150)(2,"div",122)(3,"label"),t._uU(4,"Customer Bank Name"),t.qZA(),t._UZ(5,"input",305),t.qZA(),t.YNc(6,or,2,1,"div",131),t.qZA(),t.TgZ(7,"div",150)(8,"div",122)(9,"label"),t._uU(10,"Card Payment Amount"),t.qZA(),t._UZ(11,"input",306),t.qZA(),t.YNc(12,ar,2,1,"div",131),t.qZA(),t.TgZ(13,"div",150)(14,"div",122)(15,"label"),t._uU(16,"Card Holder Name"),t.qZA(),t._UZ(17,"input",307),t.qZA(),t.YNc(18,sr,2,1,"div",131),t.qZA(),t.TgZ(19,"div",150)(20,"div",122)(21,"label"),t._uU(22,"Card Transaction No"),t.qZA(),t._UZ(23,"input",308),t.qZA(),t.YNc(24,cr,2,1,"div",131),t.qZA()()),2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngIf",e.receipt_customer_bank_name.invalid&&(e.receipt_customer_bank_name.dirty||e.receipt_customer_bank_name.touched)),t.xp6(6),t.Q6J("ngIf",e.receipt_card_payment_amount.invalid&&(e.receipt_card_payment_amount.dirty||e.receipt_card_payment_amount.touched)),t.xp6(6),t.Q6J("ngIf",e.receipt_card_holder_name.invalid&&(e.receipt_card_holder_name.dirty||e.receipt_card_holder_name.touched)),t.xp6(6),t.Q6J("ngIf",e.receipt_cart_transactions_no.invalid&&(e.receipt_cart_transactions_no.dirty||e.receipt_cart_transactions_no.touched))}}function ur(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Non GST is required. "),t.qZA())}function _r(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,ur,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.expense_non_gst.errors?null:e.expense_non_gst.errors.required)}}function pr(i,r){if(1&i&&(t.TgZ(0,"div",4)(1,"div",150)(2,"div",34)(3,"label"),t._UZ(4,"input",309),t._uU(5," Non GST "),t.qZA()(),t.YNc(6,_r,2,1,"div",131),t.qZA()()),2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngIf",e.expense_non_gst.invalid&&(e.expense_non_gst.dirty||e.expense_non_gst.touched))}}function mr(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Remark is required. "),t.qZA())}function gr(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,mr,2,0,"div",94),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.receipt_remark.errors?null:e.receipt_remark.errors.required)}}function hr(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;let n,o;t.Q6J("value",(null==e?null:e.credit_note_no)+" - "+(null!==(n=null==e?null:e.total)&&void 0!==n?n:0)),t.xp6(1),t.AsE(" ",null==e?null:e.credit_note_no," - ",null!==(o=null==e?null:e.total)&&void 0!==o?o:0," ")}}function fr(i,r){if(1&i&&(t.TgZ(0,"h5"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",null==e.selectedAccountCreditData[0]?null:e.selectedAccountCreditData[0].date," ")}}function vr(i,r){if(1&i&&(t.TgZ(0,"h5"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);let n;t.xp6(1),t.hij(" ",null!==(n=null==e.selectedAccountCreditData[0]?null:e.selectedAccountCreditData[0].total)&&void 0!==n?n:0," ")}}function xr(i,r){if(1&i&&(t.TgZ(0,"h5"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);let n;t.xp6(1),t.hij(" ",null!==(n=null==e.selectedAccountCreditData[0]?null:e.selectedAccountCreditData[0].pending_amount)&&void 0!==n?n:0," ")}}function yr(i,r){1&i&&(t.TgZ(0,"p",322),t._uU(1,"Apply Credit value must be less than or equal to the Credit Available"),t.qZA())}function Cr(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",310)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",311),t._uU(5,"Redeem Credit"),t.qZA(),t.TgZ(6,"button",312),t._UZ(7,"i",72),t.qZA()(),t.TgZ(8,"div",121)(9,"div",4),t._UZ(10,"div",313),t.TgZ(11,"div",297)(12,"button",314),t._uU(13),t.qZA()(),t._UZ(14,"div",313),t.qZA(),t.TgZ(15,"div",315)(16,"div",21)(17,"div",122)(18,"label"),t._uU(19,"Scan Barcode/Type Number"),t.qZA(),t.TgZ(20,"select",316),t.YNc(21,hr,2,3,"option",11),t.qZA()()()(),t.TgZ(22,"div",4)(23,"div",21)(24,"div",317)(25,"h5"),t._uU(26," Credit Note Date "),t.qZA(),t.YNc(27,fr,2,1,"h5",94),t.qZA(),t.TgZ(28,"div",317)(29,"h5"),t._uU(30," Credit Amount "),t.qZA(),t.YNc(31,vr,2,1,"h5",94),t.qZA(),t.TgZ(32,"div",317)(33,"h5"),t._uU(34," Credit Available "),t.qZA(),t.YNc(35,xr,2,1,"h5",94),t.qZA(),t.TgZ(36,"div",317)(37,"h5"),t._uU(38," Apply Credit "),t.qZA(),t._UZ(39,"input",318),t.qZA(),t.YNc(40,yr,2,0,"p",232),t.TgZ(41,"div",319)(42,"h4"),t._uU(43," \u20b9Payable Amt "),t.qZA(),t.TgZ(44,"h4"),t._uU(45),t.qZA()()()()(),t.TgZ(46,"div",320)(47,"button",321),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.applyCreditRedeem())}),t._uU(48,"Apply Credit"),t.qZA()()()()()}if(2&i){const e=t.oxw();let n,o;t.xp6(13),t.hij("Invoice Balance: ",null!==(n=e.cartProductTotalAmout)&&void 0!==n?n:0," "),t.xp6(7),t.Q6J("formControl",e.redeemCreditControl),t.xp6(1),t.Q6J("ngForOf",e.selectedAccountCreditData),t.xp6(6),t.Q6J("ngIf",e.selectedAccountCreditData),t.xp6(4),t.Q6J("ngIf",e.selectedAccountCreditData),t.xp6(4),t.Q6J("ngIf",e.selectedAccountCreditData),t.xp6(4),t.Q6J("formControl",e.applyCredit),t.xp6(1),t.Q6J("ngIf",e.isErrorMessageShown),t.xp6(5),t.hij(" ",null!==(o=e.creditRedeemTotalAmount)&&void 0!==o?o:0," ")}}function Zr(i,r){if(1&i&&(t.TgZ(0,"tr",251)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA()()),2&i){const e=r.$implicit,n=r.index;t.xp6(2),t.Oqu(n),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.quantity)}}function br(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"span",364),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,a=t.oxw(2);return t.KtG(a.removePaymentDetails(o))}),t.O4$(),t.TgZ(1,"svg",365),t._UZ(2,"path",366)(3,"path",367),t.qZA()()}}function Ar(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Amount is required"),t.qZA())}function Tr(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Select a payment method"),t.qZA())}function Pr(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",e.title," ")}}function qr(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Select Payment Account"),t.qZA())}function Nr(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",368)(1,"div",122)(2,"label"),t._uU(3,"Payment Account*"),t.qZA(),t.TgZ(4,"select",369),t.NdJ("change",function(o){t.CHM(e);const a=t.oxw().index,s=t.oxw(2);return t.KtG(s.onSelectPaymentAccount(o.target.value,a))}),t.TgZ(5,"option",283),t._uU(6,"Select Payment Account "),t.qZA(),t.YNc(7,Pr,2,2,"option",11),t.qZA(),t.YNc(8,qr,2,0,"span",232),t.qZA()()}if(2&i){const e=t.oxw(),n=e.index,o=e.$implicit,a=t.oxw(2);let s;t.xp6(7),t.Q6J("ngForOf",a.accountListAlies[n]),t.xp6(1),t.Q6J("ngIf",(null==(s=o.get("payment_account"))?null:s.invalid)&&(null==(s=o.get("payment_account"))?null:s.touched))}}function Mr(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Transaction Date is required"),t.qZA())}function Ir(i,r){if(1&i&&(t.TgZ(0,"option",373),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.hij("",null==e?null:e.title," ")}}function kr(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Payment Mode is required"),t.qZA())}function Ur(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Transaction ID is required"),t.qZA())}function Or(i,r){if(1&i&&(t.TgZ(0,"div",234)(1,"div",354)(2,"div",229)(3,"label"),t._uU(4,"Transaction Date:"),t.qZA(),t._UZ(5,"input",370),t.YNc(6,Mr,2,0,"span",232),t.qZA()(),t.TgZ(7,"div",354)(8,"div",229)(9,"label"),t._uU(10,"Payment Mode:"),t.qZA(),t.TgZ(11,"select",294),t.YNc(12,Ir,2,2,"option",371),t.qZA(),t.YNc(13,kr,2,0,"span",232),t.qZA()(),t.TgZ(14,"div",354)(15,"div",229)(16,"label"),t._uU(17,"Transaction Id:"),t.qZA(),t._UZ(18,"input",372),t.YNc(19,Ur,2,0,"span",232),t.qZA()()()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);let o,a,s;t.xp6(6),t.Q6J("ngIf",(null==(o=e.get("transaction_date"))?null:o.invalid)&&(null==(o=e.get("transaction_date"))?null:o.touched)),t.xp6(6),t.Q6J("ngForOf",n.paymentModeList),t.xp6(1),t.Q6J("ngIf",(null==(a=e.get("payment_mode"))?null:a.invalid)&&(null==(a=e.get("payment_mode"))?null:a.touched)),t.xp6(6),t.Q6J("ngIf",(null==(s=e.get("transaction_id"))?null:s.invalid)&&(null==(s=e.get("transaction_id"))?null:s.touched))}}function Fr(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",null==e?null:e.days),t.xp6(1),t.hij(" ",null==e?null:e.title," ")}}function Sr(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Day is required"),t.qZA())}function wr(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",354)(1,"div",229)(2,"label"),t._uU(3,"Day:"),t.qZA(),t.TgZ(4,"select",374),t.NdJ("change",function(o){t.CHM(e);const a=t.oxw().index,s=t.oxw(2);return t.KtG(s.onSelectDay(o.target.value,a))}),t.TgZ(5,"option",231),t._uU(6,"Select days "),t.qZA(),t.YNc(7,Fr,2,2,"option",11),t.qZA(),t.YNc(8,Sr,2,0,"span",232),t.qZA()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);let o;t.xp6(7),t.Q6J("ngForOf",n.paymentTermsList),t.xp6(1),t.Q6J("ngIf",(null==(o=e.get("day"))?null:o.invalid)&&(null==(o=e.get("day"))?null:o.touched))}}function Jr(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Date is required"),t.qZA())}function Vr(i,r){if(1&i&&(t.TgZ(0,"div",354)(1,"div",229)(2,"label"),t._uU(3,"Date:"),t.qZA(),t._UZ(4,"input",375),t.YNc(5,Jr,2,0,"span",232),t.qZA()()),2&i){const e=t.oxw().$implicit;let n;t.xp6(5),t.Q6J("ngIf",(null==(n=e.get("date"))?null:n.invalid)&&(null==(n=e.get("date"))?null:n.touched))}}function Qr(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",350)(1,"div",351),t.YNc(2,br,4,0,"span",352),t.qZA(),t.TgZ(3,"div",353)(4,"div",354)(5,"div",229)(6,"label"),t._uU(7,"Amount:"),t.qZA(),t._UZ(8,"input",355),t.YNc(9,Ar,2,0,"span",232),t.qZA()(),t.TgZ(10,"div",354)(11,"div",229)(12,"label"),t._uU(13,"Payment Method:"),t.qZA(),t.TgZ(14,"select",356),t.NdJ("change",function(o){const s=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.receiptTypeChange(o,s))}),t.TgZ(15,"option",283),t._uU(16,"Select Method"),t.qZA(),t.TgZ(17,"option",357),t._uU(18,"Cash"),t.qZA(),t.TgZ(19,"option",358),t._uU(20,"Bank"),t.qZA(),t.TgZ(21,"option",359),t._uU(22,"PayLater"),t.qZA()(),t.YNc(23,Tr,2,0,"span",232),t.qZA()(),t.YNc(24,Nr,9,2,"div",360),t.TgZ(25,"div",354)(26,"div",229)(27,"label"),t._uU(28,"Note:"),t.qZA(),t._UZ(29,"input",361),t.qZA()(),t.YNc(30,Or,20,4,"div",362),t.YNc(31,wr,9,2,"div",363),t.YNc(32,Vr,6,1,"div",363),t.qZA()()}if(2&i){const e=r.$implicit,n=r.index;let o,a;t.Q6J("formGroupName",n),t.xp6(2),t.Q6J("ngIf",n>0),t.xp6(7),t.Q6J("ngIf",(null==(o=e.get("amount"))?null:o.invalid)&&(null==(o=e.get("amount"))?null:o.touched)),t.xp6(14),t.Q6J("ngIf",(null==(a=e.get("receipt_type"))?null:a.invalid)&&(null==(a=e.get("receipt_type"))?null:a.touched)),t.xp6(1),t.Q6J("ngIf","PayLater"!==e.get("receipt_type").value),t.xp6(6),t.Q6J("ngIf","Bank"===e.get("receipt_type").value),t.xp6(1),t.Q6J("ngIf","PayLater"===e.get("receipt_type").value),t.xp6(1),t.Q6J("ngIf","PayLater"===e.get("receipt_type").value)}}const Dr=function(i){return{"blur-modal":i}};function Yr(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",323)(1,"div",324)(2,"div",117)(3,"div",118)(4,"button",325),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.playBeepSound())}),t._uU(5,"Back To Sale"),t.qZA()(),t.TgZ(6,"div",121)(7,"div",326)(8,"div",327)(9,"div",328)(10,"h3",329),t._uU(11,"Sale Summery"),t.qZA(),t.TgZ(12,"h5",330),t._uU(13),t.qZA(),t.TgZ(14,"div",331)(15,"div",22)(16,"table",23)(17,"thead")(18,"tr")(19,"th"),t._uU(20,"#"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Product"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Qty"),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,Zr,7,3,"tr",24),t.qZA()()()(),t.TgZ(27,"div",332)(28,"div",333)(29,"h5"),t._uU(30,"Tax Amount"),t.qZA(),t.TgZ(31,"h5"),t._uU(32,"0.00"),t.qZA()(),t.TgZ(33,"div",333)(34,"h5"),t._uU(35,"Total Amounts"),t.qZA(),t.TgZ(36,"h5"),t._uU(37),t.qZA()(),t.TgZ(38,"div",333)(39,"h5"),t._uU(40,"Round Off"),t.qZA(),t.TgZ(41,"h5"),t._uU(42,"0.00"),t.qZA()()(),t.TgZ(43,"div",334)(44,"h3"),t._uU(45),t.qZA(),t.TgZ(46,"h5"),t._uU(47,"Payable Amount"),t.qZA()()()(),t.TgZ(48,"div",335)(49,"div",336)(50,"div",337)(51,"h3"),t._uU(52,"Pay"),t.qZA(),t.TgZ(53,"div",338)(54,"span",32),t._uU(55,"\u20b9 "),t.qZA(),t._UZ(56,"input",262),t.qZA()(),t.TgZ(57,"form",339)(58,"div",340)(59,"div",341)(60,"button",342),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addMorePaymentDetails())}),t.TgZ(61,"p",343)(62,"span",344),t._uU(63,"+"),t.qZA(),t._uU(64," Add More Payment"),t.qZA()()(),t.TgZ(65,"div",345),t.YNc(66,Qr,33,8,"div",346),t.qZA()()(),t.TgZ(67,"div",347)(68,"div",21)(69,"button",348),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.proceedToPay())}),t._uU(70," Proceed To Pay "),t._UZ(71,"i",349),t.qZA()()()()()()()()()()}if(2&i){const e=t.oxw();t.Q6J("ngClass",t.VKq(8,Dr,e.isModalShown)),t.xp6(13),t.hij("Customer: ",e.currentCustomer,"- 932477888"),t.xp6(13),t.Q6J("ngForOf",e.cartItems),t.xp6(11),t.Oqu(e.finalAmount()),t.xp6(8),t.Oqu(e.finalAmount()),t.xp6(11),t.s9C("value",e.finalAmount()),t.xp6(1),t.Q6J("formGroup",e.paymentForm),t.xp6(9),t.Q6J("ngForOf",null==e.addMorePaymentData?null:e.addMorePaymentData.controls)}}function Br(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Tendered amount should be greater than due amount."),t.qZA())}function Lr(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.title," ")}}function Er(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Select Payment Account"),t.qZA())}function Rr(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",388),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.generateOrder())}),t._uU(1,"Submit"),t.qZA()}}function Gr(i,r){1&i&&(t.TgZ(0,"button",389),t._uU(1,"Submit"),t.qZA())}function $r(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",376)(1,"div",127)(2,"div",117)(3,"div",121)(4,"form",228),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cashPaymentGenerateOrder("normal"))}),t.TgZ(5,"div",74)(6,"div",12)(7,"div",134)(8,"label"),t._uU(9,"Due Amount"),t.qZA(),t._UZ(10,"input",377),t.qZA()(),t.TgZ(11,"div",12)(12,"div",134)(13,"label"),t._uU(14,"Tendered"),t.qZA(),t.TgZ(15,"input",378),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.tenderedAmount=o)}),t.qZA()(),t.YNc(16,Br,2,0,"span",232),t.qZA(),t.TgZ(17,"div",12)(18,"div",134)(19,"label"),t._uU(20,"Change"),t.qZA(),t._UZ(21,"input",379),t.qZA()(),t.TgZ(22,"div",380)(23,"div",122)(24,"label"),t._uU(25,"Payment Account*"),t.qZA(),t.TgZ(26,"select",381),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.cash_payment_account=o)}),t.TgZ(27,"option",283),t._uU(28,"Select Payment Account "),t.qZA(),t.YNc(29,Lr,2,2,"option",11),t.qZA(),t.YNc(30,Er,2,0,"span",232),t.qZA()()(),t.TgZ(31,"div",4)(32,"div",105)(33,"div",382)(34,"div",4)(35,"div",21)(36,"div",383)(37,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(1))}),t._uU(38,"1"),t.qZA(),t.TgZ(39,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(2))}),t._uU(40,"2"),t.qZA(),t.TgZ(41,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(3))}),t._uU(42,"3"),t.qZA(),t.TgZ(43,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(100))}),t._uU(44,"+100"),t.qZA(),t.TgZ(45,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(1e3))}),t._uU(46,"+1000"),t.qZA()()()(),t.TgZ(47,"div",4)(48,"div",21)(49,"div",383)(50,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(4))}),t._uU(51,"4"),t.qZA(),t.TgZ(52,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(5))}),t._uU(53,"5"),t.qZA(),t.TgZ(54,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(6))}),t._uU(55,"6"),t.qZA(),t.TgZ(56,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(200))}),t._uU(57,"+200"),t.qZA(),t.TgZ(58,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(2e3))}),t._uU(59,"+2000"),t.qZA()()()(),t.TgZ(60,"div",4)(61,"div",21)(62,"div",383)(63,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(7))}),t._uU(64,"7"),t.qZA(),t.TgZ(65,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(8))}),t._uU(66,"8"),t.qZA(),t.TgZ(67,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(9))}),t._uU(68,"9"),t.qZA(),t.TgZ(69,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(500))}),t._uU(70,"+500"),t.qZA(),t.TgZ(71,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(5e3))}),t._uU(72,"+5000"),t.qZA()()()(),t.TgZ(73,"div",4)(74,"div",21)(75,"div",383)(76,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(10))}),t._uU(77,"10"),t.qZA(),t.TgZ(78,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(20))}),t._uU(79,"20"),t.qZA(),t.TgZ(80,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(50))}),t._uU(81,"50"),t.qZA(),t.TgZ(82,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(1e3))}),t._uU(83,"+1000"),t.qZA(),t.TgZ(84,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(1e4))}),t._uU(85,"+10000"),t.qZA()()()()()(),t.TgZ(86,"div",100)(87,"div"),t.YNc(88,Rr,2,0,"button",385),t.YNc(89,Gr,2,0,"button",386),t.qZA(),t.TgZ(90,"div")(91,"button",387),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.playBeepSound())}),t._uU(92,"Cancel"),t.qZA()()()()()()()()()}if(2&i){const e=t.oxw();t.xp6(10),t.s9C("value",e.finalAmount()),t.xp6(5),t.Q6J("ngModel",e.tenderedAmount)("ngModelOptions",t.DdM(11,C)),t.xp6(1),t.Q6J("ngIf",e.isCashFormSubmitted&&e.tenderedAmount<e.finalAmount()),t.xp6(5),t.s9C("value",e.changeAmt()),t.xp6(5),t.Q6J("ngModel",e.cash_payment_account)("ngModelOptions",t.DdM(12,C)),t.xp6(3),t.Q6J("ngForOf",e.accountListData),t.xp6(1),t.Q6J("ngIf",(null==e.cash_payment_account?null:e.cash_payment_account.invalid)&&(null==e.cash_payment_account?null:e.cash_payment_account.touched)),t.xp6(58),t.Q6J("ngIf",!e.isInternetConnection),t.xp6(1),t.Q6J("ngIf",e.isInternetConnection)}}function Hr(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Coupon Code is required"),t.qZA())}function Kr(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",390)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",391),t._uU(5,"Apply Coupon Code"),t.qZA(),t.TgZ(6,"button",392),t._UZ(7,"i",72),t.qZA()(),t.TgZ(8,"div",121)(9,"form",228,393),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.applyCouponCode())}),t.TgZ(11,"div",74)(12,"div",394)(13,"div",134)(14,"label"),t._uU(15,"Coupon Code*"),t.qZA(),t.TgZ(16,"input",395),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.coupon_code=o)}),t.qZA(),t.YNc(17,Hr,2,0,"span",232),t.qZA()()(),t.TgZ(18,"div",396)(19,"div",397)(20,"button",398),t._uU(21,"Submit"),t.qZA()(),t.TgZ(22,"div")(23,"button",399),t._uU(24,"Cancel"),t.qZA()()()()()()()()}if(2&i){const e=t.MAs(10),n=t.oxw();t.xp6(16),t.Q6J("ngModel",n.coupon_code),t.xp6(1),t.Q6J("ngIf",!n.coupon_code&&e.submitted)}}function jr(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"label")(3,"input",400),t.NdJ("change",function(){const o=t.CHM(e),a=o.$implicit,s=o.index,c=t.oxw();return t.KtG(c.selectedBatch(a,s))})("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.currentBatch=o)}),t.qZA()()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA()()}if(2&i){const e=r.$implicit,n=t.oxw();t.xp6(3),t.s9C("value",null==e?null:e.id),t.Q6J("ngModel",n.currentBatch)("ngModelOptions",t.DdM(10,C)),t.xp6(2),t.Oqu(null==e?null:e.mrp),t.xp6(2),t.Oqu(null==e?null:e.selling_price_offline),t.xp6(2),t.Oqu(null==e?null:e.stock),t.xp6(2),t.Oqu(null==e?null:e.minimum_stock_threshold),t.xp6(2),t.Oqu(null==e?null:e.max_order_quantity),t.xp6(2),t.Oqu(null==e?null:e.sale_tax),t.xp6(2),t.Oqu(null==e?null:e.additional_discount)}}function zr(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.additional_charge,"")}}function Wr(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.Oqu(e.title)}}function Xr(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"select",401),t.NdJ("change",function(o){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.updateACInCAC(s,o))})("ngModelChange",function(o){const s=t.CHM(e).$implicit;return t.KtG(s.additional_charge=o)}),t.TgZ(3,"option"),t._uU(4,"-- Select --"),t.qZA(),t.YNc(5,zr,2,2,"option",11),t.qZA()(),t.TgZ(6,"td")(7,"div",402)(8,"input",403),t.NdJ("change",function(o){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.updateValueInCAC(s,o))})("ngModelChange",function(o){const s=t.CHM(e).$implicit;return t.KtG(s.value=o)}),t.qZA(),t.TgZ(9,"span",404),t.NdJ("click",function(){const o=t.CHM(e),a=o.index,s=o.$implicit,c=t.oxw();return t.KtG(c.updateValueTypeInCAC(a,s.value_type))}),t._uU(10),t.qZA()()(),t.TgZ(11,"td")(12,"select",401),t.NdJ("change",function(o){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.updateTaxInCAC(s,o))})("ngModelChange",function(o){const s=t.CHM(e).$implicit;return t.KtG(s.tax=o)}),t.TgZ(13,"option"),t._uU(14,"-- Select --"),t.qZA(),t.YNc(15,Wr,2,2,"option",11),t.qZA()(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td")(19,"button",268),t.NdJ("click",function(o){const s=t.CHM(e).index,c=t.oxw();return t.KtG(c.deleteRowInCAC(s,o))}),t._UZ(20,"i",405),t.qZA()()()}if(2&i){const e=r.$implicit,n=t.oxw();t.xp6(2),t.Q6J("ngModel",e.additional_charge)("ngModelOptions",t.DdM(10,C)),t.xp6(3),t.Q6J("ngForOf",n.additionalChargesList),t.xp6(3),t.Q6J("ngModel",e.value)("ngModelOptions",t.DdM(11,C)),t.xp6(2),t.Oqu("percentage"===e.value_type?"%":"\u20b9"),t.xp6(2),t.Q6J("ngModel",e.tax)("ngModelOptions",t.DdM(12,C)),t.xp6(3),t.Q6J("ngForOf",n.taxesList),t.xp6(2),t.Oqu(e.total)}}function ts(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA()()),2&i){const e=r.$implicit,n=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.id),t.xp6(2),t.Oqu(n.getDateForOrders(null==e?null:e.date)),t.xp6(2),t.Oqu(null==e||null==e.customer?null:e.customer.name),t.xp6(2),t.Oqu(null==e||null==e.customer?null:e.customer.mobile_no),t.xp6(2),t.Oqu(null==e?null:e.total_amount),t.xp6(2),t.Oqu(null==e?null:e.dueAmount),t.xp6(2),t.Oqu(null==e?null:e.payment_mode)}}const es=function(i){return{"active-page":i}};function ns(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"li",406),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.pageChange(a))}),t.TgZ(1,"a",181),t._uU(2),t.qZA()()}if(2&i){const e=r.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,es,e===n.page)),t.xp6(2),t.Oqu(e)}}function os(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.title," ")}}function is(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Select Payment Account"),t.qZA())}function as(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Transaction Date is required"),t.qZA())}function rs(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Transaction ID is required"),t.qZA())}function ss(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",407)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",408),t._uU(5,"UPI Details"),t.qZA(),t.TgZ(6,"button",409),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.playBeepSound())}),t._UZ(7,"i",72),t.qZA()(),t.TgZ(8,"div",121)(9,"form",129),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.upiPaymentGenerateOrder("normal"))}),t.TgZ(10,"div",353)(11,"div",394)(12,"div",122)(13,"label"),t._uU(14,"Payment Account*"),t.qZA(),t.TgZ(15,"select",410)(16,"option",283),t._uU(17,"Select Payment Account "),t.qZA(),t.YNc(18,os,2,2,"option",11),t.qZA(),t.YNc(19,is,2,0,"span",232),t.qZA()(),t.TgZ(20,"div",394)(21,"div",122)(22,"label"),t._uU(23,"Transaction Date:"),t.qZA(),t._UZ(24,"input",370),t.YNc(25,as,2,0,"span",232),t.qZA()(),t.TgZ(26,"div",394)(27,"div",122)(28,"label"),t._uU(29,"Transaction Id:"),t.qZA(),t._UZ(30,"input",372),t.YNc(31,rs,2,0,"span",232),t.qZA()()(),t.TgZ(32,"div",4)(33,"div",139)(34,"button",411),t._uU(35,"Save"),t.qZA()()()()()()()()}if(2&i){const e=t.oxw();let n,o,a;t.xp6(9),t.Q6J("formGroup",e.upiPaymentMethodForm),t.xp6(9),t.Q6J("ngForOf",e.accountListData),t.xp6(1),t.Q6J("ngIf",(null==(n=e.upiPaymentMethodForm.get("payment_account"))?null:n.invalid)&&(null==(n=e.upiPaymentMethodForm.get("payment_account"))?null:n.touched)),t.xp6(6),t.Q6J("ngIf",(null==(o=e.upiPaymentMethodForm.get("transaction_date"))?null:o.invalid)&&(null==(o=e.upiPaymentMethodForm.get("transaction_date"))?null:o.touched)),t.xp6(6),t.Q6J("ngIf",(null==(a=e.upiPaymentMethodForm.get("transaction_id"))?null:a.invalid)&&(null==(a=e.upiPaymentMethodForm.get("transaction_id"))?null:a.touched))}}function ls(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.title," ")}}function cs(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Select Payment Account"),t.qZA())}function ds(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Transaction Date is required"),t.qZA())}function us(i,r){if(1&i&&(t.TgZ(0,"option",373),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.title," ")}}function _s(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Payment Mode is required"),t.qZA())}function ps(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Transaction ID is required"),t.qZA())}function ms(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",412)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",413),t._uU(5,"Bank Details"),t.qZA(),t.TgZ(6,"button",414),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.playBeepSound())}),t._UZ(7,"i",72),t.qZA()(),t.TgZ(8,"div",121)(9,"form",129),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.bankPaymentGenerateOrder("normal"))}),t.TgZ(10,"div",353)(11,"div",394)(12,"div",122)(13,"label"),t._uU(14,"Payment Account*"),t.qZA(),t.TgZ(15,"select",410)(16,"option",283),t._uU(17,"Select Payment Account "),t.qZA(),t.YNc(18,ls,2,2,"option",11),t.qZA(),t.YNc(19,cs,2,0,"span",232),t.qZA()(),t.TgZ(20,"div",394)(21,"div",122)(22,"label"),t._uU(23,"Transaction Date:"),t.qZA(),t._UZ(24,"input",370),t.YNc(25,ds,2,0,"span",232),t.qZA()(),t.TgZ(26,"div",394)(27,"div",122)(28,"label"),t._uU(29,"Payment Mode:"),t.qZA(),t.TgZ(30,"select",294),t.YNc(31,us,2,2,"option",371),t.qZA(),t.YNc(32,_s,2,0,"span",232),t.qZA()(),t.TgZ(33,"div",394)(34,"div",122)(35,"label"),t._uU(36,"Transaction Id:"),t.qZA(),t._UZ(37,"input",372),t.YNc(38,ps,2,0,"span",232),t.qZA()()(),t.TgZ(39,"div",4)(40,"div",139)(41,"button",411),t._uU(42,"Save"),t.qZA()()()()()()()()}if(2&i){const e=t.oxw();let n,o,a,s;t.xp6(9),t.Q6J("formGroup",e.bankPaymentMethodForm),t.xp6(9),t.Q6J("ngForOf",e.accountListData),t.xp6(1),t.Q6J("ngIf",(null==(n=e.bankPaymentMethodForm.get("payment_account"))?null:n.invalid)&&(null==(n=e.bankPaymentMethodForm.get("payment_account"))?null:n.touched)),t.xp6(6),t.Q6J("ngIf",(null==(o=e.bankPaymentMethodForm.get("transaction_date"))?null:o.invalid)&&(null==(o=e.bankPaymentMethodForm.get("transaction_date"))?null:o.touched)),t.xp6(6),t.Q6J("ngForOf",e.paymentModeList),t.xp6(1),t.Q6J("ngIf",(null==(a=e.bankPaymentMethodForm.get("payment_mode"))?null:a.invalid)&&(null==(a=e.bankPaymentMethodForm.get("payment_mode"))?null:a.touched)),t.xp6(6),t.Q6J("ngIf",(null==(s=e.bankPaymentMethodForm.get("transaction_id"))?null:s.invalid)&&(null==(s=e.bankPaymentMethodForm.get("transaction_id"))?null:s.touched))}}function gs(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.days),t.xp6(1),t.hij("",null==e?null:e.title," ")}}function hs(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Payment Terms is required. "),t.qZA())}function fs(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,hs,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.pay_later_day.errors?null:e.pay_later_day.errors.required)}}function vs(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Due Date is required. "),t.qZA())}function xs(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,vs,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.pay_later_date.errors?null:e.pay_later_date.errors.required)}}function ys(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1," Send Reminder is required. "),t.qZA())}function Cs(i,r){if(1&i&&(t.TgZ(0,"div",279),t.YNc(1,ys,2,0,"div",94),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.is_send_reminder.errors?null:e.is_send_reminder.errors.required)}}function Zs(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",415)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",416),t._uU(5,"Invoice"),t.qZA(),t.TgZ(6,"button",417),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.playBeepSound())}),t._UZ(7,"i",72),t.qZA()(),t.TgZ(8,"div",121)(9,"form",129),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.payLaterGenerateOrder())}),t.TgZ(10,"div",4)(11,"div",21)(12,"div",122)(13,"label"),t._uU(14,"Payment Terms"),t.qZA(),t.TgZ(15,"select",418)(16,"option",283),t._uU(17,"Select Payment Account"),t.qZA(),t.YNc(18,gs,2,2,"option",11),t.qZA()(),t.YNc(19,fs,2,1,"div",131),t.qZA(),t.TgZ(20,"div",21)(21,"div",122)(22,"label"),t._uU(23,"Due Date"),t.qZA(),t._UZ(24,"input",419),t.qZA(),t.YNc(25,xs,2,1,"div",131),t.qZA(),t.TgZ(26,"div",21)(27,"div",420)(28,"label",421),t._uU(29,"Send Reminder"),t.qZA(),t.TgZ(30,"div",422)(31,"div",423),t._UZ(32,"input",424),t.TgZ(33,"label",425),t._uU(34," Yes "),t.qZA()(),t.TgZ(35,"div",423),t._UZ(36,"input",426),t.TgZ(37,"label",427),t._uU(38," No "),t.qZA()()()(),t.YNc(39,Cs,2,1,"div",131),t.qZA()(),t.TgZ(40,"div",4)(41,"div",139)(42,"button",411),t._uU(43,"Save"),t.qZA()()()()()()()()}if(2&i){const e=t.oxw();t.xp6(9),t.Q6J("formGroup",e.payLaterMethodForm),t.xp6(9),t.Q6J("ngForOf",e.paymentTermsList),t.xp6(1),t.Q6J("ngIf",e.pay_later_day.invalid&&(e.pay_later_day.dirty||e.pay_later_day.touched)),t.xp6(6),t.Q6J("ngIf",e.pay_later_date.invalid&&(e.pay_later_date.dirty||e.pay_later_date.touched)),t.xp6(14),t.Q6J("ngIf",e.is_send_reminder.invalid&&(e.is_send_reminder.dirty||e.is_send_reminder.touched))}}function bs(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.title," ")}}function As(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Select Payment Account"),t.qZA())}function Ts(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Transaction Date is required"),t.qZA())}function Ps(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Transaction ID is required"),t.qZA())}function qs(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",428)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",429),t._uU(5,"Card Details"),t.qZA(),t.TgZ(6,"button",430),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.playBeepSound())}),t._UZ(7,"i",72),t.qZA()(),t.TgZ(8,"div",121)(9,"form",129),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cardPaymentGenerateOrder("normal"))}),t.TgZ(10,"div",353)(11,"div",394)(12,"div",122)(13,"label"),t._uU(14,"Payment Account*"),t.qZA(),t.TgZ(15,"select",410)(16,"option",283),t._uU(17,"Select Payment Account "),t.qZA(),t.YNc(18,bs,2,2,"option",11),t.qZA(),t.YNc(19,As,2,0,"span",232),t.qZA()(),t.TgZ(20,"div",394)(21,"div",122)(22,"label"),t._uU(23,"Transaction Date:"),t.qZA(),t._UZ(24,"input",370),t.YNc(25,Ts,2,0,"span",232),t.qZA()(),t.TgZ(26,"div",394)(27,"div",122)(28,"label"),t._uU(29,"Transaction Id:"),t.qZA(),t._UZ(30,"input",372),t.YNc(31,Ps,2,0,"span",232),t.qZA()()(),t.TgZ(32,"div",4)(33,"div",139)(34,"button",411),t._uU(35,"Save"),t.qZA()()()()()()()()}if(2&i){const e=t.oxw();let n,o,a;t.xp6(9),t.Q6J("formGroup",e.cardPaymentMethodForm),t.xp6(9),t.Q6J("ngForOf",e.accountListData),t.xp6(1),t.Q6J("ngIf",(null==(n=e.cardPaymentMethodForm.get("payment_account"))?null:n.invalid)&&(null==(n=e.cardPaymentMethodForm.get("payment_account"))?null:n.touched)),t.xp6(6),t.Q6J("ngIf",(null==(o=e.cardPaymentMethodForm.get("transaction_date"))?null:o.invalid)&&(null==(o=e.cardPaymentMethodForm.get("transaction_date"))?null:o.touched)),t.xp6(6),t.Q6J("ngIf",(null==(a=e.cardPaymentMethodForm.get("transaction_id"))?null:a.invalid)&&(null==(a=e.cardPaymentMethodForm.get("transaction_id"))?null:a.touched))}}function Ns(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",431),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.resumeBill(a.id))}),t.TgZ(1,"div",21),t._uU(2),t.TgZ(3,"div",432)(4,"button",433),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.removeFromHold(a.id))}),t._UZ(5,"i",72),t.qZA(),t.TgZ(6,"div",434)(7,"h5"),t._uU(8),t.qZA(),t.TgZ(9,"h5"),t._uU(10),t.qZA()(),t.TgZ(11,"h5",435),t._uU(12),t.qZA(),t.TgZ(13,"h5"),t._uU(14,"Created On: 2023-02-23 1:21pm"),t.qZA()()()()}if(2&i){const e=r.$implicit,n=t.oxw();t.xp6(2),t.hij(" ",n.test(e)," "),t.xp6(6),t.hij("ORD: ",null==e?null:e.id,""),t.xp6(2),t.hij("Amt: \u20b9",e.totalAmt,""),t.xp6(2),t.hij("Contact: ",e.currentCustomer.mobile_no,"")}}function Ms(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",436)(4,"a",437),t._uU(5),t.qZA()(),t.TgZ(6,"td",438),t._uU(7),t.qZA(),t.TgZ(8,"td",438),t._uU(9),t.qZA(),t.TgZ(10,"td",438),t._uU(11),t.qZA(),t.TgZ(12,"td",438),t._uU(13),t.qZA(),t.TgZ(14,"td",438),t._uU(15),t.qZA()()),2&i){const e=r.$implicit,n=r.index;let o,a,s,c,d,u;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.MGl("routerLink","//transaction/detailsexpensesVoucher/",e.id,""),t.xp6(1),t.Oqu(null!==(o=null==e||null==e.party?null:e.party.name)&&void 0!==o?o:"--"),t.xp6(2),t.Oqu(null!==(a=null==e?null:e.expense_no)&&void 0!==a?a:"--"),t.xp6(2),t.Oqu(null!==(s=null==e?null:e.refrence_bill_no)&&void 0!==s?s:"--"),t.xp6(2),t.Oqu(null!==(c=null==e?null:e.expense_date)&&void 0!==c?c:"--"),t.xp6(2),t.Oqu(null!==(d=null==e?null:e.tax_amount)&&void 0!==d?d:"--"),t.xp6(2),t.Oqu(null!==(u=null==e?null:e.total_amount)&&void 0!==u?u:"--")}}const gt=function(i,r){return{itemsPerPage:i,currentPage:r}};function Is(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Ms,16,8,"tr",170),t.ALo(2,"paginate"),t.ALo(3,"orderBy"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,t.Dn7(3,4,e.expenseList,e.key,e.reverse),t.WLB(8,gt,e.itemsPerPage,e.p)))}}function ks(i,r){1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",439)(3,"p",440),t._uU(4,"Data not available"),t.qZA()()()())}function Us(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",436)(4,"a",437),t._uU(5),t.qZA()(),t.TgZ(6,"td",438),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td",438),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA()()),2&i){const e=r.$implicit,n=r.index;let o,a,s,c,d,u,_,p,h,v;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.MGl("routerLink","//transaction/detailsrecieptVoucher/",e.id,""),t.xp6(1),t.Oqu(null!==(o=null==e||null==e.payer?null:e.payer.account_id)&&void 0!==o?o:"--"),t.xp6(2),t.Oqu(null!==(a=null==e?null:e.receipt_type)&&void 0!==a?a:"--"),t.xp6(2),t.Oqu(null!==(s=e.mode_type)&&void 0!==s?s:"--"),t.xp6(2),t.Oqu(null!==(c=e.receipt_voucher_no)&&void 0!==c?c:"--"),t.xp6(2),t.Oqu(null!==(d=null==e||null==e.payer?null:e.payer.account_id)&&void 0!==d?d:"--"),t.xp6(2),t.Oqu(null!==(u=null==e?null:e.bank_payment)&&void 0!==u?u:"--"),t.xp6(2),t.Oqu(null!==(_=null==e?null:e.date)&&void 0!==_?_:"--"),t.xp6(2),t.Oqu(null!==(p=null==e?null:e.transaction_date)&&void 0!==p?p:"--"),t.xp6(2),t.Oqu(null!==(h=null==e?null:e.transaction_id)&&void 0!==h?h:"--"),t.xp6(2),t.Oqu(null!==(v=null==e?null:e.amount)&&void 0!==v?v:"--")}}function Os(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Us,24,12,"tr",170),t.ALo(2,"orderBy"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,e.recieptList,e.key,e.reverse))}}function Fs(i,r){1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",439)(3,"p",440),t._uU(4,"Data not available"),t.qZA()()()())}const Ss=function(i,r,e){return{"bg-lightgreen":i,"bg-lightred":r,"bg-lightyellow":e}};function ws(i,r){if(1&i&&(t.TgZ(0,"tr",206)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",436)(4,"a",437),t._uU(5),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td")(21,"span",442),t._uU(22),t.qZA()()()),2&i){const e=r.$implicit,n=r.index;let o,a,s,c,d,u,_,p;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.MGl("routerLink","//transaction/detailscreditnote/",null==e?null:e.id,""),t.xp6(1),t.Oqu(null!==(o=null==e||null==e.account?null:e.account.account_id)&&void 0!==o?o:"--"),t.xp6(2),t.Oqu(null!==(a=null==e?null:e.date)&&void 0!==a?a:"--"),t.xp6(2),t.Oqu(null!==(s=null==e?null:e.credit_note_no)&&void 0!==s?s:"--"),t.xp6(2),t.Oqu(null!==(c=null==e||null==e.sale_bill_no?null:e.sale_bill_no.id)&&void 0!==c?c:"--"),t.xp6(2),t.Oqu(null!==(d=null==e?null:e.reason)&&void 0!==d?d:"--"),t.xp6(2),t.Oqu(null!==(u=null==e?null:e.roundoff)&&void 0!==u?u:"--"),t.xp6(2),t.Oqu(null!==(_=null==e?null:e.tax)&&void 0!==_?_:"--"),t.xp6(2),t.Oqu(null!==(p=null==e?null:e.total)&&void 0!==p?p:"--"),t.xp6(2),t.Q6J("ngClass",t.kEZ(12,Ss,"Complete"===e.status,"Pending"===e.status,"Ordered"===e.status)),t.xp6(1),t.Oqu(e.status)}}function Js(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,ws,23,16,"tr",441),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.creditNoteList)}}function Vs(i,r){1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",439)(3,"p",440),t._uU(4,"Data not available"),t.qZA()()()())}function Qs(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"app-pos-add-payment-voucher",443),t.NdJ("modalClose",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.modalClose(o))}),t.qZA()()}}function Ds(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"app-pos-add-expense-voucher",443),t.NdJ("modalClose",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.expenseModalClose(o))}),t.qZA()()}}function Ys(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"app-pos-add-receipts-voucher",443),t.NdJ("modalClose",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.receiptModalClose(o))}),t.qZA()()}}function Bs(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"app-pos-add-credit-note",443),t.NdJ("modalClose",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.creditNoteModalClose(o))}),t.qZA()()}}function Ls(i,r){if(1&i&&(t.TgZ(0,"tr",206)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",436)(4,"a",437),t._uU(5),t.qZA()(),t.TgZ(6,"td",438),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td",438),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA()()),2&i){const e=r.$implicit,n=r.index;let o,a,s,c,d,u,_,p,h,v;t.xp6(2),t.Oqu(n+1+"."),t.xp6(2),t.MGl("routerLink","//transaction/detailspaymentVoucher/",e.id,""),t.xp6(1),t.Oqu(null!==(o=null==e||null==e.supplier?null:e.supplier.company_name)&&void 0!==o?o:"--"),t.xp6(2),t.Oqu(null!==(a=null==e?null:e.payment_type)&&void 0!==a?a:"--"),t.xp6(2),t.Oqu(null!==(s=null==e?null:e.mode_type)&&void 0!==s?s:"--"),t.xp6(2),t.Oqu(null!==(c=null==e?null:e.payment_voucher_no)&&void 0!==c?c:"--"),t.xp6(2),t.Oqu(null!==(d=null==e||null==e.payment_account?null:e.payment_account.account_id)&&void 0!==d?d:"--"),t.xp6(2),t.Oqu(null!==(u=null==e?null:e.bank_payment)&&void 0!==u?u:"--"),t.xp6(2),t.Oqu(null!==(_=null==e?null:e.date)&&void 0!==_?_:"--"),t.xp6(2),t.Oqu(null!==(p=null==e?null:e.transaction_date)&&void 0!==p?p:"--"),t.xp6(2),t.Oqu(null!==(h=null==e?null:e.transaction_id)&&void 0!==h?h:"--"),t.xp6(2),t.Oqu(null!==(v=null==e?null:e.amount)&&void 0!==v?v:"--")}}function Es(i,r){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Ls,24,12,"tr",441),t.ALo(2,"paginate"),t.ALo(3,"orderBy"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,t.Dn7(3,4,e.paymentList,e.key,e.reverse),t.WLB(8,gt,e.itemsPerPage,e.p)))}}function Rs(i,r){1&i&&(t.TgZ(0,"tbody")(1,"tr")(2,"td",439)(3,"p",440),t._uU(4,"Data not available"),t.qZA()()()())}function Gs(i,r){1&i&&t._UZ(0,"mat-progress-bar",444)}function $s(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Tendered amount should be greater than due amount."),t.qZA())}function Hs(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.title," ")}}function Ks(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Select Payment Account"),t.qZA())}function js(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",445)(1,"div",127)(2,"div",117)(3,"div",121)(4,"form",228),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cashPaymentGenerateOrder("print"))}),t.TgZ(5,"div",74)(6,"div",12)(7,"div",134)(8,"label"),t._uU(9,"Due Amount"),t.qZA(),t._UZ(10,"input",377),t.qZA()(),t.TgZ(11,"div",12)(12,"div",134)(13,"label"),t._uU(14,"Tendered"),t.qZA(),t.TgZ(15,"input",378),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.tenderedAmount=o)}),t.qZA()(),t.YNc(16,$s,2,0,"span",232),t.qZA(),t.TgZ(17,"div",12)(18,"div",134)(19,"label"),t._uU(20,"Change"),t.qZA(),t._UZ(21,"input",379),t.qZA()(),t.TgZ(22,"div",380)(23,"div",122)(24,"label"),t._uU(25,"Payment Account*"),t.qZA(),t.TgZ(26,"select",381),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.cash_payment_account=o)}),t.TgZ(27,"option",283),t._uU(28,"Select Payment Account "),t.qZA(),t.YNc(29,Hs,2,2,"option",11),t.qZA(),t.YNc(30,Ks,2,0,"span",232),t.qZA()()(),t.TgZ(31,"div",4)(32,"div",105)(33,"div",382)(34,"div",4)(35,"div",21)(36,"div",383)(37,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(1))}),t._uU(38,"1"),t.qZA(),t.TgZ(39,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(2))}),t._uU(40,"2"),t.qZA(),t.TgZ(41,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(3))}),t._uU(42,"3"),t.qZA(),t.TgZ(43,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(100))}),t._uU(44,"+100"),t.qZA(),t.TgZ(45,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(1e3))}),t._uU(46,"+1000"),t.qZA()()()(),t.TgZ(47,"div",4)(48,"div",21)(49,"div",383)(50,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(4))}),t._uU(51,"4"),t.qZA(),t.TgZ(52,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(5))}),t._uU(53,"5"),t.qZA(),t.TgZ(54,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(6))}),t._uU(55,"6"),t.qZA(),t.TgZ(56,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(200))}),t._uU(57,"+200"),t.qZA(),t.TgZ(58,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(2e3))}),t._uU(59,"+2000"),t.qZA()()()(),t.TgZ(60,"div",4)(61,"div",21)(62,"div",383)(63,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(7))}),t._uU(64,"7"),t.qZA(),t.TgZ(65,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(8))}),t._uU(66,"8"),t.qZA(),t.TgZ(67,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(9))}),t._uU(68,"9"),t.qZA(),t.TgZ(69,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(500))}),t._uU(70,"+500"),t.qZA(),t.TgZ(71,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(5e3))}),t._uU(72,"+5000"),t.qZA()()()(),t.TgZ(73,"div",4)(74,"div",21)(75,"div",383)(76,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(10))}),t._uU(77,"10"),t.qZA(),t.TgZ(78,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(20))}),t._uU(79,"20"),t.qZA(),t.TgZ(80,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(50))}),t._uU(81,"50"),t.qZA(),t.TgZ(82,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(1e3))}),t._uU(83,"+1000"),t.qZA(),t.TgZ(84,"div",384),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeTenderedAmt(1e4))}),t._uU(85,"+10000"),t.qZA()()()()()(),t.TgZ(86,"div",100)(87,"div")(88,"button",389),t._uU(89,"Submit"),t.qZA()(),t.TgZ(90,"div")(91,"button",446),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.playBeepSound())}),t._uU(92,"Cancel"),t.qZA()()()()()()()()()}if(2&i){const e=t.oxw();t.xp6(10),t.s9C("value",e.finalAmount()),t.xp6(5),t.Q6J("ngModel",e.tenderedAmount)("ngModelOptions",t.DdM(9,C)),t.xp6(1),t.Q6J("ngIf",e.isCashFormSubmitted&&e.tenderedAmount<e.finalAmount()),t.xp6(5),t.s9C("value",e.changeAmt()),t.xp6(5),t.Q6J("ngModel",e.cash_payment_account)("ngModelOptions",t.DdM(10,C)),t.xp6(3),t.Q6J("ngForOf",e.accountListData),t.xp6(1),t.Q6J("ngIf",(null==e.cash_payment_account?null:e.cash_payment_account.invalid)&&(null==e.cash_payment_account?null:e.cash_payment_account.touched))}}function zs(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.title," ")}}function Ws(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Select Payment Account"),t.qZA())}function Xs(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Transaction Date is required"),t.qZA())}function tl(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Transaction ID is required"),t.qZA())}function el(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",447)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",448),t._uU(5,"UPI Details"),t.qZA(),t.TgZ(6,"button",449),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.playBeepSound())}),t._UZ(7,"i",72),t.qZA()(),t.TgZ(8,"div",121)(9,"form",129),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.upiPaymentGenerateOrder("print"))}),t.TgZ(10,"div",353)(11,"div",394)(12,"div",122)(13,"label"),t._uU(14,"Payment Account*"),t.qZA(),t.TgZ(15,"select",410)(16,"option",283),t._uU(17,"Select Payment Account "),t.qZA(),t.YNc(18,zs,2,2,"option",11),t.qZA(),t.YNc(19,Ws,2,0,"span",232),t.qZA()(),t.TgZ(20,"div",394)(21,"div",122)(22,"label"),t._uU(23,"Transaction Date:"),t.qZA(),t._UZ(24,"input",370),t.YNc(25,Xs,2,0,"span",232),t.qZA()(),t.TgZ(26,"div",394)(27,"div",122)(28,"label"),t._uU(29,"Transaction Id:"),t.qZA(),t._UZ(30,"input",372),t.YNc(31,tl,2,0,"span",232),t.qZA()()(),t.TgZ(32,"div",4)(33,"div",139)(34,"button",411),t._uU(35,"Save"),t.qZA()()()()()()()()}if(2&i){const e=t.oxw();let n,o,a;t.xp6(9),t.Q6J("formGroup",e.upiPaymentMethodForm),t.xp6(9),t.Q6J("ngForOf",e.accountListData),t.xp6(1),t.Q6J("ngIf",(null==(n=e.upiPaymentMethodForm.get("payment_account"))?null:n.invalid)&&(null==(n=e.upiPaymentMethodForm.get("payment_account"))?null:n.touched)),t.xp6(6),t.Q6J("ngIf",(null==(o=e.upiPaymentMethodForm.get("transaction_date"))?null:o.invalid)&&(null==(o=e.upiPaymentMethodForm.get("transaction_date"))?null:o.touched)),t.xp6(6),t.Q6J("ngIf",(null==(a=e.upiPaymentMethodForm.get("transaction_id"))?null:a.invalid)&&(null==(a=e.upiPaymentMethodForm.get("transaction_id"))?null:a.touched))}}function nl(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",null==e?null:e.days),t.xp6(1),t.hij(" ",null==e?null:e.title," ")}}function ol(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Payment Terms is required"),t.qZA())}function il(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Due Date is required"),t.qZA())}function al(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Send Reminder is required"),t.qZA())}function rl(i,r){1&i&&t._UZ(0,"div",450)}function sl(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.title," ")}}function ll(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Select Payment Account"),t.qZA())}function cl(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Transaction Date is required"),t.qZA())}function dl(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Transaction ID is required"),t.qZA())}function ul(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",451)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",452),t._uU(5,"Card Details"),t.qZA(),t.TgZ(6,"button",453),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.playBeepSound())}),t._UZ(7,"i",72),t.qZA()(),t.TgZ(8,"div",121)(9,"form",129),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cardPaymentGenerateOrder("print"))}),t.TgZ(10,"div",353)(11,"div",394)(12,"div",122)(13,"label"),t._uU(14,"Payment Account*"),t.qZA(),t.TgZ(15,"select",410)(16,"option",283),t._uU(17,"Select Payment Account "),t.qZA(),t.YNc(18,sl,2,2,"option",11),t.qZA(),t.YNc(19,ll,2,0,"span",232),t.qZA()(),t.TgZ(20,"div",394)(21,"div",122)(22,"label"),t._uU(23,"Transaction Date:"),t.qZA(),t._UZ(24,"input",370),t.YNc(25,cl,2,0,"span",232),t.qZA()(),t.TgZ(26,"div",394)(27,"div",122)(28,"label"),t._uU(29,"Transaction Id:"),t.qZA(),t._UZ(30,"input",372),t.YNc(31,dl,2,0,"span",232),t.qZA()()(),t.TgZ(32,"div",4)(33,"div",139)(34,"button",411),t._uU(35,"Save"),t.qZA()()()()()()()()}if(2&i){const e=t.oxw();let n,o,a;t.xp6(9),t.Q6J("formGroup",e.cardPaymentMethodForm),t.xp6(9),t.Q6J("ngForOf",e.accountListData),t.xp6(1),t.Q6J("ngIf",(null==(n=e.cardPaymentMethodForm.get("payment_account"))?null:n.invalid)&&(null==(n=e.cardPaymentMethodForm.get("payment_account"))?null:n.touched)),t.xp6(6),t.Q6J("ngIf",(null==(o=e.cardPaymentMethodForm.get("transaction_date"))?null:o.invalid)&&(null==(o=e.cardPaymentMethodForm.get("transaction_date"))?null:o.touched)),t.xp6(6),t.Q6J("ngIf",(null==(a=e.cardPaymentMethodForm.get("transaction_id"))?null:a.invalid)&&(null==(a=e.cardPaymentMethodForm.get("transaction_id"))?null:a.touched))}}function _l(i,r){if(1&i&&(t.TgZ(0,"option",250),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.title," ")}}function pl(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Select Payment Account"),t.qZA())}function ml(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Transaction Date is required"),t.qZA())}function gl(i,r){if(1&i&&(t.TgZ(0,"option",373),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.hij(" ",null==e?null:e.title," ")}}function hl(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Payment Mode is required"),t.qZA())}function fl(i,r){1&i&&(t.TgZ(0,"span",322),t._uU(1,"Transaction ID is required"),t.qZA())}function vl(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",454)(1,"div",116)(2,"div",117)(3,"div",118)(4,"h5",455),t._uU(5,"Bank Details"),t.qZA(),t.TgZ(6,"button",456),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.playBeepSound())}),t._UZ(7,"i",72),t.qZA()(),t.TgZ(8,"div",121)(9,"form",129),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.bankPaymentGenerateOrder("print"))}),t.TgZ(10,"div",353)(11,"div",394)(12,"div",122)(13,"label"),t._uU(14,"Payment Account*"),t.qZA(),t.TgZ(15,"select",410)(16,"option",283),t._uU(17,"Select Payment Account "),t.qZA(),t.YNc(18,_l,2,2,"option",11),t.qZA(),t.YNc(19,pl,2,0,"span",232),t.qZA()(),t.TgZ(20,"div",394)(21,"div",122)(22,"label"),t._uU(23,"Transaction Date:"),t.qZA(),t._UZ(24,"input",370),t.YNc(25,ml,2,0,"span",232),t.qZA()(),t.TgZ(26,"div",394)(27,"div",122)(28,"label"),t._uU(29,"Payment Mode:"),t.qZA(),t.TgZ(30,"select",294),t.YNc(31,gl,2,2,"option",371),t.qZA(),t.YNc(32,hl,2,0,"span",232),t.qZA()(),t.TgZ(33,"div",394)(34,"div",122)(35,"label"),t._uU(36,"Transaction Id:"),t.qZA(),t._UZ(37,"input",372),t.YNc(38,fl,2,0,"span",232),t.qZA()()(),t.TgZ(39,"div",4)(40,"div",139)(41,"button",411),t._uU(42,"Save"),t.qZA()()()()()()()()}if(2&i){const e=t.oxw();let n,o,a,s;t.xp6(9),t.Q6J("formGroup",e.bankPaymentMethodForm),t.xp6(9),t.Q6J("ngForOf",e.accountListData),t.xp6(1),t.Q6J("ngIf",(null==(n=e.bankPaymentMethodForm.get("payment_account"))?null:n.invalid)&&(null==(n=e.bankPaymentMethodForm.get("payment_account"))?null:n.touched)),t.xp6(6),t.Q6J("ngIf",(null==(o=e.bankPaymentMethodForm.get("transaction_date"))?null:o.invalid)&&(null==(o=e.bankPaymentMethodForm.get("transaction_date"))?null:o.touched)),t.xp6(6),t.Q6J("ngForOf",e.paymentModeList),t.xp6(1),t.Q6J("ngIf",(null==(a=e.bankPaymentMethodForm.get("payment_mode"))?null:a.invalid)&&(null==(a=e.bankPaymentMethodForm.get("payment_mode"))?null:a.touched)),t.xp6(6),t.Q6J("ngIf",(null==(s=e.bankPaymentMethodForm.get("transaction_id"))?null:s.invalid)&&(null==(s=e.bankPaymentMethodForm.get("transaction_id"))?null:s.touched))}}const ht=function(i){return{"blur-background":i}};let xl=(()=>{class i{constructor(e,n,o,a,s,c,d,u,_,p,h,v,Z,g){this.transactionService=e,this.router=n,this.billHoldService=o,this.fb=a,this.toastr=s,this.syncService=c,this.http=d,this.cartService=u,this.offerService=_,this.coreService=p,this.companyService=h,this.connectionService=v,this.contactService=Z,this.toastrService=g,this.selectedPaymentsOption="sales",this.salesPayments=[],this.purchasePayments=[],this.expensePayments=[],this.isFormSubmitted=!1,this.isExpanseModalShown=!1,this.isReceiptModalShown=!1,this.isCreditNoteModalShown=!1,this.isPaymentModalShown=!1,this.isSyncLoading=!1,this.creditLimitData=[],this.isPayLaterModalShown=!1,this.isInternetConnection=!1,this.subscription=new nt.w0,this.totalRecords=0,this.pageSize=10,this.pages=[],this.couponUpTo=0,this.couponDiscount=0,this.page=1,this.heldBills=[],this.streetcontrol=new l.NI(""),this.applyCredit=new l.NI(0),this.subscriptions=[],this.selectedReminder="",this.isModalShown=!1,this.totalTaxableAmount=0,this.totalCGST=0,this.totalSGST=0,this.options=[{id:1,name:"Option 1",value:"option1",price:10},{id:2,name:"Option 2",value:"option2",price:20},{id:3,name:"Option 3",value:"option3",price:30},{id:4,name:"Option 4",value:"option4",price:40},{id:5,name:"Option 5",value:"option5",price:50}],this.gstType=[{label:"UnRegistered",value:"UnRegistered"},{label:"Registered Regular",value:"Registered Regular"},{label:"Registered Composition",value:"Registered Composition"},{label:"Input Service Distributor",value:"Input Service Distributor"},{label:"Ecommerce Operator",value:"Ecommerce Operator"}],this.voucherType=[{id:1,label:"Sales",value:"sales"},{id:2,label:"Purchase",value:"purchase"},{id:3,label:"Expense",value:"expense"}],this.voucherType2=[{id:1,label:"Receipt",value:"sales"},{id:2,label:"Payments",value:"purchase"},{id:3,label:"Expense",value:"expense"}],this.paymentType=[{id:1,label:"Advance Payment",value:"Advance"},{id:2,label:"Against Bill",value:"Against Bill"}],this.paymentMode=[{id:1,label:"UPI",value:"UPI"},{id:2,label:"Card",value:"Card"},{id:3,label:"Cash",value:"Cash"},{id:4,label:"Bank",value:"Bank"}],this.selectedOptions=[],this.productsAutocompleteControl=new l.NI,this.redeemCreditControl=new l.NI,this.customers=[],this.cartItems=[],this.cash_payment_account="",this.customerAutoCompleteControl=new l.NI(""),this.chargesAutoCompleteControl=new l.NI(""),this.customerAutoCompleteControl2=new l.NI(""),this.saleInvoice=new l.NI(""),this.streets=["Jason Roy","Sam Curran","Cameron Green","Alex Hales","Johnny Bairstow","Jason Roy","Sam Curran","Cameron Green","Alex Hales","Johnny Bairstow","Jason Roy","Sam Curran","Cameron Green","Alex Hales","Johnny Bairstow","Jason Roy","Sam Curran","Cameron Green","Alex Hales","Johnny Bairstow"],this.tenderedAmount=0,this.minLengthTerm=1,this.isLoading=!1,this.cusMinLengthTerm=3,this.cusIsLoading=!1,this.partyIsLoading=!1,this.chargesIsLoading=!1,this.filteredPaymentAccount=[],this.currentItems=[],this.customerRegistrationNumberSame=!1,this.isCashFormSubmitted=!1,this.additionalChargesList=[],this.taxesList=[],this.receiptSales=[],this.companyBankList=[],this.paymentTermsList=[],this.currentOrderAdditionalCharges=[],this.accountList=[],this.accountListAlies=[],this.currentAdditionalCharges=[],this.posOrders=[],this.currentCartIndex=0,this.currentCartIndex1=-1,this.holdBillActive=!1,this.receiptTypeSubscriptions=[],this.key="id",this.reverse=!0,this.discount=[],this.selectBtch=[],this.discountTyp=[],this.isDiscountSelect=[],this.isInvoiceFree=[],this.isFreePriceRange=[],this.isQtyPerQty=[],this.isQtyPerPercentage=[],this.isQPQ=[],this.isQPP=[],this.flatDiscount=[],this.selectedDiscount=[],this.discountTypeSelect=[],this.amount=100,this.f_d=5,this.d=0,this.currentItems=this.cartService.getCurrentItems(),this.customerForm=this.fb.group({name:[""],mobile_no:[""],whatsapp_no:[""],date_of_birth:[""],anniversary_date:[""],address_line_1:[""],state:[""],city:[""],gst_type:[""],gstin:[""]})}calculateAmountTotal(){let e=0;return this.addMorePaymentData.controls.forEach(n=>{const o=n.get("amount")?.value||0;e+=parseFloat(o)}),e}addMorePaymentDetails(){const e=this.finalAmount(),n=this.calculateCurrentAmount();if(n<e){const o=e-n,a=o%1!=0?o.toFixed(2):o,s=this.addNewPayment(Number(a));this.addMorePaymentData.push(s),this.subscribeToReceiptTypeChange(s)}}removePaymentDetails(e){this.addMorePaymentData.removeAt(e),this.filteredPaymentAccount.splice(e,1)}calculateCurrentAmount(){return this.addMorePaymentData.controls.reduce((e,n)=>{const o=n.get("amount").value;if(o){const a=parseFloat(o);return e+Math.round(100*a)/100}return e},0)}get addMorePaymentData(){return this.paymentForm.get("addMorePayment")}keyEvent(e){e.code==y.F9&&document.querySelector(".bankF9").click(),e.code==y.F5&&document.querySelector(".upiF5").click(),e.code==y.F6&&document.querySelector(".holdF6").click(),e.code==y.F11&&document.querySelector(".plF11").click(),e.code==y.F3&&document.querySelector(".cardF3").click(),e.code==y.F4&&document.querySelector(".cashF4").click(),e.code==y.F12&&document.querySelector(".mpF12").click(),e.code==y.F7&&document.querySelector(".cpF7").click(),e.code==y.F10&&document.querySelector(".upF10").click(),e.code==y.F8&&document.querySelector(".cashprintF8").click()}ngOnInit(){this.companyService.CheckBlur$&&this.companyService.CheckBlur$.subscribe(s=>{console.log(s),null!==s&&(s||0==s)&&(this.isModalOpen=s,console.log(this.isModalOpen))}),this.isQPQ[0]=!1,this.isQPP[0]=!1,this.isDiscountSelect[0]=!1,this.isInvoiceFree[0]=!1,this.isFreePriceRange[0]=!1,this.isQtyPerQty[0]=!1,this.isQtyPerPercentage[0]=!1,this.getExpense(),this.getPayment(),this.getReciept(),this.getCreditNote(),this.getCustomerList(),this.getAllProductList(),this.filteredStreets=this.streetcontrol.valueChanges.pipe((0,M.O)(""),(0,P.U)(s=>this.__filter(s||""))),this.applyCredit.valueChanges.subscribe(s=>{s<=this.selectedAccountCreditData[0]?.pending_amount?(this.creditRedeemTotalAmount=this.creditRedeemTotalAmount-s,this.isErrorMessageShown=!1):this.isErrorMessageShown=!0}),this.heldBills=this.billHoldService.getHeldBills(),console.log(this.heldBills),this.subscription.add(this.connectionService.monitor().pipe((0,I.b)(s=>{s.hasNetworkConnection&&s.hasInternetAccess?(this.isInternetConnection=!0,this.showSyncButton()&&(document.getElementById("exampleModal7").classList.add("show"),this.isModalOpen=!0)):this.isInternetConnection=!1})).subscribe()),this.monitorInternetConnection(),this.registrationForm=this.fb.group({name:[""],mobile_no:["",[l.kI.required,l.kI.pattern(/^[0-9]{10}$/)]],whatsapp_no:["",[l.kI.pattern(/^[0-9]{10}$/)]],date_of_birth:[""],anniversary_date:[""],email:["",[l.kI.email]],gstin:[""],gst_type:[""],address_line_1:[""],address_line_2:[""],state:["28",[l.kI.required]],city:["",[l.kI.required]],pincode:["841226",[l.kI.pattern(/^[0-9]{6}$/)]]}),this.upiPaymentMethodForm=this.fb.group({payment_account:["",[l.kI.required]],transaction_date:["",[l.kI.required]],transaction_id:["",[l.kI.required]]}),this.bankPaymentMethodForm=this.fb.group({payment_account:["",[l.kI.required]],transaction_date:["",[l.kI.required]],payment_mode:["",[l.kI.required]],transaction_id:["",[l.kI.required]]}),this.cardPaymentMethodForm=this.fb.group({payment_account:["",[l.kI.required]],transaction_date:["",[l.kI.required]],transaction_id:["",[l.kI.required]]}),this.payLaterMethodForm=this.fb.group({day:["",[l.kI.required]],date:["",[l.kI.required]],is_send_reminder:["",[l.kI.required]]}),this.expensePaymentForm=this.fb.group({non_gst:[!1],payment_account:["",[l.kI.required]],remark:["",[l.kI.required]],amount:["",[l.kI.required]],party:["",[l.kI.required]]}),this.salesPaymentForm=this.fb.group({payment_type:["",[l.kI.required]],payment_account:["",[l.kI.required]],payment_mode:["",[l.kI.required]],customer:["",[l.kI.required]],remark:["",[l.kI.required]],amount:["",[l.kI.required]],sales:[""],upi_id:[""],customer_bank_name:[""],card_payment_amount:[""],card_holder_name:[""],cart_transactions_no:[""],account_no:[""]}),this.purchasePaymentForm=this.fb.group({payment_type:["",[l.kI.required]],payment_account:["",[l.kI.required]],payment_mode:["",[l.kI.required]],party:["",[l.kI.required]],remark:["",[l.kI.required]],amount:["",[l.kI.required]],sales:[""],upi_id:[""],customer_bank_name:[""],card_payment_amount:[""],card_holder_name:[""],cart_transactions_no:[""],account_no:[""]}),this.receiptPaymentForm=this.fb.group({voucher_type:["",[l.kI.required]],payment_type:[""],payment_mode:[""],receipt_sales:[""],amount_receipt:[""],customer_receipt:[""],party_receipt:[""],receipt_remark:[""],payment_account:[""],upi_id:[""],customer_bank_name:[""],card_payment_amount:[""],card_holder_name:[""],cart_transactions_no:[""],account_no:[""],non_gst:[!1]}),this.salesPaymentForm.get("payment_type").valueChanges.subscribe(s=>{"Against Bill"===s?this.salesPaymentForm.get("sales").setValidators(l.kI.required):this.salesPaymentForm.get("sales").clearValidators(),this.salesPaymentForm.get("sales").updateValueAndValidity()}),this.salesPaymentForm.get("payment_mode").valueChanges.subscribe(s=>{"UPI"===s?(this.salesPaymentForm.get("customer_bank_name").clearValidators(),this.salesPaymentForm.get("card_payment_amount").clearValidators(),this.salesPaymentForm.get("card_holder_name").clearValidators(),this.salesPaymentForm.get("cart_transactions_no").clearValidators(),this.salesPaymentForm.get("account_no").clearValidators(),this.salesPaymentForm.get("upi_id").setValidators(l.kI.required),this.salesPaymentForm.get("payment_account").setValidators(l.kI.required)):"Card"===s?(this.salesPaymentForm.get("upi_id").clearValidators(),this.salesPaymentForm.get("account_no").clearValidators(),this.salesPaymentForm.get("customer_bank_name").setValidators(l.kI.required),this.salesPaymentForm.get("card_payment_amount").setValidators(l.kI.required),this.salesPaymentForm.get("card_holder_name").setValidators(l.kI.required),this.salesPaymentForm.get("cart_transactions_no").setValidators(l.kI.required),this.salesPaymentForm.get("payment_account").setValidators(l.kI.required)):"Bank"===s?(this.salesPaymentForm.get("upi_id").clearValidators(),this.salesPaymentForm.get("customer_bank_name").clearValidators(),this.salesPaymentForm.get("card_payment_amount").clearValidators(),this.salesPaymentForm.get("card_holder_name").clearValidators(),this.salesPaymentForm.get("cart_transactions_no").clearValidators(),this.salesPaymentForm.get("payment_account").setValidators(l.kI.required),this.salesPaymentForm.get("account_no").setValidators(l.kI.required)):(this.salesPaymentForm.get("upi_id").clearValidators(),this.salesPaymentForm.get("payment_account").clearValidators(),this.salesPaymentForm.get("customer_bank_name").clearValidators(),this.salesPaymentForm.get("card_payment_amount").clearValidators(),this.salesPaymentForm.get("card_holder_name").clearValidators(),this.salesPaymentForm.get("cart_transactions_no").clearValidators(),this.salesPaymentForm.get("account_no").clearValidators()),this.salesPaymentForm.get("upi_id").updateValueAndValidity(),this.salesPaymentForm.get("payment_account").updateValueAndValidity(),this.salesPaymentForm.get("customer_bank_name").updateValueAndValidity(),this.salesPaymentForm.get("card_payment_amount").updateValueAndValidity(),this.salesPaymentForm.get("card_holder_name").updateValueAndValidity(),this.salesPaymentForm.get("cart_transactions_no").updateValueAndValidity(),this.salesPaymentForm.get("account_no").updateValueAndValidity()}),this.purchasePaymentForm.get("payment_type").valueChanges.subscribe(s=>{"Against Bill"===s?this.purchasePaymentForm.get("sales").setValidators(l.kI.required):this.purchasePaymentForm.get("sales").clearValidators(),this.purchasePaymentForm.get("sales").updateValueAndValidity()}),this.purchasePaymentForm.get("payment_mode").valueChanges.subscribe(s=>{"UPI"===s?(this.purchasePaymentForm.get("customer_bank_name").clearValidators(),this.purchasePaymentForm.get("card_payment_amount").clearValidators(),this.purchasePaymentForm.get("card_holder_name").clearValidators(),this.purchasePaymentForm.get("cart_transactions_no").clearValidators(),this.purchasePaymentForm.get("account_no").clearValidators(),this.purchasePaymentForm.get("upi_id").setValidators(l.kI.required),this.purchasePaymentForm.get("payment_account").setValidators(l.kI.required)):"Card"===s?(this.purchasePaymentForm.get("upi_id").clearValidators(),this.purchasePaymentForm.get("account_no").clearValidators(),this.purchasePaymentForm.get("customer_bank_name").setValidators(l.kI.required),this.purchasePaymentForm.get("card_payment_amount").setValidators(l.kI.required),this.purchasePaymentForm.get("card_holder_name").setValidators(l.kI.required),this.purchasePaymentForm.get("cart_transactions_no").setValidators(l.kI.required),this.purchasePaymentForm.get("payment_account").setValidators(l.kI.required)):"Bank"===s?(this.purchasePaymentForm.get("upi_id").clearValidators(),this.purchasePaymentForm.get("customer_bank_name").clearValidators(),this.purchasePaymentForm.get("card_payment_amount").clearValidators(),this.purchasePaymentForm.get("card_holder_name").clearValidators(),this.purchasePaymentForm.get("cart_transactions_no").clearValidators(),this.purchasePaymentForm.get("payment_account").setValidators(l.kI.required),this.purchasePaymentForm.get("account_no").setValidators(l.kI.required)):(this.purchasePaymentForm.get("upi_id").clearValidators(),this.purchasePaymentForm.get("payment_account").clearValidators(),this.purchasePaymentForm.get("customer_bank_name").clearValidators(),this.purchasePaymentForm.get("card_payment_amount").clearValidators(),this.purchasePaymentForm.get("card_holder_name").clearValidators(),this.purchasePaymentForm.get("cart_transactions_no").clearValidators(),this.purchasePaymentForm.get("account_no").clearValidators()),this.purchasePaymentForm.get("upi_id").updateValueAndValidity(),this.purchasePaymentForm.get("payment_account").updateValueAndValidity(),this.purchasePaymentForm.get("customer_bank_name").updateValueAndValidity(),this.purchasePaymentForm.get("card_payment_amount").updateValueAndValidity(),this.purchasePaymentForm.get("card_holder_name").updateValueAndValidity(),this.purchasePaymentForm.get("cart_transactions_no").updateValueAndValidity(),this.purchasePaymentForm.get("account_no").updateValueAndValidity()}),window.addEventListener("online",()=>{this.isInternetConnection=!0,this.showSyncButton()&&(document.getElementById("exampleModal7").classList.add("show"),this.isModalOpen=!0)}),window.addEventListener("offline",()=>{this.isInternetConnection=!1}),this.syncService.checkOnlineStatus(),this.loader=!1,this.cartItems=this.cartService.getCartItems();let n=localStorage.getItem("token");const a={headers:new j.WM({"Content-Type":"application/json",Authorization:`Token ${n}`})};this.productsAutocompleteControl.valueChanges.pipe((0,B.h)(s=>null!==s&&s?.length>=this.minLengthTerm),(0,L.x)(),(0,S.b)(100),(0,I.b)(()=>{this.errorMsg="",this.filteredProducts=[],this.isLoading=!0}),(0,w.w)(s=>{if(this.isInternetConnection)return this.http.get(`https://pv.greatfuturetechno.com/pv-api/pos/product_search/?search=${s}`,a).pipe((0,k.K)(c=>(this.errorMsg="No Products Found",this.isLoading=!1,[])),(0,U.x)(()=>{this.isLoading=!1}));{const c=localStorage.getItem("productsList"),u=JSON.parse(c).filter(_=>_?.product?.title?.toLowerCase()?.includes(s?.toLowerCase())||_?.variant_name?.toLowerCase()?.includes(s?.toLowerCase())||_?.batch[0]?.selling_price_offline?.toString().toLowerCase()?.includes(s?.toLowerCase()));return(0,z.of)(u).pipe((0,k.K)(_=>(this.errorMsg="No Products Found",this.isLoading=!1,[])),(0,U.x)(()=>{this.isLoading=!1}))}})).subscribe(s=>{s.length>0?this.filteredProducts=s:(this.filteredProducts=[],this.errorMsg="No Products Available")}),this.initializePaymentForm(),this.getAccount(),this.getAccountByAlies("cash-in-hand",0),this.getCompanyDetails(),this.cartService.paymentModesLogo().subscribe(s=>{this.paymentModeList=s}),this.customerAutoCompleteControl.valueChanges.pipe((0,B.h)(s=>(console.log(s),this.userAccoutId=s?.account,null!==s&&s?.length>=this.cusMinLengthTerm)),(0,L.x)(),(0,S.b)(100),(0,I.b)(()=>{this.cusErrorMsg="",this.filteredCustomer=[],this.cusIsLoading=!0}),(0,w.w)(s=>{if(this.isInternetConnection)return this.http.get(`https://pv.greatfuturetechno.com/pv-api/pos/customer_filter/?search=${s}`,a).pipe((0,k.K)(c=>(this.cusErrorMsg="No Customer Found",this.cusIsLoading=!1,(0,z.of)([]))),(0,U.x)(()=>{this.cusIsLoading=!1}));{const c=localStorage.getItem("customerList"),u=JSON.parse(c).filter(_=>_.mobile_no.includes(s)||_.address.some(p=>p.city.city.toLowerCase().includes(s.toLowerCase())||p.state.state.toLowerCase().includes(s.toLowerCase())));return(0,z.of)(u).pipe((0,k.K)(_=>(this.cusErrorMsg="No Customer Found",this.cusIsLoading=!1,(0,z.of)([]))),(0,U.x)(()=>{this.cusIsLoading=!1}))}})).subscribe(s=>{s.length>0?(console.log(s),this.filteredCustomer=s):(this.filteredCustomer=[],this.cusErrorMsg="No Customers Found")}),this.salesPaymentForm.get("customer").valueChanges.pipe((0,B.h)(s=>null!==s&&s?.length>=this.cusMinLengthTerm),(0,L.x)(),(0,S.b)(100),(0,I.b)(()=>{this.cusErrorMsg="",this.filteredCustomer2=[],this.cusIsLoading=!0}),(0,w.w)(s=>this.http.get(`https://pv.greatfuturetechno.com/pv-api/pos/customer_filter/?search=${s}`,a).pipe((0,k.K)(c=>(this.cusErrorMsg="No Customer Found",this.cusIsLoading=!1,[])),(0,U.x)(()=>{this.cusIsLoading=!1})))).subscribe(s=>{s.length>0?this.filteredCustomer2=s:(this.filteredCustomer2=[],this.cusErrorMsg="No Customers Found")}),this.purchasePaymentForm.get("party").valueChanges.pipe((0,B.h)(s=>null!==s&&s?.length>=this.cusMinLengthTerm),(0,L.x)(),(0,S.b)(100),(0,I.b)(()=>{this.partyErrorMsg="",this.filteredParty=[],this.partyIsLoading=!0}),(0,w.w)(s=>this.http.get(`https://pv.greatfuturetechno.com/pv-api/pos/party_filter/?search=${s}`,a).pipe((0,k.K)(c=>(this.partyErrorMsg="No Party Found",this.partyIsLoading=!1,[])),(0,U.x)(()=>{this.partyIsLoading=!1})))).subscribe(s=>{s.length>0?this.filteredParty=s:(this.filteredParty=[],this.partyErrorMsg="No Party Found")}),this.expensePaymentForm.get("party").valueChanges.pipe((0,B.h)(s=>null!==s&&s?.length>=this.cusMinLengthTerm),(0,L.x)(),(0,S.b)(100),(0,I.b)(()=>{this.partyErrorMsg="",this.filteredPartyExpense=[],this.partyIsLoading=!0}),(0,w.w)(s=>this.http.get(`https://pv.greatfuturetechno.com/pv-api/pos/party_filter/?search=${s}`,a).pipe((0,k.K)(c=>(this.partyErrorMsg="No Party Found",this.partyIsLoading=!1,[])),(0,U.x)(()=>{this.partyIsLoading=!1})))).subscribe(s=>{s.length>0?this.filteredPartyExpense=s:(this.filteredPartyExpense=[],this.partyErrorMsg="No Party Found")}),this.addMoreDetails=!1,this.coreService.getCountry().subscribe({next:s=>{this.currentCountry=s[0],this.coreService.getStateByCountryId(s[0].id).subscribe({next:c=>{this.stateList=c;const d=this.stateList.filter(u=>"Bihar"===u?.state);this.state.setValue(d[0]?.id),this.currentState=d[0]?.id,this.coreService.getCityByStateId(d[0]?.id).subscribe({next:u=>{const _=u.filter(p=>"Samastipur"===p?.city);this.city.setValue(_[0].id),this.currentCities=_[0].id,this.cityList=u},error:u=>{}})},error:c=>{}})},error:s=>{}}),this.cartService.getAdditionalCharge().subscribe({next:s=>{this.additionalChargesList=s},error:s=>{}}),this.cartService.getTaxes().subscribe({next:s=>{this.taxesList=s},error:s=>{}}),this.cartService.getCompanyBank().subscribe({next:s=>{this.companyBankList=s},error:s=>{}}),this.cartService.getPaymentTerms().subscribe({next:s=>{this.paymentTermsList=s},error:s=>{}}),this.cartService.getPOSOrders(this.page,this.pageSize).subscribe({next:s=>{this.posOrders=s.data,this.totalRecords=s.total_data,this.updatePageNumbers()},error:s=>{}}),this.cartService.getExpensePayments().subscribe({next:s=>{this.expensePayments=s},error:s=>{}}),this.cartService.getSalesPayments().subscribe({next:s=>{this.salesPayments=s},error:s=>{}}),this.cartService.getPurchasePayments().subscribe({next:s=>{this.purchasePayments=s},error:s=>{}})}getCompanyDetails(){this.companyService.getCompany().subscribe(e=>{this.companyDetails=e[0],localStorage.setItem("companyDetails",JSON.stringify(this.companyDetails))})}onInputKeydown(e){}clearValidatorsReceipt(){}monitorInternetConnection(){const e=(0,F.R)(window,"online").pipe((0,st.h)(!0)),n=(0,F.R)(window,"offline").pipe((0,st.h)(!1)),o=(0,rt.T)(e,n).pipe((0,M.O)(navigator.onLine));this.subscription.add(o.subscribe(a=>{this.isInternetConnection=a}))}__filter(e){const n=this.__normalizeValue(e);return this.streets.filter(o=>this.__normalizeValue(o).includes(n))}__normalizeValue(e){return e.toLowerCase().replace(/\s/g,"")}_filter(e){const n=this._normalizeValue(e);return this.streets.filter(o=>this._normalizeValue(o).includes(n))}_normalizeValue(e){return e.toLowerCase().replace(/\s/g,"")}filterArray(e){this.filteredOptions$=this.options.filter(n=>n.name.toLowerCase().includes(e?.toLowerCase()))}filterOptions(e){const n=e.toLowerCase();return this.options.filter(o=>o.name.toLowerCase().includes(n))}clearValidators(){const e=this.receiptPaymentForm.controls;Object.keys(e).forEach(n=>{const o=e[n];o.clearValidators(),o.updateValueAndValidity()})}initializePaymentForm(){this.paymentForm=this.fb.group({addMorePayment:this.fb.array([this.addNewPayment(this.finalAmount())])})}addNewPayment(e){return this.fb.group({mode_type:"AgainstBill",user_account_id:new l.NI(this.userAccoutId),payment_account:new l.NI(""),receipt_type:new l.NI("",l.kI.required),payment_mode:new l.NI(""),transaction_date:new l.NI(""),transaction_id:new l.NI(""),note:new l.NI(""),amount:new l.NI(e,l.kI.required)})}subscribeToReceiptTypeChange(e){const n=e.get("receipt_type");if(n){const o=n.valueChanges.subscribe(a=>{});this.receiptTypeSubscriptions.push(o)}}receiptTypeChange(e,n){this.addMorePaymentData.at(n),this.getAccountByAlies("Cash"===e.target.value?"cash-in-hand":"bank-accounts",n)}toggleAdditionalControls(e,n){["payment_mode","transaction_date","transaction_id","day","date","is_send_reminder"].forEach(a=>{e.get(a)&&e.removeControl(a)}),"Bank"===n?(e.get("payment_mode").setValidators([l.kI.required]),e.get("transaction_date").setValidators([l.kI.required]),e.get("transaction_id").setValidators([l.kI.required]),e.removeControl("day"),e.removeControl("date"),e.removeControl("is_send_reminder")):"PayLater"===n?(e.addControl("day",new l.NI("",l.kI.required)),e.addControl("date",new l.NI("",l.kI.required)),e.addControl("is_send_reminder",new l.NI(!0))):(e.removeControl("day"),e.removeControl("date"),e.removeControl("is_send_reminder"))}onSelectDay(e,n){const a=this.addMorePaymentData.at(n).get("date"),s=parseInt(e,10);if(isNaN(s))a.setValue(""),a.enable();else{const c=new Date,u=new Date(c.setDate(c.getDate()+s)).toISOString().split("T")[0];a.setValue(u),a.disable()}}getAccount(){this.transactionService.getAccount().subscribe(e=>{this.accountList=e,console.log(this.accountList)})}getAccountByAlies(e,n){this.transactionService.getAccoutAlies(e).subscribe(o=>{this.accountListData=o,this.addMorePaymentData.at(n).get("payment_account").setValue(""),this.accountListAlies[n]=o})}getAccountAlies(e){this.transactionService.getAccoutAlies(e).subscribe(n=>{this.accountListData=n})}setIndexForNotes(e){this.currentCartIndex1=this.currentCartIndex1==e?-1:e}setIndexForProductDetails(e){this.playBeepSound(),this.currentCartIndex=e}addRowToCAC(){this.playBeepSound(),this.currentOrderAdditionalCharges.push({additional_charge:"",value:0,value_type:"percentage",tax:"",total:0})}updateRowInCAC(e){}deleteRowInCAC(e,n){n.stopPropagation(),this.playBeepSound(),this.currentOrderAdditionalCharges&&0!==this.currentOrderAdditionalCharges.length&&(e>=0&&e<this.currentOrderAdditionalCharges.length&&this.currentOrderAdditionalCharges.splice(e,1),this.updateRowInCAC(e))}updateACInCAC(e,n){let o=n.target.value;const a=this.additionalChargesList.findIndex(s=>s.id==o);if(-1!==a&&e>=0&&e<this.currentOrderAdditionalCharges.length)if(this.currentOrderAdditionalCharges[e].tax){const s=this.taxesList.findIndex(_=>_.id==this.currentOrderAdditionalCharges[e].tax);let c=this.additionalChargesList[a].value,u=this.taxesList[s].tax_percentage/100*c+c;this.currentOrderAdditionalCharges[e].additional_charge=o,this.currentOrderAdditionalCharges[e].value=this.additionalChargesList[a].value,this.currentOrderAdditionalCharges[e].total=u}else this.currentOrderAdditionalCharges[e].additional_charge=o,this.currentOrderAdditionalCharges[e].value=this.additionalChargesList[a].value,this.currentOrderAdditionalCharges[e].total=this.additionalChargesList[a].value;this.currentTotalAdditionalCharges()}getProductDisc(e){let n=e.selling_price_offline,o=e.additional_discount;return o<0||n<0?Number(0):o/100*n}getProductAddDisc(e){let n=e.selling_price_offline,o=e.additional_discount;return o<0||n<0?Number(0):o/100*n}getProductTax(e){let n=e.selling_price_offline,o=e?.sale_tax||0;return n-=this.getProductDisc(e)+this.getProductAddDisc(e),o<0||n<0?0:o/100*n}getPriceAfterTaxes(e){let n=e.selling_price_offline,o=e.sale_tax||0;return o<0||n<0?n:o/100*n+n}getPriceAfterTaxes2(e){let n=e.selling_price_offline,o=e.sale_tax||0;return n-=this.getProductDisc(e)+this.getProductAddDisc(e),o<0||n<0?n:o/100*n+n}getNetAmount(e,n){return this.getPriceAfterTaxes(e)*n}totalTaxAmount(){let e=this.cartService.getCurrentItems(),n=0;for(let o of e)o?.batch&&(n+=this.getProductTax(o?.batch[0])*o?.quantity);return Number(n).toFixed(2)}totalDiscAmount(){let e=this.cartService.getCurrentItems(),n=0;for(let o of e)o?.batch&&(n+=(this.getProductDisc(o?.batch[0])+this.getProductAddDisc(o?.batch[0]))*o?.quantity);return Number(n).toFixed(2)}getNetAmount2(e,n){return this.getPriceAfterTaxes2(e)*n}finalAmount(){let e=0;const n=this.totalAmount();return e=Math.ceil(n)-this.totalDiscountRupees(),Number(e).toFixed(2)}totalAmount(){let e=this.cartService.getCurrentItems(),n=0+this.currentTotalAdditionalCharges();for(let o of e)o?.batch&&(n+=this.getNetAmount2(o?.batch[0],o?.quantity),this.cartTotalPrice=n);return Number(n.toFixed(2))}multiplePay(){const e=this.finalAmount();this.initializePaymentForm(),this.patchLatestAmount(e)}patchLatestAmount(e){this.addMorePaymentData&&this.addMorePaymentData.length>0&&this.addMorePaymentData.at(0).patchValue({amount:e.toFixed(2)})}updateTaxInCAC(e,n){let o=n.target.value;const a=this.taxesList.findIndex(s=>s.id==o);if(-1!==a&&e>=0&&e<this.currentOrderAdditionalCharges.length)if(this.currentOrderAdditionalCharges[e].additional_charge){this.additionalChargesList.findIndex(_=>_.id==this.currentOrderAdditionalCharges[e].additional_charge);let c=this.currentOrderAdditionalCharges[e].value,u=this.taxesList[a].tax_percentage/100*c+c;this.currentOrderAdditionalCharges[e].tax=o,this.currentOrderAdditionalCharges[e].total=u}else{const d=this.taxesList[a].tax_percentage/100*this.currentOrderAdditionalCharges[e].total;this.currentOrderAdditionalCharges[e].tax=o,this.currentOrderAdditionalCharges[e].total=d}this.currentTotalAdditionalCharges()}updateValueInCAC(e,n){let o=n.target.value;if(e>=0&&e<this.currentOrderAdditionalCharges.length)if(this.currentOrderAdditionalCharges[e].tax){const a=this.taxesList.findIndex(u=>u.id==this.currentOrderAdditionalCharges[e].tax);let s=Number(o),d=this.taxesList[a].tax_percentage/100*s+s;this.currentOrderAdditionalCharges[e].value=Number(o),this.currentOrderAdditionalCharges[e].total=d}else this.currentOrderAdditionalCharges[e].value=Number(o),this.currentOrderAdditionalCharges[e].total=Number(o);this.currentTotalAdditionalCharges()}updateValueTypeInCAC(e,n){e>=0&&e<this.currentOrderAdditionalCharges.length&&(this.currentOrderAdditionalCharges[e].value_type="percentage"===n?"rupee":"percentage"),this.updateRowInCAC(e)}currentTotalAdditionalCharges(){let e=0;if(this.currentOrderAdditionalCharges.length>0)for(let n=0;n<this.currentOrderAdditionalCharges.length;n++)e+=this.currentOrderAdditionalCharges[n].total;else e=0;return e}getCustomerList(){this.cartService.getAllCustomers().subscribe(e=>{this.customerList=e,localStorage.setItem("customerList",JSON.stringify(this.customerList))})}getAllProductList(){this.cartService.getAllProducts().subscribe(e=>{this.productList=e,console.log(e),localStorage.setItem("productsList",JSON.stringify(this.productList))})}confirmBatch(){this.playBeepSound();let e,n=this.currentProduct.batch,o=this.currentBatch,a=[];for(let u=0;u<n.length;u++){const _=n[u];_.id==o&&a.push(_)}let s=this.currentProduct;s.batch=a,e={...s,quantity:1,notes:"",discount:0,type:""},this.addToCurrent(e),this.selectedOptions.push(e),this.productsAutocompleteControl.setValue(""),this.selectBtch.forEach(u=>{u.id==this.currentBatch&&(this.discount.push(u),console.log(this.discount,"discount confirm"))}),this.currentItems=this.cartService.getCurrentItems(),console.log(this.currentItems,"items confirm bach"),this.allDiscount();var c=document.getElementById("batchModal");ot.u_.getInstance(c).hide()}optionSelected(e){let n;this.playBeepSound();const o=e.option.value;if(o?.batch?.length>1){this.currentProduct=o;const a=document.getElementById("batchModal");new ot.u_(a).show()}else n={...o,quantity:1,notes:"",discount:0,type:""},this.addToCurrent(n),this.selectedOptions.push(n),this.productsAutocompleteControl.setValue(""),this.discount.push(o?.batch[0]),this.currentItems=this.cartService.getCurrentItems(),console.log(this.currentItems,"items confirm bach"),this.allDiscount();this.filteredProducts=[]}syncOfflineOrder(){var e=this;return(0,at.Z)(function*(){e.isSyncLoading=!0,e.isModalOpen=!0,document.getElementById("exampleModal7").classList.remove("show");const n=localStorage.getItem("orders");let o=JSON.parse(n);const a=[];for(let s=0;s<o.length;s++){const c=o[s],d=new FormData;d.append("customer",c.customer),d.append("additional_charge",c.additional_charge),d.append("total_amount",c.total_amount),d.append("payment_mode","Cash"),d.append("total_tax",c.total_tax),d.append("cart_data",c.cart_data),d.append("total_qty",c.total_qty),d.append("total_discount",c.total_discount),d.append("subtotal",JSON.stringify(c.subtotal)),d.append("Roundoff",c.Roundoff),d.append("PayLatter",""),d.append("coupon_code","");try{yield e.cartService.generateOrderNew(d).pipe((0,I.b)(u=>{a.push(s)})).toPromise()}catch(u){console.error("Error syncing order:",u)}yield new Promise(u=>setTimeout(u,1e3))}o=o.filter((s,c)=>!a.includes(c)),o.length>0?localStorage.setItem("orders",JSON.stringify(o)):localStorage.removeItem("orders"),e.isSyncLoading=!1,e.isModalOpen=!1})()}optionSelectedCharge(e){}optionSelected1(e){this.playBeepSound(),this.currentCustomer=e.option.value,this.selectedCustomerAccountId=e.option.value?.account,this.selectedCustomerUserId=e.option.value?.userid,this.getPosCreditLimit()}optionSelectedReceipt(e){this.cartService.getReceiptDueOrder(e.option.value.id).subscribe({next:o=>{this.receiptSales=o},error:o=>{}})}optionSelectedParty(e){}optionSelectedPartyExpense(e){}removeOption(e){this.selectedOptions.splice(e,1)}removeOptionCurrent(e){console.log(e,"remove item"),this.playBeepSound();const n=this.selectedOptions.findIndex(o=>o.id===e.id);-1!==n&&this.selectedOptions.splice(n,1),this.cartService.removeFromCurrent(e),0==e.id&&this.discount.forEach(o=>{0==o.id&&(this.discount=this.discount.filter(a=>0!==a.id),console.log(this.discount))})}removeFromCurrent(e){this.cartService.removeFromCurrent(e)}addToCurrent(e){this.cartService.addToCurrent(e)}increaseQtyCurrent(e,n){this.playBeepSound(),this.cartService.increaseCurrent(e),this.discountQty(n)}decreaseQtyCurrent(e,n){this.playBeepSound(),this.cartService.decreaseCurrent(e),this.RemoveDiscountByQty(n)}addToCart(e){this.cartService.addToCart(e)}increaseQty(e){this.cartService.increase(e)}decreaseQty(e){this.cartService.decrease(e)}removeFromCart(e){}clearCart(){this.cartService.clearCart(),this.cartItems=[]}displayFn(e){return e?`${e?.product?.title} ${e?.variant_name} | ${e?.batch[0]?.selling_price_offline}`:""}displayCus(e){return e?`Ph: ${e?.mobile_no} Address: ${e?.address[e?.address?.length-1]?.city?.city}, ${e?.address[e?.address?.length-1]?.state?.state}`:""}displayCus1(e){return e?e?.mobile_no:""}displayParty(e){return e?e?.mobile_no:""}displayCharge(e){return e?e?.additional_charge:""}addMoreDetailsHandler(){return this.addMoreDetails=!this.addMoreDetails}totalMrp(){let e=this.cartService.getCurrentItems(),n=0;for(let o of e)o?.batch&&(n+=o?.batch[0]?.mrp*o?.quantity);return n}getRoundOff(){const n=this.finalAmount()%1;return 0!==n?(1-n).toFixed(2):(0).toFixed(2)}getTaxAmt(e){let n=e.selling_price_offline,o=e.sale_tax||0;return o<0||n<0?0:o/100*n}totalQty(){let e=this.cartService.getCurrentItems(),n=0;for(let o of e)o?.batch&&(n+=o?.quantity);return n}tenderedAmt(e){this.tenderedAmount=e.target.value}changeTenderedAmt(e){let n=Number(e);this.tenderedAmount+=n}changeAmt(){return(+this.tenderedAmount-this.finalAmount()).toFixed(2)}generateOrder1(){return this.syncService.checkOnlineStatus()}closeSyncModal(){return this.isModalOpen=!1,document.getElementById("exampleModal7").classList.remove("show")}onSaleInvoice(e){const n=e.target.value,o=this.posOrders.filter(d=>d?.id===Number(n));this.selectedOrderData=o,this.currentCustomer=o[0]?.customer;const a=this.customerList.filter(d=>d?.id===o[0]?.customer?.id);this.customerAutoCompleteControl.setValue({address:[{city:{city:o[0]?.customer?.address[0]?.city?.city},state:{state:o[0]?.customer?.address[0]?.state?.state}}],mobile_no:o[0]?.customer?.mobile_no}),console.log(o),console.log(a);const c=o[0]?.cart?.map(d=>({id:d?.variant?.id,variant_name:d.variant.variant_name,sku:d?.variant?.sku,product:{id:d.variant.product.id,title:d.variant.product.title,product_store:d.variant.product.product_store,hsncode:d.variant.product.hsncode,brand:d.variant.product.brand,category:d.variant.product.category},batch:d.variant.batch,quantity:d.qty,notes:d.remarks,discount:parseFloat(d.discount)}));console.log(c),this.currentItems=c,this.currentItems.forEach(d=>{this.addToCurrent(d)})}generateOrder(){if(navigator.onLine)this.selectedOptions=[],this.currentCustomer="",this.toastr.success("Created Online","Order",{timeOut:5e3}),document.getElementById("exampleModal5Close").click();else{this.changeAmt(),this.finalAmount(),this.toastr.success("Created Offline","Order",{timeOut:5e3});let c=this.setItemsArr();const d={customer:JSON.stringify(this.currentCustomer?.id),additional_charge:JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString())),total_amount:JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString())),payment_mode:"Cash",total_tax:JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString())),cart_data:JSON.stringify(c),total_qty:this.totalCartQuantity(),total_discount:"0",subtotal:this.calculateSubTotal(),Roundoff:this.getRoundOff(),card_detail:"",Multipay:"",PayLatter:"",bank_detail:"",upi_detail:""};this.cartService.generateOrder(d),this.selectedOptions=[],this.currentCustomer="",this.customerAutoCompleteControl.setValue(""),this.saleInvoice.setValue(""),this.discardCurrentBill(),this.tenderedAmount=0,document.getElementById("exampleModal5Close").click()}}createOnline$(){return(0,rt.T)((0,F.R)(window,"offline").pipe((0,P.U)(()=>!1)),(0,F.R)(window,"online").pipe((0,P.U)(()=>!0)),new vt.y(e=>{e.next(navigator.onLine),e.complete()}))}showSyncButton(){let e=JSON.parse(localStorage.getItem("orders"));return!!e&&navigator.onLine&&e.length>0}checkSubmitCus(){}getCityNameById(e){const n=this.cityList.find(o=>o.id===e);return n?n.city:""}getStateNameById(e){const n=this.stateList.find(o=>o.id===e);return n?n.state:""}saleReturn(){if(this.selectedOrderData&&this.saleInvoice.value){let n,e=this.setItemsArr();n=e?.length>0?e.map(a=>({barcode:a.variant,item_name:a.title,qty:a.qty,price:parseFloat(a.unit_cost).toFixed(2),discount:parseFloat(a.discount).toFixed(2),tax:parseFloat(a.tax_amount).toFixed(2),amount:parseFloat(a.unit_cost)*a.qty-parseFloat(a.discount)+parseFloat(a.tax_amount),total:parseFloat(a.net_cost).toFixed(2)})):[];let o=new FormData;o.append("customer",JSON.stringify(this.currentCustomer?.id)),o.append("return_date",this.formatedDate(new Date)),o.append("pos_bill",JSON.stringify(this.selectedOrderData[0]?.id)),o.append("note",""),o.append("total_qty",this.totalCartQuantity()),o.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),o.append("total_discount","0"),o.append("subtotal",this.calculateSubTotal()),o.append("roundoff",this.getRoundOff()),o.append("total",JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString()))),o.append("flat_discount","0"),o.append("sale_return_cart",JSON.stringify(n)),this.cartService.posOrderReturn(o).subscribe(a=>{console.log(a),this.saleReturnData=a,this.customerAutoCompleteControl.setValue(""),this.saleInvoice.setValue(""),this.discardCurrentBill(),this.generatePdf(a?.data,"posReturn")})}}submitCustomerForm(){let e={address_line_1:this.registrationForm.get("address_line_1").value,address_line_2:this.registrationForm.get("address_line_2").value,country:Number(this.currentCountry.id),state:Number(this.registrationForm.get("state").value),city:Number(this.registrationForm.get("city").value),pincode:this.registrationForm.get("pincode").value,address_type:""},n=new FormData;n.append("name",this.registrationForm.get("name").value||this.registrationForm.get("mobile_no").value),n.append("mobile_no",this.registrationForm.get("mobile_no").value||""),n.append("whatsapp_no",this.registrationForm.get("whatsapp_no").value||""),n.append("date_of_birth",this.registrationForm.get("date_of_birth").value||""),n.append("anniversary_date",this.registrationForm.get("anniversary_date").value||""),n.append("email",this.registrationForm.get("email").value||""),n.append("gstin",this.registrationForm.get("gstin").value||""),n.append("gst_type",this.registrationForm.get("gst_type").value||""),n.append("address",this.address_line_1.value&&this.address_line_2.value&&this.state.value&&this.city.value&&this.pincode.value?JSON.stringify(e):""),this.cartService.addCustomer(n).subscribe({next:o=>{if(o.isSuccess){this.toastr.success(o.msg),document.querySelector(".addCusModal").click(),this.addMoreDetails=!1;const s={address:[{city:{city:this.getCityNameById(this.registrationForm.get("city").value)},state:{state:this.getStateNameById(this.registrationForm.get("state").value)}}],mobile_no:this.registrationForm.get("mobile_no").value};this.customerAutoCompleteControl.setValue(s),this.registrationForm.reset()}else this.toastr.error(o.msg)},error:o=>{this.toastr.error(o.message)}})}markFormGroupTouched(e){Object.values(e.controls).forEach(n=>{n instanceof l.NI?n.markAsTouched():(n instanceof l.cw||n instanceof l.Oe)&&this.markFormGroupTouched(n)})}closePayLaterModal(){this.isModalShown=!1}payLater(){if(0!==this.creditLimit)return this.finalAmount()>this.creditLimit?(this.toastr.error("Your total amount exceeds your credit limit, so Pay Later is not available."),void(this.isPayLaterModalShown=!1)):(this.isPayLaterModalShown=!0,void setTimeout(()=>{this.showModal("payLaterMethodModal")},0));this.toastr.error("You don't have credit Limit to done pay Later.")}showModal(e){const n=document.getElementById(e);n&&new ot.u_(n).show()}submitMultiPayLater(){this.isFormSubmitted=!0;let e={day:this.payment_terms,date:this.due_date,is_send_reminder:this.selectedReminder};if(this.payment_terms&&this.due_date&&this.selectedReminder){const n=new FormData,a=this.addMorePaymentData.value.map(s=>({...s,amount:Number(s.amount)}));if(this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let s=this.setItemsArr();n.append("customer",JSON.stringify(this.currentCustomer.id)),n.append("additional_charge",JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString()))),n.append("total_amount",JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString()))),n.append("payment_mode","Multipay"),n.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),n.append("cart_data",JSON.stringify(s)),n.append("PayLatter",JSON.stringify(e)),n.append("payment",JSON.stringify(a)),n.append("coupon_code",""),this.cartService.generateOrderNew(n).subscribe(c=>{console.log(c),this.toastr.success(c?.msg),this.customerAutoCompleteControl.setValue(""),this.discardCurrentBill(),this.paymentForm.reset(),this.payment_terms="",this.due_date="",this.selectedReminder="",this.saleInvoice.setValue(""),document.querySelector(".multiPayLaterModalClose").click(),document.querySelector(".paymentModal").click(),this.isFormSubmitted=!1})}}}proceedToPay(){if(this.markFormGroupTouched(this.paymentForm),!this.paymentForm.valid)return;let e=this.finalAmount(),n=this.calculateAmountTotal();if(e!==n)0!==this.creditLimit?this.creditLimit>=e-n?(this.isModalShown=!0,document.body.classList.add("modal-open")):this.toastr.error("Your total amount exceeds your credit limit, so Pay Later is not available."):this.toastr.error("You don't have credit Limit to done pay Later.");else{if(this.isModalShown=!1,document.body.classList.remove("modal-open"),!this.paymentForm.valid)return;{const a=new FormData,s=this.addMorePaymentData.value;console.log(s);const c=s.map(d=>({...d,amount:Number(d.amount)}));if(console.log(JSON.stringify(s)),console.log(c),this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let d=this.setItemsArr(),u=this.finalAmount();a.append("customer",JSON.stringify(this.currentCustomer.id)),a.append("additional_charge",JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString()))),a.append("total_amount",u),a.append("payment_mode","Multipay"),a.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),a.append("cart_data",JSON.stringify(d)),a.append("PayLatter",""),a.append("payment",JSON.stringify(c)),a.append("total_qty",this.totalCartQuantity()),a.append("total_discount","0"),a.append("coupon_code",""),this.cartService.generateOrderNew(a).subscribe(_=>{console.log(_),this.toastr.success(_?.msg),this.customerAutoCompleteControl.setValue(""),this.saleInvoice.setValue(""),this.discardCurrentBill(),this.paymentForm.reset(),document.querySelector(".paymentModal").click()})}}}}ngOnDestroy(){this.receiptTypeSubscriptions.forEach(e=>e.unsubscribe()),this.subscription.unsubscribe()}modalClose(e){e&&(document.querySelector(".posPaymentVoucher").click(),this.isPaymentModalShown=!1)}expenseModalClose(e){e&&(document.querySelector(".posExpenseVoucher").click(),this.isExpanseModalShown=!1)}receiptModalClose(e){e&&(document.querySelector(".posReceiptVoucher").click(),this.isReceiptModalShown=!1)}creditNoteModalClose(e){e&&(document.querySelector(".posCreditNote").click(),this.isCreditNoteModalShown=!1)}onSelectPaymentAccount(e,n){this.addMorePaymentData.at(n).get("payment_account").setValue(e)}get formControls(){return this.registrationForm.controls}oncheckBank(e){}onStateChange(e){this.currentState=e.target.value,this.coreService.getCityByStateId(e.target.value).subscribe({next:o=>{this.cityList=o,this.currentCities=this.cityList?.id},error:o=>{}})}onCityChange(e){this.currentCities=e.target.value}onSubmit(){this.playBeepSound(),this.registrationForm.invalid?Object.keys(this.registrationForm.controls).forEach(e=>{this.registrationForm.controls[e].markAsTouched()}):this.customerRegistrationNumberSame?this.toastr.error("Mobile number already exists."):this.submitCustomerForm()}get name(){return this.registrationForm.get("name")}get mobile_no(){return this.registrationForm.get("mobile_no")}get whatsapp_no(){return this.registrationForm.get("whatsapp_no")}get date_of_birth(){return this.registrationForm.get("date_of_birth")}get anniversary_date(){return this.registrationForm.get("anniversary_date")}get email(){return this.registrationForm.get("email")}get gstin(){return this.registrationForm.get("gstin")}get gst_type(){return this.registrationForm.get("gst_type")}get address_line_1(){return this.registrationForm.get("address_line_1")}get address_line_2(){return this.registrationForm.get("address_line_2")}get country(){return this.registrationForm.get("country")}get state(){return this.registrationForm.get("state")}get city(){return this.registrationForm.get("city")}get pincode(){return this.registrationForm.get("pincode")}get upi_id_receipt(){return this.receiptPaymentForm.get("upi_id")}get transaction_id_receipt(){return this.receiptPaymentForm.get("transaction_id")}get payment_account_receipt(){return this.receiptPaymentForm.get("payment_account")}get pay_later_day(){return this.payLaterMethodForm.get("day")}get pay_later_date(){return this.payLaterMethodForm.get("date")}get is_send_reminder(){return this.payLaterMethodForm.get("is_send_reminder")}get voucher_type(){return this.receiptPaymentForm.get("voucher_type")}get payment_type(){return this.receiptPaymentForm.get("payment_type")}get payment_mode(){return this.receiptPaymentForm.get("payment_mode")}get receipt_sales(){return this.receiptPaymentForm.get("receipt_sales")}get amount_receipt(){return this.receiptPaymentForm.get("amount_receipt")}get customer_receipt(){return this.receiptPaymentForm.get("customer_receipt")}get receipt_remark(){return this.receiptPaymentForm.get("receipt_remark")}get party_receipt(){return this.receiptPaymentForm.get("party_receipt")}get receipt_customer_bank_name(){return this.receiptPaymentForm.get("customer_bank_name")}get receipt_card_payment_amount(){return this.receiptPaymentForm.get("card_payment_amount")}get receipt_card_holder_name(){return this.receiptPaymentForm.get("card_holder_name")}get receipt_cart_transactions_no(){return this.receiptPaymentForm.get("cart_transactions_no")}get receipt_account_no(){return this.receiptPaymentForm.get("account_no")}get expense_non_gst(){return this.receiptPaymentForm.get("non_gst")}get expense_nongst(){return this.expensePaymentForm.get("non_gst")}get expense_party(){return this.expensePaymentForm.get("party")}get expense_amount(){return this.expensePaymentForm.get("amount")}get expense_remark(){return this.expensePaymentForm.get("remark")}get expense_payment_account(){return this.expensePaymentForm.get("payment_account")}get sales_amount(){return this.salesPaymentForm.get("amount")}get sales_remark(){return this.salesPaymentForm.get("remark")}get sales_payment_account(){return this.salesPaymentForm.get("payment_account")}get sales_payment_type(){return this.salesPaymentForm.get("payment_type")}get sales_payment_mode(){return this.salesPaymentForm.get("payment_mode")}get sales_sales(){return this.salesPaymentForm.get("sales")}get sales_customer_bank_name(){return this.salesPaymentForm.get("customer_bank_name")}get sales_card_payment_amount(){return this.salesPaymentForm.get("card_payment_amount")}get sales_card_holder_name(){return this.salesPaymentForm.get("card_holder_name")}get sales_cart_transactions_no(){return this.salesPaymentForm.get("cart_transactions_no")}get sales_account_no(){return this.salesPaymentForm.get("account_no")}get sales_upi_id(){return this.salesPaymentForm.get("upi_id")}get sales_customer(){return this.salesPaymentForm.get("customer")}get purchase_amount(){return this.purchasePaymentForm.get("amount")}get purchase_remark(){return this.purchasePaymentForm.get("remark")}get purchase_payment_account(){return this.purchasePaymentForm.get("payment_account")}get purchase_payment_type(){return this.purchasePaymentForm.get("payment_type")}get purchase_payment_mode(){return this.purchasePaymentForm.get("payment_mode")}get purchase_sales(){return this.purchasePaymentForm.get("sales")}get purchase_customer_bank_name(){return this.purchasePaymentForm.get("customer_bank_name")}get purchase_card_payment_amount(){return this.purchasePaymentForm.get("card_payment_amount")}get purchase_card_holder_name(){return this.purchasePaymentForm.get("card_holder_name")}get purchase_cart_transactions_no(){return this.purchasePaymentForm.get("cart_transactions_no")}get purchase_account_no(){return this.purchasePaymentForm.get("account_no")}get purchase_upi_id(){return this.purchasePaymentForm.get("upi_id")}get purchase_party(){return this.purchasePaymentForm.get("party")}handleMobileInputChange(e){this.mobile_no.valid&&this.http.get(`https://pv.greatfuturetechno.com/pv-api/pos/mobile_no_check_of_customer/?search=${e.target.value}`).subscribe({next:o=>{this.customerRegistrationNumberSame=!!o.Same},error:o=>{}})}onGstTypeChange(){"Registered Regular"===this.gst_type.value?this.gstin.setValidators([l.kI.required]):this.gstin.clearValidators(),this.gstin.updateValueAndValidity()}onAddress1Change(){"Registered Regular"===this.address_line_1.value?this.gstin.setValidators([l.kI.required]):this.gstin.clearValidators(),this.gstin.updateValueAndValidity()}setAddressValidators(){this.address_line_1.setValidators(l.kI.required),this.address_line_2.setValidators(l.kI.required),this.state.setValidators(l.kI.required),this.city.setValidators(l.kI.required),this.pincode.setValidators([l.kI.required,l.kI.pattern(/^[0-9]{6}$/)]),this.address_line_1.updateValueAndValidity(),this.address_line_2.updateValueAndValidity(),this.state.updateValueAndValidity(),this.city.updateValueAndValidity(),this.pincode.updateValueAndValidity()}clearAddressValidators(){this.address_line_1.clearValidators(),this.address_line_2.clearValidators(),this.state.clearValidators(),this.city.clearValidators(),this.pincode.clearValidators(),this.pincode.setValidators(l.kI.pattern(/^[0-9]{6}$/)),this.address_line_1.updateValueAndValidity(),this.address_line_2.updateValueAndValidity(),this.state.updateValueAndValidity(),this.city.updateValueAndValidity(),this.pincode.updateValueAndValidity()}resumeBill(e){this.playBeepSound();const n=this.heldBills.find(a=>a.id===e);if(n){this.cartService.clearCurrent(),this.currentItems=this.cartService.getCurrentItems();for(let a=0;a<n.currentItems.length;a++)this.cartService.addToCurrent(n.currentItems[a]);this.currentOrderAdditionalCharges=n.currentOrderAdditionalCharges.length>0?n.currentOrderAdditionalCharges:[],this.currentCustomer=n.currentCustomer,this.billHoldService.removeFromHold(e),this.heldBills=this.billHoldService.getHeldBills(),document.querySelector(".holdClose").click()}}removeFromHold(e){this.playBeepSound(),this.billHoldService.removeFromHold(e),this.heldBills=this.billHoldService.getHeldBills(),document.querySelector(".holdClose").click()}holdBill(e){if(this.playBeepSound(),this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let n={};n.currentItems=this.currentItems,n.currentOrderAdditionalCharges=this.currentOrderAdditionalCharges.length>0?this.currentOrderAdditionalCharges:[],"print"===e&&(this.holdBillActive=!0),n.totalAmt=this.finalAmount(),n.currentCustomer=this.currentCustomer,this.billHoldService.addToHold(n),this.discardCurrentBill(),this.customerAutoCompleteControl.setValue(""),this.saleInvoice.setValue("")}else this.toastr.error("Please Items To Cart!")}discardCurrentBill(){this.cartService.clearCurrent(),this.currentItems=this.cartService.getCurrentItems(),this.currentOrderAdditionalCharges=[],this.currentCustomer=null}receiptFormSubmit(){this.receiptPaymentForm.invalid?Object.keys(this.receiptPaymentForm.controls).forEach(e=>{this.receiptPaymentForm.controls[e].markAsTouched()}):"sales"===this.voucher_type.value?this.formSubmitReceipt():"purchase"===this.voucher_type.value?this.formSubmitPurchase():this.formSubmitExpense()}applyCreditRedeem(){this.creditLimitData.push({credit_note_id:this.selectedAccountCreditData[0]?.credit_note_no,applyCredit:this.applyCredit.value}),document.querySelector(".creditRedeemClose").click()}formSubmitExpense(){if(this.playBeepSound(),this.expensePaymentForm.invalid)return void Object.keys(this.expensePaymentForm.controls).forEach(n=>{this.expensePaymentForm.controls[n].markAsTouched()});let e=new FormData;e.append("party",this.expense_party?.value?.id),e.append("amount",this.expense_amount.value),e.append("remarks",this.expense_remark.value),e.append("non_gst",this.expense_nongst.value),e.append("payment_account",this.expense_payment_account.value),this.cartService.expensePayment(e).subscribe({next:n=>{n.isSuccess?(this.toastr.success(n.msg),document.querySelector(".expenseModalClose").click(),this.expensePaymentForm.reset(),this.expense_nongst.setValue(!1),this.cartService.getExpensePayments().subscribe({next:a=>{this.expensePayments=a},error:a=>{}})):this.toastr.error(n.msg)},error:n=>{this.toastr.error(n.message)}})}formSubmitPurchase(){if(this.playBeepSound(),this.purchasePaymentForm.invalid)return void Object.keys(this.purchasePaymentForm.controls).forEach(n=>{this.purchasePaymentForm.controls[n].markAsTouched()});let e=new FormData;if("UPI"===this.purchase_payment_mode.value){let n={upi_no:Number(this.purchase_upi_id.value),payment_account:Number(this.purchase_payment_account.value)};"Advance"==this.purchase_payment_type.value?(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",""),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail",JSON.stringify(n))):(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",this.purchase_sales.value),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail",JSON.stringify(n)))}else if("Bank"===this.payment_mode.value){let n={payment_account:Number(this.purchase_payment_account.value),account_no:this.purchase_account_no.value};"Advance"==this.payment_type.value?(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",""),e.append("card_detail",""),e.append("bank_detail",JSON.stringify(n)),e.append("upi_detail","")):(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",this.purchase_sales.value),e.append("card_detail",""),e.append("bank_detail",JSON.stringify(n)),e.append("upi_detail",""))}else if("Card"===this.payment_mode.value){let n={payment_account:Number(this.purchase_payment_account.value),customer_bank_name:this.purchase_customer_bank_name.value,card_payment_amount:this.purchase_card_payment_amount.value,card_holder_name:this.purchase_card_holder_name.value,cart_transactions_no:this.purchase_cart_transactions_no.value};"Advance"==this.payment_type.value?(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",""),e.append("card_detail",JSON.stringify(n)),e.append("bank_detail",""),e.append("upi_detail","")):(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",this.purchase_sales.value),e.append("card_detail",JSON.stringify(n)),e.append("bank_detail",""),e.append("upi_detail",""))}else"Advance"==this.payment_type.value?(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",""),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail","")):(e.append("party",this.purchase_party?.value?.id),e.append("receipt_method",this.purchase_payment_type.value),e.append("payment_mode",this.purchase_payment_mode.value),e.append("amount",this.purchase_amount.value),e.append("description",this.purchase_remark.value),e.append("bill_no",this.purchase_sales.value),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail",""));this.cartService.purchasePayment(e).subscribe({next:n=>{n.isSuccess?(this.toastr.success(n.msg),document.querySelector(".purchaseModalClose").click(),this.purchasePaymentForm.reset(),this.cartService.getPurchasePayments().subscribe({next:a=>{this.purchasePayments=a},error:a=>{}})):this.toastr.error(n.msg)},error:n=>{this.toastr.error(n.message)}})}upiModalOpen(){this.getAccountAlies("bank-accounts")}cardModalOpen(){this.getAccountAlies("bank-accounts")}bankModalOpen(){this.getAccountAlies("bank-accounts")}formSubmitReceipt(){if(this.playBeepSound(),this.salesPaymentForm.invalid)return void Object.keys(this.salesPaymentForm.controls).forEach(n=>{this.salesPaymentForm.controls[n].markAsTouched()});let e=new FormData;if("UPI"===this.sales_payment_mode.value){let n={upi_no:Number(this.sales_upi_id.value),payment_account:Number(this.sales_payment_account.value)};"Advance"==this.sales_payment_type.value?(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",""),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail",JSON.stringify(n))):(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",this.sales_sales.value),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail",JSON.stringify(n)))}else if("Bank"===this.sales_payment_mode.value){let n={payment_account:Number(this.sales_payment_account.value),account_no:this.sales_account_no.value};"Advance"==this.sales_payment_type.value?(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",""),e.append("card_detail",""),e.append("bank_detail",JSON.stringify(n)),e.append("upi_detail","")):(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",this.sales_sales.value),e.append("card_detail",""),e.append("bank_detail",JSON.stringify(n)),e.append("upi_detail",""))}else if("Card"===this.sales_payment_mode.value){let n={payment_account:Number(this.sales_payment_account.value),customer_bank_name:this.sales_customer_bank_name.value,card_payment_amount:this.sales_card_payment_amount.value,card_holder_name:this.sales_card_holder_name.value,cart_transactions_no:this.sales_cart_transactions_no.value};"Advance"==this.sales_payment_type.value?(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",""),e.append("card_detail",JSON.stringify(n)),e.append("bank_detail",""),e.append("upi_detail","")):(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",this.sales_sales.value),e.append("card_detail",JSON.stringify(n)),e.append("bank_detail",""),e.append("upi_detail",""))}else"Advance"==this.sales_payment_type.value?(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",""),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail","")):(e.append("customer",this.sales_customer?.value?.id),e.append("receipt_method",this.sales_payment_type.value),e.append("payment_mode",this.sales_payment_mode.value),e.append("amount",this.sales_amount.value),e.append("description",this.sales_remark.value),e.append("bill_no",this.sales_sales.value),e.append("card_detail",""),e.append("bank_detail",""),e.append("upi_detail",""));this.cartService.receiptPayment(e).subscribe({next:n=>{n.isSuccess?(this.toastr.success(n.msg),document.querySelector(".salesModalClose").click(),this.salesPaymentForm.reset(),this.cartService.getSalesPayments().subscribe({next:a=>{this.salesPayments=a},error:a=>{}})):this.toastr.error(n.msg)},error:n=>{this.toastr.error(n.message)}})}payLaterGenerateOrder(){if(this.playBeepSound(),this.payLaterMethodForm.invalid)Object.keys(this.payLaterMethodForm.controls).forEach(e=>{this.payLaterMethodForm.controls[e].markAsTouched()});else if(this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let e=this.setItemsArr(),n={day:Number(this.pay_later_day.value),date:this.pay_later_date.value,is_send_reminder:"false"==this.is_send_reminder.value?"False":"True"},o=this.finalAmount(),a=[{mode_type:"AgainstBill",user_account_id:this.userAccoutId,amount:Number(o),receipt_type:"",payment_account:"",note:"",transaction_date:"",payment_mode:"",transaction_id:""}];const s=new FormData;s.append("customer",JSON.stringify(this.currentCustomer.id)),s.append("additional_charge",JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString()))),s.append("total_amount",JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString()))),s.append("payment_mode","Paylater"),s.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),s.append("cart_data",JSON.stringify(e)),s.append("PayLatter",JSON.stringify(n)),s.append("payment",JSON.stringify(a)),s.append("coupon_code",""),this.cartService.generateOrderNew(s).subscribe({next:c=>{c.isSuccess?(this.customerAutoCompleteControl.setValue(""),this.saleInvoice.setValue(""),this.discardCurrentBill(),this.toastr.success(c.msg),setTimeout(()=>{this.generatePdf(c?.order,"payLater")},1e3),document.querySelector(".payLaterModalClose").click(),this.payLaterMethodForm.reset(),this.cartService.getPOSOrders(this.page,this.pageSize).subscribe({next:u=>{this.posOrders=u?.data,this.totalRecords=u.total_data,this.updatePageNumbers()},error:u=>{}})):this.toastr.error(c.msg)},error:c=>{this.toastr.error(c.message)}})}else this.toastr.error("Please Add Items To Cart")}onPaymentTermChange(e){this.payment_terms=e}cardPaymentGenerateOrder(e){if(this.playBeepSound(),this.cardPaymentMethodForm.invalid)Object.keys(this.cardPaymentMethodForm.controls).forEach(n=>{this.cardPaymentMethodForm.controls[n].markAsTouched()});else if(this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let n=this.setItemsArr(),o=this.finalAmount(),a=[{mode_type:"AgainstBill",user_account_id:this.userAccoutId,amount:Number(o),receipt_type:"Bank",payment_account:this.cardPaymentMethodForm.controls.payment_account.value,note:"",transaction_date:this.cardPaymentMethodForm.controls.transaction_date.value,payment_mode:1,transaction_id:this.cardPaymentMethodForm.controls.transaction_id.value}];const s=new FormData;s.append("customer",JSON.stringify(this.currentCustomer.id)),s.append("additional_charge",JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString()))),s.append("total_amount",JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString()))),s.append("payment_mode","Card"),s.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),s.append("cart_data",JSON.stringify(n)),s.append("payment",JSON.stringify(a)),s.append("PayLatter",""),s.append("coupon_code",""),this.cartService.generateOrderNew(s).subscribe({next:c=>{c.isSuccess?(this.customerAutoCompleteControl.setValue(""),this.saleInvoice.setValue(""),this.discardCurrentBill(),this.toastr.success(c.msg),"print"==e?(setTimeout(()=>{this.generatePdf(c?.order,"card")},1e3),document.querySelector(".cardPrintModalClose").click()):document.querySelector(".cardModalClose").click(),this.cardPaymentMethodForm.reset()):this.toastr.error(c.msg)},error:c=>{this.toastr.error(c.message)}})}else this.toastr.error("Please Add Items To Cart")}getCustomer(e){return this.accountList.filter(o=>o?.id===e)[0]?.created_by}formatedDate(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}formatDate(e){const n=new Date(e);return`${String(n.getDate()).padStart(2,"0")}-${String(n.getMonth()+1).padStart(2,"0")}-${n.getFullYear()}`}formatHours(e){const n=new Date(e);let o=n.getHours();const s=o>=12?"PM":"AM";return o%=12,o=o||12,`${o}:${String(n.getMinutes()).padStart(2,"0")} ${s}`}truncateWithEllipsis(e,n){return e.length>n?e.substring(0,n-3)+"...":e}calculateSubTotal(){let e=0;for(let n=0;n<this.currentItems.length;n++){const o=this.currentItems[n],a=o.batch[0]?.selling_price_offline;e+=a*o.quantity}return e}checkPageOverflow(e){const n=(new W.default).internal.pageSize.height;this.textY>n-25&&(e.addPage(),this.textY=10)}holdDataPdf(){const e=new W.default;e.addImage("assets/dummy/pos.png","PNG",10,10,50,15),e.setFontSize(12),e.setTextColor(33,43,54),e.text("Pramod Fashion Retail Limited",15,40),this.textY=48,e.setFontSize(10),this.heldBills?.forEach(c=>{e.text(`ORD: ${c?.id?.substring(0,25)??"--"}`,10,this.textY),this.textY+=5,e.text(`GSTIn: ${c?.currentCustomer?.gstin?c?.currentCustomer?.gstin:"--"}`,10,this.textY),this.textY+=5,e.text("Customer Details",10,this.textY),this.textY+=5,e.text(`${this.getCustomer(c?.currentCustomer?.account)}`,10,this.textY),this.textY+=5;let d=c?.currentCustomer?.address[0]?.address_line_1,u=c?.currentCustomer?.address[0]?.address_line_2;e.text(`${d}, ${u}`,10,this.textY),this.textY+=10,e.text(`City: ${c?.currentCustomer?.address[0]?.city?.city??"--"}`,10,this.textY),this.textY+=5,e.text(`State: ${c?.currentCustomer?.address[0]?.state?.state??"--"}`,10,this.textY),this.textY+=5,e.text(`Country: ${c?.currentCustomer?.address[0]?.country?.country_name??"--"}`,10,this.textY),this.textY+=5,e.text(`Pincode: ${c?.currentCustomer?.address[0]?.pincode??"--"}`,10,this.textY),this.textY+=5,e.text(`Email: ${c?.currentCustomer?.email?c?.currentCustomer?.email:"--"}`,10,this.textY),this.textY+=5,e.text(`Mobile No: ${c?.currentCustomer?.mobile_no??"--"}`,10,this.textY),this.textY+=10,e.text("-------------------------------------------------------",10,this.textY),this.textY+=5,e.text("HSN",10,this.textY),e.text("Net Price",25,this.textY),e.text("Qty",45,this.textY),e.text("Value",60,this.textY),this.textY+=5,e.setFontSize(10),e.setTextColor(33,43,54),e.text("-------------------------------------------------------",10,this.textY),this.textY+=5,c?.currentItems?.forEach(p=>{e.text(p?.product?.hsncode?.hsn_code?p?.product?.hsncode?.hsn_code.toString():"--",10,this.textY),e.text(p.batch[0]?.selling_price_offline.toFixed(2).toString(),25,this.textY),e.text(p.quantity.toString(),45,this.textY),e.text((p.batch[0]?.selling_price_offline*p.quantity).toFixed(2).toString(),60,this.textY),this.textY+=5,e.text(p?.product?.title?this.truncateWithEllipsis(p?.product?.title,42):"--",10,this.textY),this.textY+=5}),e.text("-------------------------------------------------------",10,this.textY),this.textY+=5,e.text("Total Amount:",10,this.textY),e.text(`${c?.totalAmt}`,65,this.textY),this.textY+=5});const o=window.open("","_blank"),a=e.output("blob"),s=URL.createObjectURL(a);o.location.href=s,this.holdBillActive=!1}holdAndPrint(){this.holdBill("print"),this.holdBillActive&&setTimeout(()=>{this.holdDataPdf()},1e3)}getPosCreditLimit(){this.isInternetConnection&&this.cartService.getPosCreditLimitByUserId(this.selectedCustomerUserId).subscribe(e=>{console.log(e),this.creditLimitList=e,this.creditLimit=e?.credit_Limit})}applyCouponCode(){this.coupon_code&&this.offerService.offerValidation(this.coupon_code).subscribe(e=>{console.log(e?.data),e.success?(this.couponDiscount=e?.data?.discount,this.couponUpTo=e?.data?.up_to,this.finalAmount(),this.toastrService.success(e?.msg),document.querySelector(".closeCouponModal").click()):(this.toastrService.error(e?.msg),document.querySelector(".closeCouponModal").click())})}generatePdf(e,n){const o=new W.default;o.addImage("assets/dummy/pos.png","PNG",10,10,50,15),o.setFontSize(12),o.setTextColor(33,43,54),o.text("Pramod Fashion Retail Limited",15,40),this.textY=48,o.setFontSize(10);let s=localStorage.getItem("companyDetails"),c=JSON.parse(s);o.text(`${c?.name??""}`,10,this.textY),this.textY+=5,o.text(`${c?.address??""}`,10,this.textY),this.textY+=5,o.text(`${c?.city?.city??""}, ${c?.state?.state??""}, ${c?.country?.country_name??""}, ${c?.pincode??""}`,10,this.textY),this.textY+=10,o.text(`Customer Care: ${c?.phone??"--"}`,10,this.textY),this.textY+=5,o.text(`GSTIN: ${c?.gst??"--"}`,10,this.textY),this.textY+=5,o.text(`Place of Supply & State code: ${c?.state_code?.gst_code??""} ${c?.state_code?.state_code??""}`,10,this.textY),this.textY+=10,o.text("-------------------------------------------------------",10,this.textY),this.textY+=10,o.text(`Customer GSTIN: ${e?.customer?.gstin?e?.customer?.gstin:"URD"}`,10,this.textY),this.textY+=5,o.text("Customer Details",10,this.textY),this.textY+=5,e?.customer?.account&&(o.text(`${e?.customer?.account?this.getCustomer(e?.customer?.account):""}`,10,this.textY),this.textY+=5);const d={address_line_1:e?.customer?.address[0]?.address_line_1??"",address_line_2:e?.customer?.address[0]?.address_line_2??"",city:e?.customer?.address[0]?.city?.city??"",state:e?.customer?.address[0]?.state?.state??"",country:e?.customer?.address[0]?.country?.country_name??"",pincode:e?.customer?.address[0]?.pincode??""};let u=d.address_line_1,_=d.address_line_2,p=`${u}, ${_}`;o.setFontSize(10),(u||_)&&(o.text(u||_?p:"",10,this.textY),this.textY+=10),o.text(`City: ${d.city?d.city:"--"}`,10,this.textY),this.textY+=5,o.text(`State: ${d.state?d.state:"--"}`,10,this.textY),this.textY+=5,o.text(`Country: ${d.country?d.country:"--"}`,10,this.textY),this.textY+=5,o.text(`Pincode: ${d.pincode?d.pincode:"--"}`,10,this.textY),this.textY+=10,o.text("-------------------------------------------------------",10,this.textY),this.textY+=10,o.text("TAX INVOICE",25,this.textY),this.textY+=10,o.text("posReturn"===n?`POS Return No.:  ${e?.pos_return_no??""}`:`Bill No.:  ${e?.bill_no?e?.bill_no:"--"}`,10,this.textY),this.textY+=5,o.text(`Date: ${this.formatDate("posReturn"===n?e?.pos_bill?.created_date:e?.created_date)}   Time:${this.formatHours("posReturn"===n?e?.pos_bill?.created_date:e?.created_date)}`,10,this.textY),this.textY+=10,o.text("-------------------------------------------------------",10,this.textY),this.textY+=5,this.checkPageOverflow(o),o.text("HSN",10,this.textY),o.text("Net Price",25,this.textY),o.text("Qty",45,this.textY),o.text("Value",60,this.textY),this.textY+=5,o.setFontSize(10),o.setTextColor(33,43,54),o.text("-------------------------------------------------------",10,this.textY),this.textY+=5,"posReturn"===n?e?.pos_bill?.cart?.forEach(g=>{o.text(g?.variant?.product?.hsncode?.hsn_code?g?.variant?.product?.hsncode?.hsn_code.toString():"--",10,this.textY),o.text(g.net_cost?.toString(),25,this.textY),o.text(g?.qty?.toString(),45,this.textY),o.text((g?.net_cost*g?.qty).toFixed(2)?.toString(),60,this.textY),this.textY+=5,o.text(g?.variant?.product?.title?this.truncateWithEllipsis(g?.variant?.product?.title,42):"--",10,this.textY),this.textY+=5}):e?.cart?.forEach(g=>{o.text("Offline"===n?g?.variant?g?.variant?.toString():"--":g?.variant?.product?.hsncode?.hsn_code?g?.variant?.product?.hsncode?.hsn_code.toString():"--",10,this.textY),o.text(g?.net_cost?.toString(),25,this.textY),o.text(g?.qty?.toString(),45,this.textY),o.text((g?.net_cost*g?.qty).toFixed(2)?.toString(),60,this.textY),this.textY+=5,o.text("Offline"===n?g?.title?this.truncateWithEllipsis(g?.title,42):"--":g?.variant?.product?.title?this.truncateWithEllipsis(g?.variant?.product?.title,42):"--",10,this.textY),this.textY+=5}),o.text("-------------------------------------------------------",10,this.textY),this.checkPageOverflow(o),this.textY+=5,o.text("Item Count:",10,this.textY),o.text(`${"posReturn"===n?e?.pos_bill?.get_item_count:e?.get_item_count}`,65,this.textY),this.textY+=5,o.text("QTY:",10,this.textY),o.text(`${e?.total_qty}`,65,this.textY),this.textY+=5,this.checkPageOverflow(o),o.text("SubTotal:",10,this.textY),o.text(`${"posReturn"===n?e?.subtotal:e?.total_amount}`,65,this.textY),this.textY+=5,o.text("Total discount:",10,this.textY),o.text(`${e?.total_discount}`,65,this.textY),this.textY+=5,o.text("Credit Redeem:",10,this.textY),this.checkPageOverflow(o),o.text("Offline"===n?`${e?.creditAvailable}`:`${"posReturn"===n?e?.pos_bill?.credit_redeem:e?.credit_redeem}`,65,this.textY),this.textY+=5,o.text("Total Tax Amount:",10,this.textY),o.text(`${e?.total_tax}`,65,this.textY),this.textY+=5,o.text("Total Amount:",10,this.textY),o.text(`${"posReturn"===n?e?.pos_bill?.total_amount:e?.total_amount}`,65,this.textY),this.textY+=5,"upi"===n?(o.text("Amount Paid By UPI:",10,this.textY),o.text(""+(e?.total_amount-e?.due_amount),65,this.textY),this.textY+=5,o.text("Amount Pending By UPI:",10,this.textY),o.text(`${e?.due_amount}`,65,this.textY)):"bank"===n?(o.text("Amount Paid By Bank:",10,this.textY),o.text(""+(e?.total_amount-e?.due_amount),65,this.textY),this.textY+=5,o.text("Amount Pending By Bank:",10,this.textY),o.text(`${e?.due_amount}`,65,this.textY)):"cash"===n||"Offline"===n?(o.text("Amount Paid By Cash:",10,this.textY),o.text(""+(e?.total_amount-e?.due_amount),65,this.textY),this.textY+=5,o.text("Amount Pending By Cash:",10,this.textY),o.text(`${e?.due_amount}`,65,this.textY)):"card"===n?(o.text("Amount Paid By Card:",10,this.textY),o.text(""+(e?.total_amount-e?.due_amount),65,this.textY),this.textY+=5,o.text("Amount Pending By Card:",10,this.textY),o.text(`${e?.due_amount}`,65,this.textY)):"payLater"===n?(o.text("Amount Paid By PayLater:",10,this.textY),o.text(""+(e?.total_amount-e?.due_amount),65,this.textY),this.textY+=5,o.text("Amount Pending By PayLater:",10,this.textY),o.text(`${e?.due_amount}`,65,this.textY)):"posReturn"===n?(o.text("Amount Paid:",10,this.textY),o.text(""+(e?.pos_bill?.total_amount-e?.pos_bill?.due_amount),65,this.textY),this.textY+=5,o.text("Amount Pending:",10,this.textY),o.text(`${e?.pos_bill?.due_amount}`,65,this.textY)):(o.text("Amount Paid:",10,this.textY),o.text(""+(e?.total_amount-e?.due_amount),65,this.textY),this.textY+=5,o.text("Amount Pending:",10,this.textY),o.text(`${e?.due_amount}`,65,this.textY)),this.textY+=10,o.text("-------------------------------------------------------",10,this.textY),this.checkPageOverflow(o),"Offline"===n||(this.textY+=10,o.text("GST bill details ",10,this.textY),this.textY+=5,this.checkPageOverflow(o),o.text("-------------------------------------------------------",10,this.textY),this.textY+=5,this.checkPageOverflow(o),o.text("Tax %",10,this.textY),o.text("Taxable",25,this.textY),o.text("CGST",45,this.textY),o.text("SGST",60,this.textY),this.textY+=5,o.text("Amount",25,this.textY),this.textY+=5,o.setFontSize(10),o.setTextColor(33,43,54),o.text("-------------------------------------------------------",10,this.textY),this.textY+=5,this.totalTaxableAmount=0,this.totalCGST=0,this.totalSGST=0,this.checkPageOverflow(o),"posReturn"===n?e?.pos_bill?.tax_summary?.forEach(g=>{o.text(g?.tax_percentage?g?.tax_percentage.toString():"0",10,this.textY),o.text(g?.taxable_amount?.toFixed(2).toString(),25,this.textY),o.text(g?.cgst?.toFixed(2)?.toString(),45,this.textY),o.text(g?.sgst?.toFixed(2)?.toString(),60,this.textY),this.textY+=10,this.totalTaxableAmount+=g.taxable_amount,this.totalCGST+=g.cgst,this.totalSGST+=g.sgst}):e?.tax_summary?.forEach(g=>{o.text(g?.tax_percentage?g?.tax_percentage.toString():"0",10,this.textY),o.text(g?.taxable_amount?.toFixed(2).toString(),25,this.textY),o.text(g?.cgst?.toFixed(2)?.toString(),45,this.textY),o.text(g?.sgst?.toFixed(2)?.toString(),60,this.textY),this.textY+=10,this.totalTaxableAmount+=g.taxable_amount,this.totalCGST+=g.cgst,this.totalSGST+=g.sgst}),o.text("-------------------------------------------------------",0,this.textY),this.textY+=5,o.text("Total",10,this.textY),o.text(`${this.totalTaxableAmount.toFixed(2)}`,25,this.textY),o.text(`${this.totalCGST.toFixed(2)}`,45,this.textY),o.text(`${this.totalSGST.toFixed(2)}`,60,this.textY)),this.checkPageOverflow(o),this.textY+=10,o.text("*  Thank You for Shopping with us  *",10,this.textY),this.textY+=5,o.text("Website: https://pramodfashion.com/",10,this.textY),this.textY+=5,o.text(`Customer Care email: ${this.companyDetails?.email}`,10,this.textY);const h=window.open("","_blank"),v=o.output("blob"),Z=URL.createObjectURL(v);h.location.href=Z}bankPaymentGenerateOrder(e){if(this.playBeepSound(),this.bankPaymentMethodForm.invalid)Object.keys(this.bankPaymentMethodForm.controls).forEach(n=>{this.bankPaymentMethodForm.controls[n].markAsTouched()});else if(this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let n=this.setItemsArr(),o=this.finalAmount(),a=[{mode_type:"AgainstBill",user_account_id:this.userAccoutId,amount:Number(o),receipt_type:"Bank",payment_account:this.bankPaymentMethodForm.controls.payment_account.value,note:"",transaction_date:this.bankPaymentMethodForm.controls.transaction_date.value,payment_mode:this.bankPaymentMethodForm.controls.payment_mode.value,transaction_id:this.bankPaymentMethodForm.controls.transaction_id.value}];const s=new FormData;s.append("customer",JSON.stringify(this.currentCustomer.id)),s.append("additional_charge",JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString()))),s.append("total_amount",JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString()))),s.append("payment_mode","Bank"),s.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),s.append("cart_data",JSON.stringify(n)),s.append("payment",JSON.stringify(a)),s.append("PayLatter",""),s.append("coupon_code",""),this.cartService.generateOrderNew(s).subscribe({next:c=>{c.isSuccess?(this.customerAutoCompleteControl.setValue(""),this.saleInvoice.setValue(""),this.discardCurrentBill(),this.toastr.success(c.msg),"print"==e?(setTimeout(()=>{this.generatePdf(c?.order,"bank")},1e3),document.querySelector(".bankPrintModalClose").click()):document.querySelector(".bankModalClose").click(),this.bankPaymentMethodForm.reset(),this.cartService.getPOSOrders(this.page,this.pageSize).subscribe({next:u=>{this.posOrders=u?.data,this.totalRecords=u.total_data,this.updatePageNumbers()},error:u=>{}})):this.toastr.error(c.msg)},error:c=>{this.toastr.error(c.message)}})}else this.toastr.error("Please Add Items To Cart")}upiPaymentGenerateOrder(e){if(this.playBeepSound(),this.upiPaymentMethodForm.invalid)Object.keys(this.upiPaymentMethodForm.controls).forEach(n=>{this.upiPaymentMethodForm.controls[n].markAsTouched()});else if(this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let n=this.setItemsArr();const o=this.finalAmount();let a=[{mode_type:"AgainstBill",user_account_id:this.userAccoutId,amount:Number(o),receipt_type:"Bank",payment_account:this.upiPaymentMethodForm.controls.payment_account.value,note:"",transaction_date:this.upiPaymentMethodForm.controls.transaction_date.value,payment_mode:2,transaction_id:this.upiPaymentMethodForm.controls.transaction_id.value}];const s=new FormData;s.append("customer",JSON.stringify(this.currentCustomer.id)),s.append("additional_charge",JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString()))),s.append("total_amount",JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString()))),s.append("payment_mode","UPI"),s.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),s.append("cart_data",JSON.stringify(n)),s.append("payment",JSON.stringify(a)),s.append("PayLatter",""),s.append("total_qty",this.totalCartQuantity()),s.append("total_discount","0"),s.append("coupon_code",""),this.cartService.generateOrderNew(s).subscribe({next:c=>{c.isSuccess?(this.customerAutoCompleteControl.setValue(""),this.saleInvoice.setValue(""),this.discardCurrentBill(),this.toastr.success(c.msg),"print"==e?(setTimeout(()=>{this.generatePdf(c?.order,"upi")},1e3),document.querySelector(".upiPrintModalClose").click()):document.querySelector(".upiModalClose").click(),this.upiPaymentMethodForm.reset(),this.cartService.getPOSOrders(this.page,this.pageSize).subscribe({next:u=>{this.posOrders=u?.data,this.totalRecords=u.total_data,this.updatePageNumbers()},error:u=>{}})):this.toastr.error(c.msg)},error:c=>{this.toastr.error(c.message)}})}else this.toastr.error("Please Add Items To Cart")}cashPaymentGenerateOrder(e){if(this.playBeepSound(),this.isCashFormSubmitted=!0,this.tenderedAmount>=this.finalAmount())if(this.currentItems.length>0)if(null==this.currentCustomer)this.toastr.error("Please Select/Add a Customer!");else{let o=this.setItemsArr(),a=this.finalAmount(),s=[{mode_type:"AgainstBill",user_account_id:this.userAccoutId,amount:Number(a),receipt_type:"Cash",payment_account:this.cash_payment_account,note:"",transaction_date:"",payment_mode:"",transaction_id:"",credit_note:""}];const c={cart:o,customer:this.currentCustomer,created_date:(new Date).toISOString(),due_amount:JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString())),total_amount:JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString())),total_discount:"0",total_qty:this.totalCartQuantity(),total_tax:JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString())),get_item_count:this.totalCartProductCount(),subtotal:this.calculateSubTotal(),creditAvailable:this.selectedAccountCreditData?this.selectedAccountCreditData[0]?.pending_amount:0,bill_no:""},d=new FormData;d.append("customer",JSON.stringify(this.currentCustomer.id)),d.append("additional_charge",JSON.stringify(this.getNumberInDecimalPlaces(this.currentTotalAdditionalCharges().toString()))),d.append("total_amount",JSON.stringify(this.getNumberInDecimalPlaces(this.finalAmount().toString()))),d.append("payment_mode","Cash"),d.append("total_tax",JSON.stringify(this.getNumberInDecimalPlaces(this.totalTaxAmount().toString()))),d.append("cart_data",JSON.stringify(o)),d.append("total_qty",this.totalCartQuantity()),d.append("total_discount","0"),d.append("subtotal",this.calculateSubTotal()),d.append("Roundoff",this.getRoundOff()),d.append("PayLatter",""),d.append("payment",JSON.stringify(s)),d.append("coupon_code",""),this.isInternetConnection?this.cartService.generateOrderNew(d).subscribe({next:u=>{u.isSuccess?(this.customerAutoCompleteControl.setValue(""),this.saleInvoice.setValue(""),this.cash_payment_account="",this.discardCurrentBill(),this.tenderedAmount=0,this.isCashFormSubmitted=!1,this.toastr.success(u.msg),this.orderDetails=u?.order,"print"==e?(setTimeout(()=>{this.generatePdf(u?.order,"cash")},1e3),document.querySelector(".cashPrintModalClose").click()):document.querySelector(".cashModalClose").click(),this.cartService.getPOSOrders(this.page,this.pageSize).subscribe({next:p=>{this.posOrders=p?.data,this.totalRecords=p.total_data,this.updatePageNumbers()},error:p=>{}})):this.toastr.error(u.msg)},error:u=>{this.toastr.error(u.message)}}):(setTimeout(()=>{this.customerAutoCompleteControl.setValue(""),this.saleInvoice.setValue(""),this.discardCurrentBill(),this.tenderedAmount=0,this.generatePdf(c,"Offline")},1e3),document.querySelector(".cashPrintModalClose").click())}else this.toastr.error("Please Add Items To Cart")}setItemsArr(){let e=[];for(let n=0;n<this.currentItems.length;n++){const o=this.currentItems[n];let a={variant:o.id,qty:o.quantity,mrp:o.batch[0].mrp,discount:o.batch[0].discount&&0!==o.batch[0].discount.length?o.batch[0].discount:0,add_discount:o.batch[0].additional_discount,unit_cost:o.batch[0]?.selling_price_offline,net_cost:Number(this.getNetAmount2(o?.batch[0],o?.quantity)).toFixed(2),tax_amount:Number(this.getProductTax(o.batch[0])*o.quantity).toFixed(2),remarks:o.notes,tax_percentage:o?.batch[0]?.sale_tax||0,title:o?.product?.title};e.push(a)}return e}totalCartQuantity(){return this.currentItems.reduce((n,o)=>n+o.quantity,0)}totalCartProductCount(){return this.currentItems.length}getDateForOrders(e){const n=new Date(e),o=n.getFullYear(),a=n.getMonth()+1,s=n.getDate();return`${o}-${a<10?"0":""}${a}-${s<10?"0":""}${s}`}getNumberInDecimalPlaces(e){const n=parseFloat(e);return Math.round(100*n)/100}playBeepSound(e){0!==this.currentItems.length||"btn"!==e?null!=this.currentCustomer||"btn"!==e?("sale"!==e||this.saleInvoice.value)&&new Audio("assets/dummy/beep.mp3").play():this.toastr.error("Please Select/Add a Customer!"):this.toastr.error("Please Items To Cart!")}getExpense(){this.cartService.getPosExpenseVoucher().subscribe(e=>{this.expenseList=e})}sort(e){this.key=e,this.reverse=!this.reverse}getReciept(){this.cartService.getPosRecieptVoucher().subscribe(e=>{this.recieptList=e})}getPayment(){this.cartService.getPosPaymentVoucher().subscribe(e=>{this.paymentList=e})}getCreditNote(){this.cartService.getPosCreditNoteList().subscribe(e=>{this.creditNoteList=e,console.log(e)})}redeemCredit(){this.cartProductTotalAmout=this.finalAmount(),this.creditRedeemTotalAmount=this.finalAmount(),this.cartService.getPosCreditNoteByAccountId(this.selectedCustomerAccountId).subscribe(e=>{this.selectedAccountCreditData=e,this.redeemCreditControl.setValue(`${e[0]?.credit_note_no} - ${e[0]?.total??0}`),console.log(e)})}selectedBatch(e,n){console.log(e),console.warn(this.currentBatch),this.selectBtch.push(e)}allDiscount(){console.log(this.discount,"discount"),this.discount.forEach((e,n)=>{if(e.discount.length>0&&e?.discount.forEach(o=>{this.discountTyp[n]||(this.discountTyp[n]=[]),this.discountTyp[n].push(o),this.compulsoryDiscounts=this.discountTyp[n].filter(a=>a.is_compulsory),console.log(this.compulsoryDiscounts)}),this.discountTyp[n]&&this.compulsoryDiscounts&&this.discount.length-1==n){const o=this.compulsoryDiscounts[this.compulsoryDiscounts.length-1];if(o?.is_compulsory)if("Price-range-free-item"==o?.discount_offer_type){if(this.currentItems[n]?.batch[0]?.selling_price_offline>=parseInt(o.start_price)&&this.currentItems[n]?.batch[0]?.selling_price_offline<=parseInt(o.end_price)){this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Free Item",this.isFreePriceRange[n]=!0;let a={product:{...o?.free_items,id:o?.free_items?.id||0,title:o?.free_items?.title||"",mrp:o?.free_items.mrp},batch:[{id:0,mrp:0,cost_price:0,selling_price_offline:0,is_active:!1,additional_discount:0,typeBatch:"Free Item",discount:[{discount_offer_type:"",discount_parent_id:"",discount_type:"",end_price:"",flat_discount:"",id:"",is_compulsory:!1,name:"",start_price:""}]}],type:"Free Item",variant_name:"",sku:"",id:0,quantity:1,notes:"",discount:0};this.freePriceProductSelected=a,this.discount.push(this.freePriceProductSelected?.batch[0]),console.log(this.discount,"discount"),this.addToCurrent(this.freePriceProductSelected),this.currentItems=this.cartService.getCurrentItems(),console.log(this.currentItems,"current items")}}else if("Price-range-discount"==o?.discount_offer_type){if(this.currentItems[n]?.batch[0]?.selling_price_offline>=parseInt(o.start_price)&&this.currentItems[n]?.batch[0]?.selling_price_offline<=parseInt(o.end_price))if(this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Discount","%"==o?.discount_type){let a=this.currentItems[n]?.batch[0]?.selling_price_offline*parseInt(o?.flat_discount)/100;this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n]?.batch[0]?.selling_price_offline-a,this.currentItems[n].discount=a}else{let a=this.currentItems[n]?.batch[0]?.selling_price_offline-parseInt(o?.flat_discount);this.currentItems[n].batch[0].selling_price_offline=a,this.currentItems[n].discount=parseInt(o?.flat_discount)}}else if("Free-item-on-invoice"==o?.discount_offer_type){if(this.finalAmount()>=parseInt(o?.invoice_amount)){this.isInvoiceFree[n]=!0,this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Free Item Invoice",console.log(this.selectedDiscount[n]),this.currentItems=this.cartService.getCurrentItems(),console.log(this.currentItems,"current items"),console.log(this.discount,"discount");let a={product:{...o?.free_items,id:o?.free_items?.id||0,title:o?.free_items?.title||"",mrp:o?.free_items.mrp},batch:[{id:0,mrp:0,cost_price:0,selling_price_offline:0,additional_discount:0,typeBatch:"Free Item Invoice",discount:[{discount_offer_type:"",discount_parent_id:"",discount_type:"",end_price:"",flat_discount:"",id:0,is_compulsory:!1,name:"",start_price:""}]}],type:"Free Item Invoice",variant_name:"",sku:"",quantity:1,id:0,notes:"",discount:0};this.productSelected=a,this.addToCurrent(this.productSelected),this.currentItems=this.cartService.getCurrentItems(),console.log(this.currentItems,"current items"),this.discount.push(this.productSelected?.batch[0]),console.log(this.discount,"discount")}}else if("Discount-on-Invoice"==o?.discount_offer_type)if(this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Discount Invoice","%"==o?.discount_type){let a=this.finalAmount()*parseInt(o?.flat_discount)/100,s=this.finalAmount()-a;console.warn(s),this.discountInvoice=a,this.currentItems[n].type="Discount Invoice"}else{let a=this.finalAmount()-parseInt(o?.flat_discount);console.warn(a),this.discountInvoice=parseFloat(o?.flat_discount),this.currentItems[n].type="Discount Invoice"}else if("Quantity-per-percentage"==o?.discount_offer_type)if(this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Qty % Discount",this.isQtyPerPercentage[n]=!0,this.discountTypeSelect.push(o),"%"==o?.discount_type){let a=this.currentItems[n]?.batch[0]?.selling_price_offline*parseInt(o?.flat_discount)/100;console.log(a);let s=this.currentItems[n]?.batch[0]?.selling_price_offline-a;console.warn(s),this.currentItems[n].batch[0].selling_price_offline=s,this.currentItems[n].discount=a,console.log(this.currentItems,"current items")}else{let a=this.currentItems[n]?.batch[0]?.selling_price_offline-parseInt(o?.flat_discount);console.warn(a),this.currentItems[n].batch[0].selling_price_offline=a,this.currentItems[n].discount=parseInt(o?.flat_discount),console.log(this.currentItems,"current items else")}else"Quantity-per-quantity"==o?.discount_offer_type&&(this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Qty Per Qty",this.discountTypeSelect.push(o),console.warn(o),console.warn(this.currentItems[n]?.quantity),this.currentItems[n]?.quantity>=parseInt(o?.purchase_qty)&&(this.isQtyPerQty[n]=!0,this.cartService.increaseCurrent(this.currentItems[n]),this.currentItems[n].type="Qty Per Qty",console.log(parseInt(o?.purchase_qty))))}})}discountQty(e){if(console.log(this.discountTyp),console.warn(this.discountTyp[e],"based on index discountType"),console.log(this.selectedDiscount[e]),console.log(this.currentItems[e],"curent item"),console.log(this.discountTypeSelect,"discount type"),console.log(this.discountTypeSelect[e],"discount type"),this.selectedDiscount)if("Qty Per Qty"==this.selectedDiscount[e])console.warn(this.currentItems[e]?.quantity),this.currentItems[e]?.quantity>=parseInt(this.discountTypeSelect[e]?.purchase_qty)&&(this.cartService.increaseCurrent(this.currentItems[e]),console.log(parseInt(this.discountTypeSelect[e]?.purchase_qty)));else if("Qty % Discount"==this.selectedDiscount[e])if("%"==this.discountTypeSelect[e]?.discount_type){console.log(this.currentItems[e]);let n=this.currentItems[e]?.batch[0]?.selling_price_offline*parseInt(this.discountTypeSelect[e]?.flat_discount)/100;console.log(n),this.flatDiscount[e]=n;let o=this.currentItems[e]?.batch[0]?.selling_price_offline-n;console.warn(o),this.currentItems[e].batch[0].selling_price_offline=o,this.currentItems[e].discount=n,console.log(this.currentItems,"current items")}else{let n=this.currentItems[e]?.batch[0]?.selling_price_offline-parseInt(this.discountTypeSelect[e]?.flat_discount);console.warn(n),this.flatDiscount[e]=this.discountTypeSelect[e]?.flat_discount,this.currentItems[e].batch[0].selling_price_offline=n,this.currentItems[e].discount=this.discountTypeSelect[e]?.flat_discount,console.log(this.currentItems,"current items")}}RemoveDiscountByQty(e){if(console.log(this.discountTyp),console.warn(this.discountTyp[e],"based on index discountType"),console.log(this.selectedDiscount[e]),console.log(this.currentItems[e],"curent item"),console.log(this.discountTypeSelect,"discount type"),console.log(this.discountTypeSelect[e],"discount type"),this.selectedDiscount&&this.selectedDiscount[e].quantity>1)if("Qty Per Qty"==this.selectedDiscount[e])console.warn(this.currentItems[e]?.quantity);else if("Qty % Discount"==this.selectedDiscount[e])if("%"==this.discountTypeSelect[e]?.discount_type){let n=this.currentItems[e].batch[0].selling_price_offline+this.currentItems[e].discount;this.currentItems[e].batch[0].selling_price_offline=n,console.log(n);let o=100*this.currentItems[e].discount/this.currentItems[e].batch[0].selling_price_offline;console.log(o),this.currentItems[e].discount=o,console.log(this.currentItems,"current items")}else{let n=this.currentItems[e]?.batch[0]?.selling_price_offline+this.currentItems[e].discount;this.flatDiscount[e]=this.discountTypeSelect[e]?.flat_discount,this.currentItems[e].batch[0].selling_price_offline=n,this.currentItems[e].discount=this.discountTypeSelect[e]?.flat_discount,console.log(this.currentItems,"current items")}}fetchOrderData(e,n){this.cartService.getPOSOrders(e,n).subscribe(o=>{this.posOrders=o.data,this.totalRecords=o.total_data})}pageChange(e){this.page=e,this.fetchOrderData(this.page,this.pageSize)}updatePageNumbers(){const e=Math.ceil(this.totalRecords/this.pageSize);this.pages=Array(e).fill(0).map((n,o)=>o+1)}getPageNumbers(){const e=Math.ceil(this.totalRecords/this.pageSize),n=[];for(let a=1;a<=e;a++)1===a||a>=this.page-3&&a<=this.page+3?n.push(a):(a===this.page-3-1||a===this.page+3+1)&&n.push("...");return n.filter((a,s,c)=>c.indexOf(a)===s)}getTotalPages(){return Math.ceil(this.totalRecords/this.pageSize)}selectDiscount(e,n){if(this.isDiscountSelect[n]=!0,this.closeModalDiscount(n),console.warn(e,"selected discount"+n),"Price-range-free-item"==e?.discount_offer_type){if(this.selectedDiscount[n]="Free Item",this.currentItems[n]?.batch[0]?.selling_price_offline>=parseInt(e.start_price)&&this.currentItems[n]?.batch[0]?.selling_price_offline<=parseInt(e.end_price)){this.currentItems.forEach(a=>{console.log(a),0==a.id&&"Free Item Invoice"==a.type&&(this.removeOptionCurrent(a),console.log(this.currentItems,"current item")),a.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),a.quantity>1&&"Qty Per Qty"==a.type&&(this.currentItems[n].quantity=1),(a.type="Discount Invoice")&&(this.discountInvoice=0),this.discountTypeSelect[n]&&this.discountTypeSelect.splice(n,1),a.batch.forEach(s=>{"Free Item Invoice"==s.typeBatch&&this.removeOptionCurrent(a)})}),this.discount.forEach((a,s)=>{0==a.id&&"Free Item Invoice"==a.typeBatch&&this.discount.splice(s,1)}),console.warn(e);let o={product:{...e?.free_items,id:e?.free_items?.id||0,title:e?.free_items?.title||"",mrp:e?.free_items?.mrp},batch:[{id:0,mrp:0,cost_price:0,selling_price_offline:0,is_active:!1,additional_discount:0,typeBatch:"Free Item",discount:[{discount_offer_type:"",discount_parent_id:"",discount_type:"",end_price:"",flat_discount:"",id:0,is_compulsory:!1,name:"",start_price:""}]}],variant_name:"",sku:"",type:"Free Item",quantity:1,id:0,notes:"",discount:0};this.addToCurrent(o),this.currentItems=this.cartService.getCurrentItems(),this.discount.push(o?.batch[0]),console.log(this.discount,"discount"),console.log(this.currentItems[n]),console.log(this.currentItems,"current items")}}else if("Price-range-discount"==e?.discount_offer_type){if(this.selectedDiscount[n]="Discount",this.currentItems[n]?.batch[0]?.selling_price_offline>=parseInt(e.start_price)&&this.currentItems[n]?.batch[0]?.selling_price_offline<=parseInt(e.end_price))if("%"==e?.discount_type){this.currentItems.forEach(s=>{console.log(s),0==s.id&&"Free Item"==s.type&&(this.removeOptionCurrent(s),console.log(this.currentItems,"current item")),s.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),s.quantity>1&&"Qty Per Qty"==s.type&&(this.currentItems[n].quantity=1),(s.type="Discount Invoice")&&(this.discountInvoice=0),this.discountTypeSelect[n]&&this.discountTypeSelect.splice(n,1),s.batch.forEach(c=>{("Free Item"==c.typeBatch||"Free Item Invoice"==c.typeBatch)&&this.removeOptionCurrent(s)})}),this.discount.forEach((s,c)=>{0==s.id&&("Free Item"==this.discount[c].typeBatch||"Free Item Invoice"==this.discount[c].typeBatch)&&this.discount.splice(c,1)}),console.warn(this.discount,"discount after remove"),console.log(this.currentItems[n]);let o=this.currentItems[n]?.batch[0]?.selling_price_offline*parseInt(e?.flat_discount)/100;console.log(o);let a=this.currentItems[n]?.batch[0]?.selling_price_offline-o;console.warn(a),this.currentItems[n].batch[0].selling_price_offline=a,this.currentItems[n].discount=o,console.log(this.currentItems,"current items")}else{this.currentItems.forEach(a=>{console.log(a),0==a.id&&("Free Item"==a.type&&this.removeOptionCurrent(a),console.log(this.currentItems,"current item")),a.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),a.quantity>1&&"Qty Per Qty"==a.type&&(this.currentItems[n].quantity=1),(a.type="Discount Invoice")&&(this.discountInvoice=0),a.batch.forEach(s=>{("Free Item"==s.typeBatch||"Free Item Invoice"==s.typeBatch)&&this.removeOptionCurrent(a)})}),this.discount.forEach((a,s)=>{0==a.id&&("Free Item"==this.discount[s].typeBatch||"Free Item Invoice"==this.discount[s].typeBatch)&&this.discount.splice(s,1)}),console.warn(this.discount,"discount after remove");let o=this.currentItems[n]?.batch[0]?.selling_price_offline-parseInt(e?.flat_discount);console.warn(o),this.currentItems[n].batch[0].selling_price_offline=o,this.currentItems[n].discount=parseInt(e?.flat_discount),console.log(this.currentItems,"current items")}}else if("Free-item-on-invoice"==e?.discount_offer_type){if(this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Free Item Invoice",this.finalAmount()>=parseInt(e?.invoice_amount)){this.currentItems.forEach(a=>{console.log(a),0==a.id&&"Free Item"==a.type&&(this.removeOptionCurrent(a),console.log(this.currentItems,"current item")),a.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),a.quantity>1&&"Qty Per Qty"==a.type&&(this.currentItems[n].quantity=1),(a.type="Discount Invoice")&&(this.discountInvoice=0),this.discountTypeSelect[n]&&this.discountTypeSelect.splice(n,1),a.batch.forEach(s=>{"Free Item"==s.typeBatch&&this.removeOptionCurrent(a)})}),this.discount.forEach((a,s)=>{0==a.id&&"Free Item"==this.discount[s].typeBatch&&this.discount.splice(s,1)}),console.warn(this.discount,"discount after remove"),console.warn(e);let o={product:{...e?.free_items,id:e?.free_items?.id||0,title:e?.free_items?.title||"",mrp:e?.free_items?.mrp},batch:[{id:0,mrp:0,cost_price:0,selling_price_offline:0,is_active:!1,additional_discount:0,typeBatch:"Free Item Invoice",discount:[{discount_offer_type:"",discount_parent_id:"",discount_type:"",end_price:"",flat_discount:"",id:0,is_compulsory:!1,name:"",start_price:""}]}],variant_name:"",sku:"",type:"Free Item Invoice",quantity:1,id:0,notes:"",discount:0};this.addToCurrent(o),this.currentItems=this.cartService.getCurrentItems(),this.discount.push(o?.batch[0]),console.warn(o?.batch[0],"batch")}}else if("Discount-on-Invoice"==e?.discount_offer_type){if(this.isDiscountSelect[n]=!0,this.selectedDiscount[n]="Discount Invoice",console.log(e?.discount_offer_type,"discont type"),this.currentItems.forEach(o=>{console.log(o),0==o.id?("Free Item Invoice"==o.type&&this.removeOptionCurrent(o),console.log(this.currentItems,"current item")):(this.currentItems=this.currentItems.filter(a=>0!==a.id),console.log(this.currentItems,"current item")),o.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),o.quantity>1&&"Qty Per Qty"==o.type&&(this.currentItems[n].quantity=1),(o.type="Discount Invoice")&&(this.discountInvoice=0),this.discountTypeSelect[n]&&this.discountTypeSelect.splice(n,1),o.batch.forEach(a=>{("Free Item"==a.typeBatch||"Free Item Invoice"==a.typeBatch)&&this.removeOptionCurrent(o)})}),console.warn(this.currentItems,"discount after remove"),this.discount.forEach((o,a)=>{0==o.id&&("Free Item"==this.discount[a].typeBatch||"Free Item Invoice"==this.discount[a].typeBatch)&&this.discount.splice(a,1)}),console.warn(this.discount,"discount after remove"),this.finalAmount()>=parseInt(e?.invoice_amount))if("%"==e?.discount_type){let o=this.finalAmount()*parseInt(e?.flat_discount)/100;console.log(o,"flat disc");let a=this.finalAmount()-o;console.warn(a),this.discountInvoice=o,this.currentItems[n].type="Discount Invoice"}else{let o=this.finalAmount()-parseInt(e?.flat_discount);console.warn(o),this.discountInvoice=parseInt(e?.flat_discount),this.currentItems[n].type="Discount Invoice"}}else if("Quantity-per-percentage"==e?.discount_offer_type)if(this.selectedDiscount[n]="Qty % Discount","%"==e?.discount_type){this.discountTypeSelect.push(e),this.currentItems.forEach(s=>{console.log(s),0==s.id?"Free Item Invoice"==s.type&&(this.removeOptionCurrent(s),console.log(this.currentItems,"current item")):(this.currentItems=this.currentItems.filter(c=>0!==c.id),console.log(this.currentItems,"current item")),s.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),s.quantity>1&&"Qty Per Qty"==s.type&&(this.currentItems[n].quantity=1),(s.type="Discount Invoice")&&(this.discountInvoice=0),s.batch.forEach(c=>{console.log(c),("Free Item"==c.typeBatch||"Free Item Invoice"==c.typeBatch)&&(console.log(c),this.removeOptionCurrent(s))})}),this.discount.forEach((s,c)=>{0==s.id&&("Free Item"==this.discount[c].typeBatch||"Free Item Invoice"==this.discount[c].typeBatch)&&this.discount.splice(c,1)}),console.warn(this.discount,"discount after remove"),console.log(this.currentItems[n]);let o=this.currentItems[n]?.batch[0]?.selling_price_offline*parseInt(e?.flat_discount)/100;console.log(o),this.flatDiscount[n]=o;let a=this.currentItems[n]?.batch[0]?.selling_price_offline-o;console.warn(a),this.currentItems[n].batch[0].selling_price_offline=a,this.currentItems[n].discount=o,console.log(this.currentItems,"current items")}else{let o=this.currentItems[n]?.batch[0]?.selling_price_offline-parseInt(e?.flat_discount);this.currentItems.forEach(a=>{console.log(a),0==a.id?"Free Item Invoice"==a.type&&(this.removeOptionCurrent(a),console.log(this.currentItems,"current item")):(this.currentItems=this.currentItems.filter(s=>0!==s.id),console.log(this.currentItems,"current item")),a.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),a.quantity>1&&"Qty Per Qty"==a.type&&(this.currentItems[n].quantity=1),(a.type="Discount Invoice")&&(this.discountInvoice=0),a.batch.forEach(s=>{("Free Item"==s.typeBatch||"Free Item Invoice"==s.typeBatch)&&this.removeOptionCurrent(a)})}),this.discount.forEach((a,s)=>{0==a.id&&("Free Item"==this.discount[s].typeBatch||"Free Item Invoice"==this.discount[s].typeBatch)&&this.discount.splice(s,1)}),console.warn(this.discount,"discount after remove"),console.warn(o),this.flatDiscount[n]=e?.flat_discount,this.currentItems[n].batch[0].selling_price_offline=o,this.currentItems[n].discount=parseInt(e?.flat_discount),console.log(this.currentItems,"current items")}else"Quantity-per-quantity"==e?.discount_offer_type&&(this.selectedDiscount[n]="Qty Per Qty",console.warn(e),console.warn(this.currentItems[n]?.quantity),this.discountTypeSelect.push(e),this.currentItems.forEach(o=>{console.log(o),0==o.id?"Free Item Invoice"==o.type&&(this.removeOptionCurrent(o),console.log(this.currentItems,"current item")):(this.currentItems=this.currentItems.filter(a=>0!==a.id),console.log(this.currentItems,"current item")),o.discount>0&&(this.currentItems[n].batch[0].selling_price_offline=this.currentItems[n].batch[0].selling_price_offline+this.currentItems[n].discount,this.currentItems[n].discount=0),o.quantity>1&&"Qty Per Qty"==o.type&&(this.currentItems[n].quantity=1),(o.type="Discount Invoice")&&(this.discountInvoice=0),o.batch.forEach(a=>{("Free Item"==a.typeBatch||"Free Item Invoice"==a.typeBatch)&&this.removeOptionCurrent(o)}),console.log(this.currentItems,"currentItems")}),this.discount.forEach((o,a)=>{0==o.id&&("Free Item"==this.discount[a].typeBatch||"Free Item Invoice"==this.discount[a].typeBatch)&&this.discount.splice(a,1)}),console.warn(this.discount,"discount after remove"),this.currentItems[n]?.quantity>=parseInt(e?.purchase_qty)&&(this.cartService.increaseCurrent(this.currentItems[n]),this.currentItems[n].type="Qty Per Qty",console.log(parseInt(e?.purchase_qty))))}freeItemBatch(e,n){console.warn(e),console.warn("index=>"+n),console.log(this.discount[n],"discount"),console.log(this.discount[n].discount,"discount"),0==this.discount[n].discount[0].id&&this.cartService.productSearch(e.product.sku).subscribe(o=>{o.length>0&&(console.warn(o[0].batch[0]?.discount,"search result"),console.log(this.discount[n]?.discount,"discount batch"),console.log(this.discount[n],"discount"),this.discount[n].discount=o[0].batch[0]?.discount,console.log(this.discount,"discount"),this.discount.forEach((a,s)=>{a?.discount.forEach(c=>{this.discountTyp[s]||(this.discountTyp[s]=[]),this.discountTyp[s].push(c),console.log(this.discountTyp[s])})}))})}openModalDiscount(e){this.discountCartIndex=e,this.cartItems.forEach(a=>{a.batch(s=>{})});const o=document.getElementById(`discountModal-${e}`);o&&(o.classList.add("show"),o.style.display="block")}closeModalDiscount(e){console.log(e,"index");const n=document.getElementById(`discountModal-${e}`);n&&(n.classList.remove("show"),n.style.display="none")}totalDiscountRupees(){let e=this.cartService.getCurrentItems(),n=0;if(e.forEach(o=>{n+=parseFloat(o?.discount)||0}),this.discountInvoice&&(n+=this.discountInvoice),this.couponDiscount&&this.couponUpTo){const o=this.totalAmount();n=Math.min(o*this.couponDiscount/100,this.couponUpTo)}return Number(n).toFixed(2)}addPer(e){if("add"===e){let n=this.amount*this.f_d/100;this.d=n,this.amount-=n,console.log(this.amount),console.log(this.d)}else this.amount+=this.d,this.d=this.d==this.f_d?0:100*this.d/this.amount,console.log(this.amount),console.log(this.d)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(E.p),t.Y36(x.F0),t.Y36(xt.u),t.Y36(l.qu),t.Y36(J._W),t.Y36(yt.r),t.Y36(j.eN),t.Y36(V.b),t.Y36(Ct.K),t.Y36(lt.p),t.Y36(Zt.J),t.Y36(Q),t.Y36(_t.y),t.Y36(J._W))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-pos"]],hostBindings:function(e,n){1&e&&t.NdJ("keydown",function(a){return n.keyEvent(a)},!1,t.evT)},decls:893,vars:146,consts:[[1,"container-fluid","d-flex","flex-column","pos-container",3,"ngClass"],[1,"row","flex-fill",2,"min-height","0",3,"ngClass"],[1,"col-lg-9","col-sm-12","final-left",2,"width","81%"],[1,"final-test"],[1,"row"],[1,"col-sm-4","product-autocomplete"],[1,"form-ex"],["type","text","placeholder","Scan Barcode/Enter Product Name",1,"form-control",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected","keydown"],["auto","matAutocomplete"],["class","is-loading",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-4"],[1,"exam-form"],["type","text","placeholder","Search for a Customer",1,"form-control",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto1","matAutocomplete"],[1,"is-loading"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal1",1,"btn"],["type","text","placeholder","Scan Sales Invoice",1,"form-control",3,"formControl","keyup.enter"],[1,"row","mt-1"],[1,"col-sm-12"],[1,"table-responsive","table-pos"],[1,"table","table-nowrap","mb-0"],["class","table-light",4,"ngFor","ngForOf"],[1,"bottom-pos-left","mt-1"],["type","text","placeholder","Remarks",1,"form-control"],[1,"amt-info-div"],["type","button","data-bs-toggle","modal","data-bs-target","#addChargesModal",1,"btn","btn-dark",3,"click"],["data-bs-toggle","tooltip","title","fa fa-plus",1,"fas","fa-plus"],[1,"flat-disc-wrapper"],[1,"input-group","pos-i-grp"],["id","basic-addon1",1,"input-group-text"],["type","text","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],[1,"checkbox"],["type","checkbox","name","checkbox"],["type","text",1,"form-control","pos-s-input",3,"value"],[1,"btns-row"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal3",1,"btn","btn-dark",3,"disabled","click"],["data-bs-toggle","tooltip","title","fas fa-money-bill",1,"fas","fa-money-bill"],["type","button",1,"btn","btn-dark","holdF6",3,"disabled","click"],["data-bs-toggle","tooltip","title","fas fa-pause",1,"fas","fa-pause"],["type","button","data-bs-toggle","modal","data-bs-target","#upiMethodModal",1,"btn","btn-dark","upiF5",3,"disabled","click"],["data-bs-toggle","tooltip","title","fas fa-forward",1,"fas","fa-forward"],["type","button","data-bs-toggle","modal","data-bs-target","#cardMethodModal",1,"btn","btn-dark","cardF3",3,"disabled","click"],["data-bs-toggle","tooltip","title","fas fa-credit-card",1,"fas","fa-credit-card"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal5",1,"btn","btn-dark","cashF4",3,"click"],["data-bs-toggle","tooltip","title","fas fa-rupee-sign",1,"fas","fa-rupee-sign"],["type","button","data-bs-toggle","modal","data-bs-target","#bankMethodModal",1,"btn","btn-dark","bankF9",3,"disabled","click"],["data-bs-toggle","tooltip","title","fas fa-rupee-sign",1,"fas","fa-university"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal4",1,"btn","btn-dark","mpF12",3,"disabled","click"],["data-bs-toggle","tooltip","title","fas fa-dice-two",1,"fas","fa-dice-two"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal6",1,"btn","btn-dark","w-100",3,"disabled","click"],["data-bs-toggle","tooltip","title","fas fa-gift",1,"fas","fa-gift"],["type","button",1,"btn","btn-dark","w-100",3,"disabled","click"],["data-bs-toggle","tooltip","title","fas fa-exchange-alt",1,"fas","fa-exchange-alt"],["type","button","data-bs-toggle","modal","data-bs-target","#upiPrintMethodModal",1,"btn","btn-dark","w-100","upF10",3,"disabled","click"],["type","button","data-bs-toggle","modal","data-bs-target","#cardPrintMethodModal",1,"btn","btn-dark","w-100","cpF7",3,"disabled","click"],["data-bs-toggle","tooltip","title","fas fa-pause",1,"fas","fa-credit-card"],["type","button","data-bs-toggle","modal","data-bs-target","#printCashModal",1,"btn","btn-dark","w-100","cashprintF8",3,"click"],["data-bs-toggle","tooltip","title","fas fa-credit-card",1,"fas","fa-rupee-sign"],["type","button","data-bs-toggle","modal","data-bs-target","#bankPrintMethodModal",1,"btn","btn-dark","w-100","bankF9",3,"disabled","click"],["type","button","data-bs-toggle","modal",1,"btn","btn-dark","w-100","plF11",3,"disabled","click"],["data-bs-toggle","tooltip","title","fas fa-calendar",1,"fas","fa-calendar"],[1,"col-lg-3","mh-100","col-sm-12",2,"overflow-y","scroll","width","19%"],[1,"row","py-2"],[1,"right-header-pos"],["type","button",1,"btn","btn-dark","btn-sm"],["data-bs-toggle","tooltip","title","fa fa-cog",1,"fa","fa-cog"],["data-bs-toggle","tooltip","title","fa fa-bars",1,"fa","fa-bars"],["data-bs-toggle","tooltip","title","fa fa-trash",1,"fa","fa-trash"],["data-bs-toggle","tooltip","title","fa fa-expand",1,"fa","fa-expand"],["data-bs-toggle","tooltip","title","fa fa-times",1,"fa","fa-times"],["data-bs-toggle","tooltip","title","fa fa-share-square",1,"fa","fa-share-square"],[1,"row","mb-3"],[1,"cus-details-wrapper","right-btns-wrapper"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasExample",1,"btn-pos",3,"click"],[1,"fas","fa-pause"],["type","button","data-bs-toggle","modal","data-bs-target","#posOrdersModal",1,"btn-pos",3,"click"],["data-bs-toggle","tooltip","title","fa fa-th-list",1,"fa","fa-th-list"],[1,"d-flex","align-items-start"],["type","button","data-bs-toggle","modal","data-bs-target","#posPaymentsModal",1,"btn-pos","me-0",3,"click"],["data-bs-toggle","tooltip","title","fa fa-th-list",1,"fa","fa-cash-register"],["data-bs-toggle","modal","data-bs-target","#posPaymentsVoucherModal",1,"p-0","m-0","border-0",3,"click"],[1,"fas","fa-plus","add-icon-wrapper"],["type","button","data-bs-toggle","modal","data-bs-target","#salesModal",1,"btn-pos","me-0",3,"click"],["data-bs-toggle","tooltip","title","fas fa-money-bill",1,"fas","fa-receipt"],["data-bs-toggle","modal","data-bs-target","#posReceiptVoucherModal",1,"p-0","m-0","border-0",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#expenseModal",1,"btn-pos","me-0",3,"click"],["data-bs-toggle","tooltip","title","fas fa-money-bill",1,"fas","fa-money-check"],["data-bs-toggle","modal","data-bs-target","#posExpenseVoucherModal",1,"p-0","m-0","border-0",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#creditNoteModal",1,"btn-pos","me-0",3,"click"],["data-bs-toggle","tooltip","title","fas fa-sticky-note",1,"fas","fa-sticky-note"],["data-bs-toggle","modal","data-bs-target","#posCreditNoteModal",1,"p-0","m-0","border-0",3,"click"],[4,"ngIf"],[1,"cus-details-wrapper"],["id","debitNote",1,"outer","container"],["id","doc-target",1,"pdf-div"],[1,"top","mb-4"],[1,"container"],[1,"col-sm-7"],[1,"d-flex","justify-content-between","align-items-center","top-div",2,"float","inline-start"],[1,"left-top"],["src","assets/dummy/pos.png","alt",""],[1,"gst"],[1,"col-sm-5"],[1,"d-flex","justify-content-between","align-items-center","top-div","my-3",2,"float","inline-end"],[1,"right-top"],[1,"pb-4"],[1,"pdf-table1","mb-4"],[1,"table-responsive"],[1,"table","datanew"],[1,"thone",2,"white-space","normal !important"],[1,"pdf-footer"],["class","spinner-container",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"form-group"],["type","text","placeholder","Cash In Hand",1,"form-control"],[1,"modal-footer","mt-5"],["type","button",1,"btn","btn-dark","modal1BtnPos"],["id","exampleModal1","tabindex","-1","aria-labelledby","exampleModal1Label","aria-hidden","true",1,"modal","fade","modalCusDetails","posmodal"],[1,"modal-dialog","modal-lg","modal-dialog-centered","modal-dialog-scrollable"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","addCusModal",3,"click"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Name","formControlName","name",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","text","placeholder","Mobile No.","formControlName","mobile_no",1,"form-control",3,"input"],["type","text","placeholder","Whatsapp No.","formControlName","whatsapp_no",1,"form-control"],[1,"form-group","mb-0"],["type","date","placeholder","Date Of Birth","formControlName","date_of_birth",1,"form-control"],["type","date","placeholder","Anniversary","formControlName","anniversary_date",1,"form-control"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],["type","button",1,"add-more-details-btn","my-3",3,"click"],[1,"col-sm-12","d-flex","justify-content-center"],["type","submit",1,"btn","btn-dark","modal2BtnPos"],["id","exampleModal2","tabindex","-1","aria-labelledby","exampleModal2Label","aria-hidden","true",1,"modal","fade","modalPayment","posmodal"],["id","exampleModal2Label",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","receiptModalClose"],[1,"d-block"],[1,"row","justify-center"],[1,"radio-payments-modal-wrapper","d-flex","justify-content-around"],["class","form-check",4,"ngFor","ngForOf"],["class","col-sm-12",4,"ngIf"],["class","col-sm-6",4,"ngIf"],[1,"col-sm-6"],["type","number","formControlName","amount_receipt","placeholder","Enter Amount",1,"form-control"],["class","col-sm-8",4,"ngIf"],["class","row",4,"ngIf"],["type","text","formControlName","receipt_remark","placeholder","Enter Remark",1,"form-control"],[1,"row","mt-2"],["class","modal fade modalRedeem posmodal","id","exampleModal3","tabindex","-1","aria-labelledby","exampleModal3Label","aria-hidden","true",4,"ngIf"],["class","modal fade posmodal fullmodal-pos","id","exampleModal4","tabindex","-1","aria-labelledby","exampleModal4Label","aria-hidden","true",3,"ngClass",4,"ngIf"],["class","modal fade posmodal","id","exampleModal5","tabindex","-1","aria-labelledby","exampleModal5Label","aria-hidden","true",4,"ngIf"],["class","modal fade posmodal","id","exampleModal6","tabindex","-1","aria-labelledby","exampleModal6Label","aria-hidden","true",4,"ngIf"],["id","exampleModal7","tabindex","-1","aria-labelledby","exampleModal7Label","aria-hidden","true",1,"modal","fade","posmodal"],["id","exampleModal7Label",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4","px-3"],[1,"modal-footer","d-flex","align-items-center","justify-content-end","p-3"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","close-btn-wrapper","m-0","me-3","p-2",3,"click"],["type","button",1,"btn","btn-dark","p-2","m-0",3,"click"],["id","batchModal","tabindex","-1","aria-labelledby","batchModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","batchModalLabel",1,"modal-title"],[1,"table","mb-0"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-dark","modal1BtnPos",3,"click"],["id","addChargesModal","tabindex","-1","aria-labelledby","addChargesModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","addChargesModalLabel",1,"modal-title"],[1,"me-1","btn","btn-link",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-dark","modal1BtnPos",3,"click"],["id","posOrdersModal","tabindex","-1","aria-labelledby","posOrdersModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],[1,"d-flex","w-100","justify-content-end","my-4"],[1,"pagination-list"],[3,"click"],["href","javascript:void(0)"],[1,"fa","fa-angle-double-left"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"fa","fa-angle-double-right"],["class","modal fade posmodal","id","upiMethodModal","tabindex","-1","aria-labelledby","upiModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade posmodal","id","bankMethodModal","tabindex","-1","aria-labelledby","bankModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade posmodal","id","payLaterMethodModal","tabindex","-1","aria-labelledby","payLaterModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade posmodal","id","cardMethodModal","tabindex","-1","aria-labelledby","cardModalLabel","aria-hidden","true",4,"ngIf"],["tabindex","-1","id","offcanvasExample","aria-labelledby","offcanvasExampleLabel",1,"offcanvas","offcanvas-end","pos-offcanvas"],[1,"offcanvas-header"],["id","offcanvasExampleLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset","holdClose",3,"click"],[1,"offcanvas-body"],["class","row",3,"click",4,"ngFor","ngForOf"],["id","expenseModal","tabindex","-1","aria-labelledby","expenseModalLabel","aria-hidden","true",1,"modal","fade","modalPayment","posmodal"],["id","expenseModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","expenseModalClose",3,"click"],["id","mytable",1,"table","datanew"],[1,"thone",3,"click"],[1,"fa","fa-sort"],["id","salesModal","tabindex","-1","aria-labelledby","salesModalLabel","aria-hidden","true",1,"modal","fade","modalPayment","posmodal"],["id","salesModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","salesModalClose",3,"click"],["id","creditNoteModal","tabindex","-1","aria-labelledby","creditNoteModalLabel","aria-hidden","true",1,"modal","fade","modalPayment","posmodal"],["id","creditNoteModalLabel",1,"modal-title"],[1,"payment-voucher-wrapper"],["id","posPaymentsVoucherModal","tabindex","-1","aria-labelledby","posPaymentsModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","posPaymentsModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","posPaymentVoucher",3,"click"],["id","posExpenseVoucherModal","tabindex","-1","aria-labelledby","posExpenseVoucherModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","posExpenseVoucherModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","posExpenseVoucher",3,"click"],["id","posReceiptVoucherModal","tabindex","-1","aria-labelledby","posReceiptVoucherModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","posReceiptVoucherModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","posReceiptVoucher",3,"click"],["id","posCreditNoteModal","tabindex","-1","aria-labelledby","posCreditNoteModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","posCreditNoteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","posCreditNote",3,"click"],["id","posPaymentsModal","tabindex","-1","aria-labelledby","posPaymentsModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],[1,"progressbar"],["mode","indeterminate","class","progressbar",4,"ngIf"],["type","button","data-bs-dismiss","modal",1,"btn","btn-dark","modal1BtnPos"],["class","modal fade posmodal","id","printCashModal","tabindex","-1","aria-labelledby","printCashModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade posmodal","id","upiPrintMethodModal","tabindex","-1","aria-labelledby","upiPrintModalLabel","aria-hidden","true",4,"ngIf"],["id","multiPayLaterModal","tabindex","-1","aria-labelledby","multiPayLaterModalLabel","aria-hidden","true",1,"modal"],[1,"modal-header","border-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","multiPayLaterModalClose",3,"click"],[3,"ngSubmit"],[1,"form-group","me-3"],[3,"ngModel","ngModelOptions","ngModelChange","change"],["value","","selected","","disabled",""],["class","text-danger",4,"ngIf"],["type","date",1,"transaction-date-wrapper",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","m-0"],[1,"col-6","p-0"],[1,"mb-0"],[1,"col-6","d-flex","align-items-center"],["type","radio","name","option","value","True",1,"input-radio-wrapper",3,"ngModel","ngModelOptions","ngModelChange"],["for","sendReminderYes",1,"form-check-label","ms-2"],["type","radio","name","option","value","False",1,"input-radio-wrapper","ms-3",3,"ngModel","ngModelOptions","ngModelChange"],[1,"row","m-0","mt-3"],[1,"col-sm-12","d-flex","justify-content-end","p-0"],["type","submit",1,"btn","btn-dark","m-0"],["class","modal-backdrop fade show blur-background2",4,"ngIf"],["class","modal fade posmodal","id","cardPrintMethodModal","tabindex","-1","aria-labelledby","cardPrintModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade posmodal","id","bankPrintMethodModal","tabindex","-1","aria-labelledby","bankPrintModalLabel","aria-hidden","true",4,"ngIf"],["id","productDetailsModal","tabindex","-1","aria-labelledby","productDetailsModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","productDetailsModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","productDetailsModalClose",3,"click"],[3,"value"],[1,"table-light"],[1,"product-title-wrapper"],[1,"product-title-div"],[1,"product-title-cart"],["data-bs-toggle","modal","data-bs-target","#productDetailsModal",1,"cart-btn2","cart-btn1",3,"click"],[1,"fas","fa-info-circle"],[1,"cart-btn2",3,"click"],[1,"fas","fa-list"],["class","product-notes",4,"ngIf"],[1,"input-group","pos-i-grp","table-black-grp","qty-input"],["id","basic-addon1",1,"input-group-text","cursor-pointer-pos",3,"click"],["type","text","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"value"],["tabindex","-1","role","dialog","aria-labelledby","addressModalLabel","aria-hidden","true",1,"modal","fade",3,"id"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered",2,"max-width","57%"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"table-cross-btn",3,"click"],[1,"product-notes"],["rows","3","cols","3",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["data-bs-toggle","tooltip","title","ion-information",1,"ion-information","circle",3,"click"],[1,"boder","space-text"],[1,"boder"],["type","button",1,"btn","btn-primary","btn-sm",2,"float","right",3,"click"],["type","button",1,"btn-pos"],[1,"spinner-container"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"alert","alert-danger"],["type","text","placeholder","Address Line1","formControlName","address_line_1",1,"form-control"],["type","text","placeholder","Address Line2","formControlName","address_line_2",1,"form-control"],["formControlName","state",1,"form-select",3,"change"],["value","","disabled","","selected",""],[3,"value","selected",4,"ngFor","ngForOf"],["formControlName","city",1,"form-select",3,"change"],["type","text","placeholder","Pincode","formControlName","pincode",1,"form-control"],["formControlName","gst_type",1,"form-select",3,"change"],["type","text","placeholder","GSTIN","formControlName","gstin",1,"form-control"],[3,"value","selected"],[1,"form-check"],["type","radio","formControlName","voucher_type",1,"form-check-input",3,"value"],[1,"form-check-label"],["type","radio","formControlName","payment_type",1,"form-check-input",3,"value"],["formControlName","payment_mode",1,"form-select"],["disabled","","selected","","value",""],["formControlName","receipt_sales",1,"form-select"],[1,"col-sm-8"],[3,"optionSelected"],["autoReceipt","matAutocomplete"],["type","text","placeholder","Search for a Party",1,"form-control",3,"formControl","matAutocomplete"],["partyReceipt","matAutocomplete"],["formControlName","payment_account",1,"form-select"],["type","text","placeholder","UPI ID","formControlName","upi_id",1,"form-control"],["type","text","placeholder","Account No","formControlName","account_no",1,"form-control"],["type","text","placeholder","Customer Bank Name","formControlName","customer_bank_name",1,"form-control"],["type","number","placeholder","Card Payment Amount","formControlName","card_payment_amount",1,"form-control"],["type","text","placeholder","Card Holder Name","formControlName","card_holder_name",1,"form-control"],["type","number","placeholder","Card Transaction No","formControlName","cart_transactions_no",1,"form-control"],["type","checkbox","formControlName","non_gst"],["id","exampleModal3","tabindex","-1","aria-labelledby","exampleModal3Label","aria-hidden","true",1,"modal","fade","modalRedeem","posmodal"],["id","exampleModal3Label",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","creditRedeemClose"],[1,"col-sm-2"],["type","button",1,"btn","btn-dark","w-100"],[1,"row","mt-4"],[3,"formControl"],[1,"redeem-modal-details"],["type","number","value","0",1,"form-control",3,"formControl"],[1,"redeem-modal-details","mt-2"],[1,"modal-footer","mt-2"],["type","button",1,"btn","btn-dark","modal2BtnPos",3,"click"],[1,"text-danger"],["id","exampleModal4","tabindex","-1","aria-labelledby","exampleModal4Label","aria-hidden","true",1,"modal","fade","posmodal","fullmodal-pos",3,"ngClass"],[1,"modal-dialog","modal-fullscreen"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-dark","paymentModal",3,"click"],[1,"row","flex-fill","full-modal-row",2,"min-height","0"],[1,"col-sm-4","mh-100",2,"overflow-y","hidden"],[1,"left"],[1,"title"],[1,"desc"],[1,"product-detail-box","my-3"],[1,"other-product-details"],[1,"other-product-detail"],[1,"payment-details"],[1,"col-sm-8","mh-100",2,"overflow-y","scroll"],[1,"right"],[1,"total-amt"],[1,"input-group","pos-i-grp","table-black-grp"],[3,"formGroup"],[1,"address-details-wrapper"],[1,"w-100","text-right","my-3"],[1,"p-2","px-3","border-0","btn","btn-dark",3,"click"],[1,"addMore-btn"],[1,"plus-icon"],["formArrayName","addMorePayment",1,"mb-3","pb-3"],["style","border: 1px solid rgba(145, 158, 171, 0.32); margin-top: 10px;",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","mt-3"],["type","button",1,"btn","btn-dark","w-100",3,"click"],["data-bs-toggle","tooltip","title","fa fa-long-arrow-right",1,"fa","fa-arrow-right","ms-1"],[2,"border","1px solid rgba(145, 158, 171, 0.32)","margin-top","10px",3,"formGroupName"],[1,"col-12","d-flex","align-items-center","justify-content-end","mt-2"],["class","btn me-2","style","color: red;",3,"click",4,"ngIf"],[1,"row","m-2"],[1,"col-lg-3","col-sm-3","col-12"],["formControlName","amount","type","text"],["formControlName","receipt_type",1,"form-select",3,"change"],["value","Cash"],["value","Bank"],["value","PayLater"],["class","col-lg-3 col-md-6 col-12",4,"ngIf"],["formControlName","note","type","text"],["class","row m-0",4,"ngIf"],["class","col-lg-3 col-sm-3 col-12",4,"ngIf"],[1,"btn","me-2",2,"color","red",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","28","height","28","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-circle",2,"width","28px","height","28px"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],[1,"col-lg-3","col-md-6","col-12"],["formControlName","payment_account",1,"form-control",3,"change"],["formControlName","transaction_date","type","date",1,"transaction-date-wrapper"],["selected","",3,"value",4,"ngFor","ngForOf"],["formControlName","transaction_id","type","text"],["selected","",3,"value"],["formControlName","days",3,"change"],["type","date","formControlName","date",1,"transaction-date-wrapper"],["id","exampleModal5","tabindex","-1","aria-labelledby","exampleModal5Label","aria-hidden","true",1,"modal","fade","posmodal"],["type","number","placeholder","Cash In Hand",1,"form-control",3,"value"],["type","number","placeholder","Tendered",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","number","disabled","","placeholder","Change",1,"form-control",3,"value"],[1,"col-sm-4","col-12"],[1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"cal-wrapper"],[1,"cal-div-wrapper"],[1,"cal-div",3,"click"],["type","button","class","btn btn-dark mb-2 w-100",3,"click",4,"ngIf"],["type","submit","class","btn btn-dark mb-2 w-100",4,"ngIf"],["id","exampleModal5Close","type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-dark","w-100","cashModalClose",3,"click"],["type","button",1,"btn","btn-dark","mb-2","w-100",3,"click"],["type","submit",1,"btn","btn-dark","mb-2","w-100"],["id","exampleModal6","tabindex","-1","aria-labelledby","exampleModal6Label","aria-hidden","true",1,"modal","fade","posmodal"],["id","exampleModal5Label",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","closeCouponModal"],["couponForm","ngForm"],[1,"col-12"],["type","text","name","coupon_code","placeholder","Enter Coupon Code","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-end","mt-2"],[1,"me-3"],["type","submit",1,"btn","btn-submit","mb-2","w-100"],["id","exampleModal5Close","type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-cancel","w-100"],["type","radio","name","batchProduct",3,"value","ngModel","ngModelOptions","change","ngModelChange"],[1,"form-select",3,"ngModel","ngModelOptions","change","ngModelChange"],[1,"input-group"],["type","text","placeholder","value","aria-label","value","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelOptions","change","ngModelChange"],["id","basic-addon2",1,"input-group-text",3,"click"],["title","fa fa-times",1,"fa","fa-times"],[3,"ngClass","click"],["id","upiMethodModal","tabindex","-1","aria-labelledby","upiModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","upiModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","upiModalClose",3,"click"],["formControlName","payment_account",1,"form-control"],["type","submit",1,"btn","btn-dark"],["id","bankMethodModal","tabindex","-1","aria-labelledby","bankModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","bankModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","bankModalClose",3,"click"],["id","payLaterMethodModal","tabindex","-1","aria-labelledby","payLaterModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","payLaterModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","payLaterModalClose",3,"click"],["formControlName","day",1,"form-select"],["type","date","placeholder","Due Date","formControlName","date",1,"form-control"],[1,"form-group","row"],[1,"col-lg-5"],[1,"col-lg-7"],[1,"form-check","form-check-inline"],["type","radio","formControlName","is_send_reminder","id","reminder_true","value","true",1,"form-check-input"],["for","reminder_true",1,"form-check-label"],["type","radio","formControlName","is_send_reminder","id","reminder_false","value","false",1,"form-check-input"],["for","reminder_false",1,"form-check-label"],["id","cardMethodModal","tabindex","-1","aria-labelledby","cardModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","cardModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","cardModalClose",3,"click"],[1,"row",3,"click"],[1,"on-hold-card"],["type","button",1,"holdRemove",3,"click"],[1,"on-hold-card-header"],[1,"mb-1"],[1,"productimgname"],[2,"line-height","3",3,"routerLink"],[1,"text-center"],["colspan","10"],[1,"center-textt"],["class","payment-voucher-wrapper",4,"ngFor","ngForOf"],[1,"badges",3,"ngClass"],[3,"modalClose"],["mode","indeterminate",1,"progressbar"],["id","printCashModal","tabindex","-1","aria-labelledby","printCashModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","exampleModal5Close","type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-dark","w-100","cashPrintModalClose",3,"click"],["id","upiPrintMethodModal","tabindex","-1","aria-labelledby","upiPrintModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","upiPrintModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","upiPrintModalClose",3,"click"],[1,"modal-backdrop","fade","show","blur-background2"],["id","cardPrintMethodModal","tabindex","-1","aria-labelledby","cardPrintModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","cardPrintModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","cardPrintModalClose",3,"click"],["id","bankPrintMethodModal","tabindex","-1","aria-labelledby","bankPrintModalLabel","aria-hidden","true",1,"modal","fade","posmodal"],["id","bankPrintModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","bankPrintModalClose",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6),t._UZ(7,"input",7),t.TgZ(8,"mat-autocomplete",8,9),t.NdJ("optionSelected",function(a){return n.optionSelected(a)})("keydown",function(a){return n.onInputKeydown(a)}),t.YNc(10,fi,2,0,"mat-option",10),t.YNc(11,vi,2,0,"mat-option",10),t.YNc(12,xi,2,1,"mat-option",10),t.YNc(13,yi,2,2,"mat-option",11),t.qZA()()(),t.TgZ(14,"div",12)(15,"form",13),t._UZ(16,"input",14),t.TgZ(17,"mat-autocomplete",15,16),t.NdJ("optionSelected",function(a){return n.optionSelected1(a)}),t.TgZ(19,"mat-option",17)(20,"button",18),t._uU(21,"Add New Customer"),t.qZA()(),t.YNc(22,Ci,2,0,"mat-option",10),t.YNc(23,Zi,2,0,"mat-option",10),t.YNc(24,bi,2,2,"mat-option",11),t.qZA()()(),t.TgZ(25,"div",12)(26,"input",19),t.NdJ("keyup.enter",function(a){return n.onSaleInvoice(a)}),t.qZA()()(),t.TgZ(27,"div",20)(28,"div",21)(29,"div",22)(30,"table",23)(31,"thead")(32,"tr")(33,"th"),t._uU(34,"#"),t.qZA(),t.TgZ(35,"th"),t._uU(36,"Itemcode"),t.qZA(),t.TgZ(37,"th"),t._uU(38,"Product"),t.qZA(),t.TgZ(39,"th"),t._uU(40,"Qty"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"MRP"),t.qZA(),t.TgZ(43,"th"),t._uU(44,"Unit Cost"),t.qZA(),t.TgZ(45,"th"),t._uU(46,"Discount %"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"Add Disc"),t.qZA(),t.TgZ(49,"th"),t._uU(50,"Tax"),t.qZA(),t.TgZ(51,"th"),t._uU(52,"Net Amount"),t.qZA(),t._UZ(53,"th"),t.qZA()(),t.TgZ(54,"tbody"),t.YNc(55,ki,56,18,"tr",24),t.qZA()()()()(),t.TgZ(56,"div",25)(57,"div",4)(58,"div",21),t._UZ(59,"input",26),t.qZA()(),t.TgZ(60,"div",20)(61,"div",21)(62,"div",27)(63,"ul")(64,"li")(65,"p"),t._uU(66),t.qZA(),t.TgZ(67,"h5"),t._uU(68,"Quantity"),t.qZA()(),t.TgZ(69,"li")(70,"p"),t._uU(71),t.qZA(),t.TgZ(72,"h5"),t._uU(73,"MRP"),t.qZA()(),t.TgZ(74,"li")(75,"p"),t._uU(76),t.qZA(),t.TgZ(77,"h5"),t._uU(78,"Tax Amount"),t.qZA()(),t.TgZ(79,"li")(80,"p"),t._uU(81),t.qZA(),t.TgZ(82,"button",28),t.NdJ("click",function(){return n.playBeepSound()}),t._uU(83," Add Charges "),t._UZ(84,"i",29),t.qZA()(),t.TgZ(85,"li")(86,"p"),t._uU(87),t.qZA(),t.TgZ(88,"h5"),t._uU(89,"Discount "),t.qZA()(),t.TgZ(90,"li")(91,"div",30)(92,"div",31)(93,"span",32),t._uU(94,"%"),t.qZA(),t._UZ(95,"input",33),t.qZA(),t.TgZ(96,"div",34)(97,"label"),t._UZ(98,"input",35),t.qZA()()(),t.TgZ(99,"h5"),t._uU(100,"Flat Discount %"),t.qZA()(),t.TgZ(101,"li"),t._UZ(102,"input",36),t.TgZ(103,"h5"),t._uU(104,"Round Off"),t.qZA()(),t.TgZ(105,"li")(106,"p"),t._uU(107),t.qZA(),t.TgZ(108,"h5"),t._uU(109,"Amount"),t.qZA()()()()()(),t.TgZ(110,"div",20)(111,"div",21)(112,"div",37)(113,"button",38),t.NdJ("click",function(){return n.playBeepSound("btn"),n.redeemCredit()}),t._UZ(114,"i",39),t._uU(115," Redeem Credit"),t.qZA(),t.TgZ(116,"button",40),t.NdJ("click",function(){return n.holdBill()}),t._UZ(117,"i",41),t._uU(118," Hold(F6)"),t.qZA(),t.TgZ(119,"button",42),t.NdJ("click",function(){return n.playBeepSound("btn"),n.upiModalOpen()}),t._UZ(120,"i",43),t._uU(121," UPI(F5)"),t.qZA(),t.TgZ(122,"button",44),t.NdJ("click",function(){return n.playBeepSound("btn"),n.cardModalOpen()}),t._UZ(123,"i",45),t._uU(124," Card(F3)"),t.qZA(),t.TgZ(125,"button",46),t.NdJ("click",function(){return n.playBeepSound("btn")}),t._UZ(126,"i",47),t._uU(127," Cash(F4)"),t.qZA(),t.TgZ(128,"button",48),t.NdJ("click",function(){return n.playBeepSound("btn"),n.bankModalOpen()}),t._UZ(129,"i",49),t._uU(130," Bank(F9)"),t.qZA(),t.TgZ(131,"button",50),t.NdJ("click",function(){return n.playBeepSound("btn"),n.multiplePay()}),t._UZ(132,"i",51),t._uU(133," Multiple Pay(F12)"),t.qZA()()()(),t.TgZ(134,"div",20)(135,"div",21)(136,"div",37)(137,"button",52),t.NdJ("click",function(){return n.playBeepSound("btn")}),t._UZ(138,"i",53),t._uU(139," Apply Coupon"),t.qZA(),t.TgZ(140,"button",54),t.NdJ("click",function(){return n.playBeepSound("sale"),n.saleReturn()}),t._UZ(141,"i",55),t._uU(142," Sale Return"),t.qZA(),t.TgZ(143,"button",54),t.NdJ("click",function(){return n.holdAndPrint()}),t._UZ(144,"i",41),t._uU(145," Hold&Print"),t.qZA(),t.TgZ(146,"button",56),t.NdJ("click",function(){return n.playBeepSound("btn"),n.upiModalOpen()}),t._UZ(147,"i",43),t._uU(148," UPI&Print(F10)"),t.qZA(),t.TgZ(149,"button",57),t.NdJ("click",function(){return n.playBeepSound("btn"),n.cardModalOpen()}),t._UZ(150,"i",58),t._uU(151," Card&Print(F7)"),t.qZA(),t.TgZ(152,"button",59),t.NdJ("click",function(){return n.playBeepSound("btn")}),t._UZ(153,"i",60),t._uU(154," Cash&Print(F8)"),t.qZA(),t.TgZ(155,"button",61),t.NdJ("click",function(){return n.playBeepSound("btn"),n.bankModalOpen()}),t._UZ(156,"i",49),t._uU(157," Bank&Print"),t.qZA(),t.TgZ(158,"button",62),t.NdJ("click",function(){return n.playBeepSound("btn"),n.payLater()}),t._UZ(159,"i",63),t._uU(160," Pay Later(F11)"),t.qZA()()()()()()(),t.TgZ(161,"div",64)(162,"div",65)(163,"div",66)(164,"button",67),t._UZ(165,"i",68),t.qZA(),t.TgZ(166,"button",67),t._UZ(167,"i",69),t.qZA(),t.TgZ(168,"button",67),t._UZ(169,"i",70),t.qZA(),t.TgZ(170,"button",67),t._UZ(171,"i",71),t.qZA(),t.TgZ(172,"button",67),t._UZ(173,"i",72),t.qZA(),t.TgZ(174,"button",67),t._UZ(175,"i",73),t.qZA()()(),t.TgZ(176,"div",74)(177,"div",21)(178,"div",75)(179,"ul")(180,"li")(181,"button",76),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(182,"i",77),t._uU(183," Hold Bill"),t.qZA()(),t.TgZ(184,"li")(185,"button",78),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(186,"i",79),t._uU(187," Orders"),t.qZA()(),t.TgZ(188,"li")(189,"div",80)(190,"button",81),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(191,"i",82),t._uU(192," Payments"),t.qZA(),t.TgZ(193,"button",83),t.NdJ("click",function(){return n.playBeepSound(),n.isPaymentModalShown=!0}),t._UZ(194,"i",84),t.qZA()()(),t.TgZ(195,"li")(196,"div",80)(197,"button",85),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(198,"i",86),t._uU(199," Receipts"),t.qZA(),t.TgZ(200,"button",87),t.NdJ("click",function(){return n.playBeepSound(),n.isReceiptModalShown=!0}),t._UZ(201,"i",84),t.qZA()()(),t.TgZ(202,"li")(203,"div",80)(204,"button",88),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(205,"i",89),t._uU(206," Expense"),t.qZA(),t.TgZ(207,"button",90),t.NdJ("click",function(){return n.playBeepSound(),n.isExpanseModalShown=!0}),t._UZ(208,"i",84),t.qZA()()(),t.TgZ(209,"li")(210,"div",80)(211,"button",91),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(212,"i",92),t._uU(213," Credit Notes"),t.qZA(),t.TgZ(214,"button",93),t.NdJ("click",function(){return n.playBeepSound(),n.isCreditNoteModalShown=!0}),t._UZ(215,"i",84),t.qZA()()(),t.YNc(216,Ui,4,0,"li",94),t.qZA()()()(),t.TgZ(217,"div",74)(218,"div",21)(219,"div",95)(220,"h4"),t._uU(221,"Customer Details"),t.qZA(),t.TgZ(222,"ul")(223,"li")(224,"p"),t._uU(225," Last Visited:- "),t.qZA()(),t.TgZ(226,"li")(227,"p"),t._uU(228," Last Bill Amount:- "),t.qZA()(),t.TgZ(229,"li")(230,"p"),t._uU(231," Most Purchased Item:- "),t.qZA()(),t.TgZ(232,"li")(233,"p"),t._uU(234," Closing:- "),t.qZA()(),t.TgZ(235,"li")(236,"p"),t._uU(237," Total Purchase:- "),t.qZA()(),t.TgZ(238,"li")(239,"p"),t._uU(240," Loyalty Points:- "),t.qZA()(),t.TgZ(241,"li")(242,"p"),t._uU(243," Membership:- "),t.qZA()()()()()()()()(),t.TgZ(244,"div",96)(245,"div",97)(246,"div",98)(247,"div",99)(248,"div",21)(249,"div",4)(250,"div",100)(251,"div",101)(252,"div",102),t._UZ(253,"img",103),t.TgZ(254,"p",104)(255,"span"),t._uU(256,"GST: "),t.qZA(),t._uU(257),t.qZA(),t.TgZ(258,"p")(259,"span"),t._uU(260,"Name"),t.qZA(),t._uU(261),t.qZA(),t.TgZ(262,"p")(263,"span"),t._uU(264,"Address: "),t.qZA(),t._uU(265),t.qZA(),t.TgZ(266,"p")(267,"span"),t._uU(268,"Phone"),t.qZA(),t._uU(269),t.qZA(),t.TgZ(270,"p")(271,"span"),t._uU(272,"Email"),t.qZA(),t._uU(273),t.qZA()()()(),t.TgZ(274,"div",105)(275,"div",106)(276,"div",107)(277,"h1",108),t._uU(278,"Invoice"),t.qZA(),t.TgZ(279,"p")(280,"span"),t._uU(281,"Invoice Date"),t.qZA(),t._uU(282),t.ALo(283,"date"),t.qZA(),t.TgZ(284,"p")(285,"span"),t._uU(286,"Invoice NO"),t.qZA(),t._uU(287),t.qZA(),t.TgZ(288,"p")(289,"span"),t._uU(290,"Expiry Date"),t.qZA(),t._uU(291),t.ALo(292,"date"),t.qZA()()()()()()()(),t.TgZ(293,"div",109)(294,"div",99)(295,"div",21)(296,"div",110)(297,"table",111)(298,"thead")(299,"tr")(300,"th",112),t._uU(301,"Payment Mode"),t.qZA(),t.TgZ(302,"th",112),t._uU(303,"Party Name"),t.qZA(),t.TgZ(304,"th",112),t._uU(305,"Total Amount"),t.qZA(),t.TgZ(306,"th",112),t._uU(307,"Created Date"),t.qZA(),t.TgZ(308,"th",112),t._uU(309,"Total Tax"),t.qZA()()(),t.TgZ(310,"tbody")(311,"tr")(312,"td"),t._uU(313),t.qZA(),t.TgZ(314,"td"),t._uU(315),t.qZA(),t.TgZ(316,"td"),t._uU(317),t.qZA(),t.TgZ(318,"td"),t._uU(319),t.ALo(320,"date"),t.qZA(),t.TgZ(321,"td"),t._uU(322),t.qZA()()()()()()()(),t.TgZ(323,"div",113)(324,"p"),t._uU(325,"Please make cheques payable to "),t.TgZ(326,"span"),t._uU(327,"PV LTD."),t.qZA()()()()(),t.YNc(328,Oi,4,0,"div",114),t.TgZ(329,"div",115)(330,"div",116)(331,"div",117)(332,"div",118)(333,"h5",119),t._uU(334,"Cash In Hand Details"),t.qZA(),t.TgZ(335,"button",120),t._UZ(336,"i",72),t.qZA()(),t.TgZ(337,"div",121)(338,"div",122)(339,"label"),t._uU(340,"Cash In Hand"),t.qZA(),t._UZ(341,"input",123),t.qZA()(),t.TgZ(342,"div",124)(343,"button",125),t._uU(344,"Start Selling"),t.qZA()()()()(),t.TgZ(345,"div",126)(346,"div",127)(347,"div",117)(348,"div",118)(349,"h5",119),t._uU(350,"Add Customer Details"),t.qZA(),t.TgZ(351,"button",128),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(352,"i",72),t.qZA()(),t.TgZ(353,"div",121)(354,"form",129),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(355,"div",4)(356,"div",12)(357,"div",122)(358,"label"),t._uU(359,"Name"),t.qZA(),t._UZ(360,"input",130),t.qZA(),t.YNc(361,Si,2,1,"div",131),t.qZA(),t.TgZ(362,"div",12)(363,"div",122)(364,"label"),t._uU(365,"Mobile No."),t.qZA(),t.TgZ(366,"input",132),t.NdJ("input",function(a){return n.handleMobileInputChange(a)}),t.qZA()(),t.YNc(367,wi,2,0,"div",131),t.YNc(368,Qi,3,2,"div",131),t.qZA(),t.TgZ(369,"div",12)(370,"div",122)(371,"label"),t._uU(372,"Whatsapp No."),t.qZA(),t._UZ(373,"input",133),t.qZA(),t.YNc(374,Bi,3,2,"div",131),t.qZA()(),t.TgZ(375,"div",4)(376,"div",12)(377,"div",134)(378,"label"),t._uU(379,"Date Of Birth"),t.qZA(),t._UZ(380,"input",135),t.qZA(),t.YNc(381,Ei,2,1,"div",131),t.qZA(),t.TgZ(382,"div",12)(383,"div",134)(384,"label"),t._uU(385,"Anniversary Date"),t.qZA(),t._UZ(386,"input",136),t.qZA(),t.YNc(387,Gi,2,1,"div",131),t.qZA(),t.TgZ(388,"div",12)(389,"div",122)(390,"label"),t._uU(391,"Email"),t.qZA(),t._UZ(392,"input",137),t.qZA(),t.YNc(393,Ki,3,2,"div",131),t.qZA()(),t.TgZ(394,"button",138),t.NdJ("click",function(){return n.addMoreDetailsHandler()}),t._uU(395),t.qZA(),t.YNc(396,ma,54,10,"div",94),t.TgZ(397,"div",4)(398,"div",139)(399,"button",140),t._uU(400,"Save"),t.qZA()()()()()()()(),t.TgZ(401,"div",141)(402,"div",116)(403,"div",117)(404,"div",118)(405,"h5",142),t._uU(406,"Payment"),t.qZA(),t.TgZ(407,"button",143),t._UZ(408,"i",72),t.qZA()(),t.TgZ(409,"div",121)(410,"form",129),t.NdJ("ngSubmit",function(){return n.receiptFormSubmit()}),t.TgZ(411,"div",4)(412,"div",21)(413,"div",122)(414,"label",144),t._uU(415,"Select Voucher Type"),t.qZA(),t.TgZ(416,"div",145)(417,"div",21)(418,"div",146),t.YNc(419,ga,4,2,"div",147),t.qZA()()()(),t.YNc(420,fa,2,1,"div",131),t.qZA()(),t.TgZ(421,"div",4),t.YNc(422,Ca,7,2,"div",148),t.YNc(423,Ta,9,2,"div",149),t.YNc(424,Ma,9,2,"div",149),t.TgZ(425,"div",150)(426,"div",122)(427,"label"),t._uU(428,"Amount"),t.qZA(),t._UZ(429,"input",151),t.qZA(),t.YNc(430,ka,2,1,"div",131),t.qZA(),t.TgZ(431,"div",4),t.YNc(432,Va,12,7,"div",152),t.YNc(433,Ra,12,8,"div",152),t.qZA()(),t.YNc(434,er,12,4,"div",153),t.YNc(435,dr,25,4,"div",153),t.YNc(436,pr,7,1,"div",153),t.TgZ(437,"div",4)(438,"div",21)(439,"div",134)(440,"label"),t._uU(441,"Remark"),t.qZA(),t._UZ(442,"input",154),t.qZA(),t.YNc(443,gr,2,1,"div",131),t.qZA()(),t.TgZ(444,"div",155)(445,"div",139)(446,"button",140),t._uU(447,"Save"),t.qZA()()()()()()()(),t.YNc(448,Cr,49,9,"div",156),t.YNc(449,Yr,72,10,"div",157),t.YNc(450,$r,93,13,"div",158),t.YNc(451,Kr,25,2,"div",159),t.TgZ(452,"div",160)(453,"div",116)(454,"div",117)(455,"div",118)(456,"h5",161),t._uU(457,"Sync Orders"),t.qZA(),t.TgZ(458,"button",162),t.NdJ("click",function(){return n.closeSyncModal()}),t._UZ(459,"i",72),t.qZA()(),t.TgZ(460,"div",163)(461,"h4"),t._uU(462,"Do you want to sync your orders?"),t.qZA()(),t.TgZ(463,"div",164)(464,"button",165),t.NdJ("click",function(){return n.closeSyncModal()}),t._uU(465,"Close"),t.qZA(),t.TgZ(466,"button",166),t.NdJ("click",function(){return n.syncOfflineOrder()}),t._uU(467,"Sync Orders"),t.qZA()()()()(),t.TgZ(468,"div",167)(469,"div",127)(470,"div",117)(471,"div",118)(472,"h5",168),t._uU(473,"Select Product Batch"),t.qZA(),t.TgZ(474,"button",162),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(475,"i",72),t.qZA()(),t.TgZ(476,"div",121)(477,"table",169)(478,"thead")(479,"tr"),t._UZ(480,"th"),t.TgZ(481,"th"),t._uU(482,"MRP"),t.qZA(),t.TgZ(483,"th"),t._uU(484,"Selling Price Offline"),t.qZA(),t.TgZ(485,"th"),t._uU(486,"Stock"),t.qZA(),t.TgZ(487,"th"),t._uU(488,"Minimum Stock Threshold"),t.qZA(),t.TgZ(489,"th"),t._uU(490,"Max Order Quantity"),t.qZA(),t.TgZ(491,"th"),t._uU(492,"Sale Tax"),t.qZA(),t.TgZ(493,"th"),t._uU(494,"Additional Discount %"),t.qZA()()(),t.TgZ(495,"tbody"),t.ynx(496),t.YNc(497,jr,18,11,"tr",170),t.BQk(),t.qZA()()(),t.TgZ(498,"div",171)(499,"button",172),t.NdJ("click",function(){return n.confirmBatch()}),t._uU(500,"Confirm"),t.qZA()()()()(),t.TgZ(501,"div",173)(502,"div",127)(503,"div",117)(504,"div",118)(505,"h5",174),t._uU(506,"Add Additional Charges"),t.qZA(),t.TgZ(507,"button",162),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(508,"i",72),t.qZA()(),t.TgZ(509,"div",121)(510,"table",169)(511,"thead")(512,"tr")(513,"th"),t._uU(514,"Additional Charge"),t.qZA(),t.TgZ(515,"th"),t._uU(516,"Value"),t.qZA(),t.TgZ(517,"th"),t._uU(518,"Tax"),t.qZA(),t.TgZ(519,"th"),t._uU(520,"Total"),t.qZA(),t._UZ(521,"th"),t.qZA()(),t.TgZ(522,"tbody"),t.YNc(523,Xr,21,13,"tr",170),t.qZA(),t.TgZ(524,"tfoot")(525,"th")(526,"button",175),t.NdJ("click",function(){return n.addRowToCAC()}),t._uU(527,"Add More Additional Charge"),t.qZA()(),t._UZ(528,"th")(529,"th"),t.TgZ(530,"th"),t._uU(531),t.qZA(),t._UZ(532,"th"),t.qZA()()(),t.TgZ(533,"div",124)(534,"button",176),t.NdJ("click",function(){return n.playBeepSound()}),t._uU(535,"Confirm"),t.qZA()()()()(),t.TgZ(536,"div",177)(537,"div",127)(538,"div",117)(539,"div",118)(540,"h5",174),t._uU(541,"POS Orders"),t.qZA(),t.TgZ(542,"button",162),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(543,"i",72),t.qZA()(),t.TgZ(544,"div",121)(545,"table",169)(546,"thead")(547,"tr")(548,"th"),t._uU(549,"Invoice No."),t.qZA(),t.TgZ(550,"th"),t._uU(551,"Date"),t.qZA(),t.TgZ(552,"th"),t._uU(553,"Customer Name"),t.qZA(),t.TgZ(554,"th"),t._uU(555,"Customer Ph.No"),t.qZA(),t.TgZ(556,"th"),t._uU(557,"Total Amt"),t.qZA(),t.TgZ(558,"th"),t._uU(559,"Due Amt"),t.qZA(),t.TgZ(560,"th"),t._uU(561,"Payment Mode"),t.qZA()()(),t.TgZ(562,"tbody"),t.YNc(563,ts,15,7,"tr",170),t.qZA()()(),t.TgZ(564,"div",171)(565,"div",178)(566,"ul",179)(567,"li",180),t.NdJ("click",function(){return n.page>1&&n.pageChange(n.page-1)}),t.TgZ(568,"a",181),t._UZ(569,"i",182),t._uU(570," Previous "),t.qZA()(),t.YNc(571,ns,3,4,"li",183),t.TgZ(572,"li",180),t.NdJ("click",function(){return n.page<n.getTotalPages()&&n.pageChange(n.page+1)}),t.TgZ(573,"a",181),t._uU(574," Next "),t._UZ(575,"i",184),t.qZA()()()(),t.TgZ(576,"button",176),t.NdJ("click",function(){return n.playBeepSound()}),t._uU(577,"Close"),t.qZA()()()()(),t.YNc(578,ss,36,5,"div",185),t.YNc(579,ms,43,7,"div",186),t.YNc(580,Zs,44,5,"div",187),t.YNc(581,qs,36,5,"div",188),t.TgZ(582,"div",189)(583,"div",190)(584,"h5",191),t._uU(585,"On Hold"),t.qZA(),t.TgZ(586,"button",192),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(587,"i",72),t.qZA()(),t.TgZ(588,"div",193),t.YNc(589,Ns,15,4,"div",194),t.qZA()(),t.TgZ(590,"div",195)(591,"div",127)(592,"div",117)(593,"div",118)(594,"h5",196),t._uU(595,"Expense"),t.qZA(),t.TgZ(596,"button",197),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(597,"i",72),t.qZA()(),t.TgZ(598,"div",121)(599,"div",110)(600,"table",198)(601,"thead")(602,"tr")(603,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(604,"Sr. No."),t._UZ(605,"i",200),t.qZA(),t.TgZ(606,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(607,"Party"),t._UZ(608,"i",200),t.qZA(),t.TgZ(609,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(610,"Expense Voucher No."),t._UZ(611,"i",200),t.qZA(),t.TgZ(612,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(613,"Refrence Bill No."),t._UZ(614,"i",200),t.qZA(),t.TgZ(615,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(616,"Date"),t._UZ(617,"i",200),t.qZA(),t.TgZ(618,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(619,"Sub Total"),t._UZ(620,"i",200),t.qZA(),t.TgZ(621,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(622,"Total"),t._UZ(623,"i",200),t.qZA()()(),t.YNc(624,Is,4,11,"tbody",94),t.YNc(625,ks,5,0,"tbody",94),t.qZA()()()()()(),t.TgZ(626,"div",201)(627,"div",127)(628,"div",117)(629,"div",118)(630,"h5",202),t._uU(631,"Receipt"),t.qZA(),t.TgZ(632,"button",203),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(633,"i",72),t.qZA()(),t.TgZ(634,"div",121)(635,"div",110)(636,"table",198)(637,"thead")(638,"tr")(639,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(640,"Sr. No."),t._UZ(641,"i",200),t.qZA(),t.TgZ(642,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(643,"Account"),t._UZ(644,"i",200),t.qZA(),t.TgZ(645,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(646,"Reciept Type"),t._UZ(647,"i",200),t.qZA(),t.TgZ(648,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(649,"Mode Type"),t._UZ(650,"i",200),t.qZA(),t.TgZ(651,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(652,"Voucher No."),t._UZ(653,"i",200),t.qZA(),t.TgZ(654,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(655,"Payer"),t._UZ(656,"i",200),t.qZA(),t.TgZ(657,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(658,"Payment"),t._UZ(659,"i",200),t.qZA(),t.TgZ(660,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(661,"Date"),t._UZ(662,"i",200),t.qZA(),t.TgZ(663,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(664,"Transaction Date"),t._UZ(665,"i",200),t.qZA(),t.TgZ(666,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(667,"Transaction Id"),t._UZ(668,"i",200),t.qZA(),t.TgZ(669,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(670,"Amount"),t._UZ(671,"i",200),t.qZA()()(),t.YNc(672,Os,3,5,"tbody",94),t.YNc(673,Fs,5,0,"tbody",94),t.qZA()()()()()(),t.TgZ(674,"div",204)(675,"div",127)(676,"div",117)(677,"div",118)(678,"h5",205),t._uU(679,"Credit Notes"),t.qZA(),t.TgZ(680,"button",203),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(681,"i",72),t.qZA()(),t.TgZ(682,"div",121)(683,"div",110)(684,"table",198)(685,"thead")(686,"tr",206)(687,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(688,"Sr. No."),t._UZ(689,"i",200),t.qZA(),t.TgZ(690,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(691,"Account"),t._UZ(692,"i",200),t.qZA(),t.TgZ(693,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(694,"Credit Note Date"),t._UZ(695,"i",200),t.qZA(),t.TgZ(696,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(697,"Credit Note No"),t._UZ(698,"i",200),t.qZA(),t.TgZ(699,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(700,"Sales Bill"),t._UZ(701,"i",200),t.qZA(),t.TgZ(702,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(703,"Reason"),t._UZ(704,"i",200),t.qZA(),t.TgZ(705,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(706,"Round off "),t._UZ(707,"i",200),t.qZA(),t.TgZ(708,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(709,"Tax "),t._UZ(710,"i",200),t.qZA(),t.TgZ(711,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(712,"Total "),t._UZ(713,"i",200),t.qZA(),t.TgZ(714,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(715,"Status "),t._UZ(716,"i",200),t.qZA()()(),t.YNc(717,Js,2,1,"tbody",94),t.YNc(718,Vs,5,0,"tbody",94),t.qZA()()()()()(),t.TgZ(719,"div",207)(720,"div",127)(721,"div",117)(722,"div",118)(723,"h5",208),t._uU(724,"Payment Voucher Add"),t.qZA(),t.TgZ(725,"button",209),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(726,"i",72),t.qZA()(),t.TgZ(727,"div",121),t.YNc(728,Qs,2,0,"div",94),t.qZA()()()(),t.TgZ(729,"div",210)(730,"div",127)(731,"div",117)(732,"div",118)(733,"h5",211),t._uU(734,"Expense Voucher Add"),t.qZA(),t.TgZ(735,"button",212),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(736,"i",72),t.qZA()(),t.TgZ(737,"div",121),t.YNc(738,Ds,2,0,"div",94),t.qZA()()()(),t.TgZ(739,"div",213)(740,"div",127)(741,"div",117)(742,"div",118)(743,"h5",214),t._uU(744,"Reciept Voucher Add"),t.qZA(),t.TgZ(745,"button",215),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(746,"i",72),t.qZA()(),t.TgZ(747,"div",121),t.YNc(748,Ys,2,0,"div",94),t.qZA()()()(),t.TgZ(749,"div",216)(750,"div",127)(751,"div",117)(752,"div",118)(753,"h5",217),t._uU(754,"Add Credit Note"),t.qZA(),t.TgZ(755,"button",218),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(756,"i",72),t.qZA()(),t.TgZ(757,"div",121),t.YNc(758,Bs,2,0,"div",94),t.qZA()()()(),t.TgZ(759,"div",219)(760,"div",127)(761,"div",117)(762,"div",118)(763,"h5",208),t._uU(764,"Payments"),t.qZA(),t.TgZ(765,"button",162),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(766,"i",72),t.qZA()(),t.TgZ(767,"div",121)(768,"div",122)(769,"div",110)(770,"table",198)(771,"thead")(772,"tr",206)(773,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(774,"Sr. No."),t._UZ(775,"i",200),t.qZA(),t.TgZ(776,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(777,"Supplier"),t._UZ(778,"i",200),t.qZA(),t.TgZ(779,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(780,"Payment Type"),t._UZ(781,"i",200),t.qZA(),t.TgZ(782,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(783,"Mode Type"),t._UZ(784,"i",200),t.qZA(),t.TgZ(785,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(786,"Voucher No."),t._UZ(787,"i",200),t.qZA(),t.TgZ(788,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(789,"Account"),t._UZ(790,"i",200),t.qZA(),t.TgZ(791,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(792,"Payment"),t._UZ(793,"i",200),t.qZA(),t.TgZ(794,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(795,"Date"),t._UZ(796,"i",200),t.qZA(),t.TgZ(797,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(798,"Transaction Date"),t._UZ(799,"i",200),t.qZA(),t.TgZ(800,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(801,"Transaction Id"),t._UZ(802,"i",200),t.qZA(),t.TgZ(803,"th",199),t.NdJ("click",function(){return n.sort("id")}),t._uU(804,"Amount"),t._UZ(805,"i",200),t.qZA()()(),t.YNc(806,Es,4,11,"tbody",94),t.YNc(807,Rs,5,0,"tbody",94),t.qZA(),t.TgZ(808,"div",220),t.YNc(809,Gs,1,0,"mat-progress-bar",221),t.qZA()()(),t.TgZ(810,"div",171)(811,"button",222),t._uU(812,"Close"),t.qZA()()()()()(),t.YNc(813,js,93,11,"div",223),t.YNc(814,el,36,5,"div",224),t.TgZ(815,"div",225)(816,"div",116)(817,"div",117)(818,"div",226)(819,"button",227),t.NdJ("click",function(){return n.playBeepSound(),n.closePayLaterModal()}),t._UZ(820,"i",72),t.qZA()(),t.TgZ(821,"div",121)(822,"form",228),t.NdJ("ngSubmit",function(){return n.submitMultiPayLater()}),t.TgZ(823,"div",229)(824,"label"),t._uU(825,"Payment Terms:"),t.qZA(),t.TgZ(826,"select",230),t.NdJ("ngModelChange",function(a){return n.payment_terms=a})("change",function(a){return n.onPaymentTermChange(a.target.value)}),t.TgZ(827,"option",231),t._uU(828,"Select days "),t.qZA(),t.YNc(829,nl,2,2,"option",11),t.qZA(),t.YNc(830,ol,2,0,"span",232),t.qZA(),t.TgZ(831,"div",229)(832,"label"),t._uU(833,"Due Date:"),t.qZA(),t.TgZ(834,"input",233),t.NdJ("ngModelChange",function(a){return n.due_date=a}),t.qZA(),t.YNc(835,il,2,0,"span",232),t.qZA(),t.TgZ(836,"div",234)(837,"div",235)(838,"div",134)(839,"label",236),t._uU(840,"Send Reminder"),t.qZA()()(),t.TgZ(841,"div",237)(842,"input",238),t.NdJ("ngModelChange",function(a){return n.selectedReminder=a}),t.qZA(),t.TgZ(843,"label",239),t._uU(844,"Yes"),t.qZA(),t.TgZ(845,"input",240),t.NdJ("ngModelChange",function(a){return n.selectedReminder=a}),t.qZA(),t.TgZ(846,"label",239),t._uU(847,"No"),t.qZA()(),t.YNc(848,al,2,0,"span",232),t.qZA(),t.TgZ(849,"div",241)(850,"div",242)(851,"button",243),t._uU(852,"Submit"),t.qZA()()()()()()()(),t.YNc(853,rl,1,0,"div",244),t.YNc(854,ul,36,5,"div",245),t.YNc(855,vl,43,7,"div",246),t.TgZ(856,"div",247)(857,"div",116)(858,"div",117)(859,"div",118)(860,"h5",248),t._uU(861,"Product Details"),t.qZA(),t.TgZ(862,"button",249),t.NdJ("click",function(){return n.playBeepSound()}),t._UZ(863,"i",72),t.qZA()(),t.TgZ(864,"div",121)(865,"table",169)(866,"thead")(867,"tr")(868,"th"),t._uU(869,"Title"),t.qZA(),t.TgZ(870,"th"),t._uU(871,"Value"),t.qZA()()(),t.TgZ(872,"tbody")(873,"tr")(874,"td"),t._uU(875,"Available Stock"),t.qZA(),t.TgZ(876,"td"),t._uU(877),t.qZA()(),t.TgZ(878,"tr")(879,"td"),t._uU(880,"Category"),t.qZA(),t.TgZ(881,"td"),t._uU(882),t.qZA()(),t.TgZ(883,"tr")(884,"td"),t._uU(885,"Brand"),t.qZA(),t.TgZ(886,"td"),t._uU(887),t.qZA()(),t.TgZ(888,"tr")(889,"td"),t._uU(890,"HSN Code"),t.qZA(),t.TgZ(891,"td"),t._uU(892),t.qZA()()()()()()()()),2&e){const o=t.MAs(9),a=t.MAs(18);t.Q6J("ngClass",t.VKq(138,ht,n.isModalOpen)),t.xp6(1),t.Q6J("ngClass",t.VKq(140,ht,n.isModalOpen)),t.xp6(6),t.Q6J("formControl",n.productsAutocompleteControl)("matAutocomplete",o),t.xp6(1),t.Q6J("displayWith",n.displayFn),t.xp6(2),t.Q6J("ngIf",n.isLoading),t.xp6(1),t.Q6J("ngIf",(null==n.productsAutocompleteControl.value?null:n.productsAutocompleteControl.value.length)<3),t.xp6(1),t.Q6J("ngIf",n.errorMsg),t.xp6(1),t.Q6J("ngForOf",n.filteredProducts),t.xp6(3),t.Q6J("formControl",n.customerAutoCompleteControl)("matAutocomplete",a),t.xp6(1),t.Q6J("displayWith",n.displayCus),t.xp6(5),t.Q6J("ngIf",(null==n.customerAutoCompleteControl.value?null:n.customerAutoCompleteControl.value.length)<3),t.xp6(1),t.Q6J("ngIf",n.cusIsLoading),t.xp6(1),t.Q6J("ngForOf",n.filteredCustomer),t.xp6(2),t.Q6J("formControl",n.saleInvoice),t.xp6(29),t.Q6J("ngForOf",n.currentItems),t.xp6(11),t.Oqu(n.totalQty()),t.xp6(5),t.hij("\u20b9",n.totalMrp(),""),t.xp6(5),t.hij("\u20b9",n.totalTaxAmount(),""),t.xp6(5),t.hij("\u20b9",n.currentTotalAdditionalCharges(),""),t.xp6(6),t.hij("\u20b9",n.totalDiscountRupees(),""),t.xp6(15),t.s9C("value",n.getRoundOff()),t.xp6(5),t.hij("\u20b9",n.finalAmount(),""),t.xp6(6),t.Q6J("disabled",!n.isInternetConnection),t.xp6(3),t.Q6J("disabled",!n.isInternetConnection),t.xp6(3),t.Q6J("disabled",!n.isInternetConnection),t.xp6(3),t.Q6J("disabled",!n.isInternetConnection),t.xp6(6),t.Q6J("disabled",!n.isInternetConnection),t.xp6(3),t.Q6J("disabled",!n.isInternetConnection),t.xp6(6),t.Q6J("disabled",!n.isInternetConnection),t.xp6(3),t.Q6J("disabled",!n.isInternetConnection),t.xp6(3),t.Q6J("disabled",!n.isInternetConnection),t.xp6(3),t.Q6J("disabled",!n.isInternetConnection),t.xp6(3),t.Q6J("disabled",!n.isInternetConnection),t.xp6(6),t.Q6J("disabled",!n.isInternetConnection),t.xp6(3),t.Q6J("disabled",!n.isInternetConnection),t.xp6(58),t.Q6J("ngIf",n.showSyncButton()),t.xp6(41),t.hij(" ",(null==n.orderDetails||null==n.orderDetails.customer?null:n.orderDetails.customer.gstin)||"--",""),t.xp6(4),t.hij(" : ",(null==n.orderDetails||null==n.orderDetails.customer?null:n.orderDetails.customer.name)||"--",""),t.xp6(4),t.hij(" : ",(null==n.orderDetails||null==n.orderDetails.customer||null==n.orderDetails.customer.address[0]||null==n.orderDetails.customer.address[0].city?null:n.orderDetails.customer.address[0].city.city)+","+(null==n.orderDetails||null==n.orderDetails.customer||null==n.orderDetails.customer.address[0]||null==n.orderDetails.customer.address[0].state?null:n.orderDetails.customer.address[0].state.state)+" , "+(null==n.orderDetails||null==n.orderDetails.customer||null==n.orderDetails.customer.address[0]||null==n.orderDetails.customer.address[0].country?null:n.orderDetails.customer.address[0].country.country_name)+" ,"+(null==n.orderDetails||null==n.orderDetails.customer||null==n.orderDetails.customer.address[0]?null:n.orderDetails.customer.address[0].pincode)," "),t.xp6(4),t.hij(" : ",(null==n.orderDetails||null==n.orderDetails.customer?null:n.orderDetails.customer.mobile_no)||"--",""),t.xp6(4),t.hij(" : ",(null==n.orderDetails||null==n.orderDetails.customer?null:n.orderDetails.customer.email)||"--",""),t.xp6(9),t.hij(" : ",null!=n.orderDetails&&n.orderDetails.estimate_date?t.xi3(283,129,null==n.orderDetails?null:n.orderDetails.estimate_date,"dd-MMMM-yyyy"):"--",""),t.xp6(5),t.hij(" : ",(null==n.orderDetails?null:n.orderDetails.estimate_no)||"--"," "),t.xp6(4),t.hij(" : ",null!=n.orderDetails&&n.orderDetails.estimate_expiry_date?t.xi3(292,132,null==n.orderDetails?null:n.orderDetails.estimate_expiry_date,"dd-MMMM-yyyy"):"--",""),t.xp6(22),t.Oqu(null==n.orderDetails?null:n.orderDetails.payment_mode),t.xp6(2),t.Oqu(null==n.orderDetails||null==n.orderDetails.customer?null:n.orderDetails.customer.name),t.xp6(2),t.Oqu(null==n.orderDetails?null:n.orderDetails.total_amount),t.xp6(2),t.Oqu(t.xi3(320,135,null==n.orderDetails?null:n.orderDetails.created_date,"dd-MMMM-yyyy")),t.xp6(3),t.Oqu(null==n.orderDetails?null:n.orderDetails.total_tax),t.xp6(6),t.Q6J("ngIf",n.isSyncLoading),t.xp6(26),t.Q6J("formGroup",n.registrationForm),t.xp6(7),t.Q6J("ngIf",n.name.invalid&&(n.name.dirty||n.name.touched)),t.xp6(6),t.Q6J("ngIf",n.mobile_no.valid&&n.customerRegistrationNumberSame),t.xp6(1),t.Q6J("ngIf",n.mobile_no.invalid&&(n.mobile_no.dirty||n.mobile_no.touched)),t.xp6(6),t.Q6J("ngIf",n.whatsapp_no.invalid&&(n.whatsapp_no.dirty||n.whatsapp_no.touched)),t.xp6(7),t.Q6J("ngIf",n.date_of_birth.invalid&&(n.date_of_birth.dirty||n.date_of_birth.touched)),t.xp6(6),t.Q6J("ngIf",n.anniversary_date.invalid&&(n.anniversary_date.dirty||n.anniversary_date.touched)),t.xp6(6),t.Q6J("ngIf",n.email.invalid&&(n.email.dirty||n.email.touched)),t.xp6(2),t.Oqu(n.addMoreDetails?"Hide More Details":"Add More Details"),t.xp6(1),t.Q6J("ngIf",n.addMoreDetails),t.xp6(14),t.Q6J("formGroup",n.receiptPaymentForm),t.xp6(9),t.Q6J("ngForOf",n.voucherType),t.xp6(1),t.Q6J("ngIf",n.voucher_type.invalid&&(n.voucher_type.dirty||n.voucher_type.touched)),t.xp6(2),t.Q6J("ngIf","sales"===n.receiptPaymentForm.get("voucher_type").value||"purchase"===n.receiptPaymentForm.get("voucher_type").value),t.xp6(1),t.Q6J("ngIf","sales"===n.receiptPaymentForm.get("voucher_type").value||"purchase"===n.receiptPaymentForm.get("voucher_type").value),t.xp6(1),t.Q6J("ngIf","Against Bill"===n.receiptPaymentForm.get("payment_type").value&&"expense"!==n.receiptPaymentForm.get("voucher_type").value),t.xp6(6),t.Q6J("ngIf",n.amount_receipt.invalid&&(n.amount_receipt.dirty||n.amount_receipt.touched)),t.xp6(2),t.Q6J("ngIf","sales"===n.receiptPaymentForm.get("voucher_type").value),t.xp6(1),t.Q6J("ngIf","purchase"===n.receiptPaymentForm.get("voucher_type").value||"expense"===n.receiptPaymentForm.get("voucher_type").value),t.xp6(1),t.Q6J("ngIf","cash in hand"!==n.receiptPaymentForm.get("voucher_type").value),t.xp6(1),t.Q6J("ngIf","Card"===n.receiptPaymentForm.get("payment_mode").value),t.xp6(1),t.Q6J("ngIf","expense"===n.receiptPaymentForm.get("voucher_type").value),t.xp6(7),t.Q6J("ngIf",n.receipt_remark.invalid&&(n.receipt_remark.dirty||n.receipt_remark.touched)),t.xp6(5),t.Q6J("ngIf",0!==(null==n.currentItems?null:n.currentItems.length)&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==(null==n.currentItems?null:n.currentItems.length)&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==(null==n.currentItems?null:n.currentItems.length)&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==(null==n.currentItems?null:n.currentItems.length)&&null!=n.currentCustomer),t.xp6(46),t.Q6J("ngForOf",null==n.currentProduct?null:n.currentProduct.batch),t.xp6(26),t.Q6J("ngForOf",n.currentOrderAdditionalCharges),t.xp6(8),t.Oqu(n.currentTotalAdditionalCharges()),t.xp6(32),t.Q6J("ngForOf",n.posOrders),t.xp6(4),t.ekj("disabled",1===n.page),t.xp6(4),t.Q6J("ngForOf",n.getPageNumbers()),t.xp6(1),t.ekj("disabled",n.page===n.getTotalPages()),t.xp6(6),t.Q6J("ngIf",0!==(null==n.currentItems?null:n.currentItems.length)&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==(null==n.currentItems?null:n.currentItems.length)&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==(null==n.currentItems?null:n.currentItems.length)&&null!=n.currentCustomer&&0!==n.creditLimit&&n.isPayLaterModalShown),t.xp6(1),t.Q6J("ngIf",0!==(null==n.currentItems?null:n.currentItems.length)&&null!=n.currentCustomer),t.xp6(8),t.Q6J("ngForOf",n.heldBills),t.xp6(35),t.Q6J("ngIf",(null==n.expenseList?null:n.expenseList.length)>=0),t.xp6(1),t.Q6J("ngIf",0===(null==n.expenseList?null:n.expenseList.length)&&!n.loader),t.xp6(47),t.Q6J("ngIf",(null==n.recieptList?null:n.recieptList.length)>=0),t.xp6(1),t.Q6J("ngIf",0===(null==n.recieptList?null:n.recieptList.length)&&!n.loader),t.xp6(44),t.Q6J("ngIf",(null==n.creditNoteList?null:n.creditNoteList.length)>=0),t.xp6(1),t.Q6J("ngIf",0===(null==n.creditNoteList?null:n.creditNoteList.length)&&!n.loader),t.xp6(10),t.Q6J("ngIf",n.isPaymentModalShown),t.xp6(10),t.Q6J("ngIf",n.isExpanseModalShown),t.xp6(10),t.Q6J("ngIf",n.isReceiptModalShown),t.xp6(10),t.Q6J("ngIf",n.isCreditNoteModalShown),t.xp6(48),t.Q6J("ngIf",(null==n.paymentList?null:n.paymentList.length)>=0),t.xp6(1),t.Q6J("ngIf",0===(null==n.paymentList?null:n.paymentList.length)&&!n.loader),t.xp6(2),t.Q6J("ngIf",n.loader),t.xp6(4),t.Q6J("ngIf",0!==(null==n.currentItems?null:n.currentItems.length)&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==(null==n.currentItems?null:n.currentItems.length)&&null!=n.currentCustomer),t.xp6(1),t.ekj("show",n.isModalShown),t.xp6(11),t.Q6J("ngModel",n.payment_terms)("ngModelOptions",t.DdM(142,C)),t.xp6(3),t.Q6J("ngForOf",n.paymentTermsList),t.xp6(1),t.Q6J("ngIf",!n.payment_terms&&n.isFormSubmitted),t.xp6(4),t.Q6J("ngModel",n.due_date)("ngModelOptions",t.DdM(143,C)),t.xp6(1),t.Q6J("ngIf",!n.due_date&&n.isFormSubmitted),t.xp6(7),t.Q6J("ngModel",n.selectedReminder)("ngModelOptions",t.DdM(144,C)),t.xp6(3),t.Q6J("ngModel",n.selectedReminder)("ngModelOptions",t.DdM(145,C)),t.xp6(3),t.Q6J("ngIf",!n.selectedReminder&&n.isFormSubmitted),t.xp6(5),t.Q6J("ngIf",n.isModalShown),t.xp6(1),t.Q6J("ngIf",0!==(null==n.currentItems?null:n.currentItems.length)&&null!=n.currentCustomer),t.xp6(1),t.Q6J("ngIf",0!==(null==n.currentItems?null:n.currentItems.length)&&null!=n.currentCustomer),t.xp6(22),t.Oqu(null!=n.currentItems[n.currentCartIndex]&&null!=n.currentItems[n.currentCartIndex].batch&&n.currentItems[n.currentCartIndex].batch.length?null==n.currentItems[n.currentCartIndex]||null==n.currentItems[n.currentCartIndex].batch[0]?null:n.currentItems[n.currentCartIndex].batch[0].stock:0),t.xp6(5),t.Oqu(null==n.currentItems[n.currentCartIndex]||null==n.currentItems[n.currentCartIndex].product||null==n.currentItems[n.currentCartIndex].product.category?null:n.currentItems[n.currentCartIndex].product.category.title),t.xp6(5),t.Oqu(null==n.currentItems[n.currentCartIndex]||null==n.currentItems[n.currentCartIndex].product||null==n.currentItems[n.currentCartIndex].product.brand?null:n.currentItems[n.currentCartIndex].product.brand.title),t.xp6(5),t.Oqu(null==n.currentItems[n.currentCartIndex]||null==n.currentItems[n.currentCartIndex].product?null:n.currentItems[n.currentCartIndex].product.hsncode)}},dependencies:[f.mk,f.sg,f.O5,x.yS,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l._,l.JJ,l.JL,l.Q7,l.On,l.F,l.oH,l.sg,l.u,l.x0,l.CE,A.XC,A.ZL,G.ey,Mt.pW,We,In,Ko,gi,f.uU,mt._s,hi.T],styles:[".customer-type-div[_ngcontent-%COMP%]{display:flex;align-items:center}.customer-type-div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{margin-right:20px}.customer-type-div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px}.customer-type-div[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#000;accent-color:black}.customer-type-div[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked{background-color:#000;border-color:#000}.top-header-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.salesman-div[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:10px;font-weight:500;font-family:Roboto;font-style:normal;font-size:16px}.salesman-div[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-left:15px}.right-header-pos[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.amt-info-div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;flex-wrap:wrap}.amt-info-div[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-right:1px solid black;padding:5px 0;flex:1;text-align:center;align-self:stretch;display:flex;flex-direction:column;justify-content:center}.amt-info-div[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border:none}.amt-info-div[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px;margin-bottom:0;line-height:1}.amt-info-div[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   p[_ngcontent-%COMP%]{font-size:24px;font-weight:600}.cus-details-wrapper[_ngcontent-%COMP%]{padding:14px 18px;border:1px solid #9C9C9C;border-radius:4px}.cus-details-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px;margin-top:8px}.btn-pos[_ngcontent-%COMP%]{border:none;background:no-repeat;display:flex;flex-direction:column;align-items:center;margin-left:auto;margin-right:auto;font-family:Roboto;font-style:normal;font-weight:500;font-size:14px;color:#9c9c9c}.btn-pos[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;margin-bottom:5px}.right-btns-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.right-btns-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:50%;margin-bottom:25px}.right-header-pos[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.right-btns-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .right-btns-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){margin-bottom:0}.flat-disc-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.flat-disc-wrapper[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-left:5px}.amt-info-div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{align-items:center}.pos-left-wrapper[_ngcontent-%COMP%]{position:relative}.product-autocomplete[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.table-cross-btn[_ngcontent-%COMP%]{border:none;color:#201e1f;background:transparent}.table-cross-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.table-pos[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#000}.table-pos[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff;font-family:Roboto;font-style:normal;font-weight:500;font-size:16px}.table-pos[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:14px;color:#9c9c9c}.mrp-input-table[_ngcontent-%COMP%]{max-width:95px}.disc-input-table[_ngcontent-%COMP%], .add-disc-input-table[_ngcontent-%COMP%]{max-width:85px;text-align:left!important}.table-black-grp[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;border-radius:0}.table-black-grp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:0}.table-black-grp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center}.cursor-pointer-pos[_ngcontent-%COMP%]{cursor:pointer}.amt-info-div[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px;line-height:1.2}.amt-info-div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;font-family:Roboto;font-style:normal;font-weight:500;padding:2px 4px;width:90%;margin-left:auto;margin-right:auto}.bottom-pos-left[_ngcontent-%COMP%]   .btns-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:14px;flex-grow:1}.bottom-pos-left[_ngcontent-%COMP%]   .btns-row[_ngcontent-%COMP%]{display:flex;gap:10px}.cus-details-wrapper[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:18px}.pos-container[_ngcontent-%COMP%]{height:calc(100vh - 60px);padding:5px}.table-pos[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 10px}.amt-info-div[_ngcontent-%COMP%]   .flat-disc-wrapper[_ngcontent-%COMP%]{justify-content:center;max-width:75%;margin-left:auto;margin-right:auto;margin-bottom:3px}.pos-s-input[_ngcontent-%COMP%]{max-width:70%;margin-left:auto;margin-right:auto;padding:0 5px;margin-bottom:3px}.amt-info-div[_ngcontent-%COMP%]   .flat-disc-wrapper[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{padding:0 2px;background-color:#000;color:#fff;border-radius:0}.amt-info-div[_ngcontent-%COMP%]   .flat-disc-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:0}.bottom-pos-left[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-child(2)   .col-sm-12[_ngcontent-%COMP%]{padding:0}.amt-info-div[_ngcontent-%COMP%]   .flat-disc-wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:0 5px}.add-more-details-btn[_ngcontent-%COMP%]{text-decoration:none;border:none;background:transparent;font-size:1rem;color:#212529;font-weight:400}.posmodal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top:1px solid #dee2e6}.modal1BtnPos[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}.modal2BtnPos[_ngcontent-%COMP%]{width:30%;margin-left:auto;margin-right:auto}.posmodal[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:22px;color:#000}.posmodal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:16px;color:#000}.posmodal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:300;font-family:Roboto;color:#9c9c9c}.posmodal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #201E1F}.posmodal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{border:1px solid #9C9C9C}.posmodal[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{margin-bottom:0}.posmodal[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{border-color:#000}.posmodal[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#000;border-color:#000}.pos-offcanvas[_ngcontent-%COMP%]{background:#F5F8F5}.pos-offcanvas[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{background-color:#000;color:#fff}.on-hold-card[_ngcontent-%COMP%]{padding:16px 16px 30px;background-color:#fff;border-radius:4px;position:relative}.on-hold-card[_ngcontent-%COMP%]   .holdRemove[_ngcontent-%COMP%]{position:absolute;right:5px;top:5px;background:transparent;border:none;font-size:20px;padding:0;line-height:0}.on-hold-card[_ngcontent-%COMP%]   .on-hold-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:16px}.on-hold-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:14px}.modalRedeem[_ngcontent-%COMP%]   .redeem-modal-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.modalRedeem[_ngcontent-%COMP%]   .redeem-modal-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px}.modalRedeem[_ngcontent-%COMP%]   .redeem-modal-details[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:12%;padding:0 5px}.modalRedeem[_ngcontent-%COMP%]   .redeem-modal-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:22px}.pos-offcanvas[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{opacity:1;padding-top:0}.pos-offcanvas[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.posmodal[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9c9c9c;font-size:20px}.fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{border-right:1px solid black;padding:32px}.fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   .total-amt[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:32px}.fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:16px}.fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .other-product-detail[_ngcontent-%COMP%]{border-bottom:1px solid #9C9C9C;padding:8px 0;display:flex;justify-content:space-between}.fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .other-product-detail[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:20px}.fullmodal-pos[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]{text-align:end;margin-top:15px}.fullmodal-pos[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .total-amt[_ngcontent-%COMP%]{display:flex;align-items:center}.fullmodal-pos[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .total-amt[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:175px;margin-left:20px}.fullmodal-pos[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .payment-wrapper-p[_ngcontent-%COMP%]{padding:18px 16px 0;background:#EEEEEE}.fullmodal-pos[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .payment-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.fullmodal-pos[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .payment-wrapper[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;padding:4px 10px;border-radius:50%;border-color:red;color:red}.fullmodal-pos[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .payment-wrapper[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;line-height:1.2}.add-more-details-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:black;color:#fff;border-radius:50%;font-size:13px;padding:5px 6px}.posmodal[_ngcontent-%COMP%]   .cal-wrapper[_ngcontent-%COMP%]   .cal-div-wrapper[_ngcontent-%COMP%]{display:flex}.posmodal[_ngcontent-%COMP%]   .cal-wrapper[_ngcontent-%COMP%]   .cal-div-wrapper[_ngcontent-%COMP%]   .cal-div[_ngcontent-%COMP%]{background-color:#fff;padding:10px 15px;border:1px solid black;flex-grow:1;text-align:center;font-family:Roboto;font-style:normal;font-weight:500;font-size:16px}.posmodal[_ngcontent-%COMP%]   .register-left-wrapper[_ngcontent-%COMP%]   .register-left-div[_ngcontent-%COMP%]{display:flex}.posmodal[_ngcontent-%COMP%]   .register-left-wrapper[_ngcontent-%COMP%]   .register-left-div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:16px;padding:10px 16px}.posmodal[_ngcontent-%COMP%]   .register-left-wrapper[_ngcontent-%COMP%]   .register-left-div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:first-child{width:80%;text-align:left;background-color:#ebecf2}.posmodal[_ngcontent-%COMP%]   .register-left-wrapper[_ngcontent-%COMP%]   .register-left-div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:last-child{width:20%;text-align:right;background-color:#f2f4f3}.posmodal[_ngcontent-%COMP%]   .register-left-wrapper[_ngcontent-%COMP%]   .register-left-div[_ngcontent-%COMP%]:nth-child(even)   h4[_ngcontent-%COMP%]:last-child{background-color:#fff}.posmodal[_ngcontent-%COMP%]   .register-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .posmodal[_ngcontent-%COMP%]   .register-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:16px;color:#000}.posmodal[_ngcontent-%COMP%]   .register-table[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin:0}.qty-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0;width:35px}.qty-input[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-radius:0}.full-modal-row[_ngcontent-%COMP%]{height:82vh}.pos-loader[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;top:0;left:0;width:100%;height:100%;background:black;opacity:.7}.pos-loader[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.25em;transform-origin:center;animation:rotate4 2s linear infinite}.pos-loader[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:none;stroke:#3189fc;stroke-width:2;stroke-dasharray:1,200;stroke-dashoffset:0;stroke-linecap:round;animation:dash4 1.5s ease-in-out infinite}@keyframes rotate4{to{transform:rotate(360deg)}}@keyframes dash4{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,200;stroke-dashoffset:-35px}to{stroke-dashoffset:-125px}}.table-pos[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .table-pos[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{padding:.2rem .75rem;line-height:1}.final-left[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;position:relative}.final-test[_ngcontent-%COMP%]{padding-right:10px;position:absolute;height:100%;flex-direction:column;display:flex;width:99%}.final-test[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex-shrink:0}.final-test[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){height:100%;overflow:auto}.final-test[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{flex-shrink:0}.cart-btn1[_ngcontent-%COMP%]{margin-left:5px}.cart-btn2[_ngcontent-%COMP%]{border:none;background:transparent}.product-title-cart[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:0}.product-notes[_ngcontent-%COMP%]{width:55%}.product-title-div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}select[_ngcontent-%COMP%]{border:1px solid rgba(145,158,171,.32);height:40px;width:100%;font-size:14px;font-weight:500;color:#637381;padding:10px 15px;border-radius:5px}.circle[_ngcontent-%COMP%]{margin-top:10px;display:inline-block;width:18px;height:18px;border-radius:50%;border:1px solid #FF9F43;text-align:center;line-height:16px;color:#ff9f43}#debitNote[_ngcontent-%COMP%]{display:none}#doc-target[_ngcontent-%COMP%]{font-family:sans-serif;-webkit-font-smoothing:antialiased;color:#000;line-height:1.6em;margin:0 auto}#outer[_ngcontent-%COMP%]{padding:72pt;border:1px solid #000;margin:0 auto;width:100%}.pdf-div[_ngcontent-%COMP%]{background:white}.right-top[_ngcontent-%COMP%]{color:#000}.right-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2px;font-size:14px;letter-spacing:1px;font-weight:500;text-transform:uppercase}.right-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-weight:600;margin:0}.right-top[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:12px;font-size:48px;letter-spacing:.8px}.right-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.left-top[_ngcontent-%COMP%]{color:#000;padding:20px 0}.left-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;margin-bottom:2px;font-size:14px;letter-spacing:1px;font-weight:500;text-transform:uppercase}.gst[_ngcontent-%COMP%]{font-weight:600!important;margin:0}.left-top[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.left-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35%}.top[_ngcontent-%COMP%]{padding-bottom:20px;border-bottom:2px solid #eee}.pdf-payment-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.pdf-pd[_ngcontent-%COMP%]{display:flex}.pdf-pd[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-weight:400;letter-spacing:.1px}.pdf-pd-right[_ngcontent-%COMP%]{margin-left:20px}.pdf-payment[_ngcontent-%COMP%]{padding:20px 0;border-top:2px solid #eee;border-bottom:2px solid #eee}.pdf-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;padding-top:15px;font-size:12px;font-weight:400;letter-spacing:.1px}.pdf-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase}.pdf-table2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .pdf-table2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #000;border-collapse:collapse;font-weight:500;font-size:14px;letter-spacing:.1px;margin:0;padding:0}.pdf-table2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.pdf-table2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px;color:#212b36;background-color:#ff9f43;text-align:center;vertical-align:middle;font-weight:600}.pdf-table2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;padding:5px}.pdf-table2[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #000;font-weight:400;color:#000;font-size:13px}.pdf-table2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:600;letter-spacing:.1px}.pdf-address[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:400;letter-spacing:.1px}.pdf-address[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{color:#ff9f43;font-weight:600;text-transform:uppercase;margin-bottom:5px}.pdf-address[_ngcontent-%COMP%]   .heading2[_ngcontent-%COMP%]{font-size:15px;font-weight:400;letter-spacing:1px;line-height:1.6}.pdf-table1[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#FF9F43;border-bottom:3px solid #FF9F43}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:25px 10px}button[_ngcontent-%COMP%]{margin-right:8px}.heading[_ngcontent-%COMP%]{color:#ff9f43;font-size:16px;font-weight:600;text-align:center}.transaction-date-wrapper[_ngcontent-%COMP%]{width:100%;height:40px;padding:8px;border-radius:5px;outline:0;border:1px solid rgba(145,158,171,.32)}.input-radio-wrapper[_ngcontent-%COMP%]{height:18px;width:18px}.blur-modal[_ngcontent-%COMP%]{filter:blur(3px)}.add-icon-wrapper[_ngcontent-%COMP%]{padding:5px;border:1px solid #FF9F43;border-radius:50%;color:#fff;background-color:#ff9f43}.close-btn-wrapper[_ngcontent-%COMP%]{background-color:#f4516c!important;border:0!important;color:#fff}.product-title-wrapper[_ngcontent-%COMP%]{white-space:break-spaces}.spinner-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:30px}.spinner-border[_ngcontent-%COMP%]{width:100px;height:100px;color:#ff9f43!important}.pagination-list[_ngcontent-%COMP%]{list-style-type:none;display:flex;justify-content:center;border:1px solid #ddd;border-radius:4px}.pagination-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;padding:5px 0}.pagination-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;padding:6px 12px}.pagination-list[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{pointer-events:none;color:#ccc}.pagination-list[_ngcontent-%COMP%]   li.active-page[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#ff9f43;font-weight:700;color:#fff;border-color:#ff9f43}.pagination-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-right:1px solid #ddd}.pagination-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-left:1px solid #ddd}.payment-voucher-wrapper[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .payment-voucher-wrapper[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}"]}),i})();var y=(()=>{return(i=y||(y={})).F3="F3",i.F4="F4",i.F5="F5",i.F6="F6",i.F7="F7",i.F8="F8",i.F9="F9",i.F10="F10",i.F11="F11",i.F12="F12",i.UP_ARROW="ArrowUp",y;var i})(),yl=m(4159),Cl=m.n(yl);const Zl=["invoice"];function bl(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6,"123456"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA()()),2&i){const e=r.$implicit,n=r.index;t.xp6(2),t.Oqu(n),t.xp6(2),t.hij("Item ",n,""),t.xp6(4),t.Oqu(null==e?null:e.qty),t.xp6(2),t.hij("Rs.",null==e?null:e.mrp,""),t.xp6(2),t.hij("Rs.",null==e?null:e.unit_cost,""),t.xp6(2),t.hij("",null==e?null:e.discount,"%"),t.xp6(2),t.AsE("",null==e?null:e.tax_amount,"(",null==e?null:e.tax_percentage,"%)"),t.xp6(2),t.hij("Rs.",null==e?null:e.net_cost,"")}}const Al=[{path:"",children:[{path:"",component:xl},{path:"invoice/:id",component:(()=>{class i{constructor(e,n,o){this.renderer=e,this.route=n,this.api=o,this.loading=!1}ngOnInit(){this.loading=!0,this.route.params.subscribe(e=>{this.api.getPOSOrderDetails(e.id).subscribe({next:o=>{this.order=o},error:o=>{},complete:()=>{this.loading=!1}})})}getSubTotal(e){let n=0;for(let o=0;o<e?.length;o++)n+=e[o]?.unit_cost;return n}getTaxTotal(e){let n=0;for(let o=0;o<e?.length;o++)n+=e[o]?.tax_amount;return n}getTotalQty(e){let n=0;for(let o=0;o<e?.length;o++)n+=e[o]?.qty;return n}getTotalMrp(e){let n=0;for(let o=0;o<e?.length;o++)n+=e[o]?.mrp;return n}getTotalNet(e){let n=0;for(let o=0;o<e?.length;o++)n+=e[o]?.net_cost;return n}getTotal(e){let n=e?.additional_charge,o=this.getSubTotal(e?.cart),a=e?.total_tax;return Number(n+o+a).toFixed(2)}getDateForOrders(e){const n=new Date(e),o=n.getFullYear(),a=n.getMonth()+1,s=n.getDate();return`${o}-${a<10?"0":""}${a}-${s<10?"0":""}${s}`}printInvoice(){const o=this.invoiceElement.nativeElement;Math.ceil(this.invoiceElement.nativeElement.offsetHeight/(1.5*(this.invoiceElement.nativeElement.offsetWidth+30)+30)),Cl()(o).then(v=>{const Z=v.toDataURL("image/png");let g=new W.jsPDF("p","mm","a4");var ft=g.internal.pageSize.getWidth();g.addImage(Z,"PNG",0,0,ft,v.height*ft/v.width),g.save("invoice_1")})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Qsj),t.Y36(x.gz),t.Y36(V.b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-inovoice"]],viewQuery:function(e,n){if(1&e&&t.Gf(Zl,5),2&e){let o;t.iGM(o=t.CRH())&&(n.invoiceElement=o.first)}},decls:207,vars:15,consts:[[1,"container","py-10",2,"margin-top","30px"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary",3,"click"],[1,"pad-10"],["invoice",""],[1,"container-fluid","sts","pt-5","first-part"],[1,"row"],[1,"col-md-7"],[1,"col-md-5"],["src","../../../../assets/logo/favicon_icon.png",1,"logo"],[2,"text-align","center"],[2,"color","#ff6600","font-weight","700"],[1,"container-fluid","hps"],[1,"col-md-8"],[1,"col-md-4"],["id","first-table",2,"margin-top","30px"],[1,"todo"],[4,"ngFor","ngForOf"],[1,"container-fluid","just"],[1,"col-md-6"],["id","second-table"],[2,"background-color","#ff6600"],[2,"color","white","font-weight","700"],[2,"color","white"],[2,"font-weight","700"],[1,"container-fluid",2,"margin-top","20px","margin-bottom","30px"],["id","last-table",1,"og"],[1,"cess-column"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"Invoice"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return n.printInvoice()}),t._uU(5,"Download Invoice"),t.qZA()()(),t.TgZ(6,"div")(7,"div",3,4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h4"),t._uU(13,"VasyERP"),t.qZA(),t.TgZ(14,"p"),t._uU(15,"Synthesis The First, Corporate House, THE FIRST, AS, Nyay Marg near ITC Narmada."),t.qZA(),t.TgZ(16,"p"),t._uU(17,"IIM, Vastrapur"),t.qZA(),t.TgZ(18,"p"),t._uU(19,"Ahmedabad - 380054"),t.qZA(),t.TgZ(20,"p"),t._uU(21,"Phone number: 1234567899"),t.qZA(),t.TgZ(22,"p"),t._uU(23,"Email: email.vasyerp@gmail.com"),t.qZA(),t.TgZ(24,"p"),t._uU(25,"State: 24-Gujarat"),t.qZA(),t.TgZ(26,"p"),t._uU(27,"GSTIN No: 071AAGFF2194N1Z1"),t.qZA(),t.TgZ(28,"p"),t._uU(29,"FSSAI No: 12345678901234"),t.qZA(),t.TgZ(30,"p"),t._uU(31,"Website: www.vasyerp.com"),t.qZA()(),t.TgZ(32,"div",8),t._UZ(33,"img",9),t.qZA()()(),t.TgZ(34,"div",10)(35,"h2",11),t._uU(36,"Tax Invoice"),t.qZA()(),t._UZ(37,"br"),t.TgZ(38,"div",12)(39,"div",6)(40,"div",13)(41,"h5"),t._uU(42,"Bill To:"),t.qZA(),t.TgZ(43,"h5"),t._uU(44,"c_first name c_last name"),t.qZA(),t.TgZ(45,"p"),t._uU(46,"Address Other - 123456 Other India"),t.qZA(),t.TgZ(47,"p"),t._uU(48),t.qZA(),t.TgZ(49,"p"),t._uU(50,"State: 37-Other"),t.qZA()(),t.TgZ(51,"div",14)(52,"p"),t._uU(53),t.qZA(),t.TgZ(54,"h5"),t._uU(55,"Invoice No: POS3644"),t.qZA(),t.TgZ(56,"h5"),t._uU(57),t.qZA()()()(),t.TgZ(58,"table",15)(59,"tr",16)(60,"th"),t._uU(61,"#"),t.qZA(),t.TgZ(62,"th"),t._uU(63,"Item Name"),t.qZA(),t.TgZ(64,"th"),t._uU(65,"HSN/SAC"),t.qZA(),t.TgZ(66,"th"),t._uU(67,"Quantity"),t.qZA(),t.TgZ(68,"th"),t._uU(69,"MRP"),t.qZA(),t.TgZ(70,"th"),t._uU(71,"Price/Unit"),t.qZA(),t.TgZ(72,"th"),t._uU(73,"Discount %"),t.qZA(),t.TgZ(74,"th"),t._uU(75,"Tax Amount"),t.qZA(),t.TgZ(76,"th"),t._uU(77,"Net Cost"),t.qZA()(),t.YNc(78,bl,19,9,"tr",17),t.TgZ(79,"tr")(80,"td"),t._uU(81,"\xa0"),t.qZA(),t.TgZ(82,"td"),t._uU(83,"Total"),t.qZA(),t._UZ(84,"td"),t.TgZ(85,"td"),t._uU(86),t.qZA(),t.TgZ(87,"td"),t._uU(88),t.qZA(),t.TgZ(89,"td"),t._uU(90),t.qZA(),t.TgZ(91,"td"),t._uU(92,"0%"),t.qZA(),t.TgZ(93,"td"),t._uU(94),t.qZA(),t.TgZ(95,"td"),t._uU(96),t.qZA()()(),t._UZ(97,"br"),t.TgZ(98,"div",18)(99,"div",6)(100,"div",19)(101,"h5"),t._uU(102,"INVOICE AMOUNT IN WORDS"),t.qZA(),t.TgZ(103,"p"),t._uU(104,"Ruppes Three Hundred and Eighty Five Only"),t.qZA(),t.TgZ(105,"h5"),t._uU(106,"TERMS AND CONDITIONS"),t.qZA(),t.TgZ(107,"p"),t._uU(108,"NO RETURN / NO EXCHANGE"),t.qZA(),t.TgZ(109,"p"),t._uU(110,"Please Check items before leave store"),t.qZA(),t.TgZ(111,"p"),t._uU(112,"dasdasdasd"),t.qZA(),t.TgZ(113,"p"),t._uU(114,"12345678"),t.qZA(),t.TgZ(115,"P"),t._uU(116,"T&C5"),t.qZA(),t.TgZ(117,"p"),t._uU(118,"wertyuiop"),t.qZA(),t.TgZ(119,"p"),t._uU(120,"zcxvbnm"),t.qZA()(),t.TgZ(121,"div",19)(122,"table",20)(123,"tr")(124,"td"),t._uU(125,"Sub Total"),t.qZA(),t.TgZ(126,"td"),t._uU(127),t.qZA()(),t.TgZ(128,"tr")(129,"td"),t._uU(130,"Additional Charge"),t.qZA(),t.TgZ(131,"td"),t._uU(132),t.qZA()(),t.TgZ(133,"tr")(134,"td"),t._uU(135,"Tax"),t.qZA(),t.TgZ(136,"td"),t._uU(137),t.qZA()(),t.TgZ(138,"tr",21)(139,"td",22),t._uU(140,"Total"),t.qZA(),t.TgZ(141,"td",23),t._uU(142),t.qZA()(),t.TgZ(143,"tr")(144,"td"),t._uU(145,"Received"),t.qZA(),t.TgZ(146,"td"),t._uU(147,"385.00"),t.qZA()(),t.TgZ(148,"tr")(149,"td"),t._uU(150,"Balance"),t.qZA(),t.TgZ(151,"td"),t._uU(152,"0.00"),t.qZA()(),t.TgZ(153,"tr")(154,"td"),t._uU(155,"Payment Mode"),t.qZA(),t.TgZ(156,"td"),t._uU(157),t.qZA()(),t.TgZ(158,"tr")(159,"td"),t._uU(160,"Previous Balance"),t.qZA(),t.TgZ(161,"td"),t._uU(162,"0.00"),t.qZA()()()()()(),t.TgZ(163,"div",10)(164,"h5",24),t._uU(165,"Tax Summary"),t.qZA()(),t.TgZ(166,"div",25)(167,"table",26)(168,"tr")(169,"th"),t._uU(170,"Tax rate"),t.qZA(),t.TgZ(171,"th"),t._uU(172,"Taxable Amount"),t.qZA(),t.TgZ(173,"th"),t._uU(174,"CGST"),t.qZA(),t.TgZ(175,"th"),t._uU(176,"SGST"),t.qZA(),t.TgZ(177,"th"),t._uU(178,"IGST"),t.qZA(),t.TgZ(179,"th",27),t._uU(180,"CESS"),t.qZA()(),t.TgZ(181,"tr")(182,"td"),t._uU(183,"0%"),t.qZA(),t.TgZ(184,"td"),t._uU(185,"100.00"),t.qZA(),t.TgZ(186,"td"),t._uU(187,"0.00"),t.qZA(),t.TgZ(188,"td"),t._uU(189,"0.00"),t.qZA(),t.TgZ(190,"td"),t._uU(191,"0.00"),t.qZA(),t.TgZ(192,"td",27),t._uU(193,"0.00"),t.qZA()(),t.TgZ(194,"tr")(195,"td"),t._uU(196,"18%"),t.qZA(),t.TgZ(197,"td"),t._uU(198,"241.94"),t.qZA(),t.TgZ(199,"td"),t._uU(200,"0.00"),t.qZA(),t.TgZ(201,"td"),t._uU(202,"0.00"),t.qZA(),t.TgZ(203,"td"),t._uU(204,"41.37"),t.qZA(),t.TgZ(205,"td",27),t._uU(206,"13.79"),t.qZA()()()()()()),2&e&&(t.xp6(48),t.hij("Contact no: ",null==n.order||null==n.order.customer?null:n.order.customer.mobile_no,""),t.xp6(5),t.AsE("Place of supply : ",null==n.order?null:n.order.place_of_supply_gst_code,"-",null==n.order?null:n.order.place_of_supply_state,""),t.xp6(4),t.hij("Date: ",n.getDateForOrders(null==n.order?null:n.order.date),""),t.xp6(21),t.Q6J("ngForOf",null==n.order?null:n.order.cart),t.xp6(8),t.Oqu(n.getTotalQty(null==n.order?null:n.order.cart)),t.xp6(2),t.hij("Rs.",n.getTotalMrp(null==n.order?null:n.order.cart),""),t.xp6(2),t.hij("Rs.",n.getSubTotal(null==n.order?null:n.order.cart),""),t.xp6(4),t.hij("Rs.",null==n.order?null:n.order.total_tax,""),t.xp6(2),t.hij("Rs.",n.getTotalNet(null==n.order?null:n.order.cart),""),t.xp6(31),t.Oqu(n.getSubTotal(null==n.order?null:n.order.cart)),t.xp6(5),t.Oqu(null==n.order?null:n.order.additional_charge),t.xp6(5),t.Oqu(null==n.order?null:n.order.total_tax),t.xp6(5),t.Oqu(null==n.order?null:n.order.total_amount),t.xp6(15),t.Oqu(null==n.order?null:n.order.payment_mode))},dependencies:[f.sg],styles:[".one[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.one[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:20px}.sts[_ngcontent-%COMP%]   .col-md-7[_ngcontent-%COMP%]{flex:7}.sts[_ngcontent-%COMP%]   .col-md-5[_ngcontent-%COMP%]{flex:5}.sts[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.one[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:20px;margin-left:75px}#first-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}#first-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #first-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:left}#first-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, #first-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none}#first-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, #first-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}#first-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f60;color:#fff}#first-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-left:none;border-right:none}#second-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;border:none}#second-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #second-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:left}#last-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}#last-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #last-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid black;padding:8px;text-align:right}#last-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.todo[_ngcontent-%COMP%]{background-color:#f60}.first-part[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.first-part[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:800}.logo[_ngcontent-%COMP%]{height:100px;object-fit:contain;width:auto}.first-part[_ngcontent-%COMP%]   .col-md-5[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:end}.hps[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.hps[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:end}.todo[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:20%}#first-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700}#first-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-top:2px solid #000;border-bottom:2px solid #000}.pad-10[_ngcontent-%COMP%]{padding:0 100px}"]}),i})()}]}];let Tl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[x.Bz.forChild(Al),x.Bz]}),i})();var Pl=m(8468),ql=m(95113);let Nl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[f.ez,Tl,l.u5,l.UX,A.Bb,$.lN,H.c,mt.JX,Pl.I,ql.LD,D]}),i})()}}]);